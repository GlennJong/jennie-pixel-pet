var RL=Object.defineProperty;var AL=(e,t,i)=>t in e?RL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var nt=(e,t,i)=>AL(e,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))r(g);new MutationObserver(g=>{for(const S of g)if(S.type==="childList")for(const n of S.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function i(g){const S={};return g.integrity&&(S.integrity=g.integrity),g.referrerPolicy&&(S.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?S.credentials="include":g.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function r(g){if(g.ep)return;g.ep=!0;const S=i(g);fetch(g.href,S)}})();var LL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Y0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var JP={exports:{}},qf={},QP={exports:{}},Mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dl=Symbol.for("react.element"),OL=Symbol.for("react.portal"),FL=Symbol.for("react.fragment"),bL=Symbol.for("react.strict_mode"),DL=Symbol.for("react.profiler"),BL=Symbol.for("react.provider"),IL=Symbol.for("react.context"),GL=Symbol.for("react.forward_ref"),kL=Symbol.for("react.suspense"),NL=Symbol.for("react.memo"),zL=Symbol.for("react.lazy"),Ay=Symbol.iterator;function VL(e){return e===null||typeof e!="object"?null:(e=Ay&&e[Ay]||e["@@iterator"],typeof e=="function"?e:null)}var jP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qP=Object.assign,_P={};function Wo(e,t,i){this.props=e,this.context=t,this.refs=_P,this.updater=i||jP}Wo.prototype.isReactComponent={};Wo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function tE(){}tE.prototype=Wo.prototype;function H0(e,t,i){this.props=e,this.context=t,this.refs=_P,this.updater=i||jP}var $0=H0.prototype=new tE;$0.constructor=H0;qP($0,Wo.prototype);$0.isPureReactComponent=!0;var Ly=Array.isArray,eE=Object.prototype.hasOwnProperty,K0={current:null},iE={key:!0,ref:!0,__self:!0,__source:!0};function sE(e,t,i){var r,g={},S=null,n=null;if(t!=null)for(r in t.ref!==void 0&&(n=t.ref),t.key!==void 0&&(S=""+t.key),t)eE.call(t,r)&&!iE.hasOwnProperty(r)&&(g[r]=t[r]);var C=arguments.length-2;if(C===1)g.children=i;else if(1<C){for(var s=Array(C),o=0;o<C;o++)s[o]=arguments[o+2];g.children=s}if(e&&e.defaultProps)for(r in C=e.defaultProps,C)g[r]===void 0&&(g[r]=C[r]);return{$$typeof:Dl,type:e,key:S,ref:n,props:g,_owner:K0.current}}function UL(e,t){return{$$typeof:Dl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Z0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Dl}function XL(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var Oy=/\/+/g;function pv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?XL(""+e.key):t.toString(36)}function Jd(e,t,i,r,g){var S=typeof e;(S==="undefined"||S==="boolean")&&(e=null);var n=!1;if(e===null)n=!0;else switch(S){case"string":case"number":n=!0;break;case"object":switch(e.$$typeof){case Dl:case OL:n=!0}}if(n)return n=e,g=g(n),e=r===""?"."+pv(n,0):r,Ly(g)?(i="",e!=null&&(i=e.replace(Oy,"$&/")+"/"),Jd(g,t,i,"",function(o){return o})):g!=null&&(Z0(g)&&(g=UL(g,i+(!g.key||n&&n.key===g.key?"":(""+g.key).replace(Oy,"$&/")+"/")+e)),t.push(g)),1;if(n=0,r=r===""?".":r+":",Ly(e))for(var C=0;C<e.length;C++){S=e[C];var s=r+pv(S,C);n+=Jd(S,t,i,s,g)}else if(s=VL(e),typeof s=="function")for(e=s.call(e),C=0;!(S=e.next()).done;)S=S.value,s=r+pv(S,C++),n+=Jd(S,t,i,s,g);else if(S==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return n}function gu(e,t,i){if(e==null)return e;var r=[],g=0;return Jd(e,r,"","",function(S){return t.call(i,S,g++)}),r}function WL(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ai={current:null},Qd={transition:null},YL={ReactCurrentDispatcher:ai,ReactCurrentBatchConfig:Qd,ReactCurrentOwner:K0};function rE(){throw Error("act(...) is not supported in production builds of React.")}Mt.Children={map:gu,forEach:function(e,t,i){gu(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return gu(e,function(){t++}),t},toArray:function(e){return gu(e,function(t){return t})||[]},only:function(e){if(!Z0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Mt.Component=Wo;Mt.Fragment=FL;Mt.Profiler=DL;Mt.PureComponent=H0;Mt.StrictMode=bL;Mt.Suspense=kL;Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YL;Mt.act=rE;Mt.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=qP({},e.props),g=e.key,S=e.ref,n=e._owner;if(t!=null){if(t.ref!==void 0&&(S=t.ref,n=K0.current),t.key!==void 0&&(g=""+t.key),e.type&&e.type.defaultProps)var C=e.type.defaultProps;for(s in t)eE.call(t,s)&&!iE.hasOwnProperty(s)&&(r[s]=t[s]===void 0&&C!==void 0?C[s]:t[s])}var s=arguments.length-2;if(s===1)r.children=i;else if(1<s){C=Array(s);for(var o=0;o<s;o++)C[o]=arguments[o+2];r.children=C}return{$$typeof:Dl,type:e.type,key:g,ref:S,props:r,_owner:n}};Mt.createContext=function(e){return e={$$typeof:IL,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:BL,_context:e},e.Consumer=e};Mt.createElement=sE;Mt.createFactory=function(e){var t=sE.bind(null,e);return t.type=e,t};Mt.createRef=function(){return{current:null}};Mt.forwardRef=function(e){return{$$typeof:GL,render:e}};Mt.isValidElement=Z0;Mt.lazy=function(e){return{$$typeof:zL,_payload:{_status:-1,_result:e},_init:WL}};Mt.memo=function(e,t){return{$$typeof:NL,type:e,compare:t===void 0?null:t}};Mt.startTransition=function(e){var t=Qd.transition;Qd.transition={};try{e()}finally{Qd.transition=t}};Mt.unstable_act=rE;Mt.useCallback=function(e,t){return ai.current.useCallback(e,t)};Mt.useContext=function(e){return ai.current.useContext(e)};Mt.useDebugValue=function(){};Mt.useDeferredValue=function(e){return ai.current.useDeferredValue(e)};Mt.useEffect=function(e,t){return ai.current.useEffect(e,t)};Mt.useId=function(){return ai.current.useId()};Mt.useImperativeHandle=function(e,t,i){return ai.current.useImperativeHandle(e,t,i)};Mt.useInsertionEffect=function(e,t){return ai.current.useInsertionEffect(e,t)};Mt.useLayoutEffect=function(e,t){return ai.current.useLayoutEffect(e,t)};Mt.useMemo=function(e,t){return ai.current.useMemo(e,t)};Mt.useReducer=function(e,t,i){return ai.current.useReducer(e,t,i)};Mt.useRef=function(e){return ai.current.useRef(e)};Mt.useState=function(e){return ai.current.useState(e)};Mt.useSyncExternalStore=function(e,t,i){return ai.current.useSyncExternalStore(e,t,i)};Mt.useTransition=function(){return ai.current.useTransition()};Mt.version="18.3.1";QP.exports=Mt;var Oe=QP.exports;const HL=Y0(Oe);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $L=Oe,KL=Symbol.for("react.element"),ZL=Symbol.for("react.fragment"),JL=Object.prototype.hasOwnProperty,QL=$L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jL={key:!0,ref:!0,__self:!0,__source:!0};function nE(e,t,i){var r,g={},S=null,n=null;i!==void 0&&(S=""+i),t.key!==void 0&&(S=""+t.key),t.ref!==void 0&&(n=t.ref);for(r in t)JL.call(t,r)&&!jL.hasOwnProperty(r)&&(g[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)g[r]===void 0&&(g[r]=t[r]);return{$$typeof:KL,type:e,key:S,ref:n,props:g,_owner:QL.current}}qf.Fragment=ZL;qf.jsx=nE;qf.jsxs=nE;JP.exports=qf;var Dt=JP.exports,bg={},aE={exports:{}},Ii={},oE={exports:{}},hE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,N){var z=B.length;B.push(N);t:for(;0<z;){var W=z-1>>>1,X=B[W];if(0<g(X,N))B[W]=N,B[z]=X,z=W;else break t}}function i(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var N=B[0],z=B.pop();if(z!==N){B[0]=z;t:for(var W=0,X=B.length,k=X>>>1;W<k;){var V=2*(W+1)-1,I=B[V],U=V+1,G=B[U];if(0>g(I,z))U<X&&0>g(G,I)?(B[W]=G,B[U]=z,W=U):(B[W]=I,B[V]=z,W=V);else if(U<X&&0>g(G,z))B[W]=G,B[U]=z,W=U;else break t}}return N}function g(B,N){var z=B.sortIndex-N.sortIndex;return z!==0?z:B.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var S=performance;e.unstable_now=function(){return S.now()}}else{var n=Date,C=n.now();e.unstable_now=function(){return n.now()-C}}var s=[],o=[],y=1,f=null,u=3,l=!1,a=!1,d=!1,v=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(B){for(var N=i(o);N!==null;){if(N.callback===null)r(o);else if(N.startTime<=B)r(o),N.sortIndex=N.expirationTime,t(s,N);else break;N=i(o)}}function m(B){if(d=!1,p(B),!a)if(i(s)!==null)a=!0,F(x);else{var N=i(o);N!==null&&D(m,N.startTime-B)}}function x(B,N){a=!1,d&&(d=!1,h(M),M=-1),l=!0;var z=u;try{for(p(N),f=i(s);f!==null&&(!(f.expirationTime>N)||B&&!R());){var W=f.callback;if(typeof W=="function"){f.callback=null,u=f.priorityLevel;var X=W(f.expirationTime<=N);N=e.unstable_now(),typeof X=="function"?f.callback=X:f===i(s)&&r(s),p(N)}else r(s);f=i(s)}if(f!==null)var k=!0;else{var V=i(o);V!==null&&D(m,V.startTime-N),k=!1}return k}finally{f=null,u=z,l=!1}}var T=!1,P=null,M=-1,E=5,w=-1;function R(){return!(e.unstable_now()-w<E)}function A(){if(P!==null){var B=e.unstable_now();w=B;var N=!0;try{N=P(!0,B)}finally{N?L():(T=!1,P=null)}}else T=!1}var L;if(typeof c=="function")L=function(){c(A)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,O=b.port2;b.port1.onmessage=A,L=function(){O.postMessage(null)}}else L=function(){v(A,0)};function F(B){P=B,T||(T=!0,L())}function D(B,N){M=v(function(){B(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){a||l||(a=!0,F(x))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return u},e.unstable_getFirstCallbackNode=function(){return i(s)},e.unstable_next=function(B){switch(u){case 1:case 2:case 3:var N=3;break;default:N=u}var z=u;u=N;try{return B()}finally{u=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,N){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var z=u;u=B;try{return N()}finally{u=z}},e.unstable_scheduleCallback=function(B,N,z){var W=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?W+z:W):z=W,B){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=z+X,B={id:y++,callback:N,priorityLevel:B,startTime:z,expirationTime:X,sortIndex:-1},z>W?(B.sortIndex=z,t(o,B),i(s)===null&&B===i(o)&&(d?(h(M),M=-1):d=!0,D(m,z-W))):(B.sortIndex=X,t(s,B),a||l||(a=!0,F(x))),B},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(B){var N=u;return function(){var z=u;u=N;try{return B.apply(this,arguments)}finally{u=z}}}})(hE);oE.exports=hE;var qL=oE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _L=Oe,bi=qL;function rt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lE=new Set,rl={};function xa(e,t){bo(e,t),bo(e+"Capture",t)}function bo(e,t){for(rl[e]=t,e=0;e<t.length;e++)lE.add(t[e])}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dg=Object.prototype.hasOwnProperty,tO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fy={},by={};function eO(e){return Dg.call(by,e)?!0:Dg.call(Fy,e)?!1:tO.test(e)?by[e]=!0:(Fy[e]=!0,!1)}function iO(e,t,i,r){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function sO(e,t,i,r){if(t===null||typeof t>"u"||iO(e,t,i,r))return!0;if(r)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function oi(e,t,i,r,g,S,n){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=g,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=S,this.removeEmptyString=n}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ue[e]=new oi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ue[t]=new oi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ue[e]=new oi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ue[e]=new oi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ue[e]=new oi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ue[e]=new oi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ue[e]=new oi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ue[e]=new oi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ue[e]=new oi(e,5,!1,e.toLowerCase(),null,!1,!1)});var J0=/[\-:]([a-z])/g;function Q0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(J0,Q0);Ue[t]=new oi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(J0,Q0);Ue[t]=new oi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(J0,Q0);Ue[t]=new oi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ue[e]=new oi(e,1,!1,e.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new oi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ue[e]=new oi(e,1,!1,e.toLowerCase(),null,!0,!0)});function j0(e,t,i,r){var g=Ue.hasOwnProperty(t)?Ue[t]:null;(g!==null?g.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(sO(t,i,g,r)&&(i=null),r||g===null?eO(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):g.mustUseProperty?e[g.propertyName]=i===null?g.type===3?!1:"":i:(t=g.attributeName,r=g.attributeNamespace,i===null?e.removeAttribute(t):(g=g.type,i=g===3||g===4&&i===!0?"":""+i,r?e.setAttributeNS(r,t,i):e.setAttribute(t,i))))}var Cr=_L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mu=Symbol.for("react.element"),ho=Symbol.for("react.portal"),lo=Symbol.for("react.fragment"),q0=Symbol.for("react.strict_mode"),Bg=Symbol.for("react.profiler"),uE=Symbol.for("react.provider"),dE=Symbol.for("react.context"),_0=Symbol.for("react.forward_ref"),Ig=Symbol.for("react.suspense"),Gg=Symbol.for("react.suspense_list"),tm=Symbol.for("react.memo"),Wr=Symbol.for("react.lazy"),fE=Symbol.for("react.offscreen"),Dy=Symbol.iterator;function eh(e){return e===null||typeof e!="object"?null:(e=Dy&&e[Dy]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,gv;function Uh(e){if(gv===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);gv=t&&t[1]||""}return`
`+gv+e}var mv=!1;function xv(e,t){if(!e||mv)return"";mv=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(o){var r=o}Reflect.construct(e,[],t)}else{try{t.call()}catch(o){r=o}e.call(t.prototype)}else{try{throw Error()}catch(o){r=o}e()}}catch(o){if(o&&r&&typeof o.stack=="string"){for(var g=o.stack.split(`
`),S=r.stack.split(`
`),n=g.length-1,C=S.length-1;1<=n&&0<=C&&g[n]!==S[C];)C--;for(;1<=n&&0<=C;n--,C--)if(g[n]!==S[C]){if(n!==1||C!==1)do if(n--,C--,0>C||g[n]!==S[C]){var s=`
`+g[n].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=n&&0<=C);break}}}finally{mv=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Uh(e):""}function rO(e){switch(e.tag){case 5:return Uh(e.type);case 16:return Uh("Lazy");case 13:return Uh("Suspense");case 19:return Uh("SuspenseList");case 0:case 2:case 15:return e=xv(e.type,!1),e;case 11:return e=xv(e.type.render,!1),e;case 1:return e=xv(e.type,!0),e;default:return""}}function kg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lo:return"Fragment";case ho:return"Portal";case Bg:return"Profiler";case q0:return"StrictMode";case Ig:return"Suspense";case Gg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dE:return(e.displayName||"Context")+".Consumer";case uE:return(e._context.displayName||"Context")+".Provider";case _0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tm:return t=e.displayName||null,t!==null?t:kg(e.type)||"Memo";case Wr:t=e._payload,e=e._init;try{return kg(e(t))}catch{}}return null}function nO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kg(t);case 8:return t===q0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function aO(e){var t=cE(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var g=i.get,S=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return g.call(this)},set:function(n){r=""+n,S.call(this,n)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(n){r=""+n},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xu(e){e._valueTracker||(e._valueTracker=aO(e))}function vE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=cE(e)?e.checked?"true":"false":e.value),e=r,e!==i?(t.setValue(e),!0):!1}function vf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ng(e,t){var i=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function By(e,t){var i=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;i=vn(t.value!=null?t.value:i),e._wrapperState={initialChecked:r,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pE(e,t){t=t.checked,t!=null&&j0(e,"checked",t,!1)}function zg(e,t){pE(e,t);var i=vn(t.value),r=t.type;if(i!=null)r==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vg(e,t.type,i):t.hasOwnProperty("defaultValue")&&Vg(e,t.type,vn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Iy(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Vg(e,t,i){(t!=="number"||vf(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Xh=Array.isArray;function Po(e,t,i,r){if(e=e.options,t){t={};for(var g=0;g<i.length;g++)t["$"+i[g]]=!0;for(i=0;i<e.length;i++)g=t.hasOwnProperty("$"+e[i].value),e[i].selected!==g&&(e[i].selected=g),g&&r&&(e[i].defaultSelected=!0)}else{for(i=""+vn(i),t=null,g=0;g<e.length;g++){if(e[g].value===i){e[g].selected=!0,r&&(e[g].defaultSelected=!0);return}t!==null||e[g].disabled||(t=e[g])}t!==null&&(t.selected=!0)}}function Ug(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(rt(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gy(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(rt(92));if(Xh(i)){if(1<i.length)throw Error(rt(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:vn(i)}}function gE(e,t){var i=vn(t.value),r=vn(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),r!=null&&(e.defaultValue=""+r)}function ky(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function mE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?mE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yu,xE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,r,g){MSApp.execUnsafeLocalFunction(function(){return e(t,i,r,g)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yu=yu||document.createElement("div"),yu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function nl(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var $h={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oO=["Webkit","ms","Moz","O"];Object.keys($h).forEach(function(e){oO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$h[t]=$h[e]})});function yE(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||$h.hasOwnProperty(e)&&$h[e]?(""+t).trim():t+"px"}function CE(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var r=i.indexOf("--")===0,g=yE(i,t[i],r);i==="float"&&(i="cssFloat"),r?e.setProperty(i,g):e[i]=g}}var hO=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wg(e,t){if(t){if(hO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(rt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(rt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(rt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(rt(62))}}function Yg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hg=null;function em(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $g=null,Eo=null,Mo=null;function Ny(e){if(e=Gl(e)){if(typeof $g!="function")throw Error(rt(280));var t=e.stateNode;t&&(t=sc(t),$g(e.stateNode,e.type,t))}}function TE(e){Eo?Mo?Mo.push(e):Mo=[e]:Eo=e}function SE(){if(Eo){var e=Eo,t=Mo;if(Mo=Eo=null,Ny(e),t)for(e=0;e<t.length;e++)Ny(t[e])}}function PE(e,t){return e(t)}function EE(){}var yv=!1;function ME(e,t,i){if(yv)return e(t,i);yv=!0;try{return PE(e,t,i)}finally{yv=!1,(Eo!==null||Mo!==null)&&(EE(),SE())}}function al(e,t){var i=e.stateNode;if(i===null)return null;var r=sc(i);if(r===null)return null;i=r[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break t;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(rt(231,t,typeof i));return i}var Kg=!1;if(vr)try{var ih={};Object.defineProperty(ih,"passive",{get:function(){Kg=!0}}),window.addEventListener("test",ih,ih),window.removeEventListener("test",ih,ih)}catch{Kg=!1}function lO(e,t,i,r,g,S,n,C,s){var o=Array.prototype.slice.call(arguments,3);try{t.apply(i,o)}catch(y){this.onError(y)}}var Kh=!1,pf=null,gf=!1,Zg=null,uO={onError:function(e){Kh=!0,pf=e}};function dO(e,t,i,r,g,S,n,C,s){Kh=!1,pf=null,lO.apply(uO,arguments)}function fO(e,t,i,r,g,S,n,C,s){if(dO.apply(this,arguments),Kh){if(Kh){var o=pf;Kh=!1,pf=null}else throw Error(rt(198));gf||(gf=!0,Zg=o)}}function ya(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function wE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zy(e){if(ya(e)!==e)throw Error(rt(188))}function cO(e){var t=e.alternate;if(!t){if(t=ya(e),t===null)throw Error(rt(188));return t!==e?null:e}for(var i=e,r=t;;){var g=i.return;if(g===null)break;var S=g.alternate;if(S===null){if(r=g.return,r!==null){i=r;continue}break}if(g.child===S.child){for(S=g.child;S;){if(S===i)return zy(g),e;if(S===r)return zy(g),t;S=S.sibling}throw Error(rt(188))}if(i.return!==r.return)i=g,r=S;else{for(var n=!1,C=g.child;C;){if(C===i){n=!0,i=g,r=S;break}if(C===r){n=!0,r=g,i=S;break}C=C.sibling}if(!n){for(C=S.child;C;){if(C===i){n=!0,i=S,r=g;break}if(C===r){n=!0,r=S,i=g;break}C=C.sibling}if(!n)throw Error(rt(189))}}if(i.alternate!==r)throw Error(rt(190))}if(i.tag!==3)throw Error(rt(188));return i.stateNode.current===i?e:t}function RE(e){return e=cO(e),e!==null?AE(e):null}function AE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=AE(e);if(t!==null)return t;e=e.sibling}return null}var LE=bi.unstable_scheduleCallback,Vy=bi.unstable_cancelCallback,vO=bi.unstable_shouldYield,pO=bi.unstable_requestPaint,ve=bi.unstable_now,gO=bi.unstable_getCurrentPriorityLevel,im=bi.unstable_ImmediatePriority,OE=bi.unstable_UserBlockingPriority,mf=bi.unstable_NormalPriority,mO=bi.unstable_LowPriority,FE=bi.unstable_IdlePriority,_f=null,Ws=null;function xO(e){if(Ws&&typeof Ws.onCommitFiberRoot=="function")try{Ws.onCommitFiberRoot(_f,e,void 0,(e.current.flags&128)===128)}catch{}}var Cs=Math.clz32?Math.clz32:TO,yO=Math.log,CO=Math.LN2;function TO(e){return e>>>=0,e===0?32:31-(yO(e)/CO|0)|0}var Cu=64,Tu=4194304;function Wh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xf(e,t){var i=e.pendingLanes;if(i===0)return 0;var r=0,g=e.suspendedLanes,S=e.pingedLanes,n=i&268435455;if(n!==0){var C=n&~g;C!==0?r=Wh(C):(S&=n,S!==0&&(r=Wh(S)))}else n=i&~g,n!==0?r=Wh(n):S!==0&&(r=Wh(S));if(r===0)return 0;if(t!==0&&t!==r&&!(t&g)&&(g=r&-r,S=t&-t,g>=S||g===16&&(S&4194240)!==0))return t;if(r&4&&(r|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)i=31-Cs(t),g=1<<i,r|=e[i],t&=~g;return r}function SO(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PO(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,g=e.expirationTimes,S=e.pendingLanes;0<S;){var n=31-Cs(S),C=1<<n,s=g[n];s===-1?(!(C&i)||C&r)&&(g[n]=SO(C,t)):s<=t&&(e.expiredLanes|=C),S&=~C}}function Jg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bE(){var e=Cu;return Cu<<=1,!(Cu&4194240)&&(Cu=64),e}function Cv(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Bl(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Cs(t),e[t]=i}function EO(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<i;){var g=31-Cs(i),S=1<<g;t[g]=0,r[g]=-1,e[g]=-1,i&=~S}}function sm(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-Cs(i),g=1<<r;g&t|e[r]&t&&(e[r]|=t),i&=~g}}var zt=0;function DE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var BE,rm,IE,GE,kE,Qg=!1,Su=[],sn=null,rn=null,nn=null,ol=new Map,hl=new Map,Zr=[],MO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uy(e,t){switch(e){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":rn=null;break;case"mouseover":case"mouseout":nn=null;break;case"pointerover":case"pointerout":ol.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(t.pointerId)}}function sh(e,t,i,r,g,S){return e===null||e.nativeEvent!==S?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:S,targetContainers:[g]},t!==null&&(t=Gl(t),t!==null&&rm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,g!==null&&t.indexOf(g)===-1&&t.push(g),e)}function wO(e,t,i,r,g){switch(t){case"focusin":return sn=sh(sn,e,t,i,r,g),!0;case"dragenter":return rn=sh(rn,e,t,i,r,g),!0;case"mouseover":return nn=sh(nn,e,t,i,r,g),!0;case"pointerover":var S=g.pointerId;return ol.set(S,sh(ol.get(S)||null,e,t,i,r,g)),!0;case"gotpointercapture":return S=g.pointerId,hl.set(S,sh(hl.get(S)||null,e,t,i,r,g)),!0}return!1}function NE(e){var t=ea(e.target);if(t!==null){var i=ya(t);if(i!==null){if(t=i.tag,t===13){if(t=wE(i),t!==null){e.blockedOn=t,kE(e.priority,function(){IE(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=jg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var r=new i.constructor(i.type,i);Hg=r,i.target.dispatchEvent(r),Hg=null}else return t=Gl(i),t!==null&&rm(t),e.blockedOn=i,!1;t.shift()}return!0}function Xy(e,t,i){jd(e)&&i.delete(t)}function RO(){Qg=!1,sn!==null&&jd(sn)&&(sn=null),rn!==null&&jd(rn)&&(rn=null),nn!==null&&jd(nn)&&(nn=null),ol.forEach(Xy),hl.forEach(Xy)}function rh(e,t){e.blockedOn===t&&(e.blockedOn=null,Qg||(Qg=!0,bi.unstable_scheduleCallback(bi.unstable_NormalPriority,RO)))}function ll(e){function t(g){return rh(g,e)}if(0<Su.length){rh(Su[0],e);for(var i=1;i<Su.length;i++){var r=Su[i];r.blockedOn===e&&(r.blockedOn=null)}}for(sn!==null&&rh(sn,e),rn!==null&&rh(rn,e),nn!==null&&rh(nn,e),ol.forEach(t),hl.forEach(t),i=0;i<Zr.length;i++)r=Zr[i],r.blockedOn===e&&(r.blockedOn=null);for(;0<Zr.length&&(i=Zr[0],i.blockedOn===null);)NE(i),i.blockedOn===null&&Zr.shift()}var wo=Cr.ReactCurrentBatchConfig,yf=!0;function AO(e,t,i,r){var g=zt,S=wo.transition;wo.transition=null;try{zt=1,nm(e,t,i,r)}finally{zt=g,wo.transition=S}}function LO(e,t,i,r){var g=zt,S=wo.transition;wo.transition=null;try{zt=4,nm(e,t,i,r)}finally{zt=g,wo.transition=S}}function nm(e,t,i,r){if(yf){var g=jg(e,t,i,r);if(g===null)Ov(e,t,r,Cf,i),Uy(e,r);else if(wO(g,e,t,i,r))r.stopPropagation();else if(Uy(e,r),t&4&&-1<MO.indexOf(e)){for(;g!==null;){var S=Gl(g);if(S!==null&&BE(S),S=jg(e,t,i,r),S===null&&Ov(e,t,r,Cf,i),S===g)break;g=S}g!==null&&r.stopPropagation()}else Ov(e,t,r,null,i)}}var Cf=null;function jg(e,t,i,r){if(Cf=null,e=em(r),e=ea(e),e!==null)if(t=ya(e),t===null)e=null;else if(i=t.tag,i===13){if(e=wE(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Cf=e,null}function zE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gO()){case im:return 1;case OE:return 4;case mf:case mO:return 16;case FE:return 536870912;default:return 16}default:return 16}}var _r=null,am=null,qd=null;function VE(){if(qd)return qd;var e,t=am,i=t.length,r,g="value"in _r?_r.value:_r.textContent,S=g.length;for(e=0;e<i&&t[e]===g[e];e++);var n=i-e;for(r=1;r<=n&&t[i-r]===g[S-r];r++);return qd=g.slice(e,1<r?1-r:void 0)}function _d(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pu(){return!0}function Wy(){return!1}function Gi(e){function t(i,r,g,S,n){this._reactName=i,this._targetInst=g,this.type=r,this.nativeEvent=S,this.target=n,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(i=e[C],this[C]=i?i(S):S[C]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Pu:Wy,this.isPropagationStopped=Wy,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Pu)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Pu)},persist:function(){},isPersistent:Pu}),t}var Yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},om=Gi(Yo),Il=ie({},Yo,{view:0,detail:0}),OO=Gi(Il),Tv,Sv,nh,tc=ie({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nh&&(nh&&e.type==="mousemove"?(Tv=e.screenX-nh.screenX,Sv=e.screenY-nh.screenY):Sv=Tv=0,nh=e),Tv)},movementY:function(e){return"movementY"in e?e.movementY:Sv}}),Yy=Gi(tc),FO=ie({},tc,{dataTransfer:0}),bO=Gi(FO),DO=ie({},Il,{relatedTarget:0}),Pv=Gi(DO),BO=ie({},Yo,{animationName:0,elapsedTime:0,pseudoElement:0}),IO=Gi(BO),GO=ie({},Yo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kO=Gi(GO),NO=ie({},Yo,{data:0}),Hy=Gi(NO),zO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XO(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=UO[e])?!!t[e]:!1}function hm(){return XO}var WO=ie({},Il,{key:function(e){if(e.key){var t=zO[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_d(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?VO[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hm,charCode:function(e){return e.type==="keypress"?_d(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_d(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),YO=Gi(WO),HO=ie({},tc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$y=Gi(HO),$O=ie({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hm}),KO=Gi($O),ZO=ie({},Yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),JO=Gi(ZO),QO=ie({},tc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jO=Gi(QO),qO=[9,13,27,32],lm=vr&&"CompositionEvent"in window,Zh=null;vr&&"documentMode"in document&&(Zh=document.documentMode);var _O=vr&&"TextEvent"in window&&!Zh,UE=vr&&(!lm||Zh&&8<Zh&&11>=Zh),Ky=" ",Zy=!1;function XE(e,t){switch(e){case"keyup":return qO.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var uo=!1;function t3(e,t){switch(e){case"compositionend":return WE(t);case"keypress":return t.which!==32?null:(Zy=!0,Ky);case"textInput":return e=t.data,e===Ky&&Zy?null:e;default:return null}}function e3(e,t){if(uo)return e==="compositionend"||!lm&&XE(e,t)?(e=VE(),qd=am=_r=null,uo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return UE&&t.locale!=="ko"?null:t.data;default:return null}}var i3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!i3[e.type]:t==="textarea"}function YE(e,t,i,r){TE(r),t=Tf(t,"onChange"),0<t.length&&(i=new om("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var Jh=null,ul=null;function s3(e){e2(e,0)}function ec(e){var t=vo(e);if(vE(t))return e}function r3(e,t){if(e==="change")return t}var HE=!1;if(vr){var Ev;if(vr){var Mv="oninput"in document;if(!Mv){var Qy=document.createElement("div");Qy.setAttribute("oninput","return;"),Mv=typeof Qy.oninput=="function"}Ev=Mv}else Ev=!1;HE=Ev&&(!document.documentMode||9<document.documentMode)}function jy(){Jh&&(Jh.detachEvent("onpropertychange",$E),ul=Jh=null)}function $E(e){if(e.propertyName==="value"&&ec(ul)){var t=[];YE(t,ul,e,em(e)),ME(s3,t)}}function n3(e,t,i){e==="focusin"?(jy(),Jh=t,ul=i,Jh.attachEvent("onpropertychange",$E)):e==="focusout"&&jy()}function a3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ec(ul)}function o3(e,t){if(e==="click")return ec(t)}function h3(e,t){if(e==="input"||e==="change")return ec(t)}function l3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ss=typeof Object.is=="function"?Object.is:l3;function dl(e,t){if(Ss(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var g=i[r];if(!Dg.call(t,g)||!Ss(e[g],t[g]))return!1}return!0}function qy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _y(e,t){var i=qy(e);e=0;for(var r;i;){if(i.nodeType===3){if(r=e+i.textContent.length,e<=t&&r>=t)return{node:i,offset:t-e};e=r}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=qy(i)}}function KE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?KE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ZE(){for(var e=window,t=vf();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=vf(e.document)}return t}function um(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function u3(e){var t=ZE(),i=e.focusedElem,r=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&KE(i.ownerDocument.documentElement,i)){if(r!==null&&um(i)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var g=i.textContent.length,S=Math.min(r.start,g);r=r.end===void 0?S:Math.min(r.end,g),!e.extend&&S>r&&(g=r,r=S,S=g),g=_y(i,S);var n=_y(i,r);g&&n&&(e.rangeCount!==1||e.anchorNode!==g.node||e.anchorOffset!==g.offset||e.focusNode!==n.node||e.focusOffset!==n.offset)&&(t=t.createRange(),t.setStart(g.node,g.offset),e.removeAllRanges(),S>r?(e.addRange(t),e.extend(n.node,n.offset)):(t.setEnd(n.node,n.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var d3=vr&&"documentMode"in document&&11>=document.documentMode,fo=null,qg=null,Qh=null,_g=!1;function t1(e,t,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;_g||fo==null||fo!==vf(r)||(r=fo,"selectionStart"in r&&um(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qh&&dl(Qh,r)||(Qh=r,r=Tf(qg,"onSelect"),0<r.length&&(t=new om("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=fo)))}function Eu(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var co={animationend:Eu("Animation","AnimationEnd"),animationiteration:Eu("Animation","AnimationIteration"),animationstart:Eu("Animation","AnimationStart"),transitionend:Eu("Transition","TransitionEnd")},wv={},JE={};vr&&(JE=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function ic(e){if(wv[e])return wv[e];if(!co[e])return e;var t=co[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in JE)return wv[e]=t[i];return e}var QE=ic("animationend"),jE=ic("animationiteration"),qE=ic("animationstart"),_E=ic("transitionend"),t2=new Map,e1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(e,t){t2.set(e,t),xa(t,[e])}for(var Rv=0;Rv<e1.length;Rv++){var Av=e1[Rv],f3=Av.toLowerCase(),c3=Av[0].toUpperCase()+Av.slice(1);yn(f3,"on"+c3)}yn(QE,"onAnimationEnd");yn(jE,"onAnimationIteration");yn(qE,"onAnimationStart");yn("dblclick","onDoubleClick");yn("focusin","onFocus");yn("focusout","onBlur");yn(_E,"onTransitionEnd");bo("onMouseEnter",["mouseout","mouseover"]);bo("onMouseLeave",["mouseout","mouseover"]);bo("onPointerEnter",["pointerout","pointerover"]);bo("onPointerLeave",["pointerout","pointerover"]);xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xa("onBeforeInput",["compositionend","keypress","textInput","paste"]);xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yh));function i1(e,t,i){var r=e.type||"unknown-event";e.currentTarget=i,fO(r,t,void 0,e),e.currentTarget=null}function e2(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var r=e[i],g=r.event;r=r.listeners;t:{var S=void 0;if(t)for(var n=r.length-1;0<=n;n--){var C=r[n],s=C.instance,o=C.currentTarget;if(C=C.listener,s!==S&&g.isPropagationStopped())break t;i1(g,C,o),S=s}else for(n=0;n<r.length;n++){if(C=r[n],s=C.instance,o=C.currentTarget,C=C.listener,s!==S&&g.isPropagationStopped())break t;i1(g,C,o),S=s}}}if(gf)throw e=Zg,gf=!1,Zg=null,e}function Wt(e,t){var i=t[r0];i===void 0&&(i=t[r0]=new Set);var r=e+"__bubble";i.has(r)||(i2(t,e,2,!1),i.add(r))}function Lv(e,t,i){var r=0;t&&(r|=4),i2(i,e,r,t)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function fl(e){if(!e[Mu]){e[Mu]=!0,lE.forEach(function(i){i!=="selectionchange"&&(v3.has(i)||Lv(i,!1,e),Lv(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mu]||(t[Mu]=!0,Lv("selectionchange",!1,t))}}function i2(e,t,i,r){switch(zE(t)){case 1:var g=AO;break;case 4:g=LO;break;default:g=nm}i=g.bind(null,t,i,e),g=void 0,!Kg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(g=!0),r?g!==void 0?e.addEventListener(t,i,{capture:!0,passive:g}):e.addEventListener(t,i,!0):g!==void 0?e.addEventListener(t,i,{passive:g}):e.addEventListener(t,i,!1)}function Ov(e,t,i,r,g){var S=r;if(!(t&1)&&!(t&2)&&r!==null)t:for(;;){if(r===null)return;var n=r.tag;if(n===3||n===4){var C=r.stateNode.containerInfo;if(C===g||C.nodeType===8&&C.parentNode===g)break;if(n===4)for(n=r.return;n!==null;){var s=n.tag;if((s===3||s===4)&&(s=n.stateNode.containerInfo,s===g||s.nodeType===8&&s.parentNode===g))return;n=n.return}for(;C!==null;){if(n=ea(C),n===null)return;if(s=n.tag,s===5||s===6){r=S=n;continue t}C=C.parentNode}}r=r.return}ME(function(){var o=S,y=em(i),f=[];t:{var u=t2.get(e);if(u!==void 0){var l=om,a=e;switch(e){case"keypress":if(_d(i)===0)break t;case"keydown":case"keyup":l=YO;break;case"focusin":a="focus",l=Pv;break;case"focusout":a="blur",l=Pv;break;case"beforeblur":case"afterblur":l=Pv;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Yy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=bO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=KO;break;case QE:case jE:case qE:l=IO;break;case _E:l=JO;break;case"scroll":l=OO;break;case"wheel":l=jO;break;case"copy":case"cut":case"paste":l=kO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=$y}var d=(t&4)!==0,v=!d&&e==="scroll",h=d?u!==null?u+"Capture":null:u;d=[];for(var c=o,p;c!==null;){p=c;var m=p.stateNode;if(p.tag===5&&m!==null&&(p=m,h!==null&&(m=al(c,h),m!=null&&d.push(cl(c,m,p)))),v)break;c=c.return}0<d.length&&(u=new l(u,a,null,i,y),f.push({event:u,listeners:d}))}}if(!(t&7)){t:{if(u=e==="mouseover"||e==="pointerover",l=e==="mouseout"||e==="pointerout",u&&i!==Hg&&(a=i.relatedTarget||i.fromElement)&&(ea(a)||a[pr]))break t;if((l||u)&&(u=y.window===y?y:(u=y.ownerDocument)?u.defaultView||u.parentWindow:window,l?(a=i.relatedTarget||i.toElement,l=o,a=a?ea(a):null,a!==null&&(v=ya(a),a!==v||a.tag!==5&&a.tag!==6)&&(a=null)):(l=null,a=o),l!==a)){if(d=Yy,m="onMouseLeave",h="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(d=$y,m="onPointerLeave",h="onPointerEnter",c="pointer"),v=l==null?u:vo(l),p=a==null?u:vo(a),u=new d(m,c+"leave",l,i,y),u.target=v,u.relatedTarget=p,m=null,ea(y)===o&&(d=new d(h,c+"enter",a,i,y),d.target=p,d.relatedTarget=v,m=d),v=m,l&&a)e:{for(d=l,h=a,c=0,p=d;p;p=Aa(p))c++;for(p=0,m=h;m;m=Aa(m))p++;for(;0<c-p;)d=Aa(d),c--;for(;0<p-c;)h=Aa(h),p--;for(;c--;){if(d===h||h!==null&&d===h.alternate)break e;d=Aa(d),h=Aa(h)}d=null}else d=null;l!==null&&s1(f,u,l,d,!1),a!==null&&v!==null&&s1(f,v,a,d,!0)}}t:{if(u=o?vo(o):window,l=u.nodeName&&u.nodeName.toLowerCase(),l==="select"||l==="input"&&u.type==="file")var x=r3;else if(Jy(u))if(HE)x=h3;else{x=a3;var T=n3}else(l=u.nodeName)&&l.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(x=o3);if(x&&(x=x(e,o))){YE(f,x,i,y);break t}T&&T(e,u,o),e==="focusout"&&(T=u._wrapperState)&&T.controlled&&u.type==="number"&&Vg(u,"number",u.value)}switch(T=o?vo(o):window,e){case"focusin":(Jy(T)||T.contentEditable==="true")&&(fo=T,qg=o,Qh=null);break;case"focusout":Qh=qg=fo=null;break;case"mousedown":_g=!0;break;case"contextmenu":case"mouseup":case"dragend":_g=!1,t1(f,i,y);break;case"selectionchange":if(d3)break;case"keydown":case"keyup":t1(f,i,y)}var P;if(lm)t:{switch(e){case"compositionstart":var M="onCompositionStart";break t;case"compositionend":M="onCompositionEnd";break t;case"compositionupdate":M="onCompositionUpdate";break t}M=void 0}else uo?XE(e,i)&&(M="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(M="onCompositionStart");M&&(UE&&i.locale!=="ko"&&(uo||M!=="onCompositionStart"?M==="onCompositionEnd"&&uo&&(P=VE()):(_r=y,am="value"in _r?_r.value:_r.textContent,uo=!0)),T=Tf(o,M),0<T.length&&(M=new Hy(M,e,null,i,y),f.push({event:M,listeners:T}),P?M.data=P:(P=WE(i),P!==null&&(M.data=P)))),(P=_O?t3(e,i):e3(e,i))&&(o=Tf(o,"onBeforeInput"),0<o.length&&(y=new Hy("onBeforeInput","beforeinput",null,i,y),f.push({event:y,listeners:o}),y.data=P))}e2(f,t)})}function cl(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Tf(e,t){for(var i=t+"Capture",r=[];e!==null;){var g=e,S=g.stateNode;g.tag===5&&S!==null&&(g=S,S=al(e,i),S!=null&&r.unshift(cl(e,S,g)),S=al(e,t),S!=null&&r.push(cl(e,S,g))),e=e.return}return r}function Aa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function s1(e,t,i,r,g){for(var S=t._reactName,n=[];i!==null&&i!==r;){var C=i,s=C.alternate,o=C.stateNode;if(s!==null&&s===r)break;C.tag===5&&o!==null&&(C=o,g?(s=al(i,S),s!=null&&n.unshift(cl(i,s,C))):g||(s=al(i,S),s!=null&&n.push(cl(i,s,C)))),i=i.return}n.length!==0&&e.push({event:t,listeners:n})}var p3=/\r\n?/g,g3=/\u0000|\uFFFD/g;function r1(e){return(typeof e=="string"?e:""+e).replace(p3,`
`).replace(g3,"")}function wu(e,t,i){if(t=r1(t),r1(e)!==t&&i)throw Error(rt(425))}function Sf(){}var t0=null,e0=null;function i0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var s0=typeof setTimeout=="function"?setTimeout:void 0,m3=typeof clearTimeout=="function"?clearTimeout:void 0,n1=typeof Promise=="function"?Promise:void 0,x3=typeof queueMicrotask=="function"?queueMicrotask:typeof n1<"u"?function(e){return n1.resolve(null).then(e).catch(y3)}:s0;function y3(e){setTimeout(function(){throw e})}function Fv(e,t){var i=t,r=0;do{var g=i.nextSibling;if(e.removeChild(i),g&&g.nodeType===8)if(i=g.data,i==="/$"){if(r===0){e.removeChild(g),ll(t);return}r--}else i!=="$"&&i!=="$?"&&i!=="$!"||r++;i=g}while(i);ll(t)}function an(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function a1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Ho=Math.random().toString(36).slice(2),Us="__reactFiber$"+Ho,vl="__reactProps$"+Ho,pr="__reactContainer$"+Ho,r0="__reactEvents$"+Ho,C3="__reactListeners$"+Ho,T3="__reactHandles$"+Ho;function ea(e){var t=e[Us];if(t)return t;for(var i=e.parentNode;i;){if(t=i[pr]||i[Us]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=a1(e);e!==null;){if(i=e[Us])return i;e=a1(e)}return t}e=i,i=e.parentNode}return null}function Gl(e){return e=e[Us]||e[pr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(rt(33))}function sc(e){return e[vl]||null}var n0=[],po=-1;function Cn(e){return{current:e}}function Yt(e){0>po||(e.current=n0[po],n0[po]=null,po--)}function Xt(e,t){po++,n0[po]=e.current,e.current=t}var pn={},qe=Cn(pn),gi=Cn(!1),ua=pn;function Do(e,t){var i=e.type.contextTypes;if(!i)return pn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var g={},S;for(S in i)g[S]=t[S];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=g),g}function mi(e){return e=e.childContextTypes,e!=null}function Pf(){Yt(gi),Yt(qe)}function o1(e,t,i){if(qe.current!==pn)throw Error(rt(168));Xt(qe,t),Xt(gi,i)}function s2(e,t,i){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return i;r=r.getChildContext();for(var g in r)if(!(g in t))throw Error(rt(108,nO(e)||"Unknown",g));return ie({},i,r)}function Ef(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pn,ua=qe.current,Xt(qe,e),Xt(gi,gi.current),!0}function h1(e,t,i){var r=e.stateNode;if(!r)throw Error(rt(169));i?(e=s2(e,t,ua),r.__reactInternalMemoizedMergedChildContext=e,Yt(gi),Yt(qe),Xt(qe,e)):Yt(gi),Xt(gi,i)}var nr=null,rc=!1,bv=!1;function r2(e){nr===null?nr=[e]:nr.push(e)}function S3(e){rc=!0,r2(e)}function Tn(){if(!bv&&nr!==null){bv=!0;var e=0,t=zt;try{var i=nr;for(zt=1;e<i.length;e++){var r=i[e];do r=r(!0);while(r!==null)}nr=null,rc=!1}catch(g){throw nr!==null&&(nr=nr.slice(e+1)),LE(im,Tn),g}finally{zt=t,bv=!1}}return null}var go=[],mo=0,Mf=null,wf=0,Ji=[],Qi=0,da=null,hr=1,lr="";function Qn(e,t){go[mo++]=wf,go[mo++]=Mf,Mf=e,wf=t}function n2(e,t,i){Ji[Qi++]=hr,Ji[Qi++]=lr,Ji[Qi++]=da,da=e;var r=hr;e=lr;var g=32-Cs(r)-1;r&=~(1<<g),i+=1;var S=32-Cs(t)+g;if(30<S){var n=g-g%5;S=(r&(1<<n)-1).toString(32),r>>=n,g-=n,hr=1<<32-Cs(t)+g|i<<g|r,lr=S+e}else hr=1<<S|i<<g|r,lr=e}function dm(e){e.return!==null&&(Qn(e,1),n2(e,1,0))}function fm(e){for(;e===Mf;)Mf=go[--mo],go[mo]=null,wf=go[--mo],go[mo]=null;for(;e===da;)da=Ji[--Qi],Ji[Qi]=null,lr=Ji[--Qi],Ji[Qi]=null,hr=Ji[--Qi],Ji[Qi]=null}var Oi=null,Li=null,Zt=!1,xs=null;function a2(e,t){var i=ji(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function l1(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Oi=e,Li=an(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Oi=e,Li=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=da!==null?{id:hr,overflow:lr}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=ji(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,Oi=e,Li=null,!0):!1;default:return!1}}function a0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function o0(e){if(Zt){var t=Li;if(t){var i=t;if(!l1(e,t)){if(a0(e))throw Error(rt(418));t=an(i.nextSibling);var r=Oi;t&&l1(e,t)?a2(r,i):(e.flags=e.flags&-4097|2,Zt=!1,Oi=e)}}else{if(a0(e))throw Error(rt(418));e.flags=e.flags&-4097|2,Zt=!1,Oi=e}}}function u1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Oi=e}function Ru(e){if(e!==Oi)return!1;if(!Zt)return u1(e),Zt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!i0(e.type,e.memoizedProps)),t&&(t=Li)){if(a0(e))throw o2(),Error(rt(418));for(;t;)a2(e,t),t=an(t.nextSibling)}if(u1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(rt(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Li=an(e.nextSibling);break t}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Li=null}}else Li=Oi?an(e.stateNode.nextSibling):null;return!0}function o2(){for(var e=Li;e;)e=an(e.nextSibling)}function Bo(){Li=Oi=null,Zt=!1}function cm(e){xs===null?xs=[e]:xs.push(e)}var P3=Cr.ReactCurrentBatchConfig;function ah(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(rt(309));var r=i.stateNode}if(!r)throw Error(rt(147,e));var g=r,S=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===S?t.ref:(t=function(n){var C=g.refs;n===null?delete C[S]:C[S]=n},t._stringRef=S,t)}if(typeof e!="string")throw Error(rt(284));if(!i._owner)throw Error(rt(290,e))}return e}function Au(e,t){throw e=Object.prototype.toString.call(t),Error(rt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function d1(e){var t=e._init;return t(e._payload)}function h2(e){function t(h,c){if(e){var p=h.deletions;p===null?(h.deletions=[c],h.flags|=16):p.push(c)}}function i(h,c){if(!e)return null;for(;c!==null;)t(h,c),c=c.sibling;return null}function r(h,c){for(h=new Map;c!==null;)c.key!==null?h.set(c.key,c):h.set(c.index,c),c=c.sibling;return h}function g(h,c){return h=un(h,c),h.index=0,h.sibling=null,h}function S(h,c,p){return h.index=p,e?(p=h.alternate,p!==null?(p=p.index,p<c?(h.flags|=2,c):p):(h.flags|=2,c)):(h.flags|=1048576,c)}function n(h){return e&&h.alternate===null&&(h.flags|=2),h}function C(h,c,p,m){return c===null||c.tag!==6?(c=zv(p,h.mode,m),c.return=h,c):(c=g(c,p),c.return=h,c)}function s(h,c,p,m){var x=p.type;return x===lo?y(h,c,p.props.children,m,p.key):c!==null&&(c.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Wr&&d1(x)===c.type)?(m=g(c,p.props),m.ref=ah(h,c,p),m.return=h,m):(m=of(p.type,p.key,p.props,null,h.mode,m),m.ref=ah(h,c,p),m.return=h,m)}function o(h,c,p,m){return c===null||c.tag!==4||c.stateNode.containerInfo!==p.containerInfo||c.stateNode.implementation!==p.implementation?(c=Vv(p,h.mode,m),c.return=h,c):(c=g(c,p.children||[]),c.return=h,c)}function y(h,c,p,m,x){return c===null||c.tag!==7?(c=oa(p,h.mode,m,x),c.return=h,c):(c=g(c,p),c.return=h,c)}function f(h,c,p){if(typeof c=="string"&&c!==""||typeof c=="number")return c=zv(""+c,h.mode,p),c.return=h,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case mu:return p=of(c.type,c.key,c.props,null,h.mode,p),p.ref=ah(h,null,c),p.return=h,p;case ho:return c=Vv(c,h.mode,p),c.return=h,c;case Wr:var m=c._init;return f(h,m(c._payload),p)}if(Xh(c)||eh(c))return c=oa(c,h.mode,p,null),c.return=h,c;Au(h,c)}return null}function u(h,c,p,m){var x=c!==null?c.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return x!==null?null:C(h,c,""+p,m);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case mu:return p.key===x?s(h,c,p,m):null;case ho:return p.key===x?o(h,c,p,m):null;case Wr:return x=p._init,u(h,c,x(p._payload),m)}if(Xh(p)||eh(p))return x!==null?null:y(h,c,p,m,null);Au(h,p)}return null}function l(h,c,p,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return h=h.get(p)||null,C(c,h,""+m,x);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case mu:return h=h.get(m.key===null?p:m.key)||null,s(c,h,m,x);case ho:return h=h.get(m.key===null?p:m.key)||null,o(c,h,m,x);case Wr:var T=m._init;return l(h,c,p,T(m._payload),x)}if(Xh(m)||eh(m))return h=h.get(p)||null,y(c,h,m,x,null);Au(c,m)}return null}function a(h,c,p,m){for(var x=null,T=null,P=c,M=c=0,E=null;P!==null&&M<p.length;M++){P.index>M?(E=P,P=null):E=P.sibling;var w=u(h,P,p[M],m);if(w===null){P===null&&(P=E);break}e&&P&&w.alternate===null&&t(h,P),c=S(w,c,M),T===null?x=w:T.sibling=w,T=w,P=E}if(M===p.length)return i(h,P),Zt&&Qn(h,M),x;if(P===null){for(;M<p.length;M++)P=f(h,p[M],m),P!==null&&(c=S(P,c,M),T===null?x=P:T.sibling=P,T=P);return Zt&&Qn(h,M),x}for(P=r(h,P);M<p.length;M++)E=l(P,h,M,p[M],m),E!==null&&(e&&E.alternate!==null&&P.delete(E.key===null?M:E.key),c=S(E,c,M),T===null?x=E:T.sibling=E,T=E);return e&&P.forEach(function(R){return t(h,R)}),Zt&&Qn(h,M),x}function d(h,c,p,m){var x=eh(p);if(typeof x!="function")throw Error(rt(150));if(p=x.call(p),p==null)throw Error(rt(151));for(var T=x=null,P=c,M=c=0,E=null,w=p.next();P!==null&&!w.done;M++,w=p.next()){P.index>M?(E=P,P=null):E=P.sibling;var R=u(h,P,w.value,m);if(R===null){P===null&&(P=E);break}e&&P&&R.alternate===null&&t(h,P),c=S(R,c,M),T===null?x=R:T.sibling=R,T=R,P=E}if(w.done)return i(h,P),Zt&&Qn(h,M),x;if(P===null){for(;!w.done;M++,w=p.next())w=f(h,w.value,m),w!==null&&(c=S(w,c,M),T===null?x=w:T.sibling=w,T=w);return Zt&&Qn(h,M),x}for(P=r(h,P);!w.done;M++,w=p.next())w=l(P,h,M,w.value,m),w!==null&&(e&&w.alternate!==null&&P.delete(w.key===null?M:w.key),c=S(w,c,M),T===null?x=w:T.sibling=w,T=w);return e&&P.forEach(function(A){return t(h,A)}),Zt&&Qn(h,M),x}function v(h,c,p,m){if(typeof p=="object"&&p!==null&&p.type===lo&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case mu:t:{for(var x=p.key,T=c;T!==null;){if(T.key===x){if(x=p.type,x===lo){if(T.tag===7){i(h,T.sibling),c=g(T,p.props.children),c.return=h,h=c;break t}}else if(T.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Wr&&d1(x)===T.type){i(h,T.sibling),c=g(T,p.props),c.ref=ah(h,T,p),c.return=h,h=c;break t}i(h,T);break}else t(h,T);T=T.sibling}p.type===lo?(c=oa(p.props.children,h.mode,m,p.key),c.return=h,h=c):(m=of(p.type,p.key,p.props,null,h.mode,m),m.ref=ah(h,c,p),m.return=h,h=m)}return n(h);case ho:t:{for(T=p.key;c!==null;){if(c.key===T)if(c.tag===4&&c.stateNode.containerInfo===p.containerInfo&&c.stateNode.implementation===p.implementation){i(h,c.sibling),c=g(c,p.children||[]),c.return=h,h=c;break t}else{i(h,c);break}else t(h,c);c=c.sibling}c=Vv(p,h.mode,m),c.return=h,h=c}return n(h);case Wr:return T=p._init,v(h,c,T(p._payload),m)}if(Xh(p))return a(h,c,p,m);if(eh(p))return d(h,c,p,m);Au(h,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,c!==null&&c.tag===6?(i(h,c.sibling),c=g(c,p),c.return=h,h=c):(i(h,c),c=zv(p,h.mode,m),c.return=h,h=c),n(h)):i(h,c)}return v}var Io=h2(!0),l2=h2(!1),Rf=Cn(null),Af=null,xo=null,vm=null;function pm(){vm=xo=Af=null}function gm(e){var t=Rf.current;Yt(Rf),e._currentValue=t}function h0(e,t,i){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function Ro(e,t){Af=e,vm=xo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(pi=!0),e.firstContext=null)}function _i(e){var t=e._currentValue;if(vm!==e)if(e={context:e,memoizedValue:t,next:null},xo===null){if(Af===null)throw Error(rt(308));xo=e,Af.dependencies={lanes:0,firstContext:e}}else xo=xo.next=e;return t}var ia=null;function mm(e){ia===null?ia=[e]:ia.push(e)}function u2(e,t,i,r){var g=t.interleaved;return g===null?(i.next=i,mm(t)):(i.next=g.next,g.next=i),t.interleaved=i,gr(e,r)}function gr(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Yr=!1;function xm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function d2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function on(e,t,i){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Lt&2){var g=r.pending;return g===null?t.next=t:(t.next=g.next,g.next=t),r.pending=t,gr(e,i)}return g=r.interleaved,g===null?(t.next=t,mm(r)):(t.next=g.next,g.next=t),r.interleaved=t,gr(e,i)}function tf(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,sm(e,i)}}function f1(e,t){var i=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var g=null,S=null;if(i=i.firstBaseUpdate,i!==null){do{var n={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};S===null?g=S=n:S=S.next=n,i=i.next}while(i!==null);S===null?g=S=t:S=S.next=t}else g=S=t;i={baseState:r.baseState,firstBaseUpdate:g,lastBaseUpdate:S,shared:r.shared,effects:r.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Lf(e,t,i,r){var g=e.updateQueue;Yr=!1;var S=g.firstBaseUpdate,n=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var s=C,o=s.next;s.next=null,n===null?S=o:n.next=o,n=s;var y=e.alternate;y!==null&&(y=y.updateQueue,C=y.lastBaseUpdate,C!==n&&(C===null?y.firstBaseUpdate=o:C.next=o,y.lastBaseUpdate=s))}if(S!==null){var f=g.baseState;n=0,y=o=s=null,C=S;do{var u=C.lane,l=C.eventTime;if((r&u)===u){y!==null&&(y=y.next={eventTime:l,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});t:{var a=e,d=C;switch(u=t,l=i,d.tag){case 1:if(a=d.payload,typeof a=="function"){f=a.call(l,f,u);break t}f=a;break t;case 3:a.flags=a.flags&-65537|128;case 0:if(a=d.payload,u=typeof a=="function"?a.call(l,f,u):a,u==null)break t;f=ie({},f,u);break t;case 2:Yr=!0}}C.callback!==null&&C.lane!==0&&(e.flags|=64,u=g.effects,u===null?g.effects=[C]:u.push(C))}else l={eventTime:l,lane:u,tag:C.tag,payload:C.payload,callback:C.callback,next:null},y===null?(o=y=l,s=f):y=y.next=l,n|=u;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;u=C,C=u.next,u.next=null,g.lastBaseUpdate=u,g.shared.pending=null}}while(!0);if(y===null&&(s=f),g.baseState=s,g.firstBaseUpdate=o,g.lastBaseUpdate=y,t=g.shared.interleaved,t!==null){g=t;do n|=g.lane,g=g.next;while(g!==t)}else S===null&&(g.shared.lanes=0);ca|=n,e.lanes=n,e.memoizedState=f}}function c1(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],g=r.callback;if(g!==null){if(r.callback=null,r=i,typeof g!="function")throw Error(rt(191,g));g.call(r)}}}var kl={},Ys=Cn(kl),pl=Cn(kl),gl=Cn(kl);function sa(e){if(e===kl)throw Error(rt(174));return e}function ym(e,t){switch(Xt(gl,t),Xt(pl,e),Xt(Ys,kl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xg(t,e)}Yt(Ys),Xt(Ys,t)}function Go(){Yt(Ys),Yt(pl),Yt(gl)}function f2(e){sa(gl.current);var t=sa(Ys.current),i=Xg(t,e.type);t!==i&&(Xt(pl,e),Xt(Ys,i))}function Cm(e){pl.current===e&&(Yt(Ys),Yt(pl))}var te=Cn(0);function Of(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dv=[];function Tm(){for(var e=0;e<Dv.length;e++)Dv[e]._workInProgressVersionPrimary=null;Dv.length=0}var ef=Cr.ReactCurrentDispatcher,Bv=Cr.ReactCurrentBatchConfig,fa=0,ee=null,Se=null,Re=null,Ff=!1,jh=!1,ml=0,E3=0;function Ye(){throw Error(rt(321))}function Sm(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Ss(e[i],t[i]))return!1;return!0}function Pm(e,t,i,r,g,S){if(fa=S,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ef.current=e===null||e.memoizedState===null?A3:L3,e=i(r,g),jh){S=0;do{if(jh=!1,ml=0,25<=S)throw Error(rt(301));S+=1,Re=Se=null,t.updateQueue=null,ef.current=O3,e=i(r,g)}while(jh)}if(ef.current=bf,t=Se!==null&&Se.next!==null,fa=0,Re=Se=ee=null,Ff=!1,t)throw Error(rt(300));return e}function Em(){var e=ml!==0;return ml=0,e}function Vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?ee.memoizedState=Re=e:Re=Re.next=e,Re}function ts(){if(Se===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=Re===null?ee.memoizedState:Re.next;if(t!==null)Re=t,Se=e;else{if(e===null)throw Error(rt(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Re===null?ee.memoizedState=Re=e:Re=Re.next=e}return Re}function xl(e,t){return typeof t=="function"?t(e):t}function Iv(e){var t=ts(),i=t.queue;if(i===null)throw Error(rt(311));i.lastRenderedReducer=e;var r=Se,g=r.baseQueue,S=i.pending;if(S!==null){if(g!==null){var n=g.next;g.next=S.next,S.next=n}r.baseQueue=g=S,i.pending=null}if(g!==null){S=g.next,r=r.baseState;var C=n=null,s=null,o=S;do{var y=o.lane;if((fa&y)===y)s!==null&&(s=s.next={lane:0,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null}),r=o.hasEagerState?o.eagerState:e(r,o.action);else{var f={lane:y,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null};s===null?(C=s=f,n=r):s=s.next=f,ee.lanes|=y,ca|=y}o=o.next}while(o!==null&&o!==S);s===null?n=r:s.next=C,Ss(r,t.memoizedState)||(pi=!0),t.memoizedState=r,t.baseState=n,t.baseQueue=s,i.lastRenderedState=r}if(e=i.interleaved,e!==null){g=e;do S=g.lane,ee.lanes|=S,ca|=S,g=g.next;while(g!==e)}else g===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Gv(e){var t=ts(),i=t.queue;if(i===null)throw Error(rt(311));i.lastRenderedReducer=e;var r=i.dispatch,g=i.pending,S=t.memoizedState;if(g!==null){i.pending=null;var n=g=g.next;do S=e(S,n.action),n=n.next;while(n!==g);Ss(S,t.memoizedState)||(pi=!0),t.memoizedState=S,t.baseQueue===null&&(t.baseState=S),i.lastRenderedState=S}return[S,r]}function c2(){}function v2(e,t){var i=ee,r=ts(),g=t(),S=!Ss(r.memoizedState,g);if(S&&(r.memoizedState=g,pi=!0),r=r.queue,Mm(m2.bind(null,i,r,e),[e]),r.getSnapshot!==t||S||Re!==null&&Re.memoizedState.tag&1){if(i.flags|=2048,yl(9,g2.bind(null,i,r,g,t),void 0,null),De===null)throw Error(rt(349));fa&30||p2(i,t,g)}return g}function p2(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function g2(e,t,i,r){t.value=i,t.getSnapshot=r,x2(t)&&y2(e)}function m2(e,t,i){return i(function(){x2(t)&&y2(e)})}function x2(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Ss(e,i)}catch{return!0}}function y2(e){var t=gr(e,1);t!==null&&Ts(t,e,1,-1)}function v1(e){var t=Vs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:e},t.queue=e,e=e.dispatch=R3.bind(null,ee,e),[t.memoizedState,e]}function yl(e,t,i,r){return e={tag:e,create:t,destroy:i,deps:r,next:null},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e)),e}function C2(){return ts().memoizedState}function sf(e,t,i,r){var g=Vs();ee.flags|=e,g.memoizedState=yl(1|t,i,void 0,r===void 0?null:r)}function nc(e,t,i,r){var g=ts();r=r===void 0?null:r;var S=void 0;if(Se!==null){var n=Se.memoizedState;if(S=n.destroy,r!==null&&Sm(r,n.deps)){g.memoizedState=yl(t,i,S,r);return}}ee.flags|=e,g.memoizedState=yl(1|t,i,S,r)}function p1(e,t){return sf(8390656,8,e,t)}function Mm(e,t){return nc(2048,8,e,t)}function T2(e,t){return nc(4,2,e,t)}function S2(e,t){return nc(4,4,e,t)}function P2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function E2(e,t,i){return i=i!=null?i.concat([e]):null,nc(4,4,P2.bind(null,t,e),i)}function wm(){}function M2(e,t){var i=ts();t=t===void 0?null:t;var r=i.memoizedState;return r!==null&&t!==null&&Sm(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function w2(e,t){var i=ts();t=t===void 0?null:t;var r=i.memoizedState;return r!==null&&t!==null&&Sm(t,r[1])?r[0]:(e=e(),i.memoizedState=[e,t],e)}function R2(e,t,i){return fa&21?(Ss(i,t)||(i=bE(),ee.lanes|=i,ca|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pi=!0),e.memoizedState=i)}function M3(e,t){var i=zt;zt=i!==0&&4>i?i:4,e(!0);var r=Bv.transition;Bv.transition={};try{e(!1),t()}finally{zt=i,Bv.transition=r}}function A2(){return ts().memoizedState}function w3(e,t,i){var r=ln(e);if(i={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null},L2(e))O2(t,i);else if(i=u2(e,t,i,r),i!==null){var g=ri();Ts(i,e,r,g),F2(i,t,r)}}function R3(e,t,i){var r=ln(e),g={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null};if(L2(e))O2(t,g);else{var S=e.alternate;if(e.lanes===0&&(S===null||S.lanes===0)&&(S=t.lastRenderedReducer,S!==null))try{var n=t.lastRenderedState,C=S(n,i);if(g.hasEagerState=!0,g.eagerState=C,Ss(C,n)){var s=t.interleaved;s===null?(g.next=g,mm(t)):(g.next=s.next,s.next=g),t.interleaved=g;return}}catch{}finally{}i=u2(e,t,g,r),i!==null&&(g=ri(),Ts(i,e,r,g),F2(i,t,r))}}function L2(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function O2(e,t){jh=Ff=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function F2(e,t,i){if(i&4194240){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,sm(e,i)}}var bf={readContext:_i,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useInsertionEffect:Ye,useLayoutEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useMutableSource:Ye,useSyncExternalStore:Ye,useId:Ye,unstable_isNewReconciler:!1},A3={readContext:_i,useCallback:function(e,t){return Vs().memoizedState=[e,t===void 0?null:t],e},useContext:_i,useEffect:p1,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,sf(4194308,4,P2.bind(null,t,e),i)},useLayoutEffect:function(e,t){return sf(4194308,4,e,t)},useInsertionEffect:function(e,t){return sf(4,2,e,t)},useMemo:function(e,t){var i=Vs();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var r=Vs();return t=i!==void 0?i(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=w3.bind(null,ee,e),[r.memoizedState,e]},useRef:function(e){var t=Vs();return e={current:e},t.memoizedState=e},useState:v1,useDebugValue:wm,useDeferredValue:function(e){return Vs().memoizedState=e},useTransition:function(){var e=v1(!1),t=e[0];return e=M3.bind(null,e[1]),Vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var r=ee,g=Vs();if(Zt){if(i===void 0)throw Error(rt(407));i=i()}else{if(i=t(),De===null)throw Error(rt(349));fa&30||p2(r,t,i)}g.memoizedState=i;var S={value:i,getSnapshot:t};return g.queue=S,p1(m2.bind(null,r,S,e),[e]),r.flags|=2048,yl(9,g2.bind(null,r,S,i,t),void 0,null),i},useId:function(){var e=Vs(),t=De.identifierPrefix;if(Zt){var i=lr,r=hr;i=(r&~(1<<32-Cs(r)-1)).toString(32)+i,t=":"+t+"R"+i,i=ml++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=E3++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},L3={readContext:_i,useCallback:M2,useContext:_i,useEffect:Mm,useImperativeHandle:E2,useInsertionEffect:T2,useLayoutEffect:S2,useMemo:w2,useReducer:Iv,useRef:C2,useState:function(){return Iv(xl)},useDebugValue:wm,useDeferredValue:function(e){var t=ts();return R2(t,Se.memoizedState,e)},useTransition:function(){var e=Iv(xl)[0],t=ts().memoizedState;return[e,t]},useMutableSource:c2,useSyncExternalStore:v2,useId:A2,unstable_isNewReconciler:!1},O3={readContext:_i,useCallback:M2,useContext:_i,useEffect:Mm,useImperativeHandle:E2,useInsertionEffect:T2,useLayoutEffect:S2,useMemo:w2,useReducer:Gv,useRef:C2,useState:function(){return Gv(xl)},useDebugValue:wm,useDeferredValue:function(e){var t=ts();return Se===null?t.memoizedState=e:R2(t,Se.memoizedState,e)},useTransition:function(){var e=Gv(xl)[0],t=ts().memoizedState;return[e,t]},useMutableSource:c2,useSyncExternalStore:v2,useId:A2,unstable_isNewReconciler:!1};function vs(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function l0(e,t,i,r){t=e.memoizedState,i=i(r,t),i=i==null?t:ie({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var ac={isMounted:function(e){return(e=e._reactInternals)?ya(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var r=ri(),g=ln(e),S=dr(r,g);S.payload=t,i!=null&&(S.callback=i),t=on(e,S,g),t!==null&&(Ts(t,e,g,r),tf(t,e,g))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=ri(),g=ln(e),S=dr(r,g);S.tag=1,S.payload=t,i!=null&&(S.callback=i),t=on(e,S,g),t!==null&&(Ts(t,e,g,r),tf(t,e,g))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=ri(),r=ln(e),g=dr(i,r);g.tag=2,t!=null&&(g.callback=t),t=on(e,g,r),t!==null&&(Ts(t,e,r,i),tf(t,e,r))}};function g1(e,t,i,r,g,S,n){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,S,n):t.prototype&&t.prototype.isPureReactComponent?!dl(i,r)||!dl(g,S):!0}function b2(e,t,i){var r=!1,g=pn,S=t.contextType;return typeof S=="object"&&S!==null?S=_i(S):(g=mi(t)?ua:qe.current,r=t.contextTypes,S=(r=r!=null)?Do(e,g):pn),t=new t(i,S),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ac,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=g,e.__reactInternalMemoizedMaskedChildContext=S),t}function m1(e,t,i,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&ac.enqueueReplaceState(t,t.state,null)}function u0(e,t,i,r){var g=e.stateNode;g.props=i,g.state=e.memoizedState,g.refs={},xm(e);var S=t.contextType;typeof S=="object"&&S!==null?g.context=_i(S):(S=mi(t)?ua:qe.current,g.context=Do(e,S)),g.state=e.memoizedState,S=t.getDerivedStateFromProps,typeof S=="function"&&(l0(e,t,S,i),g.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(t=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),t!==g.state&&ac.enqueueReplaceState(g,g.state,null),Lf(e,i,g,r),g.state=e.memoizedState),typeof g.componentDidMount=="function"&&(e.flags|=4194308)}function ko(e,t){try{var i="",r=t;do i+=rO(r),r=r.return;while(r);var g=i}catch(S){g=`
Error generating stack: `+S.message+`
`+S.stack}return{value:e,source:t,stack:g,digest:null}}function kv(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function d0(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var F3=typeof WeakMap=="function"?WeakMap:Map;function D2(e,t,i){i=dr(-1,i),i.tag=3,i.payload={element:null};var r=t.value;return i.callback=function(){Bf||(Bf=!0,T0=r),d0(e,t)},i}function B2(e,t,i){i=dr(-1,i),i.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var g=t.value;i.payload=function(){return r(g)},i.callback=function(){d0(e,t)}}var S=e.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){d0(e,t),typeof r!="function"&&(hn===null?hn=new Set([this]):hn.add(this));var n=t.stack;this.componentDidCatch(t.value,{componentStack:n!==null?n:""})}),i}function x1(e,t,i){var r=e.pingCache;if(r===null){r=e.pingCache=new F3;var g=new Set;r.set(t,g)}else g=r.get(t),g===void 0&&(g=new Set,r.set(t,g));g.has(i)||(g.add(i),e=H3.bind(null,e,t,i),t.then(e,e))}function y1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function C1(e,t,i,r,g){return e.mode&1?(e.flags|=65536,e.lanes=g,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=dr(-1,1),t.tag=2,on(i,t,1))),i.lanes|=1),e)}var b3=Cr.ReactCurrentOwner,pi=!1;function si(e,t,i,r){t.child=e===null?l2(t,null,i,r):Io(t,e.child,i,r)}function T1(e,t,i,r,g){i=i.render;var S=t.ref;return Ro(t,g),r=Pm(e,t,i,r,S,g),i=Em(),e!==null&&!pi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~g,mr(e,t,g)):(Zt&&i&&dm(t),t.flags|=1,si(e,t,r,g),t.child)}function S1(e,t,i,r,g){if(e===null){var S=i.type;return typeof S=="function"&&!Bm(S)&&S.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=S,I2(e,t,S,r,g)):(e=of(i.type,null,r,t,t.mode,g),e.ref=t.ref,e.return=t,t.child=e)}if(S=e.child,!(e.lanes&g)){var n=S.memoizedProps;if(i=i.compare,i=i!==null?i:dl,i(n,r)&&e.ref===t.ref)return mr(e,t,g)}return t.flags|=1,e=un(S,r),e.ref=t.ref,e.return=t,t.child=e}function I2(e,t,i,r,g){if(e!==null){var S=e.memoizedProps;if(dl(S,r)&&e.ref===t.ref)if(pi=!1,t.pendingProps=r=S,(e.lanes&g)!==0)e.flags&131072&&(pi=!0);else return t.lanes=e.lanes,mr(e,t,g)}return f0(e,t,i,r,g)}function G2(e,t,i){var r=t.pendingProps,g=r.children,S=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(Co,Ri),Ri|=i;else{if(!(i&1073741824))return e=S!==null?S.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xt(Co,Ri),Ri|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=S!==null?S.baseLanes:i,Xt(Co,Ri),Ri|=r}else S!==null?(r=S.baseLanes|i,t.memoizedState=null):r=i,Xt(Co,Ri),Ri|=r;return si(e,t,g,i),t.child}function k2(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function f0(e,t,i,r,g){var S=mi(i)?ua:qe.current;return S=Do(t,S),Ro(t,g),i=Pm(e,t,i,r,S,g),r=Em(),e!==null&&!pi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~g,mr(e,t,g)):(Zt&&r&&dm(t),t.flags|=1,si(e,t,i,g),t.child)}function P1(e,t,i,r,g){if(mi(i)){var S=!0;Ef(t)}else S=!1;if(Ro(t,g),t.stateNode===null)rf(e,t),b2(t,i,r),u0(t,i,r,g),r=!0;else if(e===null){var n=t.stateNode,C=t.memoizedProps;n.props=C;var s=n.context,o=i.contextType;typeof o=="object"&&o!==null?o=_i(o):(o=mi(i)?ua:qe.current,o=Do(t,o));var y=i.getDerivedStateFromProps,f=typeof y=="function"||typeof n.getSnapshotBeforeUpdate=="function";f||typeof n.UNSAFE_componentWillReceiveProps!="function"&&typeof n.componentWillReceiveProps!="function"||(C!==r||s!==o)&&m1(t,n,r,o),Yr=!1;var u=t.memoizedState;n.state=u,Lf(t,r,n,g),s=t.memoizedState,C!==r||u!==s||gi.current||Yr?(typeof y=="function"&&(l0(t,i,y,r),s=t.memoizedState),(C=Yr||g1(t,i,C,r,u,s,o))?(f||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount()),typeof n.componentDidMount=="function"&&(t.flags|=4194308)):(typeof n.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),n.props=r,n.state=s,n.context=o,r=C):(typeof n.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{n=t.stateNode,d2(e,t),C=t.memoizedProps,o=t.type===t.elementType?C:vs(t.type,C),n.props=o,f=t.pendingProps,u=n.context,s=i.contextType,typeof s=="object"&&s!==null?s=_i(s):(s=mi(i)?ua:qe.current,s=Do(t,s));var l=i.getDerivedStateFromProps;(y=typeof l=="function"||typeof n.getSnapshotBeforeUpdate=="function")||typeof n.UNSAFE_componentWillReceiveProps!="function"&&typeof n.componentWillReceiveProps!="function"||(C!==f||u!==s)&&m1(t,n,r,s),Yr=!1,u=t.memoizedState,n.state=u,Lf(t,r,n,g);var a=t.memoizedState;C!==f||u!==a||gi.current||Yr?(typeof l=="function"&&(l0(t,i,l,r),a=t.memoizedState),(o=Yr||g1(t,i,o,r,u,a,s)||!1)?(y||typeof n.UNSAFE_componentWillUpdate!="function"&&typeof n.componentWillUpdate!="function"||(typeof n.componentWillUpdate=="function"&&n.componentWillUpdate(r,a,s),typeof n.UNSAFE_componentWillUpdate=="function"&&n.UNSAFE_componentWillUpdate(r,a,s)),typeof n.componentDidUpdate=="function"&&(t.flags|=4),typeof n.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof n.componentDidUpdate!="function"||C===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof n.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=a),n.props=r,n.state=a,n.context=s,r=o):(typeof n.componentDidUpdate!="function"||C===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof n.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),r=!1)}return c0(e,t,i,r,S,g)}function c0(e,t,i,r,g,S){k2(e,t);var n=(t.flags&128)!==0;if(!r&&!n)return g&&h1(t,i,!1),mr(e,t,S);r=t.stateNode,b3.current=t;var C=n&&typeof i.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&n?(t.child=Io(t,e.child,null,S),t.child=Io(t,null,C,S)):si(e,t,C,S),t.memoizedState=r.state,g&&h1(t,i,!0),t.child}function N2(e){var t=e.stateNode;t.pendingContext?o1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&o1(e,t.context,!1),ym(e,t.containerInfo)}function E1(e,t,i,r,g){return Bo(),cm(g),t.flags|=256,si(e,t,i,r),t.child}var v0={dehydrated:null,treeContext:null,retryLane:0};function p0(e){return{baseLanes:e,cachePool:null,transitions:null}}function z2(e,t,i){var r=t.pendingProps,g=te.current,S=!1,n=(t.flags&128)!==0,C;if((C=n)||(C=e!==null&&e.memoizedState===null?!1:(g&2)!==0),C?(S=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(g|=1),Xt(te,g&1),e===null)return o0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(n=r.children,e=r.fallback,S?(r=t.mode,S=t.child,n={mode:"hidden",children:n},!(r&1)&&S!==null?(S.childLanes=0,S.pendingProps=n):S=lc(n,r,0,null),e=oa(e,r,i,null),S.return=t,e.return=t,S.sibling=e,t.child=S,t.child.memoizedState=p0(i),t.memoizedState=v0,e):Rm(t,n));if(g=e.memoizedState,g!==null&&(C=g.dehydrated,C!==null))return D3(e,t,n,r,C,g,i);if(S){S=r.fallback,n=t.mode,g=e.child,C=g.sibling;var s={mode:"hidden",children:r.children};return!(n&1)&&t.child!==g?(r=t.child,r.childLanes=0,r.pendingProps=s,t.deletions=null):(r=un(g,s),r.subtreeFlags=g.subtreeFlags&14680064),C!==null?S=un(C,S):(S=oa(S,n,i,null),S.flags|=2),S.return=t,r.return=t,r.sibling=S,t.child=r,r=S,S=t.child,n=e.child.memoizedState,n=n===null?p0(i):{baseLanes:n.baseLanes|i,cachePool:null,transitions:n.transitions},S.memoizedState=n,S.childLanes=e.childLanes&~i,t.memoizedState=v0,r}return S=e.child,e=S.sibling,r=un(S,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=i),r.return=t,r.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=r,t.memoizedState=null,r}function Rm(e,t){return t=lc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Lu(e,t,i,r){return r!==null&&cm(r),Io(t,e.child,null,i),e=Rm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function D3(e,t,i,r,g,S,n){if(i)return t.flags&256?(t.flags&=-257,r=kv(Error(rt(422))),Lu(e,t,n,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(S=r.fallback,g=t.mode,r=lc({mode:"visible",children:r.children},g,0,null),S=oa(S,g,n,null),S.flags|=2,r.return=t,S.return=t,r.sibling=S,t.child=r,t.mode&1&&Io(t,e.child,null,n),t.child.memoizedState=p0(n),t.memoizedState=v0,S);if(!(t.mode&1))return Lu(e,t,n,null);if(g.data==="$!"){if(r=g.nextSibling&&g.nextSibling.dataset,r)var C=r.dgst;return r=C,S=Error(rt(419)),r=kv(S,r,void 0),Lu(e,t,n,r)}if(C=(n&e.childLanes)!==0,pi||C){if(r=De,r!==null){switch(n&-n){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(r.suspendedLanes|n)?0:g,g!==0&&g!==S.retryLane&&(S.retryLane=g,gr(e,g),Ts(r,e,g,-1))}return Dm(),r=kv(Error(rt(421))),Lu(e,t,n,r)}return g.data==="$?"?(t.flags|=128,t.child=e.child,t=$3.bind(null,e),g._reactRetry=t,null):(e=S.treeContext,Li=an(g.nextSibling),Oi=t,Zt=!0,xs=null,e!==null&&(Ji[Qi++]=hr,Ji[Qi++]=lr,Ji[Qi++]=da,hr=e.id,lr=e.overflow,da=t),t=Rm(t,r.children),t.flags|=4096,t)}function M1(e,t,i){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),h0(e.return,t,i)}function Nv(e,t,i,r,g){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:g}:(S.isBackwards=t,S.rendering=null,S.renderingStartTime=0,S.last=r,S.tail=i,S.tailMode=g)}function V2(e,t,i){var r=t.pendingProps,g=r.revealOrder,S=r.tail;if(si(e,t,r.children,i),r=te.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&M1(e,i,t);else if(e.tag===19)M1(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Xt(te,r),!(t.mode&1))t.memoizedState=null;else switch(g){case"forwards":for(i=t.child,g=null;i!==null;)e=i.alternate,e!==null&&Of(e)===null&&(g=i),i=i.sibling;i=g,i===null?(g=t.child,t.child=null):(g=i.sibling,i.sibling=null),Nv(t,!1,g,i,S);break;case"backwards":for(i=null,g=t.child,t.child=null;g!==null;){if(e=g.alternate,e!==null&&Of(e)===null){t.child=g;break}e=g.sibling,g.sibling=i,i=g,g=e}Nv(t,!0,i,null,S);break;case"together":Nv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mr(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),ca|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(rt(153));if(t.child!==null){for(e=t.child,i=un(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=un(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function B3(e,t,i){switch(t.tag){case 3:N2(t),Bo();break;case 5:f2(t);break;case 1:mi(t.type)&&Ef(t);break;case 4:ym(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,g=t.memoizedProps.value;Xt(Rf,r._currentValue),r._currentValue=g;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Xt(te,te.current&1),t.flags|=128,null):i&t.child.childLanes?z2(e,t,i):(Xt(te,te.current&1),e=mr(e,t,i),e!==null?e.sibling:null);Xt(te,te.current&1);break;case 19:if(r=(i&t.childLanes)!==0,e.flags&128){if(r)return V2(e,t,i);t.flags|=128}if(g=t.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Xt(te,te.current),r)break;return null;case 22:case 23:return t.lanes=0,G2(e,t,i)}return mr(e,t,i)}var U2,g0,X2,W2;U2=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};g0=function(){};X2=function(e,t,i,r){var g=e.memoizedProps;if(g!==r){e=t.stateNode,sa(Ys.current);var S=null;switch(i){case"input":g=Ng(e,g),r=Ng(e,r),S=[];break;case"select":g=ie({},g,{value:void 0}),r=ie({},r,{value:void 0}),S=[];break;case"textarea":g=Ug(e,g),r=Ug(e,r),S=[];break;default:typeof g.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Sf)}Wg(i,r);var n;i=null;for(o in g)if(!r.hasOwnProperty(o)&&g.hasOwnProperty(o)&&g[o]!=null)if(o==="style"){var C=g[o];for(n in C)C.hasOwnProperty(n)&&(i||(i={}),i[n]="")}else o!=="dangerouslySetInnerHTML"&&o!=="children"&&o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(rl.hasOwnProperty(o)?S||(S=[]):(S=S||[]).push(o,null));for(o in r){var s=r[o];if(C=g!=null?g[o]:void 0,r.hasOwnProperty(o)&&s!==C&&(s!=null||C!=null))if(o==="style")if(C){for(n in C)!C.hasOwnProperty(n)||s&&s.hasOwnProperty(n)||(i||(i={}),i[n]="");for(n in s)s.hasOwnProperty(n)&&C[n]!==s[n]&&(i||(i={}),i[n]=s[n])}else i||(S||(S=[]),S.push(o,i)),i=s;else o==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,C=C?C.__html:void 0,s!=null&&C!==s&&(S=S||[]).push(o,s)):o==="children"?typeof s!="string"&&typeof s!="number"||(S=S||[]).push(o,""+s):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&(rl.hasOwnProperty(o)?(s!=null&&o==="onScroll"&&Wt("scroll",e),S||C===s||(S=[])):(S=S||[]).push(o,s))}i&&(S=S||[]).push("style",i);var o=S;(t.updateQueue=o)&&(t.flags|=4)}};W2=function(e,t,i,r){i!==r&&(t.flags|=4)};function oh(e,t){if(!Zt)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,r=0;if(t)for(var g=e.child;g!==null;)i|=g.lanes|g.childLanes,r|=g.subtreeFlags&14680064,r|=g.flags&14680064,g.return=e,g=g.sibling;else for(g=e.child;g!==null;)i|=g.lanes|g.childLanes,r|=g.subtreeFlags,r|=g.flags,g.return=e,g=g.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function I3(e,t,i){var r=t.pendingProps;switch(fm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return mi(t.type)&&Pf(),He(t),null;case 3:return r=t.stateNode,Go(),Yt(gi),Yt(qe),Tm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ru(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xs!==null&&(E0(xs),xs=null))),g0(e,t),He(t),null;case 5:Cm(t);var g=sa(gl.current);if(i=t.type,e!==null&&t.stateNode!=null)X2(e,t,i,r,g),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(rt(166));return He(t),null}if(e=sa(Ys.current),Ru(t)){r=t.stateNode,i=t.type;var S=t.memoizedProps;switch(r[Us]=t,r[vl]=S,e=(t.mode&1)!==0,i){case"dialog":Wt("cancel",r),Wt("close",r);break;case"iframe":case"object":case"embed":Wt("load",r);break;case"video":case"audio":for(g=0;g<Yh.length;g++)Wt(Yh[g],r);break;case"source":Wt("error",r);break;case"img":case"image":case"link":Wt("error",r),Wt("load",r);break;case"details":Wt("toggle",r);break;case"input":By(r,S),Wt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!S.multiple},Wt("invalid",r);break;case"textarea":Gy(r,S),Wt("invalid",r)}Wg(i,S),g=null;for(var n in S)if(S.hasOwnProperty(n)){var C=S[n];n==="children"?typeof C=="string"?r.textContent!==C&&(S.suppressHydrationWarning!==!0&&wu(r.textContent,C,e),g=["children",C]):typeof C=="number"&&r.textContent!==""+C&&(S.suppressHydrationWarning!==!0&&wu(r.textContent,C,e),g=["children",""+C]):rl.hasOwnProperty(n)&&C!=null&&n==="onScroll"&&Wt("scroll",r)}switch(i){case"input":xu(r),Iy(r,S,!0);break;case"textarea":xu(r),ky(r);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(r.onclick=Sf)}r=g,t.updateQueue=r,r!==null&&(t.flags|=4)}else{n=g.nodeType===9?g:g.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mE(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=n.createElement(i,{is:r.is}):(e=n.createElement(i),i==="select"&&(n=e,r.multiple?n.multiple=!0:r.size&&(n.size=r.size))):e=n.createElementNS(e,i),e[Us]=t,e[vl]=r,U2(e,t,!1,!1),t.stateNode=e;t:{switch(n=Yg(i,r),i){case"dialog":Wt("cancel",e),Wt("close",e),g=r;break;case"iframe":case"object":case"embed":Wt("load",e),g=r;break;case"video":case"audio":for(g=0;g<Yh.length;g++)Wt(Yh[g],e);g=r;break;case"source":Wt("error",e),g=r;break;case"img":case"image":case"link":Wt("error",e),Wt("load",e),g=r;break;case"details":Wt("toggle",e),g=r;break;case"input":By(e,r),g=Ng(e,r),Wt("invalid",e);break;case"option":g=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},g=ie({},r,{value:void 0}),Wt("invalid",e);break;case"textarea":Gy(e,r),g=Ug(e,r),Wt("invalid",e);break;default:g=r}Wg(i,g),C=g;for(S in C)if(C.hasOwnProperty(S)){var s=C[S];S==="style"?CE(e,s):S==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&xE(e,s)):S==="children"?typeof s=="string"?(i!=="textarea"||s!=="")&&nl(e,s):typeof s=="number"&&nl(e,""+s):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(rl.hasOwnProperty(S)?s!=null&&S==="onScroll"&&Wt("scroll",e):s!=null&&j0(e,S,s,n))}switch(i){case"input":xu(e),Iy(e,r,!1);break;case"textarea":xu(e),ky(e);break;case"option":r.value!=null&&e.setAttribute("value",""+vn(r.value));break;case"select":e.multiple=!!r.multiple,S=r.value,S!=null?Po(e,!!r.multiple,S,!1):r.defaultValue!=null&&Po(e,!!r.multiple,r.defaultValue,!0);break;default:typeof g.onClick=="function"&&(e.onclick=Sf)}switch(i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return He(t),null;case 6:if(e&&t.stateNode!=null)W2(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(rt(166));if(i=sa(gl.current),sa(Ys.current),Ru(t)){if(r=t.stateNode,i=t.memoizedProps,r[Us]=t,(S=r.nodeValue!==i)&&(e=Oi,e!==null))switch(e.tag){case 3:wu(r.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wu(r.nodeValue,i,(e.mode&1)!==0)}S&&(t.flags|=4)}else r=(i.nodeType===9?i:i.ownerDocument).createTextNode(r),r[Us]=t,t.stateNode=r}return He(t),null;case 13:if(Yt(te),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Zt&&Li!==null&&t.mode&1&&!(t.flags&128))o2(),Bo(),t.flags|=98560,S=!1;else if(S=Ru(t),r!==null&&r.dehydrated!==null){if(e===null){if(!S)throw Error(rt(318));if(S=t.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(rt(317));S[Us]=t}else Bo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;He(t),S=!1}else xs!==null&&(E0(xs),xs=null),S=!0;if(!S)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||te.current&1?Pe===0&&(Pe=3):Dm())),t.updateQueue!==null&&(t.flags|=4),He(t),null);case 4:return Go(),g0(e,t),e===null&&fl(t.stateNode.containerInfo),He(t),null;case 10:return gm(t.type._context),He(t),null;case 17:return mi(t.type)&&Pf(),He(t),null;case 19:if(Yt(te),S=t.memoizedState,S===null)return He(t),null;if(r=(t.flags&128)!==0,n=S.rendering,n===null)if(r)oh(S,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(n=Of(e),n!==null){for(t.flags|=128,oh(S,!1),r=n.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=i,i=t.child;i!==null;)S=i,e=r,S.flags&=14680066,n=S.alternate,n===null?(S.childLanes=0,S.lanes=e,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=n.childLanes,S.lanes=n.lanes,S.child=n.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=n.memoizedProps,S.memoizedState=n.memoizedState,S.updateQueue=n.updateQueue,S.type=n.type,e=n.dependencies,S.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Xt(te,te.current&1|2),t.child}e=e.sibling}S.tail!==null&&ve()>No&&(t.flags|=128,r=!0,oh(S,!1),t.lanes=4194304)}else{if(!r)if(e=Of(n),e!==null){if(t.flags|=128,r=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),oh(S,!0),S.tail===null&&S.tailMode==="hidden"&&!n.alternate&&!Zt)return He(t),null}else 2*ve()-S.renderingStartTime>No&&i!==1073741824&&(t.flags|=128,r=!0,oh(S,!1),t.lanes=4194304);S.isBackwards?(n.sibling=t.child,t.child=n):(i=S.last,i!==null?i.sibling=n:t.child=n,S.last=n)}return S.tail!==null?(t=S.tail,S.rendering=t,S.tail=t.sibling,S.renderingStartTime=ve(),t.sibling=null,i=te.current,Xt(te,r?i&1|2:i&1),t):(He(t),null);case 22:case 23:return bm(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ri&1073741824&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),null;case 24:return null;case 25:return null}throw Error(rt(156,t.tag))}function G3(e,t){switch(fm(t),t.tag){case 1:return mi(t.type)&&Pf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Go(),Yt(gi),Yt(qe),Tm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Cm(t),null;case 13:if(Yt(te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(rt(340));Bo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Yt(te),null;case 4:return Go(),null;case 10:return gm(t.type._context),null;case 22:case 23:return bm(),null;case 24:return null;default:return null}}var Ou=!1,Ze=!1,k3=typeof WeakSet=="function"?WeakSet:Set,dt=null;function yo(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(r){le(e,t,r)}else i.current=null}function m0(e,t,i){try{i()}catch(r){le(e,t,r)}}var w1=!1;function N3(e,t){if(t0=yf,e=ZE(),um(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else t:{i=(i=e.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var g=r.anchorOffset,S=r.focusNode;r=r.focusOffset;try{i.nodeType,S.nodeType}catch{i=null;break t}var n=0,C=-1,s=-1,o=0,y=0,f=e,u=null;e:for(;;){for(var l;f!==i||g!==0&&f.nodeType!==3||(C=n+g),f!==S||r!==0&&f.nodeType!==3||(s=n+r),f.nodeType===3&&(n+=f.nodeValue.length),(l=f.firstChild)!==null;)u=f,f=l;for(;;){if(f===e)break e;if(u===i&&++o===g&&(C=n),u===S&&++y===r&&(s=n),(l=f.nextSibling)!==null)break;f=u,u=f.parentNode}f=l}i=C===-1||s===-1?null:{start:C,end:s}}else i=null}i=i||{start:0,end:0}}else i=null;for(e0={focusedElem:e,selectionRange:i},yf=!1,dt=t;dt!==null;)if(t=dt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,dt=e;else for(;dt!==null;){t=dt;try{var a=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(a!==null){var d=a.memoizedProps,v=a.memoizedState,h=t.stateNode,c=h.getSnapshotBeforeUpdate(t.elementType===t.type?d:vs(t.type,d),v);h.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(rt(163))}}catch(m){le(t,t.return,m)}if(e=t.sibling,e!==null){e.return=t.return,dt=e;break}dt=t.return}return a=w1,w1=!1,a}function qh(e,t,i){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var g=r=r.next;do{if((g.tag&e)===e){var S=g.destroy;g.destroy=void 0,S!==void 0&&m0(t,i,S)}g=g.next}while(g!==r)}}function oc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var r=i.create;i.destroy=r()}i=i.next}while(i!==t)}}function x0(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Y2(e){var t=e.alternate;t!==null&&(e.alternate=null,Y2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Us],delete t[vl],delete t[r0],delete t[C3],delete t[T3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function H2(e){return e.tag===5||e.tag===3||e.tag===4}function R1(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||H2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function y0(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Sf));else if(r!==4&&(e=e.child,e!==null))for(y0(e,t,i),e=e.sibling;e!==null;)y0(e,t,i),e=e.sibling}function C0(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(C0(e,t,i),e=e.sibling;e!==null;)C0(e,t,i),e=e.sibling}var ke=null,gs=!1;function Rr(e,t,i){for(i=i.child;i!==null;)$2(e,t,i),i=i.sibling}function $2(e,t,i){if(Ws&&typeof Ws.onCommitFiberUnmount=="function")try{Ws.onCommitFiberUnmount(_f,i)}catch{}switch(i.tag){case 5:Ze||yo(i,t);case 6:var r=ke,g=gs;ke=null,Rr(e,t,i),ke=r,gs=g,ke!==null&&(gs?(e=ke,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):ke.removeChild(i.stateNode));break;case 18:ke!==null&&(gs?(e=ke,i=i.stateNode,e.nodeType===8?Fv(e.parentNode,i):e.nodeType===1&&Fv(e,i),ll(e)):Fv(ke,i.stateNode));break;case 4:r=ke,g=gs,ke=i.stateNode.containerInfo,gs=!0,Rr(e,t,i),ke=r,gs=g;break;case 0:case 11:case 14:case 15:if(!Ze&&(r=i.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){g=r=r.next;do{var S=g,n=S.destroy;S=S.tag,n!==void 0&&(S&2||S&4)&&m0(i,t,n),g=g.next}while(g!==r)}Rr(e,t,i);break;case 1:if(!Ze&&(yo(i,t),r=i.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=i.memoizedProps,r.state=i.memoizedState,r.componentWillUnmount()}catch(C){le(i,t,C)}Rr(e,t,i);break;case 21:Rr(e,t,i);break;case 22:i.mode&1?(Ze=(r=Ze)||i.memoizedState!==null,Rr(e,t,i),Ze=r):Rr(e,t,i);break;default:Rr(e,t,i)}}function A1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new k3),t.forEach(function(r){var g=K3.bind(null,e,r);i.has(r)||(i.add(r),r.then(g,g))})}}function rs(e,t){var i=t.deletions;if(i!==null)for(var r=0;r<i.length;r++){var g=i[r];try{var S=e,n=t,C=n;t:for(;C!==null;){switch(C.tag){case 5:ke=C.stateNode,gs=!1;break t;case 3:ke=C.stateNode.containerInfo,gs=!0;break t;case 4:ke=C.stateNode.containerInfo,gs=!0;break t}C=C.return}if(ke===null)throw Error(rt(160));$2(S,n,g),ke=null,gs=!1;var s=g.alternate;s!==null&&(s.return=null),g.return=null}catch(o){le(g,t,o)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)K2(t,e),t=t.sibling}function K2(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rs(t,e),As(e),r&4){try{qh(3,e,e.return),oc(3,e)}catch(d){le(e,e.return,d)}try{qh(5,e,e.return)}catch(d){le(e,e.return,d)}}break;case 1:rs(t,e),As(e),r&512&&i!==null&&yo(i,i.return);break;case 5:if(rs(t,e),As(e),r&512&&i!==null&&yo(i,i.return),e.flags&32){var g=e.stateNode;try{nl(g,"")}catch(d){le(e,e.return,d)}}if(r&4&&(g=e.stateNode,g!=null)){var S=e.memoizedProps,n=i!==null?i.memoizedProps:S,C=e.type,s=e.updateQueue;if(e.updateQueue=null,s!==null)try{C==="input"&&S.type==="radio"&&S.name!=null&&pE(g,S),Yg(C,n);var o=Yg(C,S);for(n=0;n<s.length;n+=2){var y=s[n],f=s[n+1];y==="style"?CE(g,f):y==="dangerouslySetInnerHTML"?xE(g,f):y==="children"?nl(g,f):j0(g,y,f,o)}switch(C){case"input":zg(g,S);break;case"textarea":gE(g,S);break;case"select":var u=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!S.multiple;var l=S.value;l!=null?Po(g,!!S.multiple,l,!1):u!==!!S.multiple&&(S.defaultValue!=null?Po(g,!!S.multiple,S.defaultValue,!0):Po(g,!!S.multiple,S.multiple?[]:"",!1))}g[vl]=S}catch(d){le(e,e.return,d)}}break;case 6:if(rs(t,e),As(e),r&4){if(e.stateNode===null)throw Error(rt(162));g=e.stateNode,S=e.memoizedProps;try{g.nodeValue=S}catch(d){le(e,e.return,d)}}break;case 3:if(rs(t,e),As(e),r&4&&i!==null&&i.memoizedState.isDehydrated)try{ll(t.containerInfo)}catch(d){le(e,e.return,d)}break;case 4:rs(t,e),As(e);break;case 13:rs(t,e),As(e),g=e.child,g.flags&8192&&(S=g.memoizedState!==null,g.stateNode.isHidden=S,!S||g.alternate!==null&&g.alternate.memoizedState!==null||(Om=ve())),r&4&&A1(e);break;case 22:if(y=i!==null&&i.memoizedState!==null,e.mode&1?(Ze=(o=Ze)||y,rs(t,e),Ze=o):rs(t,e),As(e),r&8192){if(o=e.memoizedState!==null,(e.stateNode.isHidden=o)&&!y&&e.mode&1)for(dt=e,y=e.child;y!==null;){for(f=dt=y;dt!==null;){switch(u=dt,l=u.child,u.tag){case 0:case 11:case 14:case 15:qh(4,u,u.return);break;case 1:yo(u,u.return);var a=u.stateNode;if(typeof a.componentWillUnmount=="function"){r=u,i=u.return;try{t=r,a.props=t.memoizedProps,a.state=t.memoizedState,a.componentWillUnmount()}catch(d){le(r,i,d)}}break;case 5:yo(u,u.return);break;case 22:if(u.memoizedState!==null){O1(f);continue}}l!==null?(l.return=u,dt=l):O1(f)}y=y.sibling}t:for(y=null,f=e;;){if(f.tag===5){if(y===null){y=f;try{g=f.stateNode,o?(S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(C=f.stateNode,s=f.memoizedProps.style,n=s!=null&&s.hasOwnProperty("display")?s.display:null,C.style.display=yE("display",n))}catch(d){le(e,e.return,d)}}}else if(f.tag===6){if(y===null)try{f.stateNode.nodeValue=o?"":f.memoizedProps}catch(d){le(e,e.return,d)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break t;for(;f.sibling===null;){if(f.return===null||f.return===e)break t;y===f&&(y=null),f=f.return}y===f&&(y=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:rs(t,e),As(e),r&4&&A1(e);break;case 21:break;default:rs(t,e),As(e)}}function As(e){var t=e.flags;if(t&2){try{t:{for(var i=e.return;i!==null;){if(H2(i)){var r=i;break t}i=i.return}throw Error(rt(160))}switch(r.tag){case 5:var g=r.stateNode;r.flags&32&&(nl(g,""),r.flags&=-33);var S=R1(e);C0(e,S,g);break;case 3:case 4:var n=r.stateNode.containerInfo,C=R1(e);y0(e,C,n);break;default:throw Error(rt(161))}}catch(s){le(e,e.return,s)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function z3(e,t,i){dt=e,Z2(e)}function Z2(e,t,i){for(var r=(e.mode&1)!==0;dt!==null;){var g=dt,S=g.child;if(g.tag===22&&r){var n=g.memoizedState!==null||Ou;if(!n){var C=g.alternate,s=C!==null&&C.memoizedState!==null||Ze;C=Ou;var o=Ze;if(Ou=n,(Ze=s)&&!o)for(dt=g;dt!==null;)n=dt,s=n.child,n.tag===22&&n.memoizedState!==null?F1(g):s!==null?(s.return=n,dt=s):F1(g);for(;S!==null;)dt=S,Z2(S),S=S.sibling;dt=g,Ou=C,Ze=o}L1(e)}else g.subtreeFlags&8772&&S!==null?(S.return=g,dt=S):L1(e)}}function L1(e){for(;dt!==null;){var t=dt;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ze||oc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ze)if(i===null)r.componentDidMount();else{var g=t.elementType===t.type?i.memoizedProps:vs(t.type,i.memoizedProps);r.componentDidUpdate(g,i.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var S=t.updateQueue;S!==null&&c1(t,S,r);break;case 3:var n=t.updateQueue;if(n!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}c1(t,n,i)}break;case 5:var C=t.stateNode;if(i===null&&t.flags&4){i=C;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&i.focus();break;case"img":s.src&&(i.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var o=t.alternate;if(o!==null){var y=o.memoizedState;if(y!==null){var f=y.dehydrated;f!==null&&ll(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(rt(163))}Ze||t.flags&512&&x0(t)}catch(u){le(t,t.return,u)}}if(t===e){dt=null;break}if(i=t.sibling,i!==null){i.return=t.return,dt=i;break}dt=t.return}}function O1(e){for(;dt!==null;){var t=dt;if(t===e){dt=null;break}var i=t.sibling;if(i!==null){i.return=t.return,dt=i;break}dt=t.return}}function F1(e){for(;dt!==null;){var t=dt;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{oc(4,t)}catch(s){le(t,i,s)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var g=t.return;try{r.componentDidMount()}catch(s){le(t,g,s)}}var S=t.return;try{x0(t)}catch(s){le(t,S,s)}break;case 5:var n=t.return;try{x0(t)}catch(s){le(t,n,s)}}}catch(s){le(t,t.return,s)}if(t===e){dt=null;break}var C=t.sibling;if(C!==null){C.return=t.return,dt=C;break}dt=t.return}}var V3=Math.ceil,Df=Cr.ReactCurrentDispatcher,Am=Cr.ReactCurrentOwner,qi=Cr.ReactCurrentBatchConfig,Lt=0,De=null,xe=null,ze=0,Ri=0,Co=Cn(0),Pe=0,Cl=null,ca=0,hc=0,Lm=0,_h=null,vi=null,Om=0,No=1/0,rr=null,Bf=!1,T0=null,hn=null,Fu=!1,tn=null,If=0,tl=0,S0=null,nf=-1,af=0;function ri(){return Lt&6?ve():nf!==-1?nf:nf=ve()}function ln(e){return e.mode&1?Lt&2&&ze!==0?ze&-ze:P3.transition!==null?(af===0&&(af=bE()),af):(e=zt,e!==0||(e=window.event,e=e===void 0?16:zE(e.type)),e):1}function Ts(e,t,i,r){if(50<tl)throw tl=0,S0=null,Error(rt(185));Bl(e,i,r),(!(Lt&2)||e!==De)&&(e===De&&(!(Lt&2)&&(hc|=i),Pe===4&&Jr(e,ze)),xi(e,r),i===1&&Lt===0&&!(t.mode&1)&&(No=ve()+500,rc&&Tn()))}function xi(e,t){var i=e.callbackNode;PO(e,t);var r=xf(e,e===De?ze:0);if(r===0)i!==null&&Vy(i),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(i!=null&&Vy(i),t===1)e.tag===0?S3(b1.bind(null,e)):r2(b1.bind(null,e)),x3(function(){!(Lt&6)&&Tn()}),i=null;else{switch(DE(r)){case 1:i=im;break;case 4:i=OE;break;case 16:i=mf;break;case 536870912:i=FE;break;default:i=mf}i=iM(i,J2.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function J2(e,t){if(nf=-1,af=0,Lt&6)throw Error(rt(327));var i=e.callbackNode;if(Ao()&&e.callbackNode!==i)return null;var r=xf(e,e===De?ze:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Gf(e,r);else{t=r;var g=Lt;Lt|=2;var S=j2();(De!==e||ze!==t)&&(rr=null,No=ve()+500,aa(e,t));do try{W3();break}catch(C){Q2(e,C)}while(!0);pm(),Df.current=S,Lt=g,xe!==null?t=0:(De=null,ze=0,t=Pe)}if(t!==0){if(t===2&&(g=Jg(e),g!==0&&(r=g,t=P0(e,g))),t===1)throw i=Cl,aa(e,0),Jr(e,r),xi(e,ve()),i;if(t===6)Jr(e,r);else{if(g=e.current.alternate,!(r&30)&&!U3(g)&&(t=Gf(e,r),t===2&&(S=Jg(e),S!==0&&(r=S,t=P0(e,S))),t===1))throw i=Cl,aa(e,0),Jr(e,r),xi(e,ve()),i;switch(e.finishedWork=g,e.finishedLanes=r,t){case 0:case 1:throw Error(rt(345));case 2:jn(e,vi,rr);break;case 3:if(Jr(e,r),(r&130023424)===r&&(t=Om+500-ve(),10<t)){if(xf(e,0)!==0)break;if(g=e.suspendedLanes,(g&r)!==r){ri(),e.pingedLanes|=e.suspendedLanes&g;break}e.timeoutHandle=s0(jn.bind(null,e,vi,rr),t);break}jn(e,vi,rr);break;case 4:if(Jr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,g=-1;0<r;){var n=31-Cs(r);S=1<<n,n=t[n],n>g&&(g=n),r&=~S}if(r=g,r=ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*V3(r/1960))-r,10<r){e.timeoutHandle=s0(jn.bind(null,e,vi,rr),r);break}jn(e,vi,rr);break;case 5:jn(e,vi,rr);break;default:throw Error(rt(329))}}}return xi(e,ve()),e.callbackNode===i?J2.bind(null,e):null}function P0(e,t){var i=_h;return e.current.memoizedState.isDehydrated&&(aa(e,t).flags|=256),e=Gf(e,t),e!==2&&(t=vi,vi=i,t!==null&&E0(t)),e}function E0(e){vi===null?vi=e:vi.push.apply(vi,e)}function U3(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var r=0;r<i.length;r++){var g=i[r],S=g.getSnapshot;g=g.value;try{if(!Ss(S(),g))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jr(e,t){for(t&=~Lm,t&=~hc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Cs(t),r=1<<i;e[i]=-1,t&=~r}}function b1(e){if(Lt&6)throw Error(rt(327));Ao();var t=xf(e,0);if(!(t&1))return xi(e,ve()),null;var i=Gf(e,t);if(e.tag!==0&&i===2){var r=Jg(e);r!==0&&(t=r,i=P0(e,r))}if(i===1)throw i=Cl,aa(e,0),Jr(e,t),xi(e,ve()),i;if(i===6)throw Error(rt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jn(e,vi,rr),xi(e,ve()),null}function Fm(e,t){var i=Lt;Lt|=1;try{return e(t)}finally{Lt=i,Lt===0&&(No=ve()+500,rc&&Tn())}}function va(e){tn!==null&&tn.tag===0&&!(Lt&6)&&Ao();var t=Lt;Lt|=1;var i=qi.transition,r=zt;try{if(qi.transition=null,zt=1,e)return e()}finally{zt=r,qi.transition=i,Lt=t,!(Lt&6)&&Tn()}}function bm(){Ri=Co.current,Yt(Co)}function aa(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,m3(i)),xe!==null)for(i=xe.return;i!==null;){var r=i;switch(fm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pf();break;case 3:Go(),Yt(gi),Yt(qe),Tm();break;case 5:Cm(r);break;case 4:Go();break;case 13:Yt(te);break;case 19:Yt(te);break;case 10:gm(r.type._context);break;case 22:case 23:bm()}i=i.return}if(De=e,xe=e=un(e.current,null),ze=Ri=t,Pe=0,Cl=null,Lm=hc=ca=0,vi=_h=null,ia!==null){for(t=0;t<ia.length;t++)if(i=ia[t],r=i.interleaved,r!==null){i.interleaved=null;var g=r.next,S=i.pending;if(S!==null){var n=S.next;S.next=g,r.next=n}i.pending=r}ia=null}return e}function Q2(e,t){do{var i=xe;try{if(pm(),ef.current=bf,Ff){for(var r=ee.memoizedState;r!==null;){var g=r.queue;g!==null&&(g.pending=null),r=r.next}Ff=!1}if(fa=0,Re=Se=ee=null,jh=!1,ml=0,Am.current=null,i===null||i.return===null){Pe=1,Cl=t,xe=null;break}t:{var S=e,n=i.return,C=i,s=t;if(t=ze,C.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var o=s,y=C,f=y.tag;if(!(y.mode&1)&&(f===0||f===11||f===15)){var u=y.alternate;u?(y.updateQueue=u.updateQueue,y.memoizedState=u.memoizedState,y.lanes=u.lanes):(y.updateQueue=null,y.memoizedState=null)}var l=y1(n);if(l!==null){l.flags&=-257,C1(l,n,C,S,t),l.mode&1&&x1(S,o,t),t=l,s=o;var a=t.updateQueue;if(a===null){var d=new Set;d.add(s),t.updateQueue=d}else a.add(s);break t}else{if(!(t&1)){x1(S,o,t),Dm();break t}s=Error(rt(426))}}else if(Zt&&C.mode&1){var v=y1(n);if(v!==null){!(v.flags&65536)&&(v.flags|=256),C1(v,n,C,S,t),cm(ko(s,C));break t}}S=s=ko(s,C),Pe!==4&&(Pe=2),_h===null?_h=[S]:_h.push(S),S=n;do{switch(S.tag){case 3:S.flags|=65536,t&=-t,S.lanes|=t;var h=D2(S,s,t);f1(S,h);break t;case 1:C=s;var c=S.type,p=S.stateNode;if(!(S.flags&128)&&(typeof c.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(hn===null||!hn.has(p)))){S.flags|=65536,t&=-t,S.lanes|=t;var m=B2(S,C,t);f1(S,m);break t}}S=S.return}while(S!==null)}_2(i)}catch(x){t=x,xe===i&&i!==null&&(xe=i=i.return);continue}break}while(!0)}function j2(){var e=Df.current;return Df.current=bf,e===null?bf:e}function Dm(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),De===null||!(ca&268435455)&&!(hc&268435455)||Jr(De,ze)}function Gf(e,t){var i=Lt;Lt|=2;var r=j2();(De!==e||ze!==t)&&(rr=null,aa(e,t));do try{X3();break}catch(g){Q2(e,g)}while(!0);if(pm(),Lt=i,Df.current=r,xe!==null)throw Error(rt(261));return De=null,ze=0,Pe}function X3(){for(;xe!==null;)q2(xe)}function W3(){for(;xe!==null&&!vO();)q2(xe)}function q2(e){var t=eM(e.alternate,e,Ri);e.memoizedProps=e.pendingProps,t===null?_2(e):xe=t,Am.current=null}function _2(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=G3(i,t),i!==null){i.flags&=32767,xe=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pe=6,xe=null;return}}else if(i=I3(i,t,Ri),i!==null){xe=i;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);Pe===0&&(Pe=5)}function jn(e,t,i){var r=zt,g=qi.transition;try{qi.transition=null,zt=1,Y3(e,t,i,r)}finally{qi.transition=g,zt=r}return null}function Y3(e,t,i,r){do Ao();while(tn!==null);if(Lt&6)throw Error(rt(327));i=e.finishedWork;var g=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(rt(177));e.callbackNode=null,e.callbackPriority=0;var S=i.lanes|i.childLanes;if(EO(e,S),e===De&&(xe=De=null,ze=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Fu||(Fu=!0,iM(mf,function(){return Ao(),null})),S=(i.flags&15990)!==0,i.subtreeFlags&15990||S){S=qi.transition,qi.transition=null;var n=zt;zt=1;var C=Lt;Lt|=4,Am.current=null,N3(e,i),K2(i,e),u3(e0),yf=!!t0,e0=t0=null,e.current=i,z3(i),pO(),Lt=C,zt=n,qi.transition=S}else e.current=i;if(Fu&&(Fu=!1,tn=e,If=g),S=e.pendingLanes,S===0&&(hn=null),xO(i.stateNode),xi(e,ve()),t!==null)for(r=e.onRecoverableError,i=0;i<t.length;i++)g=t[i],r(g.value,{componentStack:g.stack,digest:g.digest});if(Bf)throw Bf=!1,e=T0,T0=null,e;return If&1&&e.tag!==0&&Ao(),S=e.pendingLanes,S&1?e===S0?tl++:(tl=0,S0=e):tl=0,Tn(),null}function Ao(){if(tn!==null){var e=DE(If),t=qi.transition,i=zt;try{if(qi.transition=null,zt=16>e?16:e,tn===null)var r=!1;else{if(e=tn,tn=null,If=0,Lt&6)throw Error(rt(331));var g=Lt;for(Lt|=4,dt=e.current;dt!==null;){var S=dt,n=S.child;if(dt.flags&16){var C=S.deletions;if(C!==null){for(var s=0;s<C.length;s++){var o=C[s];for(dt=o;dt!==null;){var y=dt;switch(y.tag){case 0:case 11:case 15:qh(8,y,S)}var f=y.child;if(f!==null)f.return=y,dt=f;else for(;dt!==null;){y=dt;var u=y.sibling,l=y.return;if(Y2(y),y===o){dt=null;break}if(u!==null){u.return=l,dt=u;break}dt=l}}}var a=S.alternate;if(a!==null){var d=a.child;if(d!==null){a.child=null;do{var v=d.sibling;d.sibling=null,d=v}while(d!==null)}}dt=S}}if(S.subtreeFlags&2064&&n!==null)n.return=S,dt=n;else t:for(;dt!==null;){if(S=dt,S.flags&2048)switch(S.tag){case 0:case 11:case 15:qh(9,S,S.return)}var h=S.sibling;if(h!==null){h.return=S.return,dt=h;break t}dt=S.return}}var c=e.current;for(dt=c;dt!==null;){n=dt;var p=n.child;if(n.subtreeFlags&2064&&p!==null)p.return=n,dt=p;else t:for(n=c;dt!==null;){if(C=dt,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:oc(9,C)}}catch(x){le(C,C.return,x)}if(C===n){dt=null;break t}var m=C.sibling;if(m!==null){m.return=C.return,dt=m;break t}dt=C.return}}if(Lt=g,Tn(),Ws&&typeof Ws.onPostCommitFiberRoot=="function")try{Ws.onPostCommitFiberRoot(_f,e)}catch{}r=!0}return r}finally{zt=i,qi.transition=t}}return!1}function D1(e,t,i){t=ko(i,t),t=D2(e,t,1),e=on(e,t,1),t=ri(),e!==null&&(Bl(e,1,t),xi(e,t))}function le(e,t,i){if(e.tag===3)D1(e,e,i);else for(;t!==null;){if(t.tag===3){D1(t,e,i);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hn===null||!hn.has(r))){e=ko(i,e),e=B2(t,e,1),t=on(t,e,1),e=ri(),t!==null&&(Bl(t,1,e),xi(t,e));break}}t=t.return}}function H3(e,t,i){var r=e.pingCache;r!==null&&r.delete(t),t=ri(),e.pingedLanes|=e.suspendedLanes&i,De===e&&(ze&i)===i&&(Pe===4||Pe===3&&(ze&130023424)===ze&&500>ve()-Om?aa(e,0):Lm|=i),xi(e,t)}function tM(e,t){t===0&&(e.mode&1?(t=Tu,Tu<<=1,!(Tu&130023424)&&(Tu=4194304)):t=1);var i=ri();e=gr(e,t),e!==null&&(Bl(e,t,i),xi(e,i))}function $3(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),tM(e,i)}function K3(e,t){var i=0;switch(e.tag){case 13:var r=e.stateNode,g=e.memoizedState;g!==null&&(i=g.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(rt(314))}r!==null&&r.delete(t),tM(e,i)}var eM;eM=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||gi.current)pi=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return pi=!1,B3(e,t,i);pi=!!(e.flags&131072)}else pi=!1,Zt&&t.flags&1048576&&n2(t,wf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;rf(e,t),e=t.pendingProps;var g=Do(t,qe.current);Ro(t,i),g=Pm(null,t,r,e,g,i);var S=Em();return t.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)?(S=!0,Ef(t)):S=!1,t.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,xm(t),g.updater=ac,t.stateNode=g,g._reactInternals=t,u0(t,r,e,i),t=c0(null,t,r,!0,S,i)):(t.tag=0,Zt&&S&&dm(t),si(null,t,g,i),t=t.child),t;case 16:r=t.elementType;t:{switch(rf(e,t),e=t.pendingProps,g=r._init,r=g(r._payload),t.type=r,g=t.tag=J3(r),e=vs(r,e),g){case 0:t=f0(null,t,r,e,i);break t;case 1:t=P1(null,t,r,e,i);break t;case 11:t=T1(null,t,r,e,i);break t;case 14:t=S1(null,t,r,vs(r.type,e),i);break t}throw Error(rt(306,r,""))}return t;case 0:return r=t.type,g=t.pendingProps,g=t.elementType===r?g:vs(r,g),f0(e,t,r,g,i);case 1:return r=t.type,g=t.pendingProps,g=t.elementType===r?g:vs(r,g),P1(e,t,r,g,i);case 3:t:{if(N2(t),e===null)throw Error(rt(387));r=t.pendingProps,S=t.memoizedState,g=S.element,d2(e,t),Lf(t,r,null,i);var n=t.memoizedState;if(r=n.element,S.isDehydrated)if(S={element:r,isDehydrated:!1,cache:n.cache,pendingSuspenseBoundaries:n.pendingSuspenseBoundaries,transitions:n.transitions},t.updateQueue.baseState=S,t.memoizedState=S,t.flags&256){g=ko(Error(rt(423)),t),t=E1(e,t,r,i,g);break t}else if(r!==g){g=ko(Error(rt(424)),t),t=E1(e,t,r,i,g);break t}else for(Li=an(t.stateNode.containerInfo.firstChild),Oi=t,Zt=!0,xs=null,i=l2(t,null,r,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Bo(),r===g){t=mr(e,t,i);break t}si(e,t,r,i)}t=t.child}return t;case 5:return f2(t),e===null&&o0(t),r=t.type,g=t.pendingProps,S=e!==null?e.memoizedProps:null,n=g.children,i0(r,g)?n=null:S!==null&&i0(r,S)&&(t.flags|=32),k2(e,t),si(e,t,n,i),t.child;case 6:return e===null&&o0(t),null;case 13:return z2(e,t,i);case 4:return ym(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Io(t,null,r,i):si(e,t,r,i),t.child;case 11:return r=t.type,g=t.pendingProps,g=t.elementType===r?g:vs(r,g),T1(e,t,r,g,i);case 7:return si(e,t,t.pendingProps,i),t.child;case 8:return si(e,t,t.pendingProps.children,i),t.child;case 12:return si(e,t,t.pendingProps.children,i),t.child;case 10:t:{if(r=t.type._context,g=t.pendingProps,S=t.memoizedProps,n=g.value,Xt(Rf,r._currentValue),r._currentValue=n,S!==null)if(Ss(S.value,n)){if(S.children===g.children&&!gi.current){t=mr(e,t,i);break t}}else for(S=t.child,S!==null&&(S.return=t);S!==null;){var C=S.dependencies;if(C!==null){n=S.child;for(var s=C.firstContext;s!==null;){if(s.context===r){if(S.tag===1){s=dr(-1,i&-i),s.tag=2;var o=S.updateQueue;if(o!==null){o=o.shared;var y=o.pending;y===null?s.next=s:(s.next=y.next,y.next=s),o.pending=s}}S.lanes|=i,s=S.alternate,s!==null&&(s.lanes|=i),h0(S.return,i,t),C.lanes|=i;break}s=s.next}}else if(S.tag===10)n=S.type===t.type?null:S.child;else if(S.tag===18){if(n=S.return,n===null)throw Error(rt(341));n.lanes|=i,C=n.alternate,C!==null&&(C.lanes|=i),h0(n,i,t),n=S.sibling}else n=S.child;if(n!==null)n.return=S;else for(n=S;n!==null;){if(n===t){n=null;break}if(S=n.sibling,S!==null){S.return=n.return,n=S;break}n=n.return}S=n}si(e,t,g.children,i),t=t.child}return t;case 9:return g=t.type,r=t.pendingProps.children,Ro(t,i),g=_i(g),r=r(g),t.flags|=1,si(e,t,r,i),t.child;case 14:return r=t.type,g=vs(r,t.pendingProps),g=vs(r.type,g),S1(e,t,r,g,i);case 15:return I2(e,t,t.type,t.pendingProps,i);case 17:return r=t.type,g=t.pendingProps,g=t.elementType===r?g:vs(r,g),rf(e,t),t.tag=1,mi(r)?(e=!0,Ef(t)):e=!1,Ro(t,i),b2(t,r,g),u0(t,r,g,i),c0(null,t,r,!0,e,i);case 19:return V2(e,t,i);case 22:return G2(e,t,i)}throw Error(rt(156,t.tag))};function iM(e,t){return LE(e,t)}function Z3(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ji(e,t,i,r){return new Z3(e,t,i,r)}function Bm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function J3(e){if(typeof e=="function")return Bm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_0)return 11;if(e===tm)return 14}return 2}function un(e,t){var i=e.alternate;return i===null?(i=ji(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function of(e,t,i,r,g,S){var n=2;if(r=e,typeof e=="function")Bm(e)&&(n=1);else if(typeof e=="string")n=5;else t:switch(e){case lo:return oa(i.children,g,S,t);case q0:n=8,g|=8;break;case Bg:return e=ji(12,i,t,g|2),e.elementType=Bg,e.lanes=S,e;case Ig:return e=ji(13,i,t,g),e.elementType=Ig,e.lanes=S,e;case Gg:return e=ji(19,i,t,g),e.elementType=Gg,e.lanes=S,e;case fE:return lc(i,g,S,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case uE:n=10;break t;case dE:n=9;break t;case _0:n=11;break t;case tm:n=14;break t;case Wr:n=16,r=null;break t}throw Error(rt(130,e==null?e:typeof e,""))}return t=ji(n,i,t,g),t.elementType=e,t.type=r,t.lanes=S,t}function oa(e,t,i,r){return e=ji(7,e,r,t),e.lanes=i,e}function lc(e,t,i,r){return e=ji(22,e,r,t),e.elementType=fE,e.lanes=i,e.stateNode={isHidden:!1},e}function zv(e,t,i){return e=ji(6,e,null,t),e.lanes=i,e}function Vv(e,t,i){return t=ji(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Q3(e,t,i,r,g){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cv(0),this.expirationTimes=Cv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cv(0),this.identifierPrefix=r,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Im(e,t,i,r,g,S,n,C,s){return e=new Q3(e,t,i,C,s),t===1?(t=1,S===!0&&(t|=8)):t=0,S=ji(3,null,null,t),e.current=S,S.stateNode=e,S.memoizedState={element:r,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},xm(S),e}function j3(e,t,i){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ho,key:r==null?null:""+r,children:e,containerInfo:t,implementation:i}}function sM(e){if(!e)return pn;e=e._reactInternals;t:{if(ya(e)!==e||e.tag!==1)throw Error(rt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(mi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(rt(171))}if(e.tag===1){var i=e.type;if(mi(i))return s2(e,i,t)}return t}function rM(e,t,i,r,g,S,n,C,s){return e=Im(i,r,!0,e,g,S,n,C,s),e.context=sM(null),i=e.current,r=ri(),g=ln(i),S=dr(r,g),S.callback=t??null,on(i,S,g),e.current.lanes=g,Bl(e,g,r),xi(e,r),e}function uc(e,t,i,r){var g=t.current,S=ri(),n=ln(g);return i=sM(i),t.context===null?t.context=i:t.pendingContext=i,t=dr(S,n),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=on(g,t,n),e!==null&&(Ts(e,g,n,S),tf(e,g,n)),n}function kf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function B1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Gm(e,t){B1(e,t),(e=e.alternate)&&B1(e,t)}function q3(){return null}var nM=typeof reportError=="function"?reportError:function(e){console.error(e)};function km(e){this._internalRoot=e}dc.prototype.render=km.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(rt(409));uc(e,t,null,null)};dc.prototype.unmount=km.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;va(function(){uc(null,e,null,null)}),t[pr]=null}};function dc(e){this._internalRoot=e}dc.prototype.unstable_scheduleHydration=function(e){if(e){var t=GE();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Zr.length&&t!==0&&t<Zr[i].priority;i++);Zr.splice(i,0,e),i===0&&NE(e)}};function Nm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function I1(){}function _3(e,t,i,r,g){if(g){if(typeof r=="function"){var S=r;r=function(){var o=kf(n);S.call(o)}}var n=rM(t,r,e,0,null,!1,!1,"",I1);return e._reactRootContainer=n,e[pr]=n.current,fl(e.nodeType===8?e.parentNode:e),va(),n}for(;g=e.lastChild;)e.removeChild(g);if(typeof r=="function"){var C=r;r=function(){var o=kf(s);C.call(o)}}var s=Im(e,0,!1,null,null,!1,!1,"",I1);return e._reactRootContainer=s,e[pr]=s.current,fl(e.nodeType===8?e.parentNode:e),va(function(){uc(t,s,i,r)}),s}function cc(e,t,i,r,g){var S=i._reactRootContainer;if(S){var n=S;if(typeof g=="function"){var C=g;g=function(){var s=kf(n);C.call(s)}}uc(t,n,e,g)}else n=_3(i,t,e,g,r);return kf(n)}BE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Wh(t.pendingLanes);i!==0&&(sm(t,i|1),xi(t,ve()),!(Lt&6)&&(No=ve()+500,Tn()))}break;case 13:va(function(){var r=gr(e,1);if(r!==null){var g=ri();Ts(r,e,1,g)}}),Gm(e,1)}};rm=function(e){if(e.tag===13){var t=gr(e,134217728);if(t!==null){var i=ri();Ts(t,e,134217728,i)}Gm(e,134217728)}};IE=function(e){if(e.tag===13){var t=ln(e),i=gr(e,t);if(i!==null){var r=ri();Ts(i,e,t,r)}Gm(e,t)}};GE=function(){return zt};kE=function(e,t){var i=zt;try{return zt=e,t()}finally{zt=i}};$g=function(e,t,i){switch(t){case"input":if(zg(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var g=sc(r);if(!g)throw Error(rt(90));vE(r),zg(r,g)}}}break;case"textarea":gE(e,i);break;case"select":t=i.value,t!=null&&Po(e,!!i.multiple,t,!1)}};PE=Fm;EE=va;var tF={usingClientEntryPoint:!1,Events:[Gl,vo,sc,TE,SE,Fm]},hh={findFiberByHostInstance:ea,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eF={bundleType:hh.bundleType,version:hh.version,rendererPackageName:hh.rendererPackageName,rendererConfig:hh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=RE(e),e===null?null:e.stateNode},findFiberByHostInstance:hh.findFiberByHostInstance||q3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{_f=bu.inject(eF),Ws=bu}catch{}}Ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tF;Ii.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nm(t))throw Error(rt(200));return j3(e,t,null,i)};Ii.createRoot=function(e,t){if(!Nm(e))throw Error(rt(299));var i=!1,r="",g=nM;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=Im(e,1,!1,null,null,i,!1,r,g),e[pr]=t.current,fl(e.nodeType===8?e.parentNode:e),new km(t)};Ii.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(rt(188)):(e=Object.keys(e).join(","),Error(rt(268,e)));return e=RE(t),e=e===null?null:e.stateNode,e};Ii.flushSync=function(e){return va(e)};Ii.hydrate=function(e,t,i){if(!fc(t))throw Error(rt(200));return cc(null,e,t,!0,i)};Ii.hydrateRoot=function(e,t,i){if(!Nm(e))throw Error(rt(405));var r=i!=null&&i.hydratedSources||null,g=!1,S="",n=nM;if(i!=null&&(i.unstable_strictMode===!0&&(g=!0),i.identifierPrefix!==void 0&&(S=i.identifierPrefix),i.onRecoverableError!==void 0&&(n=i.onRecoverableError)),t=rM(t,null,e,1,i??null,g,!1,S,n),e[pr]=t.current,fl(e),r)for(e=0;e<r.length;e++)i=r[e],g=i._getVersion,g=g(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,g]:t.mutableSourceEagerHydrationData.push(i,g);return new dc(t)};Ii.render=function(e,t,i){if(!fc(t))throw Error(rt(200));return cc(null,e,t,!1,i)};Ii.unmountComponentAtNode=function(e){if(!fc(e))throw Error(rt(40));return e._reactRootContainer?(va(function(){cc(null,null,e,!1,function(){e._reactRootContainer=null,e[pr]=null})}),!0):!1};Ii.unstable_batchedUpdates=Fm;Ii.unstable_renderSubtreeIntoContainer=function(e,t,i,r){if(!fc(i))throw Error(rt(200));if(e==null||e._reactInternals===void 0)throw Error(rt(38));return cc(e,t,i,!1,r)};Ii.version="18.3.1-next-f1338f8080-20240426";function aM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aM)}catch(e){console.error(e)}}aM(),aE.exports=Ii;var iF=aE.exports,G1=iF;bg.createRoot=G1.createRoot,bg.hydrateRoot=G1.hydrateRoot;var oM={exports:{}};(function(e,t){(function(r,g){e.exports=g()})(LL,()=>(()=>{var i={50792:n=>{var C=Object.prototype.hasOwnProperty,s="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function y(a,d,v){this.fn=a,this.context=d,this.once=v||!1}function f(a,d,v,h,c){if(typeof v!="function")throw new TypeError("The listener must be a function");var p=new y(v,h||a,c),m=s?s+d:d;return a._events[m]?a._events[m].fn?a._events[m]=[a._events[m],p]:a._events[m].push(p):(a._events[m]=p,a._eventsCount++),a}function u(a,d){--a._eventsCount===0?a._events=new o:delete a._events[d]}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],v,h;if(this._eventsCount===0)return d;for(h in v=this._events)C.call(v,h)&&d.push(s?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(v)):d},l.prototype.listeners=function(d){var v=s?s+d:d,h=this._events[v];if(!h)return[];if(h.fn)return[h.fn];for(var c=0,p=h.length,m=new Array(p);c<p;c++)m[c]=h[c].fn;return m},l.prototype.listenerCount=function(d){var v=s?s+d:d,h=this._events[v];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,v,h,c,p,m){var x=s?s+d:d;if(!this._events[x])return!1;var T=this._events[x],P=arguments.length,M,E;if(T.fn){switch(T.once&&this.removeListener(d,T.fn,void 0,!0),P){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,v),!0;case 3:return T.fn.call(T.context,v,h),!0;case 4:return T.fn.call(T.context,v,h,c),!0;case 5:return T.fn.call(T.context,v,h,c,p),!0;case 6:return T.fn.call(T.context,v,h,c,p,m),!0}for(E=1,M=new Array(P-1);E<P;E++)M[E-1]=arguments[E];T.fn.apply(T.context,M)}else{var w=T.length,R;for(E=0;E<w;E++)switch(T[E].once&&this.removeListener(d,T[E].fn,void 0,!0),P){case 1:T[E].fn.call(T[E].context);break;case 2:T[E].fn.call(T[E].context,v);break;case 3:T[E].fn.call(T[E].context,v,h);break;case 4:T[E].fn.call(T[E].context,v,h,c);break;default:if(!M)for(R=1,M=new Array(P-1);R<P;R++)M[R-1]=arguments[R];T[E].fn.apply(T[E].context,M)}}return!0},l.prototype.on=function(d,v,h){return f(this,d,v,h,!1)},l.prototype.once=function(d,v,h){return f(this,d,v,h,!0)},l.prototype.removeListener=function(d,v,h,c){var p=s?s+d:d;if(!this._events[p])return this;if(!v)return u(this,p),this;var m=this._events[p];if(m.fn)m.fn===v&&(!c||m.once)&&(!h||m.context===h)&&u(this,p);else{for(var x=0,T=[],P=m.length;x<P;x++)(m[x].fn!==v||c&&!m[x].once||h&&m[x].context!==h)&&T.push(m[x]);T.length?this._events[p]=T.length===1?T[0]:T:u(this,p)}return this},l.prototype.removeAllListeners=function(d){var v;return d?(v=s?s+d:d,this._events[v]&&u(this,v)):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=s,l.EventEmitter=l,n.exports=l},11517:(n,C,s)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(38829),y=function(f,u,l,a){for(var d=f[0],v=1;v<f.length;v++){var h=f[v];o(h,d,u,l,a),d=h}return f};n.exports=y},80318:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66979),y=function(f,u,l,a,d){return o(f,"angle",u,l,a,d)};n.exports=y},60757:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){for(var f=0;f<s.length;f++){var u=s[f];o.call(y,u)}return s};n.exports=C},69927:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){y===void 0&&(y=0);for(var f=y;f<s.length;f++){var u=s[f],l=!0;for(var a in o)u[a]!==o[a]&&(l=!1);if(l)return u}return null};n.exports=C},32265:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){y===void 0&&(y=0);for(var f=s.length-1;f>=y;f--){var u=s[f],l=!0;for(var a in o)u[a]!==o[a]&&(l=!1);if(l)return u}return null};n.exports=C},94420:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(11879),y=s(60461),f=s(95540),u=s(29747),l=s(41481),a=new l({sys:{queueDepthSort:u,events:{once:u}}},0,0,1,1).setOrigin(0,0),d=function(v,h){h===void 0&&(h={});var c=h.hasOwnProperty("width"),p=h.hasOwnProperty("height"),m=f(h,"width",-1),x=f(h,"height",-1),T=f(h,"cellWidth",1),P=f(h,"cellHeight",T),M=f(h,"position",y.TOP_LEFT),E=f(h,"x",0),w=f(h,"y",0),R=0,A=0,L=m*T,b=x*P;a.setPosition(E,w),a.setSize(T,P);for(var O=0;O<v.length;O++)if(o(v[O],a,M),c&&m===-1)a.x+=T;else if(p&&x===-1)a.y+=P;else if(p&&!c){if(A+=P,a.y+=P,A===b&&(A=0,R+=T,a.y=w,a.x+=T,R===L))break}else if(R+=T,a.x+=T,R===L&&(R=0,A+=P,a.x=E,a.y+=P,A===b))break;return v};n.exports=d},41721:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66979),y=function(f,u,l,a,d){return o(f,"alpha",u,l,a,d)};n.exports=y},67285:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66979),y=function(f,u,l,a,d){return o(f,"x",u,l,a,d)};n.exports=y},9074:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66979),y=function(f,u,l,a,d,v,h){return l==null&&(l=u),o(f,"x",u,a,v,h),o(f,"y",l,d,v,h)};n.exports=y},75222:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66979),y=function(f,u,l,a,d){return o(f,"y",u,l,a,d)};n.exports=y},22983:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){y===void 0&&(y=0),f===void 0&&(f=6.28);for(var u=y,l=(f-y)/s.length,a=o.x,d=o.y,v=o.radius,h=0;h<s.length;h++)s[h].x=a+v*Math.cos(u),s[h].y=d+v*Math.sin(u),u+=l;return s};n.exports=C},95253:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){y===void 0&&(y=0),f===void 0&&(f=6.28);for(var u=y,l=(f-y)/s.length,a=o.width/2,d=o.height/2,v=0;v<s.length;v++)s[v].x=o.x+a*Math.cos(u),s[v].y=o.y+d*Math.sin(u),u+=l;return s};n.exports=C},88505:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(15258),y=s(26708),f=function(u,l,a){var d;a?d=y(l,a,u.length):d=o(l,u.length);for(var v=0;v<u.length;v++){var h=u[v],c=d[v];h.x=c.x,h.y=c.y}return u};n.exports=f},41346:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(14649),y=s(86003),f=s(49498),u=function(l,a,d){d===void 0&&(d=0);var v=o(a,!1,l.length);d>0?y(v,d):d<0&&f(v,Math.abs(d));for(var h=0;h<l.length;h++)l[h].x=v[h].x,l[h].y=v[h].y;return l};n.exports=u},11575:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(84993),y=function(f,u,l){var a=o({x1:u.x1,y1:u.y1,x2:u.x2,y2:u.y2},l),d=o({x1:u.x2,y1:u.y2,x2:u.x3,y2:u.y3},l),v=o({x1:u.x3,y1:u.y3,x2:u.x1,y2:u.y1},l);a.pop(),d.pop(),v.pop(),a=a.concat(d,v);for(var h=a.length/f.length,c=0,p=0;p<f.length;p++){var m=f[p],x=a[Math.floor(c)];m.x=x.x,m.y=x.y,c+=h}return f};n.exports=y},29953:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){for(var f=0;f<s.length;f++){var u=s[f];u.anims&&u.anims.play(o,y)}return s};n.exports=C},66979:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f,u,l){f===void 0&&(f=0),u===void 0&&(u=0),l===void 0&&(l=1);var a,d=0,v=s.length;if(l===1)for(a=u;a<v;a++)s[a][o]+=y+d*f,d++;else for(a=u;a>=0;a--)s[a][o]+=y+d*f,d++;return s};n.exports=C},43967:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f,u,l){f===void 0&&(f=0),u===void 0&&(u=0),l===void 0&&(l=1);var a,d=0,v=s.length;if(l===1)for(a=u;a<v;a++)s[a][o]=y+d*f,d++;else for(a=u;a>=0;a--)s[a][o]=y+d*f,d++;return s};n.exports=C},88926:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(28176),y=function(f,u){for(var l=0;l<f.length;l++)o(u,f[l]);return f};n.exports=y},33286:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(24820),y=function(f,u){for(var l=0;l<f.length;l++)o(u,f[l]);return f};n.exports=y},96e3:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65822),y=function(f,u){for(var l=0;l<f.length;l++)o(u,f[l]);return f};n.exports=y},28789:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26597),y=function(f,u){for(var l=0;l<f.length;l++)o(u,f[l]);return f};n.exports=y},97154:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(90260),y=function(f,u){for(var l=0;l<f.length;l++)o(u,f[l]);return f};n.exports=y},20510:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66979),y=function(f,u,l,a,d){return o(f,"rotation",u,l,a,d)};n.exports=y},91051:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(1163),y=s(20339),f=function(u,l,a){for(var d=l.x,v=l.y,h=0;h<u.length;h++){var c=u[h];o(c,d,v,a,Math.max(1,y(c.x,c.y,d,v)))}return u};n.exports=f},76332:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(1163),y=function(f,u,l,a){var d=u.x,v=u.y;if(a===0)return f;for(var h=0;h<f.length;h++)o(f[h],d,v,l,a);return f};n.exports=y},61619:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66979),y=function(f,u,l,a,d){return o(f,"scaleX",u,l,a,d)};n.exports=y},94868:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66979),y=function(f,u,l,a,d,v,h){return l==null&&(l=u),o(f,"scaleX",u,a,v,h),o(f,"scaleY",l,d,v,h)};n.exports=y},95532:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66979),y=function(f,u,l,a,d){return o(f,"scaleY",u,l,a,d)};n.exports=y},8689:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),y=function(f,u,l,a,d){return o(f,"alpha",u,l,a,d)};n.exports=y},2645:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),y=function(f,u,l,a){return o(f,"blendMode",u,0,l,a)};n.exports=y},32372:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),y=function(f,u,l,a,d){return o(f,"depth",u,l,a,d)};n.exports=y},85373:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){for(var f=0;f<s.length;f++)s[f].setInteractive(o,y);return s};n.exports=C},81583:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),y=function(f,u,l,a,d,v,h){return l==null&&(l=u),o(f,"originX",u,a,v,h),o(f,"originY",l,d,v,h),f.forEach(function(c){c.updateDisplayOrigin()}),f};n.exports=y},79939:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),y=function(f,u,l,a,d){return o(f,"rotation",u,l,a,d)};n.exports=y},2699:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),y=function(f,u,l,a,d,v,h){return l==null&&(l=u),o(f,"scaleX",u,a,v,h),o(f,"scaleY",l,d,v,h)};n.exports=y},98739:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),y=function(f,u,l,a,d){return o(f,"scaleX",u,l,a,d)};n.exports=y},98476:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),y=function(f,u,l,a,d){return o(f,"scaleY",u,l,a,d)};n.exports=y},6207:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),y=function(f,u,l,a,d,v,h){return l==null&&(l=u),o(f,"scrollFactorX",u,a,v,h),o(f,"scrollFactorY",l,d,v,h)};n.exports=y},6607:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),y=function(f,u,l,a,d){return o(f,"scrollFactorX",u,l,a,d)};n.exports=y},72248:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),y=function(f,u,l,a,d){return o(f,"scrollFactorY",u,l,a,d)};n.exports=y},14036:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f,u){for(var l=0;l<s.length;l++)s[l].setTint(o,y,f,u);return s};n.exports=C},50159:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),y=function(f,u,l,a){return o(f,"visible",u,0,l,a)};n.exports=y},77597:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),y=function(f,u,l,a,d){return o(f,"x",u,l,a,d)};n.exports=y},83194:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),y=function(f,u,l,a,d,v,h){return l==null&&(l=u),o(f,"x",u,a,v,h),o(f,"y",l,d,v,h)};n.exports=y},67678:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),y=function(f,u,l,a,d){return o(f,"y",u,l,a,d)};n.exports=y},35850:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),y=function(f,u,l,a,d){a===void 0&&(a=0),d===void 0&&(d=new o);var v,h,c=f.length;if(c===1)v=f[0].x,h=f[0].y,f[0].x=u,f[0].y=l;else{var p=1,m=0;a===0&&(m=c-1,p=c-2),v=f[m].x,h=f[m].y,f[m].x=u,f[m].y=l;for(var x=0;x<c;x++)if(!(p>=c||p===-1)){var T=f[p],P=T.x,M=T.y;T.x=v,T.y=h,v=P,h=M,a===0?p--:p++}}return d.x=v,d.y=h,d};n.exports=y},8628:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(33680),y=function(f){return o(f)};n.exports=y},21837:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7602),y=function(f,u,l,a,d){d===void 0&&(d=!1);var v=Math.abs(a-l)/f.length,h;if(d)for(h=0;h<f.length;h++)f[h][u]+=o(h*v,l,a);else for(h=0;h<f.length;h++)f[h][u]=o(h*v,l,a);return f};n.exports=y},21910:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(54261),y=function(f,u,l,a,d){d===void 0&&(d=!1);var v=Math.abs(a-l)/f.length,h;if(d)for(h=0;h<f.length;h++)f[h][u]+=o(h*v,l,a);else for(h=0;h<f.length;h++)f[h][u]=o(h*v,l,a);return f};n.exports=y},62054:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f,u){if(u===void 0&&(u=!1),s.length===0)return s;if(s.length===1)return u?s[0][o]+=(f+y)/2:s[0][o]=(f+y)/2,s;var l=Math.abs(f-y)/(s.length-1),a;if(u)for(a=0;a<s.length;a++)s[a][o]+=a*l+y;else for(a=0;a<s.length;a++)s[a][o]=a*l+y;return s};n.exports=C},79815:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){for(var o=0;o<s.length;o++)s[o].visible=!s[o].visible;return s};n.exports=C},39665:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(15994),y=function(f,u,l){l===void 0&&(l=0);for(var a=0;a<f.length;a++){var d=f[a];d.x=o(d.x,u.left-l,u.right+l),d.y=o(d.y,u.top-l,u.bottom+l)}return f};n.exports=y},61061:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AlignTo:s(11517),Angle:s(80318),Call:s(60757),GetFirst:s(69927),GetLast:s(32265),GridAlign:s(94420),IncAlpha:s(41721),IncX:s(67285),IncXY:s(9074),IncY:s(75222),PlaceOnCircle:s(22983),PlaceOnEllipse:s(95253),PlaceOnLine:s(88505),PlaceOnRectangle:s(41346),PlaceOnTriangle:s(11575),PlayAnimation:s(29953),PropertyValueInc:s(66979),PropertyValueSet:s(43967),RandomCircle:s(88926),RandomEllipse:s(33286),RandomLine:s(96e3),RandomRectangle:s(28789),RandomTriangle:s(97154),Rotate:s(20510),RotateAround:s(91051),RotateAroundDistance:s(76332),ScaleX:s(61619),ScaleXY:s(94868),ScaleY:s(95532),SetAlpha:s(8689),SetBlendMode:s(2645),SetDepth:s(32372),SetHitArea:s(85373),SetOrigin:s(81583),SetRotation:s(79939),SetScale:s(2699),SetScaleX:s(98739),SetScaleY:s(98476),SetScrollFactor:s(6207),SetScrollFactorX:s(6607),SetScrollFactorY:s(72248),SetTint:s(14036),SetVisible:s(50159),SetX:s(77597),SetXY:s(83194),SetY:s(67678),ShiftPosition:s(35850),Shuffle:s(8628),SmootherStep:s(21910),SmoothStep:s(21837),Spread:s(62054),ToggleVisible:s(79815),WrapInRectangle:s(39665)}},42099:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),y=s(83419),f=s(74943),u=s(81957),l=s(41138),a=s(35154),d=s(90126),v=new y({initialize:function(c,p,m){this.manager=c,this.key=p,this.type="frame",this.frames=this.getFrames(c.textureManager,a(m,"frames",[]),a(m,"defaultTextureKey",null),a(m,"sortFrames",!0)),this.frameRate=a(m,"frameRate",null),this.duration=a(m,"duration",null),this.msPerFrame,this.skipMissedFrames=a(m,"skipMissedFrames",!0),this.delay=a(m,"delay",0),this.repeat=a(m,"repeat",0),this.repeatDelay=a(m,"repeatDelay",0),this.yoyo=a(m,"yoyo",!1),this.showBeforeDelay=a(m,"showBeforeDelay",!1),this.showOnStart=a(m,"showOnStart",!1),this.hideOnComplete=a(m,"hideOnComplete",!1),this.randomFrame=a(m,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(f.PAUSE_ALL,this.pause,this),this.manager.on(f.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(h,c,p,m){p===null&&m===null?(h.frameRate=24,h.duration=24/c*1e3):p&&m===null?(h.duration=p,h.frameRate=c/(p/1e3)):(h.frameRate=m,h.duration=c/m*1e3),h.msPerFrame=1e3/h.frameRate},addFrame:function(h){return this.addFrameAt(this.frames.length,h)},addFrameAt:function(h,c){var p=this.getFrames(this.manager.textureManager,c);if(p.length>0){if(h===0)this.frames=p.concat(this.frames);else if(h===this.frames.length)this.frames=this.frames.concat(p);else{var m=this.frames.slice(0,h),x=this.frames.slice(h);this.frames=m.concat(p,x)}this.updateFrameSequence()}return this},checkFrame:function(h){return h>=0&&h<this.frames.length},getFirstTick:function(h){h.accumulator=0,h.nextTick=h.frameRate===h.currentAnim.frameRate&&h.currentFrame.duration||h.msPerFrame},getFrameAt:function(h){return this.frames[h]},getFrames:function(h,c,p,m){m===void 0&&(m=!0);var x=[],T,P,M=1,E,w;if(typeof c=="string"){if(w=c,!h.exists(w))return console.warn('Texture "%s" not found',w),x;var R=h.get(w),A=R.getFrameNames();m&&d(A),c=[],A.forEach(function(B){c.push({key:w,frame:B})})}if(!Array.isArray(c)||c.length===0)return x;for(E=0;E<c.length;E++){var L=c[E],b=a(L,"key",p);if(b){var O=a(L,"frame",0),F=h.getFrame(b,O);if(!F){console.warn('Texture "%s" not found',b);continue}P=new l(b,O,M,F),P.duration=a(L,"duration",0),P.isFirst=!T,T&&(T.nextFrame=P,P.prevFrame=T),x.push(P),T=P,M++}}if(x.length>0){P.isLast=!0,P.nextFrame=x[0],x[0].prevFrame=P;var D=1/(x.length-1);for(E=0;E<x.length;E++)x[E].progress=E*D}return x},getNextTick:function(h){h.accumulator-=h.nextTick,h.nextTick=h.frameRate===h.currentAnim.frameRate&&h.currentFrame.duration||h.msPerFrame},getFrameByProgress:function(h){return h=o(h,0,1),u(h,this.frames,"progress")},nextFrame:function(h){var c=h.currentFrame;c.isLast?h.yoyo?this.handleYoyoFrame(h,!1):h.repeatCounter>0?h.inReverse&&h.forward?h.forward=!1:this.repeatAnimation(h):h.complete():this.updateAndGetNextTick(h,c.nextFrame)},handleYoyoFrame:function(h,c){if(c||(c=!1),h.inReverse===!c&&h.repeatCounter>0){(h.repeatDelay===0||h.pendingRepeat)&&(h.forward=c),this.repeatAnimation(h);return}if(h.inReverse!==c&&h.repeatCounter===0){h.complete();return}h.forward=c;var p=c?h.currentFrame.nextFrame:h.currentFrame.prevFrame;this.updateAndGetNextTick(h,p)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(h){var c=h.currentFrame;c.isFirst?h.yoyo?this.handleYoyoFrame(h,!0):h.repeatCounter>0?h.inReverse&&!h.forward?this.repeatAnimation(h):(h.forward=!0,this.repeatAnimation(h)):h.complete():this.updateAndGetNextTick(h,c.prevFrame)},updateAndGetNextTick:function(h,c){h.setCurrentFrame(c),this.getNextTick(h)},removeFrame:function(h){var c=this.frames.indexOf(h);return c!==-1&&this.removeFrameAt(c),this},removeFrameAt:function(h){return this.frames.splice(h,1),this.updateFrameSequence(),this},repeatAnimation:function(h){if(h._pendingStop===2){if(h._pendingStopValue===0)return h.stop();h._pendingStopValue--}h.repeatDelay>0&&!h.pendingRepeat?(h.pendingRepeat=!0,h.accumulator-=h.nextTick,h.nextTick+=h.repeatDelay):(h.repeatCounter--,h.forward?h.setCurrentFrame(h.currentFrame.nextFrame):h.setCurrentFrame(h.currentFrame.prevFrame),h.isPlaying&&(this.getNextTick(h),h.handleRepeat()))},toJSON:function(){var h={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(c){h.frames.push(c.toJSON())}),h},updateFrameSequence:function(){for(var h=this.frames.length,c=1/(h-1),p,m=0;m<h;m++)p=this.frames[m],p.index=m+1,p.isFirst=!1,p.isLast=!1,p.progress=m*c,m===0?(p.isFirst=!0,h===1?(p.isLast=!0,p.nextFrame=p,p.prevFrame=p):(p.isLast=!1,p.prevFrame=this.frames[h-1],p.nextFrame=this.frames[m+1])):m===h-1&&h>1?(p.isLast=!0,p.prevFrame=this.frames[h-2],p.nextFrame=this.frames[0]):h>1&&(p.prevFrame=this.frames[m-1],p.nextFrame=this.frames[m+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(f.PAUSE_ALL,this.pause,this),this.manager.off(f.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var h=0;h<this.frames.length;h++)this.frames[h].destroy();this.frames=[],this.manager=null}});n.exports=v},41138:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=new o({initialize:function(u,l,a,d,v){v===void 0&&(v=!1),this.textureKey=u,this.textureFrame=l,this.index=a,this.frame=d,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=v},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});n.exports=y},60848:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(42099),y=s(83419),f=s(90330),u=s(50792),l=s(74943),a=s(8443),d=s(95540),v=s(35154),h=s(36383),c=s(20283),p=s(41836),m=new y({Extends:u,initialize:function(T){u.call(this),this.game=T,this.textureManager=null,this.globalTimeScale=1,this.anims=new f,this.mixes=new f,this.paused=!1,this.name="AnimationManager",T.events.once(a.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(a.DESTROY,this.destroy,this)},addMix:function(x,T,P){var M=this.anims,E=this.mixes,w=typeof x=="string"?x:x.key,R=typeof T=="string"?T:T.key;if(M.has(w)&&M.has(R)){var A=E.get(w);A||(A={}),A[R]=P,E.set(w,A)}return this},removeMix:function(x,T){var P=this.mixes,M=typeof x=="string"?x:x.key,E=P.get(M);if(E)if(T){var w=typeof T=="string"?T:T.key;E.hasOwnProperty(w)&&delete E[w]}else T||P.delete(M);return this},getMix:function(x,T){var P=this.mixes,M=typeof x=="string"?x:x.key,E=typeof T=="string"?T:T.key,w=P.get(M);return w&&w.hasOwnProperty(E)?w[E]:0},add:function(x,T){return this.anims.has(x)?(console.warn("Animation key exists: "+x),this):(T.key=x,this.anims.set(x,T),this.emit(l.ADD_ANIMATION,x,T),this)},exists:function(x){return this.anims.has(x)},createFromAseprite:function(x,T,P){var M=[],E=this.game.cache.json.get(x);if(!E)return console.warn("No Aseprite data found for: "+x),M;var w=this,R=v(E,"meta",null),A=v(E,"frames",null);if(R&&A){var L=v(R,"frameTags",[]);L.forEach(function(b){var O=[],F=d(b,"name",null),D=d(b,"from",0),B=d(b,"to",0),N=d(b,"direction","forward");if(F&&(!T||T&&T.indexOf(F)>-1)){for(var z=0,W=D;W<=B;W++){var X=W.toString(),k=A[X];if(k){var V=d(k,"duration",h.MAX_SAFE_INTEGER);O.push({key:x,frame:X,duration:V}),z+=V}}N==="reverse"&&(O=O.reverse());var I={key:F,frames:O,duration:z,yoyo:N==="pingpong"},U;P?P.anims&&(U=P.anims.create(I)):U=w.create(I),U&&M.push(U)}})}return M},create:function(x){var T=x.key,P=!1;return T&&(P=this.get(T),P?console.warn("AnimationManager key already exists: "+T):(P=new o(this,T,x),this.anims.set(T,P),this.emit(l.ADD_ANIMATION,T,P))),P},fromJSON:function(x,T){T===void 0&&(T=!1),T&&this.anims.clear(),typeof x=="string"&&(x=JSON.parse(x));var P=[];if(x.hasOwnProperty("anims")&&Array.isArray(x.anims)){for(var M=0;M<x.anims.length;M++)P.push(this.create(x.anims[M]));x.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=x.globalTimeScale)}else x.hasOwnProperty("key")&&x.type==="frame"&&P.push(this.create(x));return P},generateFrameNames:function(x,T){var P=v(T,"prefix",""),M=v(T,"start",0),E=v(T,"end",0),w=v(T,"suffix",""),R=v(T,"zeroPad",0),A=v(T,"outputArray",[]),L=v(T,"frames",!1);if(!this.textureManager.exists(x))return console.warn('Texture "%s" not found',x),A;var b=this.textureManager.get(x);if(!b)return A;var O;if(T)for(L||(L=c(M,E)),O=0;O<L.length;O++){var F=P+p(L[O],R,"0",1)+w;b.has(F)?A.push({key:x,frame:F}):console.warn('Frame "%s" not found in texture "%s"',F,x)}else for(L=b.getFrameNames(),O=0;O<L.length;O++)A.push({key:x,frame:L[O]});return A},generateFrameNumbers:function(x,T){var P=v(T,"start",0),M=v(T,"end",-1),E=v(T,"first",!1),w=v(T,"outputArray",[]),R=v(T,"frames",!1);if(!this.textureManager.exists(x))return console.warn('Texture "%s" not found',x),w;var A=this.textureManager.get(x);if(!A)return w;E&&A.has(E)&&w.push({key:x,frame:E}),R||(M===-1&&(M=A.frameTotal-2),R=c(P,M));for(var L=0;L<R.length;L++){var b=R[L];A.has(b)?w.push({key:x,frame:b}):console.warn('Frame "%s" not found in texture "%s"',b,x)}return w},get:function(x){return this.anims.get(x)},getAnimsFromTexture:function(x){for(var T=this.textureManager.get(x),P=T.key,M=this.anims.getArray(),E=[],w=0;w<M.length;w++)for(var R=M[w],A=R.frames,L=0;L<A.length;L++)if(A[L].textureKey===P){E.push(R.key);break}return E},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(l.PAUSE_ALL)),this},play:function(x,T){Array.isArray(T)||(T=[T]);for(var P=0;P<T.length;P++)T[P].anims.play(x);return this},staggerPlay:function(x,T,P,M){P===void 0&&(P=0),M===void 0&&(M=!0),Array.isArray(T)||(T=[T]);var E=T.length;M||E--;for(var w=0;w<T.length;w++){var R=P<0?Math.abs(P)*(E-w):P*w;T[w].anims.playAfterDelay(x,R)}return this},remove:function(x){var T=this.get(x);return T&&(this.emit(l.REMOVE_ANIMATION,x,T),this.anims.delete(x),this.removeMix(x)),T},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(l.RESUME_ALL)),this},toJSON:function(x){var T={anims:[],globalTimeScale:this.globalTimeScale};return x!==void 0&&x!==""?T.anims.push(this.anims.get(x).toJSON()):this.anims.each(function(P,M){T.anims.push(M.toJSON())}),T},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});n.exports=m},9674:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(42099),y=s(30976),f=s(83419),u=s(90330),l=s(74943),a=s(95540),d=new f({initialize:function(h){this.parent=h,this.animationManager=h.scene.sys.anims,this.animationManager.on(l.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(v){var h=this.parent;if(v===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,h;Array.isArray(v)||(v=[v]);for(var c=0;c<v.length;c++){var p=v[c];this.nextAnim?this.nextAnimsQueue.push(p):this.nextAnim=p}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(v){this.isPlaying&&this.stop();var h=this.animationManager,c=typeof v=="string"?v:a(v,"key",null),p=this.exists(c)?this.get(c):h.get(c);if(!p)console.warn("Missing animation: "+c);else{this.currentAnim=p;var m=p.getTotalFrames(),x=a(v,"frameRate",p.frameRate),T=a(v,"duration",p.duration);p.calculateDuration(this,m,T,x),this.delay=a(v,"delay",p.delay),this.repeat=a(v,"repeat",p.repeat),this.repeatDelay=a(v,"repeatDelay",p.repeatDelay),this.yoyo=a(v,"yoyo",p.yoyo),this.showBeforeDelay=a(v,"showBeforeDelay",p.showBeforeDelay),this.showOnStart=a(v,"showOnStart",p.showOnStart),this.hideOnComplete=a(v,"hideOnComplete",p.hideOnComplete),this.skipMissedFrames=a(v,"skipMissedFrames",p.skipMissedFrames),this.randomFrame=a(v,"randomFrame",p.randomFrame),this.timeScale=a(v,"timeScale",this.timeScale);var P=a(v,"startFrame",0);P>m&&(P=0),this.randomFrame&&(P=y(0,m-1));var M=p.frames[P];P===0&&!this.forward&&(M=p.getLastFrame()),this.currentFrame=M}return this.parent},pause:function(v){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),v!==void 0&&this.setCurrentFrame(v),this.parent},resume:function(v){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),v!==void 0&&this.setCurrentFrame(v),this.parent},playAfterDelay:function(v,h){if(!this.isPlaying)this.delayCounter=h,this.play(v,!0);else{var c=this.nextAnim,p=this.nextAnimsQueue;c&&p.unshift(c),this.nextAnim=v,this._pendingStop=1,this._pendingStopValue=h}return this.parent},playAfterRepeat:function(v,h){if(h===void 0&&(h=1),!this.isPlaying)this.play(v);else{var c=this.nextAnim,p=this.nextAnimsQueue;c&&p.unshift(c),this.repeatCounter!==-1&&h>this.repeatCounter&&(h=this.repeatCounter),this.nextAnim=v,this._pendingStop=2,this._pendingStopValue=h}return this.parent},play:function(v,h){h===void 0&&(h=!1);var c=this.currentAnim,p=this.parent,m=typeof v=="string"?v:v.key;if(h&&this.isPlaying&&c.key===m)return p;if(c&&this.isPlaying){var x=this.animationManager.getMix(c.key,v);if(x>0)return this.playAfterDelay(v,x)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(v)},playReverse:function(v,h){h===void 0&&(h=!1);var c=typeof v=="string"?v:v.key;return h&&this.isPlaying&&this.currentAnim.key===c?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(v))},startAnimation:function(v){this.load(v);var h=this.currentAnim,c=this.parent;return h&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,h.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),c},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(l.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(l.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(l.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(l.ANIMATION_COMPLETE,l.ANIMATION_COMPLETE_KEY)},emitEvents:function(v,h){var c=this.currentAnim;if(c){var p=this.currentFrame,m=this.parent,x=p.textureFrame;m.emit(v,c,p,m,x),h&&m.emit(h+c.key,c,p,m,x)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var v=this.currentFrame;if(!v)return 0;var h=v.progress;return this.inReverse&&(h*=-1),h},setProgress:function(v){return this.forward||(v=1-v),this.setCurrentFrame(this.currentAnim.getFrameByProgress(v)),this.parent},setRepeat:function(v){return this.repeatCounter=v===-1?Number.MAX_VALUE:v,this.parent},globalRemove:function(v,h){h===void 0&&(h=this.currentAnim),this.isPlaying&&h.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(v,h){v===void 0&&(v=!1),h===void 0&&(h=!1);var c=this.currentAnim,p=this.parent;return c?(h&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),c.getFirstTick(this),this.emitEvents(l.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!v,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(c.frames[0]),this.parent):p},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var v=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(v)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var v=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(v)}return this.parent},stopAfterDelay:function(v){return this._pendingStop=1,this._pendingStopValue=v,this.parent},stopAfterRepeat:function(v){return v===void 0&&(v=1),this.repeatCounter!==-1&&v>this.repeatCounter&&(v=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=v,this.parent},stopOnFrame:function(v){return this._pendingStop=3,this._pendingStopValue=v,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(v,h){var c=this.currentAnim;if(!(!this.isPlaying||!c||c.paused)){if(this.accumulator+=h*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=h,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?c.nextFrame(this):c.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var p=0;do this.forward?c.nextFrame(this):c.previousFrame(this),p++;while(this.isPlaying&&this.accumulator>this.nextTick&&p<60)}}},setCurrentFrame:function(v){var h=this.parent;return this.currentFrame=v,h.texture=v.frame.texture,h.frame=v.frame,h.isCropped&&h.frame.updateCropUVs(h._crop,h.flipX,h.flipY),v.setAlpha&&(h.alpha=v.alpha),h.setSizeToFrame(),h._originComponent&&(v.frame.customPivot?h.setOrigin(v.frame.pivotX,v.frame.pivotY):h.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(l.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===v&&this.stop()),h},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(v){return this.anims?this.anims.get(v):null},exists:function(v){return this.anims?this.anims.has(v):!1},create:function(v){var h=v.key,c=!1;return h&&(c=this.get(h),c?console.warn("Animation key already exists: "+h):(c=new o(this,h,v),this.anims||(this.anims=new u),this.anims.set(h,c))),c},createFromAseprite:function(v,h){return this.animationManager.createFromAseprite(v,h,this.parent)},generateFrameNames:function(v,h){return this.animationManager.generateFrameNames(v,h)},generateFrameNumbers:function(v,h){return this.animationManager.generateFrameNumbers(v,h)},remove:function(v){var h=this.get(v);return h&&(this.currentAnim===h&&this.stop(),this.anims.delete(v)),h},destroy:function(){this.animationManager.off(l.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});n.exports=d},57090:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"},25312:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationcomplete"},89580:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationcomplete-"},52860:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationrepeat"},63850:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationrestart"},99085:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationstart"},28087:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationstop"},1794:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationupdate"},52562:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pauseall"},57953:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"},68339:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resumeall"},74943:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD_ANIMATION:s(57090),ANIMATION_COMPLETE:s(25312),ANIMATION_COMPLETE_KEY:s(89580),ANIMATION_REPEAT:s(52860),ANIMATION_RESTART:s(63850),ANIMATION_START:s(99085),ANIMATION_STOP:s(28087),ANIMATION_UPDATE:s(1794),PAUSE_ALL:s(52562),REMOVE_ANIMATION:s(57953),RESUME_ALL:s(68339)}},60421:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Animation:s(42099),AnimationFrame:s(41138),AnimationManager:s(60848),AnimationState:s(9674),Events:s(74943)}},2161:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(90330),f=s(50792),u=s(24736),l=new o({initialize:function(){this.entries=new y,this.events=new f},add:function(a,d){return this.entries.set(a,d),this.events.emit(u.ADD,this,a,d),this},has:function(a){return this.entries.has(a)},exists:function(a){return this.entries.has(a)},get:function(a){return this.entries.get(a)},remove:function(a){var d=this.get(a);return d&&(this.entries.delete(a),this.events.emit(u.REMOVE,this,a,d.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});n.exports=l},24047:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2161),y=s(83419),f=s(8443),u=new y({initialize:function(a){this.game=a,this.binary=new o,this.bitmapFont=new o,this.json=new o,this.physics=new o,this.shader=new o,this.audio=new o,this.video=new o,this.text=new o,this.html=new o,this.obj=new o,this.tilemap=new o,this.xml=new o,this.custom={},this.game.events.once(f.DESTROY,this.destroy,this)},addCustom:function(l){return this.custom.hasOwnProperty(l)||(this.custom[l]=new o),this.custom[l]},destroy:function(){for(var l=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],a=0;a<l.length;a++)this[l[a]].destroy(),this[l[a]]=null;for(var d in this.custom)this.custom[d].destroy();this.custom=null,this.game=null}});n.exports=u},51464:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"},59261:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"},24736:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:s(51464),REMOVE:s(59261)}},83388:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BaseCache:s(2161),CacheManager:s(24047),Events:s(24736)}},71911:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(31401),f=s(39506),u=s(50792),l=s(19715),a=s(87841),d=s(61340),v=s(80333),h=s(26099),c=new o({Extends:u,Mixins:[y.AlphaSingle,y.Visible],initialize:function(m,x,T,P){m===void 0&&(m=0),x===void 0&&(x=0),T===void 0&&(T=0),P===void 0&&(P=0),u.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new a,this.dirty=!0,this._x=m,this._y=x,this._width=T,this._height=P,this._bounds=new a,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new d,this.transparent=!0,this.backgroundColor=v("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new h(T/2,P/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(p){this.renderList.push(p)},setOrigin:function(p,m){return p===void 0&&(p=.5),m===void 0&&(m=p),this.originX=p,this.originY=m,this},getScroll:function(p,m,x){x===void 0&&(x=new h);var T=this.width*.5,P=this.height*.5;return x.x=p-T,x.y=m-P,this.useBounds&&(x.x=this.clampX(x.x),x.y=this.clampY(x.y)),x},centerOnX:function(p){var m=this.width*.5;return this.midPoint.x=p,this.scrollX=p-m,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(p){var m=this.height*.5;return this.midPoint.y=p,this.scrollY=p-m,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(p,m){return this.centerOnX(p),this.centerOnY(m),this},centerToBounds:function(){if(this.useBounds){var p=this._bounds,m=this.width*.5,x=this.height*.5;this.midPoint.set(p.centerX,p.centerY),this.scrollX=p.centerX-m,this.scrollY=p.centerY-x}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(p){if(this.disableCull)return p;var m=this.matrix.matrix,x=m[0],T=m[1],P=m[2],M=m[3],E=x*M-T*P;if(!E)return p;var w=m[4],R=m[5],A=this.scrollX,L=this.scrollY,b=this.width,O=this.height,F=this.y,D=F+O,B=this.x,N=B+b,z=this.culledObjects,W=p.length;E=1/E,z.length=0;for(var X=0;X<W;++X){var k=p[X];if(!k.hasOwnProperty("width")||k.parentContainer){z.push(k);continue}var V=k.width,I=k.height,U=k.x-A*k.scrollFactorX-V*k.originX,G=k.y-L*k.scrollFactorY-I*k.originY,Y=U*x+G*P+w,H=U*T+G*M+R,$=(U+V)*x+(G+I)*P+w,K=(U+V)*T+(G+I)*M+R;$>B&&Y<N&&K>F&&H<D&&z.push(k)}return z},getWorldPoint:function(p,m,x){x===void 0&&(x=new h);var T=this.matrix.matrix,P=T[0],M=T[1],E=T[2],w=T[3],R=T[4],A=T[5],L=P*w-M*E;if(!L)return x.x=p,x.y=m,x;L=1/L;var b=w*L,O=-M*L,F=-E*L,D=P*L,B=(E*A-w*R)*L,N=(M*R-P*A)*L,z=Math.cos(this.rotation),W=Math.sin(this.rotation),X=this.zoomX,k=this.zoomY,V=this.scrollX,I=this.scrollY,U=p+(V*z-I*W)*X,G=m+(V*W+I*z)*k;return x.x=U*b+G*F+B,x.y=U*O+G*D+N,x},ignore:function(p){var m=this.id;Array.isArray(p)||(p=[p]);for(var x=0;x<p.length;x++){var T=p[x];Array.isArray(T)?this.ignore(T):T.isParent?this.ignore(T.getChildren()):T.cameraFilter|=m}return this},clampX:function(p){var m=this._bounds,x=this.displayWidth,T=m.x+(x-this.width)/2,P=Math.max(T,T+m.width-x);return p<T?p=T:p>P&&(p=P),p},clampY:function(p){var m=this._bounds,x=this.displayHeight,T=m.y+(x-this.height)/2,P=Math.max(T,T+m.height-x);return p<T?p=T:p>P&&(p=P),p},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(p){return p===void 0&&(p=0),this.rotation=f(p),this},setBackgroundColor:function(p){return p===void 0&&(p="rgba(0,0,0,0)"),this.backgroundColor=v(p),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(p,m,x,T,P){return P===void 0&&(P=!1),this._bounds.setTo(p,m,x,T),this.dirty=!0,this.useBounds=!0,P?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(p){p===void 0&&(p=new a);var m=this._bounds;return p.setTo(m.x,m.y,m.width,m.height),p},setName:function(p){return p===void 0&&(p=""),this.name=p,this},setPosition:function(p,m){return m===void 0&&(m=p),this.x=p,this.y=m,this},setRotation:function(p){return p===void 0&&(p=0),this.rotation=p,this},setRoundPixels:function(p){return this.roundPixels=p,this},setScene:function(p,m){m===void 0&&(m=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=p,this.isSceneCamera=m;var x=p.sys;return this.sceneManager=x.game.scene,this.scaleManager=x.scale,this.cameraManager=x.cameras,this.updateSystem(),this},setScroll:function(p,m){return m===void 0&&(m=p),this.scrollX=p,this.scrollY=m,this},setSize:function(p,m){return m===void 0&&(m=p),this.width=p,this.height=m,this},setViewport:function(p,m,x,T){return this.x=p,this.y=m,this.width=x,this.height=T,this},setZoom:function(p,m){return p===void 0&&(p=1),m===void 0&&(m=p),p===0&&(p=.001),m===0&&(m=.001),this.zoomX=p,this.zoomY=m,this},setMask:function(p,m){return m===void 0&&(m=!0),this.mask=p,this._maskCamera=m?this.cameraManager.default:this,this},clearMask:function(p){return p===void 0&&(p=!1),p&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var p={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(p.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),p},update:function(){},setIsSceneCamera:function(p){return this.isSceneCamera=p,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var p=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,m=this.sceneManager;p&&!this._customViewport?m.customViewports++:!p&&this._customViewport&&m.customViewports--,this.dirty=!0,this._customViewport=p}},destroy:function(){this.emit(l.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(p){this._x=p,this.updateSystem()}},y:{get:function(){return this._y},set:function(p){this._y=p,this.updateSystem()}},width:{get:function(){return this._width},set:function(p){this._width=p,this.updateSystem()}},height:{get:function(){return this._height},set:function(p){this._height=p,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(p){p!==this._scrollX&&(this._scrollX=p,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(p){p!==this._scrollY&&(this._scrollY=p,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(p){this._zoomX=p,this._zoomY=p,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(p){this._zoomX=p,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(p){this._zoomY=p,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(p){this._rotation=p,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});n.exports=c},38058:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(71911),y=s(67502),f=s(45319),u=s(83419),l=s(31401),a=s(20052),d=s(19715),v=s(28915),h=s(87841),c=s(26099),p=new u({Extends:o,Mixins:[l.PostPipeline],initialize:function(x,T,P,M){o.call(this,x,T,P,M),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new a.Fade(this),this.flashEffect=new a.Flash(this),this.shakeEffect=new a.Shake(this),this.panEffect=new a.Pan(this),this.rotateToEffect=new a.RotateTo(this),this.zoomEffect=new a.Zoom(this),this.lerp=new c(1,1),this.followOffset=new c,this.deadzone=null,this._follow=null},setDeadzone:function(m,x){if(m===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=m,this.deadzone.height=x):this.deadzone=new h(0,0,m,x),this._follow){var T=this.width/2,P=this.height/2,M=this._follow.x-this.followOffset.x,E=this._follow.y-this.followOffset.y;this.midPoint.set(M,E),this.scrollX=M-T,this.scrollY=E-P}y(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(m,x,T,P,M,E){return this.fadeEffect.start(!1,m,x,T,P,!0,M,E)},fadeOut:function(m,x,T,P,M,E){return this.fadeEffect.start(!0,m,x,T,P,!0,M,E)},fadeFrom:function(m,x,T,P,M,E,w){return this.fadeEffect.start(!1,m,x,T,P,M,E,w)},fade:function(m,x,T,P,M,E,w){return this.fadeEffect.start(!0,m,x,T,P,M,E,w)},flash:function(m,x,T,P,M,E,w){return this.flashEffect.start(m,x,T,P,M,E,w)},shake:function(m,x,T,P,M){return this.shakeEffect.start(m,x,T,P,M)},pan:function(m,x,T,P,M,E,w){return this.panEffect.start(m,x,T,P,M,E,w)},rotateTo:function(m,x,T,P,M,E,w){return this.rotateToEffect.start(m,x,T,P,M,E,w)},zoomTo:function(m,x,T,P,M,E){return this.zoomEffect.start(m,x,T,P,M,E)},preRender:function(){this.renderList.length=0;var m=this.width,x=this.height,T=m*.5,P=x*.5,M=this.zoomX,E=this.zoomY,w=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(M)&&Number.isInteger(E);var R=m*this.originX,A=x*this.originY,L=this._follow,b=this.deadzone,O=this.scrollX,F=this.scrollY;b&&y(b,this.midPoint.x,this.midPoint.y);var D=!1;if(L&&!this.panEffect.isRunning){var B=this.lerp,N=L.x-this.followOffset.x,z=L.y-this.followOffset.y;b?(N<b.x?O=v(O,O-(b.x-N),B.x):N>b.right&&(O=v(O,O+(N-b.right),B.x)),z<b.y?F=v(F,F-(b.y-z),B.y):z>b.bottom&&(F=v(F,F+(z-b.bottom),B.y))):(O=v(O,N-R,B.x),F=v(F,z-A,B.y)),D=!0}this.roundPixels&&(O=Math.floor(O),F=Math.floor(F)),this.useBounds&&(O=this.clampX(O),F=this.clampY(F)),this.scrollX=O,this.scrollY=F;var W=O+T,X=F+P;this.midPoint.set(W,X);var k=Math.floor(m/M+.5),V=Math.floor(x/E+.5),I=Math.floor(W-k/2+.5),U=Math.floor(X-V/2+.5);this.worldView.setTo(I,U,k,V),w.applyITRS(Math.floor(this.x+R+.5),Math.floor(this.y+A+.5),this.rotation,M,E),w.translate(-R,-A),this.shakeEffect.preRender(),D&&this.emit(d.FOLLOW_UPDATE,this,L)},setLerp:function(m,x){return m===void 0&&(m=1),x===void 0&&(x=m),this.lerp.set(m,x),this},setFollowOffset:function(m,x){return m===void 0&&(m=0),x===void 0&&(x=0),this.followOffset.set(m,x),this},startFollow:function(m,x,T,P,M,E){x===void 0&&(x=!1),T===void 0&&(T=1),P===void 0&&(P=T),M===void 0&&(M=0),E===void 0&&(E=M),this._follow=m,this.roundPixels=x,T=f(T,0,1),P=f(P,0,1),this.lerp.set(T,P),this.followOffset.set(M,E);var w=this.width/2,R=this.height/2,A=m.x-M,L=m.y-E;return this.midPoint.set(A,L),this.scrollX=A-w,this.scrollY=L-R,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(m,x){this.visible&&(this.rotateToEffect.update(m,x),this.panEffect.update(m,x),this.zoomEffect.update(m,x),this.shakeEffect.update(m,x),this.flashEffect.update(m,x),this.fadeEffect.update(m,x))},destroy:function(){this.resetFX(),o.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});n.exports=p},32743:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(38058),y=s(83419),f=s(95540),u=s(37277),l=s(37303),a=s(97480),d=s(44594),v=new y({initialize:function(c){this.scene=c,this.systems=c.sys,this.roundPixels=c.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,c.sys.events.once(d.BOOT,this.boot,this),c.sys.events.on(d.START,this.start,this)},boot:function(){var h=this.systems;h.settings.cameras?this.fromJSON(h.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new o(0,0,h.scale.width,h.scale.height).setScene(this.scene),h.game.scale.on(a.RESIZE,this.onResize,this),this.systems.events.once(d.DESTROY,this.destroy,this)},start:function(){if(!this.main){var h=this.systems;h.settings.cameras?this.fromJSON(h.settings.cameras):this.add(),this.main=this.cameras[0]}var c=this.systems.events;c.on(d.UPDATE,this.update,this),c.once(d.SHUTDOWN,this.shutdown,this)},add:function(h,c,p,m,x,T){h===void 0&&(h=0),c===void 0&&(c=0),p===void 0&&(p=this.scene.sys.scale.width),m===void 0&&(m=this.scene.sys.scale.height),x===void 0&&(x=!1),T===void 0&&(T="");var P=new o(h,c,p,m);return P.setName(T),P.setScene(this.scene),P.setRoundPixels(this.roundPixels),P.id=this.getNextID(),this.cameras.push(P),x&&(this.main=P),P},addExisting:function(h,c){c===void 0&&(c=!1);var p=this.cameras.indexOf(h);return p===-1?(h.id=this.getNextID(),h.setRoundPixels(this.roundPixels),this.cameras.push(h),c&&(this.main=h),h):null},getNextID:function(){for(var h=this.cameras,c=1,p=0;p<32;p++){for(var m=!1,x=0;x<h.length;x++){var T=h[x];if(T&&T.id===c){m=!0;continue}}if(m)c=c<<1;else return c}return 0},getTotal:function(h){h===void 0&&(h=!1);for(var c=0,p=this.cameras,m=0;m<p.length;m++){var x=p[m];(!h||h&&x.visible)&&c++}return c},fromJSON:function(h){Array.isArray(h)||(h=[h]);for(var c=this.scene.sys.scale.width,p=this.scene.sys.scale.height,m=0;m<h.length;m++){var x=h[m],T=f(x,"x",0),P=f(x,"y",0),M=f(x,"width",c),E=f(x,"height",p),w=this.add(T,P,M,E);w.name=f(x,"name",""),w.zoom=f(x,"zoom",1),w.rotation=f(x,"rotation",0),w.scrollX=f(x,"scrollX",0),w.scrollY=f(x,"scrollY",0),w.roundPixels=f(x,"roundPixels",!1),w.visible=f(x,"visible",!0);var R=f(x,"backgroundColor",!1);R&&w.setBackgroundColor(R);var A=f(x,"bounds",null);if(A){var L=f(A,"x",0),b=f(A,"y",0),O=f(A,"width",c),F=f(A,"height",p);w.setBounds(L,b,O,F)}}return this},getCamera:function(h){for(var c=this.cameras,p=0;p<c.length;p++)if(c[p].name===h)return c[p];return null},getCamerasBelowPointer:function(h){for(var c=this.cameras,p=h.x,m=h.y,x=[],T=0;T<c.length;T++){var P=c[T];P.visible&&P.inputEnabled&&l(P,p,m)&&x.unshift(P)}return x},remove:function(h,c){c===void 0&&(c=!0),Array.isArray(h)||(h=[h]);for(var p=0,m=this.cameras,x=0;x<h.length;x++){var T=m.indexOf(h[x]);T!==-1&&(c?m[T].destroy():m[T].renderList=[],m.splice(T,1),p++)}return!this.main&&m[0]&&(this.main=m[0]),p},render:function(h,c){for(var p=this.scene,m=this.cameras,x=0;x<m.length;x++){var T=m[x];if(T.visible&&T.alpha>0){T.preRender();var P=this.getVisibleChildren(c.getChildren(),T);h.render(p,P,T)}}},getVisibleChildren:function(h,c){return h.filter(function(p){return p.willRender(c)})},resetAll:function(){for(var h=0;h<this.cameras.length;h++)this.cameras[h].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(h,c){for(var p=0;p<this.cameras.length;p++)this.cameras[p].update(h,c)},onResize:function(h,c,p,m,x){for(var T=0;T<this.cameras.length;T++){var P=this.cameras[T];P._x===0&&P._y===0&&P._width===m&&P._height===x&&P.setSize(c.width,c.height)}},resize:function(h,c){for(var p=0;p<this.cameras.length;p++)this.cameras[p].setSize(h,c)},shutdown:function(){this.main=void 0;for(var h=0;h<this.cameras.length;h++)this.cameras[h].destroy();this.cameras=[];var c=this.systems.events;c.off(d.UPDATE,this.update,this),c.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(d.START,this.start,this),this.systems.events.off(d.DESTROY,this.destroy,this),this.systems.game.scale.off(a.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});u.register("CameraManager",v,"cameras"),n.exports=v},5020:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),y=s(83419),f=s(19715),u=new y({initialize:function(a){this.camera=a,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(l,a,d,v,h,c,p,m){if(l===void 0&&(l=!0),a===void 0&&(a=1e3),d===void 0&&(d=0),v===void 0&&(v=0),h===void 0&&(h=0),c===void 0&&(c=!1),p===void 0&&(p=null),m===void 0&&(m=this.camera.scene),!c&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=a,this.direction=l,this.progress=0,this.red=d,this.green=v,this.blue=h,this.alpha=l?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=p,this._onUpdateScope=m;var x=l?f.FADE_OUT_START:f.FADE_IN_START;return this.camera.emit(x,this.camera,this,a,d,v,h),this.camera},update:function(l,a){this.isRunning&&(this._elapsed+=a,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(l){if(!this.isRunning&&!this.isComplete)return!1;var a=this.camera;return l.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",l.fillRect(a.x,a.y,a.width,a.height),!0},postRenderWebGL:function(l,a){if(!this.isRunning&&!this.isComplete)return!1;var d=this.camera,v=this.red/255,h=this.green/255,c=this.blue/255;return l.drawFillRect(d.x,d.y,d.width,d.height,a(c,h,v,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var l=this.direction?f.FADE_OUT_COMPLETE:f.FADE_IN_COMPLETE;this.camera.emit(l,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});n.exports=u},10662:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),y=s(83419),f=s(19715),u=new y({initialize:function(a){this.camera=a,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(l,a,d,v,h,c,p){return l===void 0&&(l=250),a===void 0&&(a=255),d===void 0&&(d=255),v===void 0&&(v=255),h===void 0&&(h=!1),c===void 0&&(c=null),p===void 0&&(p=this.camera.scene),!h&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=l,this.progress=0,this.red=a,this.green=d,this.blue=v,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=c,this._onUpdateScope=p,this.camera.emit(f.FLASH_START,this.camera,this,l,a,d,v),this.camera)},update:function(l,a){this.isRunning&&(this._elapsed+=a,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(l){if(!this.isRunning)return!1;var a=this.camera;return l.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",l.fillRect(a.x,a.y,a.width,a.height),!0},postRenderWebGL:function(l,a){if(!this.isRunning)return!1;var d=this.camera,v=this.red/255,h=this.green/255,c=this.blue/255;return l.drawFillRect(d.x,d.y,d.width,d.height,a(c,h,v,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});n.exports=u},20359:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),y=s(83419),f=s(62640),u=s(19715),l=s(26099),a=new y({initialize:function(v){this.camera=v,this.isRunning=!1,this.duration=0,this.source=new l,this.current=new l,this.destination=new l,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(d,v,h,c,p,m,x){h===void 0&&(h=1e3),c===void 0&&(c=f.Linear),p===void 0&&(p=!1),m===void 0&&(m=null),x===void 0&&(x=this.camera.scene);var T=this.camera;return!p&&this.isRunning||(this.isRunning=!0,this.duration=h,this.progress=0,this.source.set(T.scrollX,T.scrollY),this.destination.set(d,v),T.getScroll(d,v,this.current),typeof c=="string"&&f.hasOwnProperty(c)?this.ease=f[c]:typeof c=="function"&&(this.ease=c),this._elapsed=0,this._onUpdate=m,this._onUpdateScope=x,this.camera.emit(u.PAN_START,this.camera,this,h,d,v)),T},update:function(d,v){if(this.isRunning){this._elapsed+=v;var h=o(this._elapsed/this.duration,0,1);this.progress=h;var c=this.camera;if(this._elapsed<this.duration){var p=this.ease(h);c.getScroll(this.destination.x,this.destination.y,this.current);var m=this.source.x+(this.current.x-this.source.x)*p,x=this.source.y+(this.current.y-this.source.y)*p;c.setScroll(m,x),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,c,h,m,x)}else c.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,c,h,c.scrollX,c.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(u.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});n.exports=a},34208:(n,C,s)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var o=s(45319),y=s(83419),f=s(19715),u=s(62640),l=new y({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(a,d,v,h,c,p,m){v===void 0&&(v=1e3),h===void 0&&(h=u.Linear),c===void 0&&(c=!1),p===void 0&&(p=null),m===void 0&&(m=this.camera.scene),d===void 0&&(d=!1),this.shortestPath=d;var x=a;a<0?(x=-1*a,this.clockwise=!1):this.clockwise=!0;var T=360*Math.PI/180;x=x-Math.floor(x/T)*T;var P=this.camera;if(!c&&this.isRunning)return P;if(this.isRunning=!0,this.duration=v,this.progress=0,this.source=P.rotation,this.destination=x,typeof h=="string"&&u.hasOwnProperty(h)?this.ease=u[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=p,this._onUpdateScope=m,this.shortestPath){var M=0,E=0;this.destination>this.source?M=Math.abs(this.destination-this.source):M=Math.abs(this.destination+T)-this.source,this.source>this.destination?E=Math.abs(this.source-this.destination):E=Math.abs(this.source+T)-this.destination,M<E?this.clockwise=!0:M>E&&(this.clockwise=!1)}return this.camera.emit(f.ROTATE_START,this.camera,this,v,x),P},update:function(a,d){if(this.isRunning){this._elapsed+=d;var v=o(this._elapsed/this.duration,0,1);this.progress=v;var h=this.camera;if(this._elapsed<this.duration){var c=this.ease(v);this.current=h.rotation;var p=0,m=360*Math.PI/180,x=this.destination,T=this.current;this.clockwise===!1&&(x=this.current,T=this.destination),x>=T?p=Math.abs(x-T):p=Math.abs(x+m)-T;var P=0;this.clockwise?P=h.rotation+p*c:P=h.rotation-p*c,h.rotation=P,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,v,P)}else h.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,v,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});n.exports=l},30330:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),y=s(83419),f=s(19715),u=s(26099),l=new y({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.intensity=new u,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(a,d,v,h,c){return a===void 0&&(a=100),d===void 0&&(d=.05),v===void 0&&(v=!1),h===void 0&&(h=null),c===void 0&&(c=this.camera.scene),!v&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=a,this.progress=0,typeof d=="number"?this.intensity.set(d):this.intensity.set(d.x,d.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=h,this._onUpdateScope=c,this.camera.emit(f.SHAKE_START,this.camera,this,a,d),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(a,d){if(this.isRunning)if(this._elapsed+=d,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var v=this.intensity,h=this.camera.width,c=this.camera.height,p=this.camera.zoom;this._offsetX=(Math.random()*v.x*h*2-v.x*h)*p,this._offsetY=(Math.random()*v.y*c*2-v.y*c)*p,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});n.exports=l},45641:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),y=s(83419),f=s(62640),u=s(19715),l=new y({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(a,d,v,h,c,p){d===void 0&&(d=1e3),v===void 0&&(v=f.Linear),h===void 0&&(h=!1),c===void 0&&(c=null),p===void 0&&(p=this.camera.scene);var m=this.camera;return!h&&this.isRunning||(this.isRunning=!0,this.duration=d,this.progress=0,this.source=m.zoom,this.destination=a,typeof v=="string"&&f.hasOwnProperty(v)?this.ease=f[v]:typeof v=="function"&&(this.ease=v),this._elapsed=0,this._onUpdate=c,this._onUpdateScope=p,this.camera.emit(u.ZOOM_START,this.camera,this,d,a)),m},update:function(a,d){this.isRunning&&(this._elapsed+=d,this.progress=o(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(u.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});n.exports=l},20052:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Fade:s(5020),Flash:s(10662),Pan:s(20359),Shake:s(30330),RotateTo:s(34208),Zoom:s(45641)}},16438:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameradestroy"},32726:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeincomplete"},87807:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeinstart"},45917:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeoutcomplete"},95666:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeoutstart"},47056:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameraflashcomplete"},91261:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameraflashstart"},45047:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="followupdate"},81927:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerapancomplete"},74264:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerapanstart"},54419:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"},79330:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},93183:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerarotatecomplete"},80112:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerarotatestart"},62252:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerashakecomplete"},86017:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerashakestart"},539:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerazoomcomplete"},51892:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerazoomstart"},19715:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DESTROY:s(16438),FADE_IN_COMPLETE:s(32726),FADE_IN_START:s(87807),FADE_OUT_COMPLETE:s(45917),FADE_OUT_START:s(95666),FLASH_COMPLETE:s(47056),FLASH_START:s(91261),FOLLOW_UPDATE:s(45047),PAN_COMPLETE:s(81927),PAN_START:s(74264),POST_RENDER:s(54419),PRE_RENDER:s(79330),ROTATE_COMPLETE:s(93183),ROTATE_START:s(80112),SHAKE_COMPLETE:s(62252),SHAKE_START:s(86017),ZOOM_COMPLETE:s(539),ZOOM_START:s(51892)}},87969:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Camera:s(38058),BaseCamera:s(71911),CameraManager:s(32743),Effects:s(20052),Events:s(19715)}},63091:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(35154),f=new o({initialize:function(l){this.camera=y(l,"camera",null),this.left=y(l,"left",null),this.right=y(l,"right",null),this.up=y(l,"up",null),this.down=y(l,"down",null),this.zoomIn=y(l,"zoomIn",null),this.zoomOut=y(l,"zoomOut",null),this.zoomSpeed=y(l,"zoomSpeed",.01),this.minZoom=y(l,"minZoom",.001),this.maxZoom=y(l,"maxZoom",1e3),this.speedX=0,this.speedY=0;var a=y(l,"speed",null);typeof a=="number"?(this.speedX=a,this.speedY=a):(this.speedX=y(l,"speed.x",0),this.speedY=y(l,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(u){return this.camera=u,this},update:function(u){if(this.active){u===void 0&&(u=1);var l=this.camera;this.up&&this.up.isDown?l.scrollY-=this.speedY*u|0:this.down&&this.down.isDown&&(l.scrollY+=this.speedY*u|0),this.left&&this.left.isDown?l.scrollX-=this.speedX*u|0:this.right&&this.right.isDown&&(l.scrollX+=this.speedX*u|0),this.zoomIn&&this.zoomIn.isDown?(l.zoom-=this.zoomSpeed,l.zoom<this.minZoom&&(l.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(l.zoom+=this.zoomSpeed,l.zoom>this.maxZoom&&(l.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});n.exports=f},58818:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(35154),f=new o({initialize:function(l){this.camera=y(l,"camera",null),this.left=y(l,"left",null),this.right=y(l,"right",null),this.up=y(l,"up",null),this.down=y(l,"down",null),this.zoomIn=y(l,"zoomIn",null),this.zoomOut=y(l,"zoomOut",null),this.zoomSpeed=y(l,"zoomSpeed",.01),this.minZoom=y(l,"minZoom",.001),this.maxZoom=y(l,"maxZoom",1e3),this.accelX=0,this.accelY=0;var a=y(l,"acceleration",null);typeof a=="number"?(this.accelX=a,this.accelY=a):(this.accelX=y(l,"acceleration.x",0),this.accelY=y(l,"acceleration.y",0)),this.dragX=0,this.dragY=0;var d=y(l,"drag",null);typeof d=="number"?(this.dragX=d,this.dragY=d):(this.dragX=y(l,"drag.x",0),this.dragY=y(l,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var v=y(l,"maxSpeed",null);typeof v=="number"?(this.maxSpeedX=v,this.maxSpeedY=v):(this.maxSpeedX=y(l,"maxSpeed.x",0),this.maxSpeedY=y(l,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(u){return this.camera=u,this},update:function(u){if(this.active){u===void 0&&(u=1);var l=this.camera;this._speedX>0?(this._speedX-=this.dragX*u,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*u,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*u,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*u,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(l.scrollX-=this._speedX*u|0),this._speedY!==0&&(l.scrollY-=this._speedY*u|0),this._zoom!==0&&(l.zoom+=this._zoom,l.zoom<this.minZoom?l.zoom=this.minZoom:l.zoom>this.maxZoom&&(l.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});n.exports=f},38865:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={FixedKeyControl:s(63091),SmoothedKeyControl:s(58818)}},26638:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Controls:s(38865),Scene2D:s(87969)}},8054:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={VERSION:"3.90.0",LOG_VERSION:"v390",BlendModes:s(10312),ScaleModes:s(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};n.exports=o},69547:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(8054),f=s(42363),u=s(82264),l=s(95540),a=s(35154),d=s(41212),v=s(29747),h=s(75508),c=s(36060),p=s(80333),m=new o({initialize:function(T){T===void 0&&(T={});var P=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],M="#ffffff",E=a(T,"scale",null);this.width=a(E,"width",1024,T),this.height=a(E,"height",768,T),this.zoom=a(E,"zoom",1,T),this.parent=a(E,"parent",void 0,T),this.scaleMode=a(E,E?"mode":"scaleMode",0,T),this.expandParent=a(E,"expandParent",!0,T),this.autoRound=a(E,"autoRound",!1,T),this.autoCenter=a(E,"autoCenter",0,T),this.resizeInterval=a(E,"resizeInterval",500,T),this.fullscreenTarget=a(E,"fullscreenTarget",null,T),this.minWidth=a(E,"min.width",0,T),this.maxWidth=a(E,"max.width",0,T),this.minHeight=a(E,"min.height",0,T),this.maxHeight=a(E,"max.height",0,T),this.snapWidth=a(E,"snap.width",0,T),this.snapHeight=a(E,"snap.height",0,T),this.renderType=a(T,"type",y.AUTO),this.canvas=a(T,"canvas",null),this.context=a(T,"context",null),this.canvasStyle=a(T,"canvasStyle",null),this.customEnvironment=a(T,"customEnvironment",!1),this.sceneConfig=a(T,"scene",null),this.seed=a(T,"seed",[(Date.now()*Math.random()).toString()]),h.RND=new h.RandomDataGenerator(this.seed),this.gameTitle=a(T,"title",""),this.gameURL=a(T,"url","https://phaser.io/"+y.LOG_VERSION),this.gameVersion=a(T,"version",""),this.autoFocus=a(T,"autoFocus",!0),this.stableSort=a(T,"stableSort",-1),this.stableSort===-1&&(this.stableSort=u.browser.es2019?1:0),u.features.stableSort=this.stableSort,this.domCreateContainer=a(T,"dom.createContainer",!1),this.domPointerEvents=a(T,"dom.pointerEvents","none"),this.inputKeyboard=a(T,"input.keyboard",!0),this.inputKeyboardEventTarget=a(T,"input.keyboard.target",window),this.inputKeyboardCapture=a(T,"input.keyboard.capture",[]),this.inputMouse=a(T,"input.mouse",!0),this.inputMouseEventTarget=a(T,"input.mouse.target",null),this.inputMousePreventDefaultDown=a(T,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=a(T,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=a(T,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=a(T,"input.mouse.preventDefaultWheel",!0),this.inputTouch=a(T,"input.touch",u.input.touch),this.inputTouchEventTarget=a(T,"input.touch.target",null),this.inputTouchCapture=a(T,"input.touch.capture",!0),this.inputActivePointers=a(T,"input.activePointers",1),this.inputSmoothFactor=a(T,"input.smoothFactor",0),this.inputWindowEvents=a(T,"input.windowEvents",!0),this.inputGamepad=a(T,"input.gamepad",!1),this.inputGamepadEventTarget=a(T,"input.gamepad.target",window),this.disableContextMenu=a(T,"disableContextMenu",!1),this.audio=a(T,"audio",{}),this.hideBanner=a(T,"banner",null)===!1,this.hidePhaser=a(T,"banner.hidePhaser",!1),this.bannerTextColor=a(T,"banner.text",M),this.bannerBackgroundColor=a(T,"banner.background",P),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=a(T,"fps",null),this.disablePreFX=a(T,"disablePreFX",!1),this.disablePostFX=a(T,"disablePostFX",!1);var w=a(T,"render",null);this.pipeline=a(w,"pipeline",null,T),this.autoMobilePipeline=a(w,"autoMobilePipeline",!0,T),this.defaultPipeline=a(w,"defaultPipeline",c.MULTI_PIPELINE,T),this.antialias=a(w,"antialias",!0,T),this.antialiasGL=a(w,"antialiasGL",!0,T),this.mipmapFilter=a(w,"mipmapFilter","",T),this.desynchronized=a(w,"desynchronized",!1,T),this.roundPixels=a(w,"roundPixels",!1,T),this.pixelArt=a(w,"pixelArt",this.zoom!==1,T),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=a(w,"transparent",!1,T),this.clearBeforeRender=a(w,"clearBeforeRender",!0,T),this.preserveDrawingBuffer=a(w,"preserveDrawingBuffer",!1,T),this.premultipliedAlpha=a(w,"premultipliedAlpha",!0,T),this.failIfMajorPerformanceCaveat=a(w,"failIfMajorPerformanceCaveat",!1,T),this.powerPreference=a(w,"powerPreference","default",T),this.batchSize=a(w,"batchSize",4096,T),this.maxTextures=a(w,"maxTextures",-1,T),this.maxLights=a(w,"maxLights",10,T);var R=a(T,"backgroundColor",0);this.backgroundColor=p(R),this.transparent&&(this.backgroundColor=p(0),this.backgroundColor.alpha=0),this.preBoot=a(T,"callbacks.preBoot",v),this.postBoot=a(T,"callbacks.postBoot",v),this.physics=a(T,"physics",{}),this.defaultPhysicsSystem=a(this.physics,"default",!1),this.loaderBaseURL=a(T,"loader.baseURL",""),this.loaderPath=a(T,"loader.path",""),this.loaderMaxParallelDownloads=a(T,"loader.maxParallelDownloads",u.os.android?6:32),this.loaderCrossOrigin=a(T,"loader.crossOrigin",void 0),this.loaderResponseType=a(T,"loader.responseType",""),this.loaderAsync=a(T,"loader.async",!0),this.loaderUser=a(T,"loader.user",""),this.loaderPassword=a(T,"loader.password",""),this.loaderTimeout=a(T,"loader.timeout",0),this.loaderMaxRetries=a(T,"loader.maxRetries",2),this.loaderWithCredentials=a(T,"loader.withCredentials",!1),this.loaderImageLoadType=a(T,"loader.imageLoadType","XHR"),this.loaderLocalScheme=a(T,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=a(T,"fx.glow.quality",.1),this.glowFXDistance=a(T,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var A=a(T,"plugins",null),L=f.DefaultScene;A&&(Array.isArray(A)?this.defaultPlugins=A:d(A)&&(this.installGlobalPlugins=l(A,"global",[]),this.installScenePlugins=l(A,"scene",[]),Array.isArray(A.default)?L=A.default:Array.isArray(A.defaultMerge)&&(L=L.concat(A.defaultMerge)))),this.defaultPlugins=L;var b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=a(T,"images.default",b+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=a(T,"images.missing",b+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=a(T,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=y.WEBGL:window.FORCE_CANVAS&&(this.renderType=y.CANVAS))}});n.exports=m},86054:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20623),y=s(27919),f=s(8054),u=s(89357),l=function(a){var d=a.config;if((d.customEnvironment||d.canvas)&&d.renderType===f.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!d.customEnvironment&&!d.canvas&&d.renderType!==f.HEADLESS)if(d.renderType===f.AUTO&&(d.renderType=u.webGL?f.WEBGL:f.CANVAS),d.renderType===f.WEBGL){if(!u.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(d.renderType===f.CANVAS){if(!u.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+d.renderType);d.antialias||y.disableSmoothing();var v=a.scale.baseSize,h=v.width,c=v.height;if(d.canvas?(a.canvas=d.canvas,a.canvas.width=h,a.canvas.height=c):a.canvas=y.create(a,h,c,d.renderType),d.canvasStyle&&(a.canvas.style=d.canvasStyle),d.antialias||o.setCrisp(a.canvas),d.renderType!==f.HEADLESS){var p,m;p=s(68627),m=s(74797),d.renderType===f.WEBGL?a.renderer=new m(a):(a.renderer=new p(a),a.context=a.renderer.gameContext)}};n.exports=l},96391:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(8054),y=function(f){var u=f.config;if(!u.hideBanner){var l="WebGL";u.renderType===o.CANVAS?l="Canvas":u.renderType===o.HEADLESS&&(l="Headless");var a=u.audio,d=f.device.audio,v;if(d.webAudio&&!a.disableWebAudio?v="Web Audio":a.noAudio||!d.webAudio&&!d.audioData?v="No Audio":v="HTML5 Audio",f.device.browser.ie)window.console&&console.log("Phaser v"+o.VERSION+" / https://phaser.io");else{var h="",c=[h];if(Array.isArray(u.bannerBackgroundColor)){var p;u.bannerBackgroundColor.forEach(function(x){h=h.concat("%c "),c.push("background: "+x),p=x}),c[c.length-1]="color: "+u.bannerTextColor+"; background: "+p}else h=h.concat("%c "),c.push("color: "+u.bannerTextColor+"; background: "+u.bannerBackgroundColor);c.push("background: transparent"),u.gameTitle&&(h=h.concat(u.gameTitle),u.gameVersion&&(h=h.concat(" v"+u.gameVersion)),u.hidePhaser||(h=h.concat(" / ")));var m="";u.hidePhaser||(h=h.concat("Phaser v"+o.VERSION+m+" ("+l+" | "+v+")")),h=h.concat(" %c "+u.gameURL),c[0]=h,console.log.apply(console,c)}}};n.exports=y},50127:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(40366),y=s(60848),f=s(24047),u=s(27919),l=s(83419),a=s(69547),d=s(83719),v=s(86054),h=s(45893),c=s(96391),p=s(82264),m=s(57264),x=s(50792),T=s(8443),P=s(7003),M=s(37277),E=s(77332),w=s(76531),R=s(60903),A=s(69442),L=s(17130),b=s(65898),O=s(51085),F=s(14747),D=new l({initialize:function(N){this.config=new a(N),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new x,this.anims=new y(this),this.textures=new L(this),this.cache=new f(this),this.registry=new h(this,new x),this.input=new P(this,this.config),this.scene=new R(this,this.config.sceneConfig),this.device=p,this.scale=new w(this,this.config),this.sound=null,this.sound=F.create(this),this.loop=new b(this,this.config.fps),this.plugins=new E(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,m(this.boot.bind(this))},boot:function(){if(!M.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),v(this),d(this),c(this),o(this.canvas,this.config.parent),this.textures.once(A.READY,this.texturesReady,this),this.events.emit(T.BOOT)},texturesReady:function(){this.events.emit(T.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),O(this);var B=this.events;B.on(T.HIDDEN,this.onHidden,this),B.on(T.VISIBLE,this.onVisible,this),B.on(T.BLUR,this.onBlur,this),B.on(T.FOCUS,this.onFocus,this)},step:function(B,N){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var z=this.events;z.emit(T.PRE_STEP,B,N),z.emit(T.STEP,B,N),this.scene.update(B,N),z.emit(T.POST_STEP,B,N);var W=this.renderer;W.preRender(),z.emit(T.PRE_RENDER,W,B,N),this.scene.render(W),W.postRender(),z.emit(T.POST_RENDER,W,B,N)}},headlessStep:function(B,N){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var z=this.events;z.emit(T.PRE_STEP,B,N),z.emit(T.STEP,B,N),this.scene.update(B,N),z.emit(T.POST_STEP,B,N),this.scene.isProcessing=!1,z.emit(T.PRE_RENDER,null,B,N),z.emit(T.POST_RENDER,null,B,N)}},onHidden:function(){this.loop.pause(),this.events.emit(T.PAUSE)},pause:function(){var B=this.isPaused;this.isPaused=!0,B||this.events.emit(T.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(T.RESUME,this.loop.pauseDuration)},resume:function(){var B=this.isPaused;this.isPaused=!1,B&&this.events.emit(T.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(B,N){N===void 0&&(N=!1),this.pendingDestroy=!0,this.removeCanvas=B,this.noReturn=N},runDestroy:function(){this.scene.destroy(),this.events.emit(T.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(u.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});n.exports=D},65898:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(35154),f=s(29747),u=s(43092),l=new o({initialize:function(d,v){this.game=d,this.raf=new u,this.started=!1,this.running=!1,this.minFps=y(v,"min",5),this.targetFps=y(v,"target",60),this.fpsLimit=y(v,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=f,this.forceSetTimeOut=y(v,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=y(v,"deltaHistory",10),this.panicMax=y(v,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=y(v,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var a=window.performance.now();this.time=a,this.lastTime=a,this.nextFpsUpdate=a+1e3,this.framesThisSecond=0;for(var d=0;d<this.deltaSmoothingMax;d++)this.deltaHistory[d]=Math.min(this._target,this.deltaHistory[d]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(a){if(this.started)return this;this.started=!0,this.running=!0;for(var d=0;d<this.deltaSmoothingMax;d++)this.deltaHistory[d]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=a;var v=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(v,this.forceSetTimeOut,this._target)},smoothDelta:function(a){var d=this.deltaIndex,v=this.deltaHistory,h=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,a=Math.min(a,this._target)),a>this._min&&(a=v[d],a=Math.min(a,this._min)),v[d]=a,this.deltaIndex++,this.deltaIndex>=h&&(this.deltaIndex=0);for(var c=0,p=0;p<h;p++)c+=v[p];return c/=h,c},updateFPS:function(a){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=a+1e3,this.framesThisSecond=0},stepLimitFPS:function(a){this.now=a;var d=Math.max(0,a-this.lastTime);this.rawDelta=d,this.time+=this.rawDelta,this.smoothStep&&(d=this.smoothDelta(d)),this.delta+=d,a>=this.nextFpsUpdate&&this.updateFPS(a),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(a,this.delta),this.delta=0),this.lastTime=a,this.frame++},step:function(a){this.now=a;var d=Math.max(0,a-this.lastTime);this.rawDelta=d,this.time+=this.rawDelta,this.smoothStep&&(d=this.smoothDelta(d)),this.delta=d,a>=this.nextFpsUpdate&&this.updateFPS(a),this.framesThisSecond++,this.callback(a,d),this.lastTime=a,this.frame++},tick:function(){var a=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(a):this.step(a)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(a){a===void 0&&(a=!1);var d=window.performance.now();if(!this.running){a&&(this.startTime+=-this.lastTime+(this.lastTime+d));var v=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(v,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=d+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});n.exports=l},51085:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(8443),y=function(f){var u,l=f.events;if(document.hidden!==void 0)u="visibilitychange";else{var a=["webkit","moz","ms"];a.forEach(function(v){document[v+"Hidden"]!==void 0&&(document.hidden=function(){return document[v+"Hidden"]},u=v+"visibilitychange")})}var d=function(v){document.hidden||v.type==="pause"?l.emit(o.HIDDEN):l.emit(o.VISIBLE)};u&&document.addEventListener(u,d,!1),window.onblur=function(){l.emit(o.BLUR)},window.onfocus=function(){l.emit(o.FOCUS)},window.focus&&f.config.autoFocus&&window.focus()};n.exports=y},97217:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="blur"},47548:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},19814:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="contextlost"},68446:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},41700:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="focus"},25432:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="hidden"},65942:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},59211:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"},47789:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="poststep"},39066:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},460:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prestep"},16175:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"},42331:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},11966:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="step"},32969:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="systemready"},94830:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="visible"},8443:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BLUR:s(97217),BOOT:s(47548),CONTEXT_LOST:s(19814),DESTROY:s(68446),FOCUS:s(41700),HIDDEN:s(25432),PAUSE:s(65942),POST_RENDER:s(59211),POST_STEP:s(47789),PRE_RENDER:s(39066),PRE_STEP:s(460),READY:s(16175),RESUME:s(42331),STEP:s(11966),SYSTEM_READY:s(32969),VISIBLE:s(94830)}},42857:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Config:s(69547),CreateRenderer:s(86054),DebugHeader:s(96391),Events:s(8443),TimeStep:s(65898),VisibilityHandler:s(51085)}},99584:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(5290),y=s(27919),f=s(35154),u=function(l){var a=f(l,"data",[]),d=f(l,"canvas",null),v=f(l,"palette",o),h=f(l,"pixelWidth",1),c=f(l,"pixelHeight",h),p=f(l,"resizeCanvas",!0),m=f(l,"clearCanvas",!0),x=f(l,"preRender",null),T=f(l,"postRender",null),P=Math.floor(Math.abs(a[0].length*h)),M=Math.floor(Math.abs(a.length*c));d||(d=y.create2D(this,P,M),p=!1,m=!1),p&&(d.width=P,d.height=M);var E=d.getContext("2d",{willReadFrequently:!0});m&&E.clearRect(0,0,P,M),x&&x(d,E);for(var w=0;w<a.length;w++)for(var R=a[w],A=0;A<R.length;A++){var L=R[A];L!=="."&&L!==" "&&(E.fillStyle=v[L],E.fillRect(A*h,w*c,h,c))}return T&&T(d,E),d};n.exports=u},15822:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GenerateTexture:s(99584),Palettes:s(57763)}},5290:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ARNE16:s(5290),C64:s(23816),CGA:s(9866),JMP:s(77552),MSX:s(92259)}},46728:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(36316),f=s(80021),u=s(26099),l=new o({Extends:f,initialize:function(d,v,h,c){f.call(this,"CubicBezierCurve"),Array.isArray(d)&&(c=new u(d[6],d[7]),h=new u(d[4],d[5]),v=new u(d[2],d[3]),d=new u(d[0],d[1])),this.p0=d,this.p1=v,this.p2=h,this.p3=c},getStartPoint:function(a){return a===void 0&&(a=new u),a.copy(this.p0)},getResolution:function(a){return a},getPoint:function(a,d){d===void 0&&(d=new u);var v=this.p0,h=this.p1,c=this.p2,p=this.p3;return d.set(y(a,v.x,h.x,c.x,p.x),y(a,v.y,h.y,c.y,p.y))},draw:function(a,d){d===void 0&&(d=32);var v=this.getPoints(d);a.beginPath(),a.moveTo(this.p0.x,this.p0.y);for(var h=1;h<v.length;h++)a.lineTo(v[h].x,v[h].y);return a.strokePath(),a},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});l.fromJSON=function(a){var d=a.points,v=new u(d[0],d[1]),h=new u(d[2],d[3]),c=new u(d[4],d[5]),p=new u(d[6],d[7]);return new l(v,h,c,p)},n.exports=l},80021:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(19217),f=s(87841),u=s(26099),l=new o({initialize:function(d){this.type=d,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new u,this._tmpVec2B=new u},draw:function(a,d){return d===void 0&&(d=32),a.strokePoints(this.getPoints(d))},getBounds:function(a,d){a||(a=new f),d===void 0&&(d=16);var v=this.getLength();d>v&&(d=v/2);var h=Math.max(1,Math.round(v/d));return y(this.getSpacedPoints(h),a)},getDistancePoints:function(a){var d=this.getLength(),v=Math.max(1,d/a);return this.getSpacedPoints(v)},getEndPoint:function(a){return a===void 0&&(a=new u),this.getPointAt(1,a)},getLength:function(){var a=this.getLengths();return a[a.length-1]},getLengths:function(a){if(a===void 0&&(a=this.arcLengthDivisions),this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var d=[],v,h=this.getPoint(0,this._tmpVec2A),c=0;d.push(0);for(var p=1;p<=a;p++)v=this.getPoint(p/a,this._tmpVec2B),c+=v.distance(h),d.push(c),h.copy(v);return this.cacheArcLengths=d,d},getPointAt:function(a,d){var v=this.getUtoTmapping(a);return this.getPoint(v,d)},getPoints:function(a,d,v){v===void 0&&(v=[]),a||(d?a=this.getLength()/d:a=this.defaultDivisions);for(var h=0;h<=a;h++)v.push(this.getPoint(h/a));return v},getRandomPoint:function(a){return a===void 0&&(a=new u),this.getPoint(Math.random(),a)},getSpacedPoints:function(a,d,v){v===void 0&&(v=[]),a||(d?a=this.getLength()/d:a=this.defaultDivisions);for(var h=0;h<=a;h++){var c=this.getUtoTmapping(h/a,null,a);v.push(this.getPoint(c))}return v},getStartPoint:function(a){return a===void 0&&(a=new u),this.getPointAt(0,a)},getTangent:function(a,d){d===void 0&&(d=new u);var v=1e-4,h=a-v,c=a+v;return h<0&&(h=0),c>1&&(c=1),this.getPoint(h,this._tmpVec2A),this.getPoint(c,d),d.subtract(this._tmpVec2A).normalize()},getTangentAt:function(a,d){var v=this.getUtoTmapping(a);return this.getTangent(v,d)},getTFromDistance:function(a,d){return a<=0?0:this.getUtoTmapping(0,a,d)},getUtoTmapping:function(a,d,v){var h=this.getLengths(v),c=0,p=h.length,m;d?m=Math.min(d,h[p-1]):m=a*h[p-1];for(var x=0,T=p-1,P;x<=T;)if(c=Math.floor(x+(T-x)/2),P=h[c]-m,P<0)x=c+1;else if(P>0)T=c-1;else{T=c;break}if(c=T,h[c]===m)return c/(p-1);var M=h[c],E=h[c+1],w=E-M,R=(m-M)/w;return(c+R)/(p-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});n.exports=l},73825:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(80021),f=s(39506),u=s(35154),l=s(43396),a=s(26099),d=new o({Extends:y,initialize:function(h,c,p,m,x,T,P,M){if(typeof h=="object"){var E=h;h=u(E,"x",0),c=u(E,"y",0),p=u(E,"xRadius",0),m=u(E,"yRadius",p),x=u(E,"startAngle",0),T=u(E,"endAngle",360),P=u(E,"clockwise",!1),M=u(E,"rotation",0)}else m===void 0&&(m=p),x===void 0&&(x=0),T===void 0&&(T=360),P===void 0&&(P=!1),M===void 0&&(M=0);y.call(this,"EllipseCurve"),this.p0=new a(h,c),this._xRadius=p,this._yRadius=m,this._startAngle=f(x),this._endAngle=f(T),this._clockwise=P,this._rotation=f(M)},getStartPoint:function(v){return v===void 0&&(v=new a),this.getPoint(0,v)},getResolution:function(v){return v*2},getPoint:function(v,h){h===void 0&&(h=new a);for(var c=Math.PI*2,p=this._endAngle-this._startAngle,m=Math.abs(p)<Number.EPSILON;p<0;)p+=c;for(;p>c;)p-=c;p<Number.EPSILON&&(m?p=0:p=c),this._clockwise&&!m&&(p===c?p=-c:p=p-c);var x=this._startAngle+v*p,T=this.p0.x+this._xRadius*Math.cos(x),P=this.p0.y+this._yRadius*Math.sin(x);if(this._rotation!==0){var M=Math.cos(this._rotation),E=Math.sin(this._rotation),w=T-this.p0.x,R=P-this.p0.y;T=w*M-R*E+this.p0.x,P=w*E+R*M+this.p0.y}return h.set(T,P)},setXRadius:function(v){return this.xRadius=v,this},setYRadius:function(v){return this.yRadius=v,this},setWidth:function(v){return this.xRadius=v/2,this},setHeight:function(v){return this.yRadius=v/2,this},setStartAngle:function(v){return this.startAngle=v,this},setEndAngle:function(v){return this.endAngle=v,this},setClockwise:function(v){return this.clockwise=v,this},setRotation:function(v){return this.rotation=v,this},x:{get:function(){return this.p0.x},set:function(v){this.p0.x=v}},y:{get:function(){return this.p0.y},set:function(v){this.p0.y=v}},xRadius:{get:function(){return this._xRadius},set:function(v){this._xRadius=v}},yRadius:{get:function(){return this._yRadius},set:function(v){this._yRadius=v}},startAngle:{get:function(){return l(this._startAngle)},set:function(v){this._startAngle=f(v)}},endAngle:{get:function(){return l(this._endAngle)},set:function(v){this._endAngle=f(v)}},clockwise:{get:function(){return this._clockwise},set:function(v){this._clockwise=v}},angle:{get:function(){return l(this._rotation)},set:function(v){this._rotation=f(v)}},rotation:{get:function(){return this._rotation},set:function(v){this._rotation=v}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:l(this._startAngle),endAngle:l(this._endAngle),clockwise:this._clockwise,rotation:l(this._rotation)}}});d.fromJSON=function(v){return new d(v)},n.exports=d},33951:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(80021),f=s(19217),u=s(87841),l=s(26099),a=new o({Extends:y,initialize:function(v,h){y.call(this,"LineCurve"),Array.isArray(v)&&(h=new l(v[2],v[3]),v=new l(v[0],v[1])),this.p0=v,this.p1=h,this.arcLengthDivisions=1},getBounds:function(d){return d===void 0&&(d=new u),f([this.p0,this.p1],d)},getStartPoint:function(d){return d===void 0&&(d=new l),d.copy(this.p0)},getResolution:function(d){return d===void 0&&(d=1),d},getPoint:function(d,v){return v===void 0&&(v=new l),d===1?v.copy(this.p1):(v.copy(this.p1).subtract(this.p0).scale(d).add(this.p0),v)},getPointAt:function(d,v){return this.getPoint(d,v)},getTangent:function(d,v){return v===void 0&&(v=new l),v.copy(this.p1).subtract(this.p0).normalize(),v},getUtoTmapping:function(d,v,h){var c;if(v){var p=this.getLengths(h),m=p[p.length-1],x=Math.min(v,m);c=x/m}else c=d;return c},draw:function(d){return d.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),d},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});a.fromJSON=function(d){var v=d.points,h=new l(v[0],v[1]),c=new l(v[2],v[3]);return new a(h,c)},n.exports=a},14744:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(80021),f=s(32112),u=s(26099),l=new o({Extends:y,initialize:function(d,v,h){y.call(this,"QuadraticBezierCurve"),Array.isArray(d)&&(h=new u(d[4],d[5]),v=new u(d[2],d[3]),d=new u(d[0],d[1])),this.p0=d,this.p1=v,this.p2=h},getStartPoint:function(a){return a===void 0&&(a=new u),a.copy(this.p0)},getResolution:function(a){return a},getPoint:function(a,d){d===void 0&&(d=new u);var v=this.p0,h=this.p1,c=this.p2;return d.set(f(a,v.x,h.x,c.x),f(a,v.y,h.y,c.y))},draw:function(a,d){d===void 0&&(d=32);var v=this.getPoints(d);a.beginPath(),a.moveTo(this.p0.x,this.p0.y);for(var h=1;h<v.length;h++)a.lineTo(v[h].x,v[h].y);return a.strokePath(),a},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});l.fromJSON=function(a){var d=a.points,v=new u(d[0],d[1]),h=new u(d[2],d[3]),c=new u(d[4],d[5]);return new l(v,h,c)},n.exports=l},42534:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87842),y=s(83419),f=s(80021),u=s(26099),l=new y({Extends:f,initialize:function(d){d===void 0&&(d=[]),f.call(this,"SplineCurve"),this.points=[],this.addPoints(d)},addPoints:function(a){for(var d=0;d<a.length;d++){var v=new u;typeof a[d]=="number"?(v.x=a[d],v.y=a[d+1],d++):Array.isArray(a[d])?(v.x=a[d][0],v.y=a[d][1]):(v.x=a[d].x,v.y=a[d].y),this.points.push(v)}return this},addPoint:function(a,d){var v=new u(a,d);return this.points.push(v),v},getStartPoint:function(a){return a===void 0&&(a=new u),a.copy(this.points[0])},getResolution:function(a){return a*this.points.length},getPoint:function(a,d){d===void 0&&(d=new u);var v=this.points,h=(v.length-1)*a,c=Math.floor(h),p=h-c,m=v[c===0?c:c-1],x=v[c],T=v[c>v.length-2?v.length-1:c+1],P=v[c>v.length-3?v.length-1:c+2];return d.set(o(p,m.x,x.x,T.x,P.x),o(p,m.y,x.y,T.y,P.y))},toJSON:function(){for(var a=[],d=0;d<this.points.length;d++)a.push(this.points[d].x),a.push(this.points[d].y);return{type:this.type,points:a}}});l.fromJSON=function(a){return new l(a.points)},n.exports=l},25410:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Path:s(46669),MoveTo:s(68618),CubicBezier:s(46728),Curve:s(80021),Ellipse:s(73825),Line:s(33951),QuadraticBezier:s(14744),Spline:s(42534)}},68618:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(26099),f=new o({initialize:function(l,a){this.active=!1,this.p0=new y(l,a)},getPoint:function(u,l){return l===void 0&&(l=new y),l.copy(this.p0)},getPointAt:function(u,l){return this.getPoint(u,l)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});n.exports=f},46669:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(46728),f=s(73825),u=s(39429),l=s(33951),a=s(68618),d=s(14744),v=s(87841),h=s(42534),c=s(26099),p=s(36383),m=new o({initialize:function(T,P){T===void 0&&(T=0),P===void 0&&(P=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new c,this._tmpVec2A=new c,this._tmpVec2B=new c,typeof T=="object"?this.fromJSON(T):this.startPoint.set(T,P)},add:function(x){return this.curves.push(x),this},circleTo:function(x,T,P){return T===void 0&&(T=!1),this.ellipseTo(x,x,0,360,T,P)},closePath:function(){var x=this.curves[0].getPoint(0),T=this.curves[this.curves.length-1].getPoint(1);return x.equals(T)||this.curves.push(new l(T,x)),this},cubicBezierTo:function(x,T,P,M,E,w){var R=this.getEndPoint(),A,L,b;return x instanceof c?(A=x,L=T,b=P):(A=new c(P,M),L=new c(E,w),b=new c(x,T)),this.add(new y(R,A,L,b))},quadraticBezierTo:function(x,T,P,M){var E=this.getEndPoint(),w,R;return x instanceof c?(w=x,R=T):(w=new c(P,M),R=new c(x,T)),this.add(new d(E,w,R))},draw:function(x,T){for(var P=0;P<this.curves.length;P++){var M=this.curves[P];M.active&&M.draw(x,T)}return x},ellipseTo:function(x,T,P,M,E,w){var R=new f(0,0,x,T,P,M,E,w),A=this.getEndPoint(this._tmpVec2A),L=R.getStartPoint(this._tmpVec2B);return A.subtract(L),R.x=A.x,R.y=A.y,this.add(R)},fromJSON:function(x){this.curves=[],this.cacheLengths=[],this.startPoint.set(x.x,x.y),this.autoClose=x.autoClose;for(var T=0;T<x.curves.length;T++){var P=x.curves[T];switch(P.type){case"LineCurve":this.add(l.fromJSON(P));break;case"EllipseCurve":this.add(f.fromJSON(P));break;case"SplineCurve":this.add(h.fromJSON(P));break;case"CubicBezierCurve":this.add(y.fromJSON(P));break;case"QuadraticBezierCurve":this.add(d.fromJSON(P));break}}return this},getBounds:function(x,T){x===void 0&&(x=new v),T===void 0&&(T=16),x.x=Number.MAX_VALUE,x.y=Number.MAX_VALUE;for(var P=new v,M=p.MIN_SAFE_INTEGER,E=p.MIN_SAFE_INTEGER,w=0;w<this.curves.length;w++){var R=this.curves[w];R.active&&(R.getBounds(P,T),x.x=Math.min(x.x,P.x),x.y=Math.min(x.y,P.y),M=Math.max(M,P.right),E=Math.max(E,P.bottom))}return x.right=M,x.bottom=E,x},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var x=[],T=0,P=0;P<this.curves.length;P++)T+=this.curves[P].getLength(),x.push(T);return this.cacheLengths=x,x},getCurveAt:function(x){for(var T=x*this.getLength(),P=this.getCurveLengths(),M=0;M<P.length;){if(P[M]>=T)return this.curves[M];M++}return null},getEndPoint:function(x){return x===void 0&&(x=new c),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,x):x.copy(this.startPoint),x},getLength:function(){var x=this.getCurveLengths();return x[x.length-1]},getPoint:function(x,T){T===void 0&&(T=new c);for(var P=x*this.getLength(),M=this.getCurveLengths(),E=0;E<M.length;){if(M[E]>=P){var w=M[E]-P,R=this.curves[E],A=R.getLength(),L=A===0?0:1-w/A;return R.getPointAt(L,T)}E++}return null},getPoints:function(x,T){!x&&!T&&(x=this.defaultDivisions);for(var P=[],M,E=0;E<this.curves.length;E++){var w=this.curves[E];if(w.active)for(var R=w.getResolution(x),A=w.getPoints(R,T),L=0;L<A.length;L++){var b=A[L];M&&M.equals(b)||(P.push(b),M=b)}}return this.autoClose&&P.length>1&&!P[P.length-1].equals(P[0])&&P.push(P[0]),P},getRandomPoint:function(x){return x===void 0&&(x=new c),this.getPoint(Math.random(),x)},getSpacedPoints:function(x){x===void 0&&(x=40);for(var T=[],P=0;P<=x;P++)T.push(this.getPoint(P/x));return this.autoClose&&T.push(T[0]),T},getStartPoint:function(x){return x===void 0&&(x=new c),x.copy(this.startPoint)},getTangent:function(x,T){T===void 0&&(T=new c);for(var P=x*this.getLength(),M=this.getCurveLengths(),E=0;E<M.length;){if(M[E]>=P){var w=M[E]-P,R=this.curves[E],A=R.getLength(),L=A===0?0:1-w/A;return R.getTangentAt(L,T)}E++}return null},lineTo:function(x,T){x instanceof c?this._tmpVec2B.copy(x):typeof x=="object"?this._tmpVec2B.setFromObject(x):this._tmpVec2B.set(x,T);var P=this.getEndPoint(this._tmpVec2A);return this.add(new l([P.x,P.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(x){return x.unshift(this.getEndPoint()),this.add(new h(x))},moveTo:function(x,T){return x instanceof c?this.add(new a(x.x,x.y)):this.add(new a(x,T))},toJSON:function(){for(var x=[],T=0;T<this.curves.length;T++)x.push(this.curves[T].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:x}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});u.register("path",function(x,T){return new m(x,T)}),n.exports=m},45893:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(24882),f=new o({initialize:function(l,a){this.parent=l,this.events=a,a||(this.events=l.events?l.events:l),this.list={},this.values={},this._frozen=!1,!l.hasOwnProperty("sys")&&this.events&&this.events.once(y.DESTROY,this.destroy,this)},get:function(u){var l=this.list;if(Array.isArray(u)){for(var a=[],d=0;d<u.length;d++)a.push(l[u[d]]);return a}else return l[u]},getAll:function(){var u={};for(var l in this.list)this.list.hasOwnProperty(l)&&(u[l]=this.list[l]);return u},query:function(u){var l={};for(var a in this.list)this.list.hasOwnProperty(a)&&a.match(u)&&(l[a]=this.list[a]);return l},set:function(u,l){if(this._frozen)return this;if(typeof u=="string")return this.setValue(u,l);for(var a in u)this.setValue(a,u[a]);return this},inc:function(u,l){if(this._frozen)return this;l===void 0&&(l=1);var a=this.get(u);return a===void 0&&(a=0),this.set(u,a+l),this},toggle:function(u){return this._frozen?this:(this.set(u,!this.get(u)),this)},setValue:function(u,l){if(this._frozen)return this;if(this.has(u))this.values[u]=l;else{var a=this,d=this.list,v=this.events,h=this.parent;Object.defineProperty(this.values,u,{enumerable:!0,configurable:!0,get:function(){return d[u]},set:function(c){if(!a._frozen){var p=d[u];d[u]=c,v.emit(y.CHANGE_DATA,h,u,c,p),v.emit(y.CHANGE_DATA_KEY+u,h,c,p)}}}),d[u]=l,v.emit(y.SET_DATA,h,u,l)}return this},each:function(u,l){for(var a=[this.parent,null,void 0],d=1;d<arguments.length;d++)a.push(arguments[d]);for(var v in this.list)a[1]=v,a[2]=this.list[v],u.apply(l,a);return this},merge:function(u,l){l===void 0&&(l=!0);for(var a in u)u.hasOwnProperty(a)&&(l||!l&&!this.has(a))&&this.setValue(a,u[a]);return this},remove:function(u){if(this._frozen)return this;if(Array.isArray(u))for(var l=0;l<u.length;l++)this.removeValue(u[l]);else return this.removeValue(u);return this},removeValue:function(u){if(this.has(u)){var l=this.list[u];delete this.list[u],delete this.values[u],this.events.emit(y.REMOVE_DATA,this.parent,u,l)}return this},pop:function(u){var l=void 0;return!this._frozen&&this.has(u)&&(l=this.list[u],delete this.list[u],delete this.values[u],this.events.emit(y.REMOVE_DATA,this.parent,u,l)),l},has:function(u){return this.list.hasOwnProperty(u)},setFreeze:function(u){return this._frozen=u,this},reset:function(){for(var u in this.list)delete this.list[u],delete this.values[u];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(y.CHANGE_DATA),this.events.off(y.SET_DATA),this.events.off(y.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(u){this._frozen=!!u}},count:{get:function(){var u=0;for(var l in this.list)this.list[l]!==void 0&&u++;return u}}});n.exports=f},63646:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(45893),f=s(37277),u=s(44594),l=new o({Extends:y,initialize:function(d){y.call(this,d,d.sys.events),this.scene=d,this.systems=d.sys,d.sys.events.once(u.BOOT,this.boot,this),d.sys.events.on(u.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(u.DESTROY,this.destroy,this)},start:function(){this.events.once(u.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){y.prototype.destroy.call(this),this.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});f.register("DataManagerPlugin",l,"data"),n.exports=l},10700:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="changedata"},93608:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="changedata-"},60883:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},69780:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedata"},22166:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="setdata"},24882:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CHANGE_DATA:s(10700),CHANGE_DATA_KEY:s(93608),DESTROY:s(60883),REMOVE_DATA:s(69780),SET_DATA:s(22166)}},44965:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DataManager:s(45893),DataManagerPlugin:s(63646),Events:s(24882)}},7098:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(84148),y={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function f(){if(typeof importScripts=="function")return y;y.audioData=!!window.Audio,y.webAudio=!!(window.AudioContext||window.webkitAudioContext);var u=document.createElement("audio"),l=!!u.canPlayType;try{if(l){var a=function(h,c){var p=u.canPlayType("audio/"+h).replace(/^no$/,"");return c?!!(p||u.canPlayType("audio/"+c).replace(/^no$/,"")):!!p};if(y.ogg=a('ogg; codecs="vorbis"'),y.opus=a('ogg; codecs="opus"',"opus"),y.mp3=a("mpeg"),y.wav=a("wav"),y.m4a=a("x-m4a"),y.aac=a("aac"),y.flac=a("flac","x-flac"),y.webm=a('webm; codecs="vorbis"'),u.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(o.edge)y.dolby=!0;else if(o.safari&&o.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var d=parseInt(RegExp.$1,10),v=parseInt(RegExp.$2,10);(d===10&&v>=11||d>10)&&(y.dolby=!0)}}}}catch{}return y}n.exports=f()},84148:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25892),y={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function f(){var u=navigator.userAgent;return/Edg\/\d+/.test(u)?(y.edge=!0,y.es2019=!0):/OPR/.test(u)?(y.opera=!0,y.es2019=!0):/Chrome\/(\d+)/.test(u)&&!o.windowsPhone?(y.chrome=!0,y.chromeVersion=parseInt(RegExp.$1,10),y.es2019=y.chromeVersion>69):/Firefox\D+(\d+)/.test(u)?(y.firefox=!0,y.firefoxVersion=parseInt(RegExp.$1,10),y.es2019=y.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(u)&&o.iOS?(y.mobileSafari=!0,y.es2019=!0):/MSIE (\d+\.\d+);/.test(u)?(y.ie=!0,y.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(u)&&!o.windowsPhone?(y.safari=!0,y.safariVersion=parseInt(RegExp.$1,10),y.es2019=y.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(u)&&(y.ie=!0,y.trident=!0,y.tridentVersion=parseInt(RegExp.$1,10),y.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(u)&&(y.silk=!0),y}n.exports=f()},89289:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(27919),y={supportInverseAlpha:!1,supportNewBlendModes:!1};function f(){var a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",d="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",v=new Image;return v.onload=function(){var h=new Image;h.onload=function(){var c=o.create2D(h,6),p=c.getContext("2d",{willReadFrequently:!0});if(p.globalCompositeOperation="multiply",p.drawImage(v,0,0),p.drawImage(h,2,0),!p.getImageData(2,0,1,1))return!1;var m=p.getImageData(2,0,1,1).data;o.remove(h),y.supportNewBlendModes=m[0]===255&&m[1]===0&&m[2]===0},h.src=a+"/wCKxvRF"+d},v.src=a+"AP804Oa6"+d,!1}function u(){var a=o.create2D(this,2),d=a.getContext("2d",{willReadFrequently:!0});d.fillStyle="rgba(10, 20, 30, 0.5)",d.fillRect(0,0,1,1);var v=d.getImageData(0,0,1,1);if(v===null)return!1;d.putImageData(v,1,0);var h=d.getImageData(1,0,1,1),c=h.data[0]===v.data[0]&&h.data[1]===v.data[1]&&h.data[2]===v.data[2]&&h.data[3]===v.data[3];return o.remove(this),c}function l(){return typeof importScripts!="function"&&document!==void 0&&(y.supportNewBlendModes=f(),y.supportInverseAlpha=u()),y}n.exports=l()},89357:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25892),y=s(84148),f=s(27919),u={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function l(){var d=new ArrayBuffer(4),v=new Uint8Array(d),h=new Uint32Array(d);return v[0]=161,v[1]=178,v[2]=195,v[3]=212,h[0]===3569595041?!0:h[0]===2712847316?!1:null}function a(){if(typeof importScripts=="function")return u;u.canvas=!!window.CanvasRenderingContext2D;try{u.localStorage=!!localStorage.getItem}catch{u.localStorage=!1}u.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,u.fileSystem=!!window.requestFileSystem;var d=!1,v=function(){if(window.WebGLRenderingContext)try{var h=f.createWebGL(this),c=h.getContext("webgl")||h.getContext("experimental-webgl"),p=f.create2D(this),m=p.getContext("2d",{willReadFrequently:!0}),x=m.createImageData(1,1);return d=x.data instanceof Uint8ClampedArray,f.remove(h),f.remove(p),!!c}catch{return!1}return!1};return u.webGL=v(),u.worker=!!window.Worker,u.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,u.getUserMedia=u.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,y.firefox&&y.firefoxVersion<21&&(u.getUserMedia=!1),!o.iOS&&(y.ie||y.firefox||y.chrome)&&(u.canvasBitBltShift=!0),(y.safari||y.mobileSafari)&&(u.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(u.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(u.littleEndian=l()),u.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&u.littleEndian!==null&&d,u}n.exports=a()},91639:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={available:!1,cancel:"",keyboard:!1,request:""};function s(){if(typeof importScripts=="function")return C;var o,y="Fullscreen",f="FullScreen",u=["request"+y,"request"+f,"webkitRequest"+y,"webkitRequest"+f,"msRequest"+y,"msRequest"+f,"mozRequest"+f,"mozRequest"+y];for(o=0;o<u.length;o++)if(document.documentElement[u[o]]){C.available=!0,C.request=u[o];break}var l=["cancel"+f,"exit"+y,"webkitCancel"+f,"webkitExit"+y,"msCancel"+f,"msExit"+y,"mozCancel"+f,"mozExit"+y];if(C.available){for(o=0;o<l.length;o++)if(document[l[o]]){C.cancel=l[o];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(C.keyboard=!0),Object.defineProperty(C,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),C}n.exports=s()},31784:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(84148),y={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function f(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(y.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(y.mspointer=!0),navigator.getGamepads&&(y.gamepads=!0),"onwheel"in window||o.ie&&"WheelEvent"in window?y.wheelEvent="wheel":"onmousewheel"in window?y.wheelEvent="mousewheel":o.firefox&&"MouseScrollEvent"in window&&(y.wheelEvent="DOMMouseScroll")),y}n.exports=f()},25892:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function s(){if(typeof importScripts=="function")return C;var o=navigator.userAgent;/Windows/.test(o)?C.windows=!0:/Mac OS/.test(o)&&!/like Mac OS/.test(o)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(C.iOS=!0,C.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),C.iOSVersion=parseInt(RegExp.$1,10)):C.macOS=!0:/Android/.test(o)?C.android=!0:/Linux/.test(o)?C.linux=!0:/iP[ao]d|iPhone/i.test(o)?(C.iOS=!0,navigator.appVersion.match(/OS (\d+)/),C.iOSVersion=parseInt(RegExp.$1,10),C.iPhone=o.toLowerCase().indexOf("iphone")!==-1,C.iPad=o.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(o)||/\bKF[A-Z][A-Z]+/.test(o)||/Silk.*Mobile Safari/.test(o)?C.kindle=!0:/CrOS/.test(o)&&(C.chromeOS=!0),(/Windows Phone/i.test(o)||/IEMobile/i.test(o))&&(C.android=!1,C.iOS=!1,C.macOS=!1,C.windows=!0,C.windowsPhone=!0);var y=/Silk/.test(o);return(C.windows||C.macOS||C.linux&&!y||C.chromeOS)&&(C.desktop=!0),(C.windowsPhone||/Windows NT/i.test(o)&&/Touch/i.test(o))&&(C.desktop=!1),navigator.standalone&&(C.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(C.cordova=!0),window.ejecta!==void 0&&(C.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(C.node=!0),C.node&&typeof process.versions=="object"&&(C.nodeWebkit=!!process.versions["node-webkit"],C.electron=!!process.versions.electron),/Crosswalk/.test(o)&&(C.crosswalk=!0),C.pixelRatio=window.devicePixelRatio||1,C}n.exports=s()},43267:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95540),y={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function f(){if(typeof importScripts=="function")return y;var u=document.createElement("video"),l=!!u.canPlayType,a=/^no$/;try{l&&(u.canPlayType('video/ogg; codecs="theora"').replace(a,"")&&(y.ogg=!0),u.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(a,"")&&(y.h264=!0,y.mp4=!0),u.canPlayType("video/x-m4v").replace(a,"")&&(y.m4v=!0),u.canPlayType('video/webm; codecs="vp8, vorbis"').replace(a,"")&&(y.webm=!0),u.canPlayType('video/webm; codecs="vp9"').replace(a,"")&&(y.vp9=!0),u.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(a,"")&&(y.hls=!0))}catch{}return u.parentNode&&u.parentNode.removeChild(u),y.getVideoURL=function(d){Array.isArray(d)||(d=[d]);for(var v=0;v<d.length;v++){var h=o(d[v],"url",d[v]);if(h.indexOf("blob:")===0)return{url:h,type:""};var c;if(h.indexOf("data:")===0?c=h.split(",")[0].match(/\/(.*?);/):c=h.match(/\.([a-zA-Z0-9]+)($|\?)/),c=o(d[v],"type",c?c[1]:"").toLowerCase(),y[c])return{url:h,type:c}}return null},y}n.exports=f()},82264:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={os:s(25892),browser:s(84148),features:s(89357),input:s(31784),audio:s(7098),video:s(43267),fullscreen:s(91639),canvasFeatures:s(89289)}},89422:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=new Float32Array(20),f=new o({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(u){return this._matrix.set(u),this._dirty=!0,this},reset:function(){var u=this._matrix;return u.fill(0),u[0]=1,u[6]=1,u[12]=1,u[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var u=this._data;return this._dirty&&(u.set(this._matrix),u[4]/=255,u[9]/=255,u[14]/=255,u[19]/=255,this._dirty=!1),u},brightness:function(u,l){u===void 0&&(u=0),l===void 0&&(l=!1);var a=u;return this.multiply([a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0],l)},saturate:function(u,l){u===void 0&&(u=0),l===void 0&&(l=!1);var a=u*2/3+1,d=(a-1)*-.5;return this.multiply([a,d,d,0,0,d,a,d,0,0,d,d,a,0,0,0,0,0,1,0],l)},desaturate:function(u){return u===void 0&&(u=!1),this.saturate(-1,u)},hue:function(u,l){u===void 0&&(u=0),l===void 0&&(l=!1),u=u/180*Math.PI;var a=Math.cos(u),d=Math.sin(u),v=.213,h=.715,c=.072;return this.multiply([v+a*(1-v)+d*-.213,h+a*-.715+d*-.715,c+a*-.072+d*(1-c),0,0,v+a*-.213+d*.143,h+a*(1-h)+d*.14,c+a*-.072+d*-.283,0,0,v+a*-.213+d*-.787,h+a*-.715+d*h,c+a*(1-c)+d*c,0,0,0,0,0,1,0],l)},grayscale:function(u,l){return u===void 0&&(u=1),l===void 0&&(l=!1),this.saturate(-u,l)},blackWhite:function(u){return u===void 0&&(u=!1),this.multiply(f.BLACK_WHITE,u)},contrast:function(u,l){u===void 0&&(u=0),l===void 0&&(l=!1);var a=u+1,d=-.5*(a-1);return this.multiply([a,0,0,0,d,0,a,0,0,d,0,0,a,0,d,0,0,0,1,0],l)},negative:function(u){return u===void 0&&(u=!1),this.multiply(f.NEGATIVE,u)},desaturateLuminance:function(u){return u===void 0&&(u=!1),this.multiply(f.DESATURATE_LUMINANCE,u)},sepia:function(u){return u===void 0&&(u=!1),this.multiply(f.SEPIA,u)},night:function(u,l){return u===void 0&&(u=.1),l===void 0&&(l=!1),this.multiply([u*-2,-u,0,0,0,-u,0,u,0,0,0,u,u*2,0,0,0,0,0,1,0],l)},lsd:function(u){return u===void 0&&(u=!1),this.multiply(f.LSD,u)},brown:function(u){return u===void 0&&(u=!1),this.multiply(f.BROWN,u)},vintagePinhole:function(u){return u===void 0&&(u=!1),this.multiply(f.VINTAGE,u)},kodachrome:function(u){return u===void 0&&(u=!1),this.multiply(f.KODACHROME,u)},technicolor:function(u){return u===void 0&&(u=!1),this.multiply(f.TECHNICOLOR,u)},polaroid:function(u){return u===void 0&&(u=!1),this.multiply(f.POLAROID,u)},shiftToBGR:function(u){return u===void 0&&(u=!1),this.multiply(f.SHIFT_BGR,u)},multiply:function(u,l){l===void 0&&(l=!1),l||this.reset();var a=this._matrix,d=y;return d.set(a),a.set([d[0]*u[0]+d[1]*u[5]+d[2]*u[10]+d[3]*u[15],d[0]*u[1]+d[1]*u[6]+d[2]*u[11]+d[3]*u[16],d[0]*u[2]+d[1]*u[7]+d[2]*u[12]+d[3]*u[17],d[0]*u[3]+d[1]*u[8]+d[2]*u[13]+d[3]*u[18],d[0]*u[4]+d[1]*u[9]+d[2]*u[14]+d[3]*u[19]+d[4],d[5]*u[0]+d[6]*u[5]+d[7]*u[10]+d[8]*u[15],d[5]*u[1]+d[6]*u[6]+d[7]*u[11]+d[8]*u[16],d[5]*u[2]+d[6]*u[7]+d[7]*u[12]+d[8]*u[17],d[5]*u[3]+d[6]*u[8]+d[7]*u[13]+d[8]*u[18],d[5]*u[4]+d[6]*u[9]+d[7]*u[14]+d[8]*u[19]+d[9],d[10]*u[0]+d[11]*u[5]+d[12]*u[10]+d[13]*u[15],d[10]*u[1]+d[11]*u[6]+d[12]*u[11]+d[13]*u[16],d[10]*u[2]+d[11]*u[7]+d[12]*u[12]+d[13]*u[17],d[10]*u[3]+d[11]*u[8]+d[12]*u[13]+d[13]*u[18],d[10]*u[4]+d[11]*u[9]+d[12]*u[14]+d[13]*u[19]+d[14],d[15]*u[0]+d[16]*u[5]+d[17]*u[10]+d[18]*u[15],d[15]*u[1]+d[16]*u[6]+d[17]*u[11]+d[18]*u[16],d[15]*u[2]+d[16]*u[7]+d[17]*u[12]+d[18]*u[17],d[15]*u[3]+d[16]*u[8]+d[17]*u[13]+d[18]*u[18],d[15]*u[4]+d[16]*u[9]+d[17]*u[14]+d[18]*u[19]+d[19]]),this._dirty=!0,this}});f.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],f.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],f.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],f.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],f.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],f.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],f.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],f.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],f.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],f.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],f.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],n.exports=f},51767:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(29747),f=new o({initialize:function(l,a,d){this._rgb=[0,0,0],this.onChangeCallback=y,this.dirty=!1,this.set(l,a,d)},set:function(u,l,a){return u===void 0&&(u=0),l===void 0&&(l=0),a===void 0&&(a=0),this._rgb=[u,l,a],this.onChange(),this},equals:function(u,l,a){var d=this._rgb;return d[0]===u&&d[1]===l&&d[2]===a},onChange:function(){this.dirty=!0;var u=this._rgb;this.onChangeCallback.call(this,u[0],u[1],u[2])},r:{get:function(){return this._rgb[0]},set:function(u){this._rgb[0]=u,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(u){this._rgb[1]=u,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(u){this._rgb[2]=u,this.onChange()}},destroy:function(){this.onChangeCallback=null}});n.exports=f},60461:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};n.exports=C},54312:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62235),y=s(35893),f=s(86327),u=s(88417),l=function(a,d,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),u(a,y(d)+v),f(a,o(d)+h),a};n.exports=l},46768:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62235),y=s(26541),f=s(86327),u=s(385),l=function(a,d,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),u(a,y(d)-v),f(a,o(d)+h),a};n.exports=l},35827:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62235),y=s(54380),f=s(86327),u=s(40136),l=function(a,d,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),u(a,y(d)+v),f(a,o(d)+h),a};n.exports=l},46871:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66786),y=s(35893),f=s(7702),u=function(l,a,d,v){return d===void 0&&(d=0),v===void 0&&(v=0),o(l,y(a)+d,f(a)+v),l};n.exports=u},5198:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7702),y=s(26541),f=s(20786),u=s(385),l=function(a,d,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),u(a,y(d)-v),f(a,o(d)+h),a};n.exports=l},11879:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(60461),y=[];y[o.BOTTOM_CENTER]=s(54312),y[o.BOTTOM_LEFT]=s(46768),y[o.BOTTOM_RIGHT]=s(35827),y[o.CENTER]=s(46871),y[o.LEFT_CENTER]=s(5198),y[o.RIGHT_CENTER]=s(80503),y[o.TOP_CENTER]=s(89698),y[o.TOP_LEFT]=s(922),y[o.TOP_RIGHT]=s(21373),y[o.LEFT_BOTTOM]=y[o.BOTTOM_LEFT],y[o.LEFT_TOP]=y[o.TOP_LEFT],y[o.RIGHT_BOTTOM]=y[o.BOTTOM_RIGHT],y[o.RIGHT_TOP]=y[o.TOP_RIGHT];var f=function(u,l,a,d,v){return y[a](u,l,d,v)};n.exports=f},80503:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7702),y=s(54380),f=s(20786),u=s(40136),l=function(a,d,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),u(a,y(d)+v),f(a,o(d)+h),a};n.exports=l},89698:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35893),y=s(17717),f=s(88417),u=s(66737),l=function(a,d,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),f(a,o(d)+v),u(a,y(d)-h),a};n.exports=l},922:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26541),y=s(17717),f=s(385),u=s(66737),l=function(a,d,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),f(a,o(d)-v),u(a,y(d)-h),a};n.exports=l},21373:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(54380),y=s(17717),f=s(40136),u=s(66737),l=function(a,d,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),f(a,o(d)+v),u(a,y(d)-h),a};n.exports=l},91660:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BottomCenter:s(54312),BottomLeft:s(46768),BottomRight:s(35827),Center:s(46871),LeftCenter:s(5198),QuickSet:s(11879),RightCenter:s(80503),TopCenter:s(89698),TopLeft:s(922),TopRight:s(21373)}},71926:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(60461),y=s(79291),f={In:s(91660),To:s(16694)};f=y(!1,f,o),n.exports=f},21578:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62235),y=s(35893),f=s(88417),u=s(66737),l=function(a,d,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),f(a,y(d)+v),u(a,o(d)+h),a};n.exports=l},10210:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62235),y=s(26541),f=s(385),u=s(66737),l=function(a,d,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),f(a,y(d)-v),u(a,o(d)+h),a};n.exports=l},82341:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62235),y=s(54380),f=s(40136),u=s(66737),l=function(a,d,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),f(a,y(d)+v),u(a,o(d)+h),a};n.exports=l},87958:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62235),y=s(26541),f=s(86327),u=s(40136),l=function(a,d,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),u(a,y(d)-v),f(a,o(d)+h),a};n.exports=l},40080:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7702),y=s(26541),f=s(20786),u=s(40136),l=function(a,d,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),u(a,y(d)-v),f(a,o(d)+h),a};n.exports=l},88466:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26541),y=s(17717),f=s(40136),u=s(66737),l=function(a,d,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),f(a,o(d)-v),u(a,y(d)-h),a};n.exports=l},38829:(n,C,s)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(60461),y=[];y[o.BOTTOM_CENTER]=s(21578),y[o.BOTTOM_LEFT]=s(10210),y[o.BOTTOM_RIGHT]=s(82341),y[o.LEFT_BOTTOM]=s(87958),y[o.LEFT_CENTER]=s(40080),y[o.LEFT_TOP]=s(88466),y[o.RIGHT_BOTTOM]=s(19211),y[o.RIGHT_CENTER]=s(34609),y[o.RIGHT_TOP]=s(48741),y[o.TOP_CENTER]=s(49440),y[o.TOP_LEFT]=s(81288),y[o.TOP_RIGHT]=s(61323);var f=function(u,l,a,d,v){return y[a](u,l,d,v)};n.exports=f},19211:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62235),y=s(54380),f=s(86327),u=s(385),l=function(a,d,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),u(a,y(d)+v),f(a,o(d)+h),a};n.exports=l},34609:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7702),y=s(54380),f=s(20786),u=s(385),l=function(a,d,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),u(a,y(d)+v),f(a,o(d)+h),a};n.exports=l},48741:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(54380),y=s(17717),f=s(385),u=s(66737),l=function(a,d,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),f(a,o(d)+v),u(a,y(d)-h),a};n.exports=l},49440:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35893),y=s(17717),f=s(86327),u=s(88417),l=function(a,d,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),u(a,o(d)+v),f(a,y(d)-h),a};n.exports=l},81288:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26541),y=s(17717),f=s(86327),u=s(385),l=function(a,d,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),u(a,o(d)-v),f(a,y(d)-h),a};n.exports=l},61323:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(54380),y=s(17717),f=s(86327),u=s(40136),l=function(a,d,v,h){return v===void 0&&(v=0),h===void 0&&(h=0),u(a,o(d)+v),f(a,y(d)-h),a};n.exports=l},16694:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BottomCenter:s(21578),BottomLeft:s(10210),BottomRight:s(82341),LeftBottom:s(87958),LeftCenter:s(40080),LeftTop:s(88466),QuickSet:s(38829),RightBottom:s(19211),RightCenter:s(34609),RightTop:s(48741),TopCenter:s(49440),TopLeft:s(81288),TopRight:s(61323)}},66786:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(88417),y=s(20786),f=function(u,l,a){return o(u,l),y(u,a)};n.exports=f},62235:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s.y+s.height-s.height*s.originY};n.exports=C},72873:(n,C,s)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62235),y=s(26541),f=s(54380),u=s(17717),l=s(87841),a=function(d,v){v===void 0&&(v=new l);var h=y(d),c=u(d);return v.x=h,v.y=c,v.width=f(d)-h,v.height=o(d)-c,v};n.exports=a},35893:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s.x-s.width*s.originX+s.width*.5};n.exports=C},7702:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s.y-s.height*s.originY+s.height*.5};n.exports=C},26541:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s.x-s.width*s.originX};n.exports=C},87431:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s.width*s.originX};n.exports=C},46928:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s.height*s.originY};n.exports=C},54380:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s.x+s.width-s.width*s.originX};n.exports=C},17717:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s.y-s.height*s.originY};n.exports=C},86327:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return s.y=o-s.height+s.height*s.originY,s};n.exports=C},88417:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){var y=s.width*s.originX;return s.x=o+y-s.width*.5,s};n.exports=C},20786:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){var y=s.height*s.originY;return s.y=o+y-s.height*.5,s};n.exports=C},385:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return s.x=o+s.width*s.originX,s};n.exports=C},40136:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return s.x=o-s.width+s.width*s.originX,s};n.exports=C},66737:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return s.y=o+s.height*s.originY,s};n.exports=C},58724:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CenterOn:s(66786),GetBottom:s(62235),GetBounds:s(72873),GetCenterX:s(35893),GetCenterY:s(7702),GetLeft:s(26541),GetOffsetX:s(87431),GetOffsetY:s(46928),GetRight:s(54380),GetTop:s(17717),SetBottom:s(86327),SetCenterX:s(88417),SetCenterY:s(20786),SetLeft:s(385),SetRight:s(40136),SetTop:s(66737)}},20623:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setCrisp:function(s){var o=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return o.forEach(function(y){s.style["image-rendering"]=y}),s.style.msInterpolationMode="nearest-neighbor",s},setBicubic:function(s){return s.style["image-rendering"]="auto",s.style.msInterpolationMode="bicubic",s}};n.exports=C},27919:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(8054),y=s(68703),f=[],u=!1,l=function(){var a=function(P,M,E,w,R){M===void 0&&(M=1),E===void 0&&(E=1),w===void 0&&(w=o.CANVAS),R===void 0&&(R=!1);var A,L=h(w);return L===null?(L={parent:P,canvas:document.createElement("canvas"),type:w},w===o.CANVAS&&f.push(L),A=L.canvas):(L.parent=P,A=L.canvas),R&&(L.parent=A),A.width=M,A.height=E,u&&w===o.CANVAS&&y.disable(A.getContext("2d",{willReadFrequently:!1})),A},d=function(P,M,E){return a(P,M,E,o.CANVAS)},v=function(P,M,E){return a(P,M,E,o.WEBGL)},h=function(P){if(P===void 0&&(P=o.CANVAS),P===o.WEBGL)return null;for(var M=0;M<f.length;M++){var E=f[M];if(!E.parent&&E.type===P)return E}return null},c=function(P){var M=P instanceof HTMLCanvasElement;f.forEach(function(E){(M&&E.canvas===P||!M&&E.parent===P)&&(E.parent=null,E.canvas.width=1,E.canvas.height=1)})},p=function(){var P=0;return f.forEach(function(M){M.parent&&P++}),P},m=function(){return f.length-p()},x=function(){u=!0},T=function(){u=!1};return{create2D:d,create:a,createWebGL:v,disableSmoothing:x,enableSmoothing:T,first:h,free:m,pool:f,remove:c,total:p}};n.exports=l()},68703:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C="",s=function(){var o=function(l){for(var a=["i","webkitI","msI","mozI","oI"],d=0;d<a.length;d++){var v=a[d]+"mageSmoothingEnabled";if(v in l)return v}return null},y=function(l){return C===""&&(C=o(l)),C&&(l[C]=!0),l},f=function(l){return C===""&&(C=o(l)),C&&(l[C]=!1),l},u=function(l){return C!==null?l[C]:null};return{disable:f,enable:y,getPrefix:o,isEnabled:u}};n.exports=s()},65208:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return o===void 0&&(o="none"),s.style.msTouchAction=o,s.style["ms-touch-action"]=o,s.style["touch-action"]=o,s};n.exports=C},91610:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){o===void 0&&(o="none");var y=["-webkit-","-khtml-","-moz-","-ms-",""];return y.forEach(function(f){s.style[f+"user-select"]=o}),s.style["-webkit-touch-callout"]=o,s.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",s};n.exports=C},26253:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CanvasInterpolation:s(20623),CanvasPool:s(27919),Smoothing:s(68703),TouchAction:s(65208),UserSelect:s(91610)}},40987:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(37589),f=s(1e3),u=s(7537),l=s(87837),a=new o({initialize:function(v,h,c,p){v===void 0&&(v=0),h===void 0&&(h=0),c===void 0&&(c=0),p===void 0&&(p=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(v,h,c,p)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(d,v,h,c,p){return c===void 0&&(c=255),p===void 0&&(p=!0),this._locked=!0,this.red=d,this.green=v,this.blue=h,this.alpha=c,this._locked=!1,this.update(p)},setGLTo:function(d,v,h,c){return c===void 0&&(c=1),this._locked=!0,this.redGL=d,this.greenGL=v,this.blueGL=h,this.alphaGL=c,this._locked=!1,this.update(!0)},setFromRGB:function(d){return this._locked=!0,this.red=d.r,this.green=d.g,this.blue=d.b,d.hasOwnProperty("a")&&(this.alpha=d.a),this._locked=!1,this.update(!0)},setFromHSV:function(d,v,h){return u(d,v,h,this)},update:function(d){if(d===void 0&&(d=!1),this._locked)return this;var v=this.r,h=this.g,c=this.b,p=this.a;return this._color=y(v,h,c),this._color32=f(v,h,c,p),this._rgba="rgba("+v+","+h+","+c+","+p/255+")",d&&l(v,h,c,this),this},updateHSV:function(){var d=this.r,v=this.g,h=this.b;return l(d,v,h,this),this},clone:function(){return new a(this.r,this.g,this.b,this.a)},gray:function(d){return this.setTo(d,d,d)},random:function(d,v){d===void 0&&(d=0),v===void 0&&(v=255);var h=Math.floor(d+Math.random()*(v-d)),c=Math.floor(d+Math.random()*(v-d)),p=Math.floor(d+Math.random()*(v-d));return this.setTo(h,c,p)},randomGray:function(d,v){d===void 0&&(d=0),v===void 0&&(v=255);var h=Math.floor(d+Math.random()*(v-d));return this.setTo(h,h,h)},saturate:function(d){return this.s+=d/100,this},desaturate:function(d){return this.s-=d/100,this},lighten:function(d){return this.v+=d/100,this},darken:function(d){return this.v-=d/100,this},brighten:function(d){var v=this.r,h=this.g,c=this.b;return v=Math.max(0,Math.min(255,v-Math.round(255*-(d/100)))),h=Math.max(0,Math.min(255,h-Math.round(255*-(d/100)))),c=Math.max(0,Math.min(255,c-Math.round(255*-(d/100)))),this.setTo(v,h,c)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(d){this.gl[0]=Math.min(Math.abs(d),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(d){this.gl[1]=Math.min(Math.abs(d),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(d){this.gl[2]=Math.min(Math.abs(d),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(d){this.gl[3]=Math.min(Math.abs(d),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(d){d=Math.floor(Math.abs(d)),this.r=Math.min(d,255),this.gl[0]=d/255,this.update(!0)}},green:{get:function(){return this.g},set:function(d){d=Math.floor(Math.abs(d)),this.g=Math.min(d,255),this.gl[1]=d/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(d){d=Math.floor(Math.abs(d)),this.b=Math.min(d,255),this.gl[2]=d/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(d){d=Math.floor(Math.abs(d)),this.a=Math.min(d,255),this.gl[3]=d/255,this.update()}},h:{get:function(){return this._h},set:function(d){this._h=d,u(d,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(d){this._s=d,u(this._h,d,this._v,this)}},v:{get:function(){return this._v},set:function(d){this._v=d,u(this._h,this._s,d,this)}}});n.exports=a},92728:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37589),y=function(f){f===void 0&&(f=1024);var u=[],l=255,a,d=255,v=0,h=0;for(a=0;a<=l;a++)u.push({r:d,g:a,b:h,color:o(d,a,h)});for(v=255,a=l;a>=0;a--)u.push({r:a,g:v,b:h,color:o(a,v,h)});for(d=0,a=0;a<=l;a++,v--)u.push({r:d,g:v,b:a,color:o(d,v,a)});for(v=0,h=255,a=0;a<=l;a++,h--,d++)u.push({r:d,g:v,b:h,color:o(d,v,h)});if(f===1024)return u;var c=[],p=0,m=1024/f;for(a=0;a<f;a++)c.push(u[Math.floor(p)]),p+=m;return c};n.exports=y},91588:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){var o={r:s>>16&255,g:s>>8&255,b:s&255,a:255};return s>16777215&&(o.a=s>>>24),o};n.exports=C},62957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){var o=s.toString(16);return o.length===1?"0"+o:o};n.exports=C},37589:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){return s<<16|o<<8|y};n.exports=C},1e3:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){return f<<24|s<<16|o<<8|y};n.exports=C},62183:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(40987),y=s(89528),f=function(u,l,a){var d=a,v=a,h=a;if(l!==0){var c=a<.5?a*(1+l):a+l-a*l,p=2*a-c;d=y(p,c,u+1/3),v=y(p,c,u),h=y(p,c,u-1/3)}var m=new o;return m.setGLTo(d,v,h,1)};n.exports=f},27939:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7537),y=function(f,u){f===void 0&&(f=1),u===void 0&&(u=1);for(var l=[],a=0;a<=359;a++)l.push(o(a/359,f,u));return l};n.exports=y},7537:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37589);function y(u,l,a,d){var v=(u+l*6)%6,h=Math.min(v,4-v,1);return Math.round(255*(d-d*a*Math.max(0,h)))}var f=function(u,l,a,d){l===void 0&&(l=1),a===void 0&&(a=1);var v=y(5,u,l,a),h=y(3,u,l,a),c=y(1,u,l,a);return d?d.setTo?d.setTo(v,h,c,d.alpha,!0):(d.r=v,d.g=h,d.b=c,d.color=o(v,h,c),d):{r:v,g:h,b:c,color:o(v,h,c)}};n.exports=f},70238:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(40987),y=function(f){var u=new o;f=f.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(h,c,p,m){return c+c+p+p+m+m});var l=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(f);if(l){var a=parseInt(l[1],16),d=parseInt(l[2],16),v=parseInt(l[3],16);u.setTo(a,d,v)}return u};n.exports=y},89528:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){return y<0&&(y+=1),y>1&&(y-=1),y<.16666666666666666?s+(o-s)*6*y:y<.5?o:y<.6666666666666666?s+(o-s)*(.6666666666666666-y)*6:s};n.exports=C},30100:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(40987),y=s(90664),f=function(u){var l=y(u);return new o(l.r,l.g,l.b,l.a)};n.exports=f},90664:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s>16777215?{a:s>>>24,r:s>>16&255,g:s>>8&255,b:s&255}:{a:255,r:s>>16&255,g:s>>8&255,b:s&255}};n.exports=C},13699:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(28915),y=s(37589),f=function(a,d,v,h,c,p,m,x){m===void 0&&(m=100),x===void 0&&(x=0);var T=x/m,P=o(a,h,T),M=o(d,c,T),E=o(v,p,T);return{r:P,g:M,b:E,a:255,color:y(P,M,E)}},u=function(a,d,v,h){return v===void 0&&(v=100),h===void 0&&(h=0),f(a.r,a.g,a.b,d.r,d.g,d.b,v,h)},l=function(a,d,v,h,c,p){return c===void 0&&(c=100),p===void 0&&(p=0),f(a.r,a.g,a.b,d,v,h,c,p)};n.exports={RGBWithRGB:f,ColorWithRGB:l,ColorWithColor:u}},68957:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(40987),y=function(f){return new o(f.r,f.g,f.b,f.a)};n.exports=y},87388:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(40987),y=function(f){var u=new o,l=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(f.toLowerCase());if(l){var a=parseInt(l[1],10),d=parseInt(l[2],10),v=parseInt(l[3],10),h=l[4]!==void 0?parseFloat(l[4]):1;u.setTo(a,d,v,h*255)}return u};n.exports=y},87837:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){f===void 0&&(f={h:0,s:0,v:0}),s/=255,o/=255,y/=255;var u=Math.min(s,o,y),l=Math.max(s,o,y),a=l-u,d=0,v=l===0?0:a/l,h=l;return l!==u&&(l===s?d=(o-y)/a+(o<y?6:0):l===o?d=(y-s)/a+2:l===y&&(d=(s-o)/a+4),d/=6),f.hasOwnProperty("_h")?(f._h=d,f._s=v,f._v=h):(f.h=d,f.s=v,f.v=h),f};n.exports=C},75723:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62957),y=function(f,u,l,a,d){return a===void 0&&(a=255),d===void 0&&(d="#"),d==="#"?"#"+((1<<24)+(f<<16)+(u<<8)+l).toString(16).slice(1,7):"0x"+o(a)+o(f)+o(u)+o(l)};n.exports=y},85386:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(30976),y=s(40987),f=function(u,l){return u===void 0&&(u=0),l===void 0&&(l=255),new y(o(u,l),o(u,l),o(u,l))};n.exports=f},80333:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70238),y=s(30100),f=s(68957),u=s(87388),l=function(a){var d=typeof a;switch(d){case"string":return a.substr(0,3).toLowerCase()==="rgb"?u(a):o(a);case"number":return y(a);case"object":return f(a)}};n.exports=l},3956:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(40987);o.ColorSpectrum=s(92728),o.ColorToRGBA=s(91588),o.ComponentToHex=s(62957),o.GetColor=s(37589),o.GetColor32=s(1e3),o.HexStringToColor=s(70238),o.HSLToColor=s(62183),o.HSVColorWheel=s(27939),o.HSVToRGB=s(7537),o.HueToComponent=s(89528),o.IntegerToColor=s(30100),o.IntegerToRGB=s(90664),o.Interpolate=s(13699),o.ObjectToColor=s(68957),o.RandomRGB=s(85386),o.RGBStringToColor=s(87388),o.RGBToHSV=s(87837),o.RGBToString=s(75723),o.ValueToColor=s(80333),n.exports=o},27460:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Align:s(71926),BaseShader:s(73894),Bounds:s(58724),Canvas:s(26253),Color:s(3956),ColorMatrix:s(89422),Masks:s(69781),RGB:s(51767)}},6858:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(39429),f=new o({initialize:function(l,a,d,v,h,c){a||(a=l.sys.make.image({x:d,y:v,key:h,frame:c,add:!1})),this.bitmapMask=a,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(u){this.bitmapMask=u},preRenderWebGL:function(u,l,a){u.pipelines.BITMAPMASK_PIPELINE.beginMask(this,l,a)},postRenderWebGL:function(u,l,a){u.pipelines.BITMAPMASK_PIPELINE.endMask(this,l,a)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});y.register("bitmapMask",function(u,l,a,d,v){return new f(this.scene,u,l,a,d,v)}),n.exports=f},80661:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=new o({initialize:function(u,l){this.geometryMask=l,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(f){return this.geometryMask=f,this},setInvertAlpha:function(f){return f===void 0&&(f=!0),this.invertAlpha=f,this},preRenderWebGL:function(f,u,l){var a=f.gl;f.flush(),f.maskStack.length===0&&(a.enable(a.STENCIL_TEST),a.clear(a.STENCIL_BUFFER_BIT),f.maskCount=0),f.currentCameraMask.mask!==this&&(f.currentMask.mask=this),f.maskStack.push({mask:this,camera:l}),this.applyStencil(f,l,!0),f.maskCount++},applyStencil:function(f,u,l){var a=f.gl,d=this.geometryMask,v=f.maskCount,h=255;a.colorMask(!1,!1,!1,!1),l?(a.stencilFunc(a.EQUAL,v,h),a.stencilOp(a.KEEP,a.KEEP,a.INCR),v++):(a.stencilFunc(a.EQUAL,v+1,h),a.stencilOp(a.KEEP,a.KEEP,a.DECR)),this.level=v,d.renderWebGL(f,d,u),f.flush(),a.colorMask(!0,!0,!0,!0),a.stencilOp(a.KEEP,a.KEEP,a.KEEP),this.invertAlpha?a.stencilFunc(a.NOTEQUAL,v,h):a.stencilFunc(a.EQUAL,v,h)},postRenderWebGL:function(f){var u=f.gl;f.maskStack.pop(),f.maskCount--,f.flush();var l=f.currentMask;if(f.maskStack.length===0)l.mask=null,u.disable(u.STENCIL_TEST);else{var a=f.maskStack[f.maskStack.length-1];a.mask.applyStencil(f,a.camera,!1),f.currentCameraMask.mask!==a.mask?(l.mask=a.mask,l.camera=a.camera):l.mask=null}},preRenderCanvas:function(f,u,l){var a=this.geometryMask;f.currentContext.save(),a.renderCanvas(f,a,l,null,null,!0),f.currentContext.clip()},postRenderCanvas:function(f){f.currentContext.restore()},destroy:function(){this.geometryMask=null}});n.exports=y},69781:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BitmapMask:s(6858),GeometryMask:s(80661)}},73894:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=new o({initialize:function(u,l,a,d){(!l||l==="")&&(l=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!a||a==="")&&(a=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),d===void 0&&(d=null),this.key=u,this.fragmentSrc=l,this.vertexSrc=a,this.uniforms=d}});n.exports=y},40366:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){var y;if(o)typeof o=="string"?y=document.getElementById(o):typeof o=="object"&&o.nodeType===1&&(y=o);else if(s.parentElement||o===null)return s;return y||(y=document.body),y.appendChild(s),s};n.exports=C},83719:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(40366),y=function(f){var u=f.config;if(!(!u.parent||!u.domCreateContainer)){var l=document.createElement("div");l.style.cssText=["display: block;","width: "+f.scale.width+"px;","height: "+f.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+u.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),f.domContainer=l,o(l,u.parent)}};n.exports=y},57264:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25892),y=function(f){if(document.readyState==="complete"||document.readyState==="interactive"){f();return}var u=function(){document.removeEventListener("deviceready",u,!0),document.removeEventListener("DOMContentLoaded",u,!0),window.removeEventListener("load",u,!0),f()};document.body?o.cordova?document.addEventListener("deviceready",u,!1):(document.addEventListener("DOMContentLoaded",u,!0),window.addEventListener("load",u,!0)):window.setTimeout(u,20)};n.exports=y},57811:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){if(!s)return window.innerHeight;var o=Math.abs(window.orientation),y={w:0,h:0},f=document.createElement("div");return f.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(f),y.w=o===90?f.offsetHeight:window.innerWidth,y.h=o===90?window.innerWidth:f.offsetHeight,document.documentElement.removeChild(f),f=null,Math.abs(window.orientation)!==90?y.h:y.w};n.exports=C},45818:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(13560),y=function(f,u){var l=window.screen,a=l?l.orientation||l.mozOrientation||l.msOrientation:!1;if(a&&typeof a.type=="string")return a.type;if(typeof a=="string")return a;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return o.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return o.ORIENTATION.LANDSCAPE}else return u>f?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE};n.exports=y},74403:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){var o;return s!==""&&(typeof s=="string"?o=document.getElementById(s):s&&s.nodeType===1&&(o=s)),o||(o=document.body),o};n.exports=C},56836:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){var o="";try{if(window.DOMParser){var y=new DOMParser;o=y.parseFromString(s,"text/xml")}else o=new ActiveXObject("Microsoft.XMLDOM"),o.loadXML(s)}catch{o=null}return!o||!o.documentElement||o.getElementsByTagName("parsererror").length?null:o};n.exports=C},35846:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){s.parentNode&&s.parentNode.removeChild(s)};n.exports=C},43092:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(29747),f=new o({initialize:function(){this.isRunning=!1,this.callback=y,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var l=this;this.step=function a(d){l.callback(d),l.isRunning&&(l.timeOutID=window.requestAnimationFrame(a))},this.stepTimeout=function a(){l.isRunning&&(l.timeOutID=window.setTimeout(a,l.delay)),l.callback(window.performance.now())}},start:function(u,l,a){this.isRunning||(this.callback=u,this.isSetTimeOut=l,this.delay=a,this.isRunning=!0,this.timeOutID=l?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=y}});n.exports=f},84902:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={AddToDOM:s(40366),DOMContentLoaded:s(57264),GetInnerHeight:s(57811),GetScreenOrientation:s(45818),GetTarget:s(74403),ParseXML:s(56836),RemoveFromDOM:s(35846),RequestAnimationFrame:s(43092)};n.exports=o},47565:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(50792),f=s(37277),u=new o({Extends:y,initialize:function(){y.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});f.register("EventEmitter",u,"events"),n.exports=u},93055:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={EventEmitter:s(47565)}},20122:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(72898),f=s(14811),u=new o({Extends:y,initialize:function(a,d){d===void 0&&(d=1),y.call(this,f.BARREL,a),this.amount=d}});n.exports=u},32251:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(72898),f=s(14811),u=new o({Extends:y,initialize:function(a,d,v,h,c,p,m){v===void 0&&(v=1),h===void 0&&(h=1),c===void 0&&(c=1),p===void 0&&(p=1),m===void 0&&(m=4),y.call(this,f.BLOOM,a),this.steps=m,this.offsetX=v,this.offsetY=h,this.blurStrength=c,this.strength=p,this.glcolor=[1,1,1],d!=null&&(this.color=d)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}}});n.exports=u},9047:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(72898),f=s(14811),u=new o({Extends:y,initialize:function(a,d,v,h,c,p,m){d===void 0&&(d=0),v===void 0&&(v=2),h===void 0&&(h=2),c===void 0&&(c=1),m===void 0&&(m=4),y.call(this,f.BLUR,a),this.quality=d,this.x=v,this.y=h,this.steps=m,this.strength=c,this.glcolor=[1,1,1],p!=null&&(this.color=p)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}}});n.exports=u},27885:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(72898),f=s(14811),u=new o({Extends:y,initialize:function(a,d,v,h,c,p,m,x){d===void 0&&(d=.5),v===void 0&&(v=1),h===void 0&&(h=.2),c===void 0&&(c=!1),p===void 0&&(p=1),m===void 0&&(m=1),x===void 0&&(x=1),y.call(this,f.BOKEH,a),this.radius=d,this.amount=v,this.contrast=h,this.isTiltShift=c,this.strength=x,this.blurX=p,this.blurY=m}});n.exports=u},12578:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(72898),f=s(14811),u=new o({Extends:y,initialize:function(a,d,v,h,c,p){d===void 0&&(d=8),c===void 0&&(c=1),p===void 0&&(p=.005),y.call(this,f.CIRCLE,a),this.scale=c,this.feather=p,this.thickness=d,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],v!=null&&(this.color=v),h!=null&&(this.backgroundColor=h)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}},backgroundColor:{get:function(){var l=this.glcolor2;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor2;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(l){this.glcolor2[3]=l}}});n.exports=u},15802:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(89422),f=s(14811),u=new o({Extends:y,initialize:function(a){y.call(this),this.type=f.COLOR_MATRIX,this.gameObject=a,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});n.exports=u},72898:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=new o({initialize:function(u,l){this.type=u,this.gameObject=l,this.active=!0},setActive:function(f){return this.active=f,this},destroy:function(){this.gameObject=null,this.active=!1}});n.exports=y},44553:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(72898),f=s(14811),u=new o({Extends:y,initialize:function(a,d,v,h){d===void 0&&(d="__WHITE"),v===void 0&&(v=.005),h===void 0&&(h=.005),y.call(this,f.DISPLACEMENT,a),this.x=v,this.y=h,this.glTexture,this.setTexture(d)},setTexture:function(l){var a=this.gameObject.scene.sys.textures.getFrame(l);return a&&(this.glTexture=a.glTexture),this}});n.exports=u},68531:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(72898),f=s(14811),u=new o({Extends:y,initialize:function(a,d,v,h,c){v===void 0&&(v=4),h===void 0&&(h=0),c===void 0&&(c=!1),y.call(this,f.GLOW,a),this.outerStrength=v,this.innerStrength=h,this.knockout=c,this.glcolor=[1,1,1,1],d!==void 0&&(this.color=d)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}}});n.exports=u},37102:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(72898),f=s(14811),u=new o({Extends:y,initialize:function(a,d,v,h,c,p,m,x,T){h===void 0&&(h=.2),c===void 0&&(c=0),p===void 0&&(p=0),m===void 0&&(m=0),x===void 0&&(x=1),T===void 0&&(T=0),y.call(this,f.GRADIENT,a),this.alpha=h,this.size=T,this.fromX=c,this.fromY=p,this.toX=m,this.toY=x,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],d!=null&&(this.color1=d),v!=null&&(this.color2=v)},color1:{get:function(){var l=this.glcolor1;return(l[0]<<16)+(l[1]<<8)+(l[2]|0)},set:function(l){var a=this.glcolor1;a[0]=l>>16&255,a[1]=l>>8&255,a[2]=l&255}},color2:{get:function(){var l=this.glcolor2;return(l[0]<<16)+(l[1]<<8)+(l[2]|0)},set:function(l){var a=this.glcolor2;a[0]=l>>16&255,a[1]=l>>8&255,a[2]=l&255}}});n.exports=u},86886:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(72898),f=s(14811),u=new o({Extends:y,initialize:function(a,d){d===void 0&&(d=1),y.call(this,f.PIXELATE,a),this.amount=d}});n.exports=u},92322:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(72898),f=s(14811),u=new o({Extends:y,initialize:function(a,d,v,h,c,p,m,x){d===void 0&&(d=0),v===void 0&&(v=0),h===void 0&&(h=.1),c===void 0&&(c=1),m===void 0&&(m=6),x===void 0&&(x=1),y.call(this,f.SHADOW,a),this.x=d,this.y=v,this.decay=h,this.power=c,this.glcolor=[0,0,0,1],this.samples=m,this.intensity=x,p!==void 0&&(this.color=p)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}}});n.exports=u},39563:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(72898),f=s(14811),u=new o({Extends:y,initialize:function(a,d,v,h,c){d===void 0&&(d=.5),v===void 0&&(v=.5),h===void 0&&(h=3),c===void 0&&(c=!1),y.call(this,f.SHINE,a),this.speed=d,this.lineWidth=v,this.gradient=h,this.reveal=c}});n.exports=u},56448:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(72898),f=s(14811),u=new o({Extends:y,initialize:function(a,d,v,h,c){d===void 0&&(d=.5),v===void 0&&(v=.5),h===void 0&&(h=.5),c===void 0&&(c=.5),y.call(this,f.VIGNETTE,a),this.x=d,this.y=v,this.radius=h,this.strength=c}});n.exports=u},38433:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(72898),f=s(14811),u=new o({Extends:y,initialize:function(a,d,v,h,c){d===void 0&&(d=.1),v===void 0&&(v=0),h===void 0&&(h=0),c===void 0&&(c=!1),y.call(this,f.WIPE,a),this.progress=0,this.wipeWidth=d,this.direction=v,this.axis=h,this.reveal=c}});n.exports=u},14811:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};n.exports=C},66064:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(79291),y=s(14811),f={Barrel:s(20122),Controller:s(72898),Bloom:s(32251),Blur:s(9047),Bokeh:s(27885),Circle:s(12578),ColorMatrix:s(15802),Displacement:s(44553),Glow:s(68531),Gradient:s(37102),Pixelate:s(86886),Shadow:s(92322),Shine:s(39563),Vignette:s(56448),Wipe:s(38433)};f=o(!1,f,y),n.exports=f},25305:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10312),y=s(23568),f=function(u,l,a){l.x=y(a,"x",0),l.y=y(a,"y",0),l.depth=y(a,"depth",0),l.flipX=y(a,"flipX",!1),l.flipY=y(a,"flipY",!1);var d=y(a,"scale",null);typeof d=="number"?l.setScale(d):d!==null&&(l.scaleX=y(d,"x",1),l.scaleY=y(d,"y",1));var v=y(a,"scrollFactor",null);typeof v=="number"?l.setScrollFactor(v):v!==null&&(l.scrollFactorX=y(v,"x",1),l.scrollFactorY=y(v,"y",1)),l.rotation=y(a,"rotation",0);var h=y(a,"angle",null);h!==null&&(l.angle=h),l.alpha=y(a,"alpha",1);var c=y(a,"origin",null);if(typeof c=="number")l.setOrigin(c);else if(c!==null){var p=y(c,"x",.5),m=y(c,"y",.5);l.setOrigin(p,m)}l.blendMode=y(a,"blendMode",o.NORMAL),l.visible=y(a,"visible",!0);var x=y(a,"add",!0);return x&&u.sys.displayList.add(l),l.preUpdate&&u.sys.updateList.add(l),l};n.exports=f},13059:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(23568),y=function(f,u){var l=o(u,"anims",null);if(l===null)return f;if(typeof l=="string")f.anims.play(l);else if(typeof l=="object"){var a=f.anims,d=o(l,"key",void 0);if(d){var v=o(l,"startFrame",void 0),h=o(l,"delay",0),c=o(l,"repeat",0),p=o(l,"repeatDelay",0),m=o(l,"yoyo",!1),x=o(l,"play",!1),T=o(l,"delayedPlay",0),P={key:d,delay:h,repeat:c,repeatDelay:p,yoyo:m,startFrame:v};x?a.play(P):T>0?a.playAfterDelay(P,T):a.load(P)}}return f};n.exports=y},8050:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(73162),f=s(37277),u=s(51708),l=s(44594),a=s(19186),d=new o({Extends:y,initialize:function(h){y.call(this,h),this.sortChildrenFlag=!1,this.scene=h,this.systems=h.sys,this.events=h.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(l.BOOT,this.boot,this),this.events.on(l.START,this.start,this)},boot:function(){this.events.once(l.DESTROY,this.destroy,this)},addChildCallback:function(v){v.displayList&&v.displayList!==this&&v.removeFromDisplayList(),v.parentContainer&&v.parentContainer.remove(v),v.displayList||(this.queueDepthSort(),v.displayList=this,v.emit(u.ADDED_TO_SCENE,v,this.scene),this.events.emit(l.ADDED_TO_SCENE,v,this.scene))},removeChildCallback:function(v){this.queueDepthSort(),v.displayList=null,v.emit(u.REMOVED_FROM_SCENE,v,this.scene),this.events.emit(l.REMOVED_FROM_SCENE,v,this.scene)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(a(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(v,h){return v._depth-h._depth},getChildren:function(){return this.list},shutdown:function(){for(var v=this.list,h=v.length;h--;)v[h]&&v[h].destroy(!0);v.length=0,this.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});f.register("DisplayList",d,"displayList"),n.exports=d},95643:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(53774),f=s(45893),u=s(50792),l=s(51708),a=s(44594),d=new o({Extends:u,initialize:function(h,c){u.call(this),this.scene=h,this.displayList=null,this.type=c,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(l.ADDED_TO_SCENE,this.addedToScene,this),this.on(l.REMOVED_FROM_SCENE,this.removedFromScene,this),h.sys.queueDepthSort()},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},setState:function(v){return this.state=v,this},setDataEnabled:function(){return this.data||(this.data=new f(this)),this},setData:function(v,h){return this.data||(this.data=new f(this)),this.data.set(v,h),this},incData:function(v,h){return this.data||(this.data=new f(this)),this.data.inc(v,h),this},toggleData:function(v){return this.data||(this.data=new f(this)),this.data.toggle(v),this},getData:function(v){return this.data||(this.data=new f(this)),this.data.get(v)},setInteractive:function(v,h,c){return this.scene.sys.input.enable(this,v,h,c),this},disableInteractive:function(v){return v===void 0&&(v=!1),this.scene.sys.input.disable(this,v),this},removeInteractive:function(v){return v===void 0&&(v=!1),this.scene.sys.input.clear(this),v&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return y(this)},willRender:function(v){var h=this.displayList&&this.displayList.active?this.displayList.willRender(v):!0;return!(!h||d.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&v.id)},getIndexList:function(){for(var v=this,h=this.parentContainer,c=[];h&&(c.unshift(h.getIndex(v)),v=h,h.parentContainer);)h=h.parentContainer;return this.displayList?c.unshift(this.displayList.getIndex(v)):c.unshift(this.scene.sys.displayList.getIndex(v)),c},addToDisplayList:function(v){return v===void 0&&(v=this.scene.sys.displayList),this.displayList&&this.displayList!==v&&this.removeFromDisplayList(),v.exists(this)||(this.displayList=v,v.add(this,!0),v.queueDepthSort(),this.emit(l.ADDED_TO_SCENE,this,this.scene),v.events.emit(a.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var v=this.displayList||this.scene.sys.displayList;return v&&v.exists(this)&&(v.remove(this,!0),v.queueDepthSort(),this.displayList=null,this.emit(l.REMOVED_FROM_SCENE,this,this.scene),v.events.emit(a.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var v=null;return this.parentContainer?v=this.parentContainer.list:this.displayList&&(v=this.displayList.list),v},destroy:function(v){!this.scene||this.ignoreDestroy||(v===void 0&&(v=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(l.DESTROY,this,v),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});d.RENDER_MASK=15,n.exports=d},44603:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(37277),f=s(44594),u=new o({initialize:function(a){this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.displayList,this.updateList,this.events.once(f.BOOT,this.boot,this),this.events.on(f.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(f.DESTROY,this.destroy,this)},start:function(){this.events.once(f.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});u.register=function(l,a){u.prototype.hasOwnProperty(l)||(u.prototype[l]=a)},u.remove=function(l){u.prototype.hasOwnProperty(l)&&delete u.prototype[l]},y.register("GameObjectCreator",u,"make"),n.exports=u},39429:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(37277),f=s(44594),u=new o({initialize:function(a){this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.displayList,this.updateList,this.events.once(f.BOOT,this.boot,this),this.events.on(f.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(f.DESTROY,this.destroy,this)},start:function(){this.events.once(f.SHUTDOWN,this.shutdown,this)},existing:function(l){return(l.renderCanvas||l.renderWebGL)&&this.displayList.add(l),l.preUpdate&&this.updateList.add(l),l},shutdown:function(){this.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});u.register=function(l,a){u.prototype.hasOwnProperty(l)||(u.prototype[l]=a)},u.remove=function(l){u.prototype.hasOwnProperty(l)&&delete u.prototype[l]},y.register("GameObjectFactory",u,"add"),n.exports=u},91296:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(61340),y=new o,f=new o,u=new o,l={camera:y,sprite:f,calc:u},a=function(d,v,h){var c=y,p=f,m=u;return p.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),c.copyFrom(v.matrix),h?(c.multiplyWithOffset(h,-v.scrollX*d.scrollFactorX,-v.scrollY*d.scrollFactorY),p.e=d.x,p.f=d.y):(p.e-=v.scrollX*d.scrollFactorX,p.f-=v.scrollY*d.scrollFactorY),c.multiply(p,m),l};n.exports=a},45027:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(25774),f=s(37277),u=s(44594),l=new o({Extends:y,initialize:function(d){y.call(this),this.checkQueue=!0,this.scene=d,this.systems=d.sys,d.sys.events.once(u.BOOT,this.boot,this),d.sys.events.on(u.START,this.start,this)},boot:function(){this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){var a=this.systems.events;a.on(u.PRE_UPDATE,this.update,this),a.on(u.UPDATE,this.sceneUpdate,this),a.once(u.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(a,d){for(var v=this._active,h=v.length,c=0;c<h;c++){var p=v[c];p.active&&p.preUpdate.call(p,a,d)}},shutdown:function(){for(var a=this._active.length;a--;)this._active[a].destroy(!0);for(a=this._pending.length;a--;)this._pending[a].destroy(!0);for(a=this._destroy.length;a--;)this._destroy[a].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var d=this.systems.events;d.off(u.PRE_UPDATE,this.update,this),d.off(u.UPDATE,this.sceneUpdate,this),d.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});f.register("UpdateList",l,"updateList"),n.exports=l},3217:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f,u,l,a,d,v,h,c,p,m,x,T){var P=y.x-o.displayOriginX+u,M=y.y-o.displayOriginY+l,E=P+y.w,w=M+y.h,R=a.a,A=a.b,L=a.c,b=a.d,O=a.e,F=a.f,D=P*R+M*L+O,B=P*A+M*b+F,N=P*R+w*L+O,z=P*A+w*b+F,W=E*R+w*L+O,X=E*A+w*b+F,k=E*R+M*L+O,V=E*A+M*b+F;d&&(D=Math.round(D),B=Math.round(B),N=Math.round(N),z=Math.round(z),W=Math.round(W),X=Math.round(X),k=Math.round(k),V=Math.round(V)),s.batchQuad(o,D,B,N,z,W,X,k,V,f.u0,f.v0,f.u1,f.v1,v,h,c,p,m,x,T)};n.exports=C},53048:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){if(y===void 0&&(y=!1),f===void 0)return f={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},f;var u=s.text,l=u.length,a=s.maxWidth,d=s.wordWrapCharCode,v=Number.MAX_VALUE,h=Number.MAX_VALUE,c=0,p=0,m=s.fontData.chars,x=s.fontData.lineHeight,T=s.letterSpacing,P=s.lineSpacing,M=0,E=0,w=0,R=null,A=s._align,L=0,b=0,O=s.fontSize/s.fontData.size,F=O*s.scaleX,D=O*s.scaleY,B=null,N=0,z=[],W=Number.MAX_VALUE,X=0,k=0,V=0,I,U,G,Y=[],H=[],$=null,K=function(Ht,ye){for(var Gt=0,$t=0;$t<Ht.length;$t++){var se=Ht.charCodeAt($t),We=ye.chars[se];We&&(Gt+=We.xAdvance)}return Gt*F};if(a>0){G=u.split(`
`);var Z=[];for(I=0;I<G.length;I++){var J=G[I],j="",Q="",_="",it="";for(U=0;U<J.length;U++)if(w=J.charCodeAt(U),j+=J[U],w===d||U===J.length-1){it=_+j;var q=K(it,s.fontData);q<=a?_=it:(Q=Q.slice(0,-1),Q+=(Q?`
`:"")+_,_=j),j=""}Q=Q.slice(0,-1),Q+=(Q?`
`:"")+_,Z.push(Q)}u=Z.join(`
`),f.wrappedText=u,l=u.length}var ht=0;for(I=0;I<l;I++){if(w=u.charCodeAt(I),w===10){$!==null&&(Y.push({word:$.word,i:$.i,x:$.x*F,y:$.y*D,w:$.w*F,h:$.h*D}),$=null),B=null,z[k]=V,V>X&&(X=V),V<W&&(W=V),k++,V=0,M=0,E=(x+P)*k;continue}if(R=m[w],!!R){if(L=M,b=E,B!==null){var lt=R.kerning[N];L+=lt!==void 0?lt:0}v>L&&(v=L),h>b&&(h=b);var ut=L+R.xAdvance,tt=b+x;c<ut&&(c=ut),p<tt&&(p=tt);var at=R.xOffset+R.xAdvance+(lt!==void 0?lt:0);w===d?$!==null&&(Y.push({word:$.word,i:$.i,x:$.x*F,y:$.y*D,w:$.w*F,h:$.h*D}),$=null):($===null&&($={word:"",i:ht,x:M,y:E,w:0,h:x}),$.word=$.word.concat(u[I]),$.w+=at),H.push({i:ht,idx:I,char:u[I],code:w,x:(R.xOffset+L)*O,y:(R.yOffset+E)*O,w:R.width*O,h:R.height*O,t:E*O,r:ut*O,b:x*O,line:k,glyph:R}),M+=R.xAdvance+T+(lt!==void 0?lt:0),B=R,N=w,V=ut*O,ht++}}if($!==null&&Y.push({word:$.word,i:$.i,x:$.x*F,y:$.y*D,w:$.w*F,h:$.h*D}),z[k]=V,V>X&&(X=V),V<W&&(W=V),A>0)for(var ot=0;ot<H.length;ot++){var pt=H[ot];if(A===1){var Pt=(X-z[pt.line])/2;pt.x+=Pt,pt.r+=Pt}else if(A===2){var kt=X-z[pt.line];pt.x+=kt,pt.r+=kt}}var Ct=f.local,Et=f.global;return G=f.lines,Ct.x=v*O,Ct.y=h*O,Ct.width=c*O,Ct.height=p*O,Et.x=s.x-s._displayOriginX+v*F,Et.y=s.y-s._displayOriginY+h*D,Et.width=c*F,Et.height=p*D,G.shortest=W,G.longest=X,G.lengths=z,o&&(Ct.x=Math.ceil(Ct.x),Ct.y=Math.ceil(Ct.y),Ct.width=Math.ceil(Ct.width),Ct.height=Math.ceil(Ct.height),Et.x=Math.ceil(Et.x),Et.y=Math.ceil(Et.y),Et.width=Math.ceil(Et.width),Et.height=Math.ceil(Et.height),G.shortest=Math.ceil(W),G.longest=Math.ceil(X)),y&&(s._displayOriginX=s.originX*Ct.width,s._displayOriginY=s.originY*Ct.height,Et.x=s.x-s._displayOriginX*s.scaleX,Et.y=s.y-s._displayOriginY*s.scaleY,o&&(Et.x=Math.ceil(Et.x),Et.y=Math.ceil(Et.y))),f.words=Y,f.characters=H,f.lines.height=x,f.scale=O,f.scaleX=s.scaleX,f.scaleY=s.scaleY,f};n.exports=C},61327:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(21859),y=function(f,u,l,a,d,v,h){var c=f.sys.textures.get(l),p=c.get(a),m=f.sys.cache.xml.get(d);if(p&&m){var x=o(m,p,v,h,c);return f.sys.cache.bitmapFont.add(u,{data:x,texture:l,frame:a,fromAtlas:!0}),!0}else return!1};n.exports=y},6925:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35154),y=function(f,u){var l=u.width,a=u.height,d=Math.floor(l/2),v=Math.floor(a/2),h=o(u,"chars","");if(h!==""){var c=o(u,"image",""),p=f.sys.textures.getFrame(c),m=p.cutX,x=p.cutY,T=p.source.width,P=p.source.height,M=o(u,"offset.x",0),E=o(u,"offset.y",0),w=o(u,"spacing.x",0),R=o(u,"spacing.y",0),A=o(u,"lineSpacing",0),L=o(u,"charsPerRow",null);L===null&&(L=T/l,L>h.length&&(L=h.length));for(var b=M,O=E,F={retroFont:!0,font:c,size:l,lineHeight:a+A,chars:{}},D=0,B=0;B<h.length;B++){var N=h.charCodeAt(B),z=(m+b)/T,W=(x+O)/P,X=(m+b+l)/T,k=(x+O+a)/P;F.chars[N]={x:b,y:O,width:l,height:a,centerX:d,centerY:v,xOffset:0,yOffset:0,xAdvance:l,data:{},kerning:{},u0:z,v0:W,u1:X,v1:k},D++,D===L?(D=0,b=M,O+=a+R):b+=l+w}var V={data:F,frame:null,texture:c};return V}};n.exports=y},21859:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(o,y){return parseInt(o.getAttribute(y),10)}var s=function(o,y,f,u,l){f===void 0&&(f=0),u===void 0&&(u=0);var a=y.cutX,d=y.cutY,v=y.source.width,h=y.source.height,c=y.sourceIndex,p={},m=o.getElementsByTagName("info")[0],x=o.getElementsByTagName("common")[0];p.font=m.getAttribute("face"),p.size=C(m,"size"),p.lineHeight=C(x,"lineHeight")+u,p.chars={};var T=o.getElementsByTagName("char"),P=y!==void 0&&y.trimmed;if(P)var M=y.height,E=y.width;for(var w=0;w<T.length;w++){var R=T[w],A=C(R,"id"),L=String.fromCharCode(A),b=C(R,"x"),O=C(R,"y"),F=C(R,"width"),D=C(R,"height");P&&(b<E&&(E=b),O<M&&(M=O)),P&&M!==0&&E!==0&&(b-=y.x,O-=y.y);var B=(a+b)/v,N=(d+O)/h,z=(a+b+F)/v,W=(d+O+D)/h;if(p.chars[A]={x:b,y:O,width:F,height:D,centerX:Math.floor(F/2),centerY:Math.floor(D/2),xOffset:C(R,"xoffset"),yOffset:C(R,"yoffset"),xAdvance:C(R,"xadvance")+f,data:{},kerning:{},u0:B,v0:N,u1:z,v1:W},l&&F!==0&&D!==0){var X=l.add(L,c,b,O,F,D);X&&X.setUVs(F,D,B,N,z,W)}}var k=o.getElementsByTagName("kerning");for(w=0;w<k.length;w++){var V=k[w],I=C(V,"first"),U=C(V,"second"),G=C(V,"amount");p.chars[U].kerning[I]=G}return p};n.exports=s},196:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87662),y=s(79291),f={Parse:s(6925)};f=y(!1,f,o),n.exports=f},87662:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};n.exports=C},2638:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(22186),y=s(83419),f=s(12310),u=new y({Extends:o,Mixins:[f],initialize:function(a,d,v,h,c,p,m){o.call(this,a,d,v,h,c,p,m),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(l,a){return this.cropWidth=l,this.cropHeight=a,this},setDisplayCallback:function(l){return this.displayCallback=l,this},setScrollX:function(l){return this.scrollX=l,this},setScrollY:function(l){return this.scrollY=l,this}});n.exports=u},86741:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20926),y=function(f,u,l,a){var d=u._text,v=d.length,h=f.currentContext;if(!(v===0||!o(f,h,u,l,a))){l.addToRenderList(u);var c=u.fromAtlas?u.frame:u.texture.frames.__BASE,p=u.displayCallback,m=u.callbackData,x=u.fontData.chars,T=u.fontData.lineHeight,P=u._letterSpacing,M=0,E=0,w=0,R=null,A=0,L=0,b=0,O=0,F=0,D=0,B=null,N=0,z=u.frame.source.image,W=c.cutX,X=c.cutY,k=0,V=0,I=u._fontSize/u.fontData.size,U=u._align,G=0,Y=0;u.getTextBounds(!1);var H=u._bounds.lines;U===1?Y=(H.longest-H.lengths[0])/2:U===2&&(Y=H.longest-H.lengths[0]),h.translate(-u.displayOriginX,-u.displayOriginY);var $=l.roundPixels;u.cropWidth>0&&u.cropHeight>0&&(h.beginPath(),h.rect(0,0,u.cropWidth,u.cropHeight),h.clip());for(var K=0;K<v;K++){if(V=I,k=0,w=d.charCodeAt(K),w===10){G++,U===1?Y=(H.longest-H.lengths[G])/2:U===2&&(Y=H.longest-H.lengths[G]),M=0,E+=T,B=null;continue}if(R=x[w],!!R){if(A=W+R.x,L=X+R.y,b=R.width,O=R.height,F=R.xOffset+M-u.scrollX,D=R.yOffset+E-u.scrollY,B!==null){var Z=R.kerning[N];F+=Z!==void 0?Z:0}if(p){m.index=K,m.charCode=w,m.x=F,m.y=D,m.scale=V,m.rotation=k,m.data=R.data;var J=p(m);F=J.x,D=J.y,V=J.scale,k=J.rotation}F*=V,D*=V,F+=Y,M+=R.xAdvance+P+(Z!==void 0?Z:0),B=R,N=w,!(b===0||O===0||w===32)&&($&&(F=Math.round(F),D=Math.round(D)),h.save(),h.translate(F,D),h.rotate(k),h.scale(V,V),h.drawImage(z,A,L,b,O,0,0,b,O),h.restore())}}h.restore()}};n.exports=y},11164:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2638),y=s(25305),f=s(44603),u=s(23568);f.register("dynamicBitmapText",function(l,a){l===void 0&&(l={});var d=u(l,"font",""),v=u(l,"text",""),h=u(l,"size",!1),c=new o(this.scene,0,0,d,v,h);return a!==void 0&&(l.add=a),y(this.scene,c,l),c})},72566:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2638),y=s(39429);y.register("dynamicBitmapText",function(f,u,l,a,d){return this.displayList.add(new o(this.scene,f,u,l,a,d))})},12310:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(73482),f=s(86741),n.exports={renderWebGL:y,renderCanvas:f}},73482:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),y=s(61340),f=s(70554),u=new y,l=function(a,d,v,h){var c=d.text,p=c.length;if(p!==0){v.addToRenderList(d);var m=a.pipelines.set(d.pipeline,d),x=o(d,v,h);a.pipelines.preBatch(d);var T=x.sprite,P=x.calc,M=u,E=d.cropWidth>0||d.cropHeight>0;E&&(m.flush(),a.pushScissor(P.tx,P.ty,d.cropWidth*P.scaleX,d.cropHeight*P.scaleY));var w=d.frame,R=w.glTexture,A=d.tintFill,L=f.getTintAppendFloatAlpha(d.tintTopLeft,v.alpha*d._alphaTL),b=f.getTintAppendFloatAlpha(d.tintTopRight,v.alpha*d._alphaTR),O=f.getTintAppendFloatAlpha(d.tintBottomLeft,v.alpha*d._alphaBL),F=f.getTintAppendFloatAlpha(d.tintBottomRight,v.alpha*d._alphaBR),D=m.setGameObject(d),B=0,N=0,z=0,W=0,X=d.letterSpacing,k,V=0,I=0,U,G=d.scrollX,Y=d.scrollY,H=d.fontData,$=H.chars,K=H.lineHeight,Z=d.fontSize/H.size,J=0,j=d._align,Q=0,_=0,it=d.getTextBounds(!1);d.maxWidth>0&&(c=it.wrappedText,p=c.length);var q=d._bounds.lines;j===1?_=(q.longest-q.lengths[0])/2:j===2&&(_=q.longest-q.lengths[0]);for(var ht=v.roundPixels,lt=d.displayCallback,ut=d.callbackData,tt=0;tt<p;tt++){if(z=c.charCodeAt(tt),z===10){Q++,j===1?_=(q.longest-q.lengths[Q])/2:j===2&&(_=q.longest-q.lengths[Q]),B=0,N+=K,U=null;continue}if(k=$[z],!!k){V=k.width,I=k.height;var at=k.xOffset+B-G,ot=k.yOffset+N-Y;if(U!==null){var pt=k.kerning[W]||0;at+=pt,B+=pt}if(B+=k.xAdvance+X,U=k,W=z,!(V===0||I===0||z===32)){if(Z=d.fontSize/d.fontData.size,J=0,lt){ut.color=0,ut.tint.topLeft=L,ut.tint.topRight=b,ut.tint.bottomLeft=O,ut.tint.bottomRight=F,ut.index=tt,ut.charCode=z,ut.x=at,ut.y=ot,ut.scale=Z,ut.rotation=J,ut.data=k.data;var Pt=lt(ut);at=Pt.x,ot=Pt.y,Z=Pt.scale,J=Pt.rotation,Pt.color?(L=Pt.color,b=Pt.color,O=Pt.color,F=Pt.color):(L=Pt.tint.topLeft,b=Pt.tint.topRight,O=Pt.tint.bottomLeft,F=Pt.tint.bottomRight),L=f.getTintAppendFloatAlpha(L,v.alpha*d._alphaTL),b=f.getTintAppendFloatAlpha(b,v.alpha*d._alphaTR),O=f.getTintAppendFloatAlpha(O,v.alpha*d._alphaBL),F=f.getTintAppendFloatAlpha(F,v.alpha*d._alphaBR)}at*=Z,ot*=Z,at-=d.displayOriginX,ot-=d.displayOriginY,at+=_,M.applyITRS(at,ot,J,Z,Z),P.multiply(M,T);var kt=k.u0,Ct=k.v0,Et=k.u1,Ht=k.v1,ye=V,Gt=I,$t=T.e,se=T.f,We=Gt*T.c+T.e,Rn=Gt*T.d+T.f,An=ye*T.a+Gt*T.c+T.e,Ln=ye*T.b+Gt*T.d+T.f,On=ye*T.a+T.e,Fn=ye*T.b+T.f;ht&&($t=Math.round($t),se=Math.round(se),We=Math.round(We),Rn=Math.round(Rn),An=Math.round(An),Ln=Math.round(Ln),On=Math.round(On),Fn=Math.round(Fn)),m.shouldFlush(6)&&(m.flush(),D=m.setGameObject(d)),m.batchQuad(d,$t,se,We,Rn,An,Ln,On,Fn,kt,Ct,Et,Ht,L,b,O,F,A,R,D)}}}E&&(m.flush(),a.popScissor()),a.pipelines.postBatch(d)}};n.exports=l},22186:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(45319),f=s(31401),u=s(95643),l=s(53048),a=s(61327),d=s(21859),v=s(87841),h=s(18658),c=new o({Extends:u,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Texture,f.Tint,f.Transform,f.Visible,h],initialize:function(m,x,T,P,M,E,w){M===void 0&&(M=""),w===void 0&&(w=0),u.call(this,m,"BitmapText"),this.font=P;var R=this.scene.sys.cache.bitmapFont.get(P);if(!R)throw new Error("Invalid BitmapText key: "+P);this.fontData=R.data,this._text="",this._fontSize=E||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=w,this._bounds=l(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=R.fromAtlas,this.setTexture(R.texture,R.frame),this.setPosition(x,T),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(M)},setLeftAlign:function(){return this._align=c.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=c.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=c.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(p){return this._fontSize=p,this._dirty=!0,this},setLetterSpacing:function(p){return p===void 0&&(p=0),this._letterSpacing=p,this._dirty=!0,this},setLineSpacing:function(p){return p===void 0&&(p=0),this.lineSpacing=p,this},setText:function(p){return!p&&p!==0&&(p=""),Array.isArray(p)&&(p=p.join(`
`)),p!==this.text&&(this._text=p.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(p,m,x,T){return p===void 0&&(p=0),m===void 0&&(m=0),x===void 0&&(x=0),T===void 0&&(T=.5),this.dropShadowX=p,this.dropShadowY=m,this.dropShadowColor=x,this.dropShadowAlpha=T,this},setCharacterTint:function(p,m,x,T,P,M,E){p===void 0&&(p=0),m===void 0&&(m=1),x===void 0&&(x=!1),T===void 0&&(T=-1),P===void 0&&(P=T,M=T,E=T);var w=this.text.length;m===-1&&(m=w),p<0&&(p=w+p),p=y(p,0,w-1);for(var R=y(p+m,p,w),A=this.charColors,L=p;L<R;L++){var b=A[L];if(T===-1)A[L]=null;else{var O=x?1:0;b?(b.tintEffect=O,b.tintTL=T,b.tintTR=P,b.tintBL=M,b.tintBR=E):A[L]={tintEffect:O,tintTL:T,tintTR:P,tintBL:M,tintBR:E}}}return this},setWordTint:function(p,m,x,T,P,M,E){m===void 0&&(m=1);for(var w=this.getTextBounds(),R=w.words,A=typeof p=="number",L=0,b=0;b<R.length;b++){var O=R[b];if((A&&b===p||!A&&O.word===p)&&(this.setCharacterTint(O.i,O.word.length,x,T,P,M,E),L++,L===m))return this}return this},getTextBounds:function(p){var m=this._bounds;return(this._dirty||p||this.scaleX!==m.scaleX||this.scaleY!==m.scaleY)&&(l(this,p,!0,m),this._dirty=!1),m},getCharacterAt:function(p,m,x){for(var T=this.getLocalPoint(p,m,null,x),P=this.getTextBounds(),M=P.characters,E=new v,w=0;w<M.length;w++){var R=M[w];if(E.setTo(R.x,R.t,R.r-R.x,R.b),E.contains(T.x,T.y))return R}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(p,m,x){m===void 0&&(m=this._fontSize),x===void 0&&(x=this._align);var T=this.scene.sys.cache.bitmapFont.get(p);return T&&(this.font=p,this.fontData=T.data,this._fontSize=m,this._align=x,this.fromAtlas=T.fromAtlas===!0,this.setTexture(T.texture,T.frame),l(this,!1,!0,this._bounds)),this},setMaxWidth:function(p,m){return this._maxWidth=p,this._dirty=!0,m!==void 0&&(this.wordWrapCharCode=m),this},setDisplaySize:function(p,m){this.setScale(1,1),this.getTextBounds(!1);var x=p/this.width,T=m/this.height;return this.setScale(x,T),this},align:{set:function(p){this._align=p,this._dirty=!0},get:function(){return this._align}},text:{set:function(p){this.setText(p)},get:function(){return this._text}},fontSize:{set:function(p){this._fontSize=p,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(p){this._letterSpacing=p,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(p){this._lineSpacing=p,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(p){this._maxWidth=p,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{set:function(p){this.setScaleX(1),this.getTextBounds(!1);var m=p/this.width;this.setScaleX(m)},get:function(){return this.width}},displayHeight:{set:function(p){this.setScaleY(1),this.getTextBounds(!1);var m=p/this.height;this.setScaleY(m)},get:function(){return this.height}},toJSON:function(){var p=f.ToJSON(this),m={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return p.data=m,p},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});c.ALIGN_LEFT=0,c.ALIGN_CENTER=1,c.ALIGN_RIGHT=2,c.ParseFromAtlas=a,c.ParseXMLBitmapFont=d,n.exports=c},37289:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20926),y=function(f,u,l,a){var d=u._text,v=d.length,h=f.currentContext;if(!(v===0||!o(f,h,u,l,a))){l.addToRenderList(u);var c=u.fromAtlas?u.frame:u.texture.frames.__BASE,p=u.fontData.chars,m=u.fontData.lineHeight,x=u._letterSpacing,T=u._lineSpacing,P=0,M=0,E=0,w=null,R=0,A=0,L=0,b=0,O=0,F=0,D=null,B=0,N=c.source.image,z=c.cutX,W=c.cutY,X=u._fontSize/u.fontData.size,k=u._align,V=0,I=0,U=u.getTextBounds(!1);u.maxWidth>0&&(d=U.wrappedText,v=d.length);var G=u._bounds.lines;k===1?I=(G.longest-G.lengths[0])/2:k===2&&(I=G.longest-G.lengths[0]),h.translate(-u.displayOriginX,-u.displayOriginY);for(var Y=l.roundPixels,H=0;H<v;H++){if(E=d.charCodeAt(H),E===10){V++,k===1?I=(G.longest-G.lengths[V])/2:k===2&&(I=G.longest-G.lengths[V]),P=0,M+=m+T,D=null;continue}if(w=p[E],!!w){if(R=z+w.x,A=W+w.y,L=w.width,b=w.height,O=w.xOffset+P,F=w.yOffset+M,D!==null){var $=w.kerning[B];O+=$!==void 0?$:0}O*=X,F*=X,O+=I,P+=w.xAdvance+x+($!==void 0?$:0),D=w,B=E,!(L===0||b===0||E===32)&&(Y&&(O=Math.round(O),F=Math.round(F)),h.save(),h.translate(O,F),h.scale(X,X),h.drawImage(N,R,A,L,b,0,0,L,b),h.restore())}}h.restore()}};n.exports=y},57336:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(22186),y=s(25305),f=s(44603),u=s(23568),l=s(35154);f.register("bitmapText",function(a,d){a===void 0&&(a={});var v=l(a,"font",""),h=u(a,"text",""),c=u(a,"size",!1),p=l(a,"align",0),m=new o(this.scene,0,0,v,h,c,p);return d!==void 0&&(a.add=d),y(this.scene,m,a),m})},34914:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(22186),y=s(39429);y.register("bitmapText",function(f,u,l,a,d,v){return this.displayList.add(new o(this.scene,f,u,l,a,d,v))})},18658:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(33590),f=s(37289),n.exports={renderWebGL:y,renderCanvas:f}},33590:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(3217),y=s(91296),f=s(70554),u=function(l,a,d,v){var h=a._text,c=h.length;if(c!==0){d.addToRenderList(a);var p=l.pipelines.set(a.pipeline,a),m=y(a,d,v).calc;l.pipelines.preBatch(a);var x=d.roundPixels,T=d.alpha,P=a.charColors,M=a.tintFill,E=f.getTintAppendFloatAlpha,w=E(a.tintTopLeft,T*a._alphaTL),R=E(a.tintTopRight,T*a._alphaTR),A=E(a.tintBottomLeft,T*a._alphaBL),L=E(a.tintBottomRight,T*a._alphaBR),b=a.frame.glTexture,O=p.setGameObject(a),F=a.getTextBounds(!1),D,B,N,z=F.characters,W=a.dropShadowX,X=a.dropShadowY,k=W!==0||X!==0;if(k){var V=a.dropShadowColor,I=a.dropShadowAlpha,U=E(V,T*I*a._alphaTL),G=E(V,T*I*a._alphaTR),Y=E(V,T*I*a._alphaBL),H=E(V,T*I*a._alphaBR);for(D=0;D<z.length;D++)B=z[D],N=B.glyph,!(B.code===32||N.width===0||N.height===0)&&o(p,a,B,N,W,X,m,x,U,G,Y,H,1,b,O)}for(D=0;D<z.length;D++)if(B=z[D],N=B.glyph,!(B.code===32||N.width===0||N.height===0))if(p.shouldFlush(6)&&(p.flush(),O=p.setGameObject(a)),P[B.i]){var $=P[B.i],K=$.tintEffect,Z=E($.tintTL,T*a._alphaTL),J=E($.tintTR,T*a._alphaTR),j=E($.tintBL,T*a._alphaBL),Q=E($.tintBR,T*a._alphaBR);o(p,a,B,N,0,0,m,x,Z,J,j,Q,K,b,O)}else o(p,a,B,N,0,0,m,x,w,R,A,L,M,b,O);l.pipelines.postBatch(a)}};n.exports=u},6107:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(48011),y=s(46590),f=s(83419),u=s(31401),l=s(4327),a=s(95643),d=s(73162),v=new f({Extends:a,Mixins:[u.Alpha,u.BlendMode,u.Depth,u.Mask,u.Pipeline,u.PostPipeline,u.ScrollFactor,u.Size,u.Texture,u.Transform,u.Visible,o],initialize:function(c,p,m,x,T){a.call(this,c,"Blitter"),this.setTexture(x,T),this.setPosition(p,m),this.initPipeline(),this.initPostPipeline(),this.children=new d,this.renderList=[],this.dirty=!1},create:function(h,c,p,m,x){m===void 0&&(m=!0),x===void 0&&(x=this.children.length),p===void 0?p=this.frame:p instanceof l||(p=this.texture.get(p));var T=new y(this,h,c,p,m);return this.children.addAt(T,x,!1),this.dirty=!0,T},createFromCallback:function(h,c,p,m){for(var x=this.createMultiple(c,p,m),T=0;T<x.length;T++){var P=x[T];h.call(this,P,T)}return x},createMultiple:function(h,c,p){c===void 0&&(c=this.frame.name),p===void 0&&(p=!0),Array.isArray(c)||(c=[c]);var m=[],x=this;return c.forEach(function(T){for(var P=0;P<h;P++)m.push(x.create(0,0,T,p))}),m},childCanRender:function(h){return h.visible&&h.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});n.exports=v},72396:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){var u=o.getRenderList();if(u.length!==0){var l=s.currentContext,a=y.alpha*o.alpha;if(a!==0){y.addToRenderList(o),l.globalCompositeOperation=s.blendModes[o.blendMode],l.imageSmoothingEnabled=!o.frame.source.scaleMode;var d=o.x-y.scrollX*o.scrollFactorX,v=o.y-y.scrollY*o.scrollFactorY;l.save(),f&&f.copyToContext(l);for(var h=y.roundPixels,c=0;c<u.length;c++){var p=u[c],m=p.flipX||p.flipY,x=p.frame,T=x.canvasData,P=x.x,M=x.y,E=1,w=1,R=p.alpha*a;R!==0&&(l.globalAlpha=R,m?(p.flipX&&(E=-1,P-=T.width),p.flipY&&(w=-1,M-=T.height),T.width>0&&T.height>0&&(l.save(),l.translate(p.x+d,p.y+v),l.scale(E,w),l.drawImage(x.source.image,T.x,T.y,T.width,T.height,P,M,T.width,T.height),l.restore())):(h&&(P=Math.round(P),M=Math.round(M)),T.width>0&&T.height>0&&l.drawImage(x.source.image,T.x,T.y,T.width,T.height,P+p.x+d,M+p.y+v,T.width,T.height)))}l.restore()}}};n.exports=C},9403:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(6107),y=s(25305),f=s(44603),u=s(23568);f.register("blitter",function(l,a){l===void 0&&(l={});var d=u(l,"key",null),v=u(l,"frame",null),h=new o(this.scene,0,0,d,v);return a!==void 0&&(l.add=a),y(this.scene,h,l),h})},12709:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(6107),y=s(39429);y.register("blitter",function(f,u,l,a){return this.displayList.add(new o(this.scene,f,u,l,a))})},48011:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(99485),f=s(72396),n.exports={renderWebGL:y,renderCanvas:f}},99485:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(61340),y=s(70554),f=new o,u=function(l,a,d,v){var h=a.getRenderList(),c=d.alpha*a.alpha;if(!(h.length===0||c===0)){d.addToRenderList(a);var p=l.pipelines.set(this.pipeline,a),m=d.scrollX*a.scrollFactorX,x=d.scrollY*a.scrollFactorY,T=f.copyFrom(d.matrix);v&&(T.multiplyWithOffset(v,-m,-x),m=0,x=0);var P=a.x-m,M=a.y-x,E=-1,w=!1,R=d.roundPixels;l.pipelines.preBatch(a);for(var A=0;A<h.length;A++){var L=h[A],b=L.frame,O=L.alpha*c;if(O!==0){var F=b.width,D=b.height,B=P+L.x+b.x,N=M+L.y+b.y;L.flipX&&(F*=-1,B+=b.width),L.flipY&&(D*=-1,N+=b.height);var z=T.setQuad(B,N,B+F,N+D,R),W=y.getTintAppendFloatAlpha(L.tint,O);if(b.sourceIndex!==E){var X=p.setGameObject(a,b);E=b.sourceIndex}p.batchQuad(a,z[0],z[1],z[2],z[3],z[4],z[5],z[6],z[7],b.u0,b.v0,b.u1,b.v1,W,W,W,W,w,b.glTexture,X)&&(E=-1)}}l.pipelines.postBatch(a)}};n.exports=u},46590:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(4327),f=new o({initialize:function(l,a,d,v,h){this.parent=l,this.x=a,this.y=d,this.frame=v,this.data={},this.tint=16777215,this._visible=h,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(u){return u===void 0?this.frame=this.parent.frame:u instanceof y&&u.texture===this.parent.texture?this.frame=u:this.frame=this.parent.texture.get(u),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(u,l,a){return this.x=u,this.y=l,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,a&&this.setFrame(a),this},setPosition:function(u,l){return this.x=u,this.y=l,this},setFlipX:function(u){return this.flipX=u,this},setFlipY:function(u){return this.flipY=u,this},setFlip:function(u,l){return this.flipX=u,this.flipY=l,this},setVisible:function(u){return this.visible=u,this},setAlpha:function(u){return this.alpha=u,this},setTint:function(u){return this.tint=u,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(u){this.parent.dirty|=this._visible!==u,this._visible=u}},alpha:{get:function(){return this._alpha},set:function(u){this.parent.dirty|=this._alpha>0!=u>0,this._alpha=u}}});n.exports=f},16005:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),y=2,f={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(u,l,a,d){return u===void 0&&(u=1),l===void 0?this.alpha=u:(this._alphaTL=o(u,0,1),this._alphaTR=o(l,0,1),this._alphaBL=o(a,0,1),this._alphaBR=o(d,0,1)),this},alpha:{get:function(){return this._alpha},set:function(u){var l=o(u,0,1);this._alpha=l,this._alphaTL=l,this._alphaTR=l,this._alphaBL=l,this._alphaBR=l,l===0?this.renderFlags&=-3:this.renderFlags|=y}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(u){var l=o(u,0,1);this._alphaTL=l,l!==0&&(this.renderFlags|=y)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(u){var l=o(u,0,1);this._alphaTR=l,l!==0&&(this.renderFlags|=y)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(u){var l=o(u,0,1);this._alphaBL=l,l!==0&&(this.renderFlags|=y)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(u){var l=o(u,0,1);this._alphaBR=l,l!==0&&(this.renderFlags|=y)}}};n.exports=f},88509:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),y=2,f={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(u){return u===void 0&&(u=1),this.alpha=u,this},alpha:{get:function(){return this._alpha},set:function(u){var l=o(u,0,1);this._alpha=l,l===0?this.renderFlags&=-3:this.renderFlags|=y}}};n.exports=f},90065:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10312),y={_blendMode:o.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(f){typeof f=="string"&&(f=o[f]),f|=0,f>=-1&&(this._blendMode=f)}},setBlendMode:function(f){return this.blendMode=f,this}};n.exports=y},94215:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(s){this.scaleX=s/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(s){this.scaleY=s/this.height}},setSize:function(s,o){return this.width=s,this.height=o,this},setDisplaySize:function(s,o){return this.displayWidth=s,this.displayHeight=o,this}};n.exports=C},61683:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={texture:null,frame:null,isCropped:!1,setCrop:function(s,o,y,f){if(s===void 0)this.isCropped=!1;else if(this.frame){if(typeof s=="number")this.frame.setCropUVs(this._crop,s,o,y,f,this.flipX,this.flipY);else{var u=s;this.frame.setCropUVs(this._crop,u.x,u.y,u.width,u.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};n.exports=C},89272:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37105),y={_depth:0,depth:{get:function(){return this._depth},set:function(f){this.displayList&&this.displayList.queueDepthSort(),this._depth=f}},setDepth:function(f){return f===void 0&&(f=0),this.depth=f,this},setToTop:function(){var f=this.getDisplayList();return f&&o.BringToTop(f,this),this},setToBack:function(){var f=this.getDisplayList();return f&&o.SendToBack(f,this),this},setAbove:function(f){var u=this.getDisplayList();return u&&f&&o.MoveAbove(u,this,f),this},setBelow:function(f){var u=this.getDisplayList();return u&&f&&o.MoveBelow(u,this,f),this}};n.exports=y},47059:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(66064),f=s(19133),u=new o({initialize:function(a,d){this.gameObject=a,this.isPost=d,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(l){return l===void 0&&(l=0),this.padding=l,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(l){if(!this.isPost){var a=this.gameObject.scene.sys.renderer;a&&a.pipelines?(this.gameObject.pipeline=a.pipelines.FX_PIPELINE,l!==void 0&&(this.padding=l),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var l=this.list,a=0;a<l.length;a++)l[a].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(l){var a;if(this.isPost){var d=this.gameObject.getPostPipeline(String(l.type));for(Array.isArray(d)||(d=[d]),a=0;a<d.length;a++){var v=d[a];if(v.controller===l){this.gameObject.removePostPipeline(v),l.destroy();break}}}else{var h=this.list;for(a=0;a<h.length;a++)h[a]===l&&(f(h,a),l.destroy())}return this.gameObject},disable:function(l){return l===void 0&&(l=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,l&&this.clear(),this.gameObject},add:function(l,a){if(this.isPost){var d=String(l.type);this.gameObject.setPostPipeline(d,a);var v=this.gameObject.getPostPipeline(d);if(v)return Array.isArray(v)&&(v=v.pop()),v&&(v.controller=l),l}else return this.enabled||this.enable(),this.list.push(l),l},addGlow:function(l,a,d,v,h,c){return this.add(new y.Glow(this.gameObject,l,a,d,v),{quality:h,distance:c})},addShadow:function(l,a,d,v,h,c,p){return this.add(new y.Shadow(this.gameObject,l,a,d,v,h,c,p))},addPixelate:function(l){return this.add(new y.Pixelate(this.gameObject,l))},addVignette:function(l,a,d,v){return this.add(new y.Vignette(this.gameObject,l,a,d,v))},addShine:function(l,a,d,v){return this.add(new y.Shine(this.gameObject,l,a,d,v))},addBlur:function(l,a,d,v,h,c){return this.add(new y.Blur(this.gameObject,l,a,d,v,h,c))},addGradient:function(l,a,d,v,h,c,p,m){return this.add(new y.Gradient(this.gameObject,l,a,d,v,h,c,p,m))},addBloom:function(l,a,d,v,h,c){return this.add(new y.Bloom(this.gameObject,l,a,d,v,h,c))},addColorMatrix:function(){return this.add(new y.ColorMatrix(this.gameObject))},addCircle:function(l,a,d,v,h){return this.add(new y.Circle(this.gameObject,l,a,d,v,h))},addBarrel:function(l){return this.add(new y.Barrel(this.gameObject,l))},addDisplacement:function(l,a,d){return this.add(new y.Displacement(this.gameObject,l,a,d))},addWipe:function(l,a,d){return this.add(new y.Wipe(this.gameObject,l,a,d))},addReveal:function(l,a,d){return this.add(new y.Wipe(this.gameObject,l,a,d,!0))},addBokeh:function(l,a,d){return this.add(new y.Bokeh(this.gameObject,l,a,d))},addTiltShift:function(l,a,d,v,h,c){return this.add(new y.Bokeh(this.gameObject,l,a,d,!0,v,h,c))},destroy:function(){this.clear(),this.gameObject=null}});n.exports=u},54434:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(s){return this.flipX=s,this},setFlipY:function(s){return this.flipY=s,this},setFlip:function(s,o){return this.flipX=s,this.flipY=o,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};n.exports=C},8004:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),y=s(11520),f=s(26099),u={prepareBoundsOutput:function(l,a){if(a===void 0&&(a=!1),this.rotation!==0&&y(l,this.x,this.y,this.rotation),a&&this.parentContainer){var d=this.parentContainer.getBoundsTransformMatrix();d.transformPoint(l.x,l.y,l)}return l},getCenter:function(l,a){return l===void 0&&(l=new f),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,a)},getTopLeft:function(l,a){return l||(l=new f),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,a)},getTopCenter:function(l,a){return l||(l=new f),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,a)},getTopRight:function(l,a){return l||(l=new f),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,a)},getLeftCenter:function(l,a){return l||(l=new f),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,a)},getRightCenter:function(l,a){return l||(l=new f),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,a)},getBottomLeft:function(l,a){return l||(l=new f),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,a)},getBottomCenter:function(l,a){return l||(l=new f),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,a)},getBottomRight:function(l,a){return l||(l=new f),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,a)},getBounds:function(l){l===void 0&&(l=new o);var a,d,v,h,c,p,m,x;if(this.parentContainer){var T=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(l),T.transformPoint(l.x,l.y,l),a=l.x,d=l.y,this.getTopRight(l),T.transformPoint(l.x,l.y,l),v=l.x,h=l.y,this.getBottomLeft(l),T.transformPoint(l.x,l.y,l),c=l.x,p=l.y,this.getBottomRight(l),T.transformPoint(l.x,l.y,l),m=l.x,x=l.y}else this.getTopLeft(l),a=l.x,d=l.y,this.getTopRight(l),v=l.x,h=l.y,this.getBottomLeft(l),c=l.x,p=l.y,this.getBottomRight(l),m=l.x,x=l.y;return l.x=Math.min(a,v,c,m),l.y=Math.min(d,h,p,x),l.width=Math.max(a,v,c,m)-l.x,l.height=Math.max(d,h,p,x)-l.y,l}};n.exports=u},8573:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(6858),y=s(80661),f={mask:null,setMask:function(u){return this.mask=u,this},clearMask:function(u){return u===void 0&&(u=!1),u&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(u,l,a,d,v){return u===void 0&&(this.texture||this.shader||this.geom)&&(u=this),new o(this.scene,u,l,a,d,v)},createGeometryMask:function(u){return u===void 0&&(this.type==="Graphics"||this.geom)&&(u=this),new y(this.scene,u)}};n.exports=f},27387:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(s){this._displayOriginX=s,this.originX=s/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(s){this._displayOriginY=s,this.originY=s/this.height}},setOrigin:function(s,o){return s===void 0&&(s=.5),o===void 0&&(o=s),this.originX=s,this.originY=o,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(s,o){return s===void 0&&(s=0),o===void 0&&(o=s),this.displayOriginX=s,this.displayOriginY=o,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};n.exports=C},37640:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39506),y=s(57355),f=s(35154),u=s(86353),l=s(26099),a={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:u.PLAYING_FORWARD,setPath:function(d,v){v===void 0&&(v=this.pathConfig);var h=this.pathTween;return h&&h.isPlaying()&&h.stop(),this.path=d,v&&this.startFollow(v),this},setRotateToPath:function(d,v){return v===void 0&&(v=0),this.rotateToPath=d,this.pathRotationOffset=v,this},isFollowing:function(){var d=this.pathTween;return d&&d.isPlaying()},startFollow:function(d,v){d===void 0&&(d={}),v===void 0&&(v=0);var h=this.pathTween;h&&h.isPlaying()&&h.stop(),typeof d=="number"&&(d={duration:d}),d.from=f(d,"from",0),d.to=f(d,"to",1);var c=y(d,"positionOnPath",!1);this.rotateToPath=y(d,"rotateToPath",!1),this.pathRotationOffset=f(d,"rotationOffset",0);var p=f(d,"startAt",v);if(p&&(d.onStart=function(x){var T=x.data[0];T.progress=p,T.elapsed=T.duration*p;var P=T.ease(T.progress);T.current=T.start+(T.end-T.start)*P,T.setTargetValue()}),this.pathOffset||(this.pathOffset=new l(this.x,this.y)),this.pathVector||(this.pathVector=new l),this.pathDelta||(this.pathDelta=new l),this.pathDelta.reset(),d.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(d),this.path.getStartPoint(this.pathOffset),c&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=u.PLAYING_FORWARD,this.rotateToPath){var m=this.path.getPoint(.1);this.rotation=Math.atan2(m.y-this.y,m.x-this.x)+o(this.pathRotationOffset)}return this.pathConfig=d,this},pauseFollow:function(){var d=this.pathTween;return d&&d.isPlaying()&&d.pause(),this},resumeFollow:function(){var d=this.pathTween;return d&&d.isPaused()&&d.resume(),this},stopFollow:function(){var d=this.pathTween;return d&&d.isPlaying()&&d.stop(),this},pathUpdate:function(){var d=this.pathTween;if(d&&d.data){var v=d.data[0],h=this.pathDelta,c=this.pathVector;if(h.copy(c).negate(),v.state===u.COMPLETE){this.path.getPoint(v.end,c),h.add(c),c.add(this.pathOffset),this.setPosition(c.x,c.y);return}else if(v.state!==u.PLAYING_FORWARD&&v.state!==u.PLAYING_BACKWARD)return;this.path.getPoint(d.getValue(),c),h.add(c),c.add(this.pathOffset);var p=this.x,m=this.y;this.setPosition(c.x,c.y);var x=this.x-p,T=this.y-m;if(x===0&&T===0)return;if(v.state!==this._prevDirection){this._prevDirection=v.state;return}this.rotateToPath&&(this.rotation=Math.atan2(T,x)+o(this.pathRotationOffset))}}};n.exports=a},72699:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62644),y={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(f){this.pipelineData={};var u=this.scene.sys.renderer;if(!u)return!1;var l=u.pipelines;if(l){f===void 0&&(f=l.default);var a=l.get(f);if(a)return this.defaultPipeline=a,this.pipeline=a,!0}return!1},setPipeline:function(f,u,l){var a=this.scene.sys.renderer;if(!a)return this;var d=a.pipelines;if(d){var v=d.get(f);v&&(this.pipeline=v),u&&(this.pipelineData=l?o(u):u)}return this},setPipelineData:function(f,u){var l=this.pipelineData;return u===void 0?delete l[f]:l[f]=u,this},resetPipeline:function(f){return f===void 0&&(f=!1),this.pipeline=this.defaultPipeline,f&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};n.exports=y},17581:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62644),y=s(47059),f=s(19133),u={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(l){this.postPipelines=[],this.postPipelineData={},this.postFX=new y(this,!0),l&&(this.preFX=new y(this,!1))},setPostPipeline:function(l,a,d){var v=this.scene.sys.renderer;if(!v)return this;var h=v.pipelines;if(h){Array.isArray(l)||(l=[l]);for(var c=0;c<l.length;c++){var p=h.getPostPipeline(l[c],this,a);p&&this.postPipelines.push(p)}a&&(this.postPipelineData=d?o(a):a)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(l,a){var d=this.postPipelineData;return a===void 0?delete d[l]:d[l]=a,this},getPostPipeline:function(l){for(var a=typeof l=="string",d=this.postPipelines,v=[],h=0;h<d.length;h++){var c=d[h];(a&&c.name===l||!a&&c instanceof l)&&v.push(c)}return v.length===1?v[0]:v},resetPostPipeline:function(l){l===void 0&&(l=!1);for(var a=this.postPipelines,d=0;d<a.length;d++)a[d].destroy();this.postPipelines=[],this.hasPostPipeline=!1,l&&(this.postPipelineData={})},removePostPipeline:function(l){for(var a=typeof l=="string",d=this.postPipelines,v=d.length-1;v>=0;v--){var h=d[v];(a&&h.name===l||!a&&h===l)&&(h.destroy(),f(d,v))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};n.exports=u},80227:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(s,o){return o===void 0&&(o=s),this.scrollFactorX=s,this.scrollFactorY=o,this}};n.exports=C},16736:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(s){this.scaleX=s/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(s){this.scaleY=s/this.frame.realHeight}},setSizeToFrame:function(s){s||(s=this.frame),this.width=s.realWidth,this.height=s.realHeight;var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=this.width,o.hitArea.height=this.height),this},setSize:function(s,o){return this.width=s,this.height=o,this},setDisplaySize:function(s,o){return this.displayWidth=s,this.displayHeight=o,this}};n.exports=C},37726:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(4327),y=8,f={texture:null,frame:null,isCropped:!1,setTexture:function(u,l,a,d){return this.texture=this.scene.sys.textures.get(u),this.setFrame(l,a,d)},setFrame:function(u,l,a){return l===void 0&&(l=!0),a===void 0&&(a=!0),u instanceof o?(this.texture=this.scene.sys.textures.get(u.texture.key),this.frame=u):this.frame=this.texture.get(u),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=y,this._sizeComponent&&l&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};n.exports=f},79812:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(4327),y=8,f={texture:null,frame:null,isCropped:!1,setCrop:function(u,l,a,d){if(u===void 0)this.isCropped=!1;else if(this.frame){if(typeof u=="number")this.frame.setCropUVs(this._crop,u,l,a,d,this.flipX,this.flipY);else{var v=u;this.frame.setCropUVs(this._crop,v.x,v.y,v.width,v.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(u,l){return this.texture=this.scene.sys.textures.get(u),this.setFrame(l)},setFrame:function(u,l,a){return l===void 0&&(l=!0),a===void 0&&(a=!0),u instanceof o?(this.texture=this.scene.sys.textures.get(u.texture.key),this.frame=u):this.frame=this.texture.get(u),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=y,this._sizeComponent&&l&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};n.exports=f},27472:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(s,o,y,f){return s===void 0&&(s=16777215),o===void 0&&(o=s,y=s,f=s),this.tintTopLeft=s,this.tintTopRight=o,this.tintBottomLeft=y,this.tintBottomRight=f,this.tintFill=!1,this},setTintFill:function(s,o,y,f){return this.setTint(s,o,y,f),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(s){this.setTint(s,s,s,s)}},isTinted:{get:function(){var s=16777215;return this.tintFill||this.tintTopLeft!==s||this.tintTopRight!==s||this.tintBottomLeft!==s||this.tintBottomRight!==s}}};n.exports=C},53774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){var o={name:s.name,type:s.type,x:s.x,y:s.y,depth:s.depth,scale:{x:s.scaleX,y:s.scaleY},origin:{x:s.originX,y:s.originY},flipX:s.flipX,flipY:s.flipY,rotation:s.rotation,alpha:s.alpha,visible:s.visible,blendMode:s.blendMode,textureKey:"",frameKey:"",data:{}};return s.texture&&(o.textureKey=s.texture.key,o.frameKey=s.frame.name),o};n.exports=C},16901:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),y=s(61340),f=s(85955),u=s(86554),l=s(30954),a=s(26099),d=4,v={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(h){this._scaleX=h,this._scaleY=h,h===0?this.renderFlags&=-5:this.renderFlags|=d}},scaleX:{get:function(){return this._scaleX},set:function(h){this._scaleX=h,h===0?this.renderFlags&=-5:this._scaleY!==0&&(this.renderFlags|=d)}},scaleY:{get:function(){return this._scaleY},set:function(h){this._scaleY=h,h===0?this.renderFlags&=-5:this._scaleX!==0&&(this.renderFlags|=d)}},angle:{get:function(){return l(this._rotation*o.RAD_TO_DEG)},set:function(h){this.rotation=l(h)*o.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(h){this._rotation=u(h)}},setPosition:function(h,c,p,m){return h===void 0&&(h=0),c===void 0&&(c=h),p===void 0&&(p=0),m===void 0&&(m=0),this.x=h,this.y=c,this.z=p,this.w=m,this},copyPosition:function(h){return h.x!==void 0&&(this.x=h.x),h.y!==void 0&&(this.y=h.y),h.z!==void 0&&(this.z=h.z),h.w!==void 0&&(this.w=h.w),this},setRandomPosition:function(h,c,p,m){return h===void 0&&(h=0),c===void 0&&(c=0),p===void 0&&(p=this.scene.sys.scale.width),m===void 0&&(m=this.scene.sys.scale.height),this.x=h+Math.random()*p,this.y=c+Math.random()*m,this},setRotation:function(h){return h===void 0&&(h=0),this.rotation=h,this},setAngle:function(h){return h===void 0&&(h=0),this.angle=h,this},setScale:function(h,c){return h===void 0&&(h=1),c===void 0&&(c=h),this.scaleX=h,this.scaleY=c,this},setX:function(h){return h===void 0&&(h=0),this.x=h,this},setY:function(h){return h===void 0&&(h=0),this.y=h,this},setZ:function(h){return h===void 0&&(h=0),this.z=h,this},setW:function(h){return h===void 0&&(h=0),this.w=h,this},getLocalTransformMatrix:function(h){return h===void 0&&(h=new y),h.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(h,c){h===void 0&&(h=new y);var p=this.parentContainer;if(!p)return this.getLocalTransformMatrix(h);var m=!1;for(c||(c=new y,m=!0),h.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);p;)c.applyITRS(p.x,p.y,p._rotation,p._scaleX,p._scaleY),c.multiply(h,h),p=p.parentContainer;return m&&c.destroy(),h},getLocalPoint:function(h,c,p,m){p||(p=new a),m||(m=this.scene.sys.cameras.main);var x=m.scrollX,T=m.scrollY,P=h+x*this.scrollFactorX-x,M=c+T*this.scrollFactorY-T;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(P,M,p):f(P,M,this.x,this.y,this.rotation,this.scaleX,this.scaleY,p),this._originComponent&&(p.x+=this._displayOriginX,p.y+=this._displayOriginY),p},getWorldPoint:function(h,c,p){h===void 0&&(h=new a);var m=this.parentContainer;if(!m)return h.x=this.x,h.y=this.y,h;var x=this.getWorldTransformMatrix(c,p);return h.x=x.tx,h.y=x.ty,h},getParentRotation:function(){for(var h=0,c=this.parentContainer;c;)h+=c.rotation,c=c.parentContainer;return h}};n.exports=v},61340:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(36383),f=s(26099),u=new o({initialize:function(a,d,v,h,c,p){a===void 0&&(a=1),d===void 0&&(d=0),v===void 0&&(v=0),h===void 0&&(h=1),c===void 0&&(c=0),p===void 0&&(p=0),this.matrix=new Float32Array([a,d,v,h,c,p,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(l){this.matrix[0]=l}},b:{get:function(){return this.matrix[1]},set:function(l){this.matrix[1]=l}},c:{get:function(){return this.matrix[2]},set:function(l){this.matrix[2]=l}},d:{get:function(){return this.matrix[3]},set:function(l){this.matrix[3]=l}},e:{get:function(){return this.matrix[4]},set:function(l){this.matrix[4]=l}},f:{get:function(){return this.matrix[5]},set:function(l){this.matrix[5]=l}},tx:{get:function(){return this.matrix[4]},set:function(l){this.matrix[4]=l}},ty:{get:function(){return this.matrix[5]},set:function(l){this.matrix[5]=l}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var l=this.matrix,a=l[0],d=l[1],v=l[2],h=l[3];return a||d?d>0?Math.acos(a/this.scaleX):-Math.acos(a/this.scaleX):v||h?y.TAU-(h>0?Math.acos(-v/this.scaleY):-Math.acos(v/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var l=this.matrix;return l[0]=1,l[1]=0,l[2]=0,l[3]=1,l[4]=0,l[5]=0,this},translate:function(l,a){var d=this.matrix;return d[4]=d[0]*l+d[2]*a+d[4],d[5]=d[1]*l+d[3]*a+d[5],this},scale:function(l,a){var d=this.matrix;return d[0]*=l,d[1]*=l,d[2]*=a,d[3]*=a,this},rotate:function(l){var a=Math.sin(l),d=Math.cos(l),v=this.matrix,h=v[0],c=v[1],p=v[2],m=v[3];return v[0]=h*d+p*a,v[1]=c*d+m*a,v[2]=h*-a+p*d,v[3]=c*-a+m*d,this},multiply:function(l,a){var d=this.matrix,v=l.matrix,h=d[0],c=d[1],p=d[2],m=d[3],x=d[4],T=d[5],P=v[0],M=v[1],E=v[2],w=v[3],R=v[4],A=v[5],L=a===void 0?d:a.matrix;return L[0]=P*h+M*p,L[1]=P*c+M*m,L[2]=E*h+w*p,L[3]=E*c+w*m,L[4]=R*h+A*p+x,L[5]=R*c+A*m+T,L},multiplyWithOffset:function(l,a,d){var v=this.matrix,h=l.matrix,c=v[0],p=v[1],m=v[2],x=v[3],T=v[4],P=v[5],M=a*c+d*m+T,E=a*p+d*x+P,w=h[0],R=h[1],A=h[2],L=h[3],b=h[4],O=h[5];return v[0]=w*c+R*m,v[1]=w*p+R*x,v[2]=A*c+L*m,v[3]=A*p+L*x,v[4]=b*c+O*m+M,v[5]=b*p+O*x+E,this},transform:function(l,a,d,v,h,c){var p=this.matrix,m=p[0],x=p[1],T=p[2],P=p[3],M=p[4],E=p[5];return p[0]=l*m+a*T,p[1]=l*x+a*P,p[2]=d*m+v*T,p[3]=d*x+v*P,p[4]=h*m+c*T+M,p[5]=h*x+c*P+E,this},transformPoint:function(l,a,d){d===void 0&&(d={x:0,y:0});var v=this.matrix,h=v[0],c=v[1],p=v[2],m=v[3],x=v[4],T=v[5];return d.x=l*h+a*p+x,d.y=l*c+a*m+T,d},invert:function(){var l=this.matrix,a=l[0],d=l[1],v=l[2],h=l[3],c=l[4],p=l[5],m=a*h-d*v;return l[0]=h/m,l[1]=-d/m,l[2]=-v/m,l[3]=a/m,l[4]=(v*p-h*c)/m,l[5]=-(a*p-d*c)/m,this},copyFrom:function(l){var a=this.matrix;return a[0]=l.a,a[1]=l.b,a[2]=l.c,a[3]=l.d,a[4]=l.e,a[5]=l.f,this},copyFromArray:function(l){var a=this.matrix;return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a[4]=l[4],a[5]=l[5],this},copyToContext:function(l){var a=this.matrix;return l.transform(a[0],a[1],a[2],a[3],a[4],a[5]),l},setToContext:function(l){return l.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),l},copyToArray:function(l){var a=this.matrix;return l===void 0?l=[a[0],a[1],a[2],a[3],a[4],a[5]]:(l[0]=a[0],l[1]=a[1],l[2]=a[2],l[3]=a[3],l[4]=a[4],l[5]=a[5]),l},setTransform:function(l,a,d,v,h,c){var p=this.matrix;return p[0]=l,p[1]=a,p[2]=d,p[3]=v,p[4]=h,p[5]=c,this},decomposeMatrix:function(){var l=this.decomposedMatrix,a=this.matrix,d=a[0],v=a[1],h=a[2],c=a[3],p=d*c-v*h;if(l.translateX=a[4],l.translateY=a[5],d||v){var m=Math.sqrt(d*d+v*v);l.rotation=v>0?Math.acos(d/m):-Math.acos(d/m),l.scaleX=m,l.scaleY=p/m}else if(h||c){var x=Math.sqrt(h*h+c*c);l.rotation=Math.PI*.5-(c>0?Math.acos(-h/x):-Math.acos(h/x)),l.scaleX=p/x,l.scaleY=x}else l.rotation=0,l.scaleX=0,l.scaleY=0;return l},applyITRS:function(l,a,d,v,h){var c=this.matrix,p=Math.sin(d),m=Math.cos(d);return c[4]=l,c[5]=a,c[0]=m*v,c[1]=p*v,c[2]=-p*h,c[3]=m*h,this},applyInverse:function(l,a,d){d===void 0&&(d=new f);var v=this.matrix,h=v[0],c=v[1],p=v[2],m=v[3],x=v[4],T=v[5],P=1/(h*m+p*-c);return d.x=m*P*l+-p*P*a+(T*p-x*m)*P,d.y=h*P*a+-c*P*l+(-T*h+x*c)*P,d},setQuad:function(l,a,d,v,h,c){h===void 0&&(h=!1),c===void 0&&(c=this.quad);var p=this.matrix,m=p[0],x=p[1],T=p[2],P=p[3],M=p[4],E=p[5],w=l*m+a*T+M,R=l*x+a*P+E,A=l*m+v*T+M,L=l*x+v*P+E,b=d*m+v*T+M,O=d*x+v*P+E,F=d*m+a*T+M,D=d*x+a*P+E;if(h){var B=Math.floor(w+.5),N=Math.floor(R+.5),z=B-w,W=N-R;c[0]=B,c[1]=N,c[2]=A+z,c[3]=L+W,c[4]=b+z,c[5]=O+W,c[6]=F+z,c[7]=D+W}else c[0]=w,c[1]=R,c[2]=A,c[3]=L,c[4]=b,c[5]=O,c[6]=F,c[7]=D;return c},getX:function(l,a){return l*this.a+a*this.c+this.e},getY:function(l,a){return l*this.b+a*this.d+this.f},getXRound:function(l,a,d){var v=this.getX(l,a);return d&&(v=Math.floor(v+.5)),v},getYRound:function(l,a,d){var v=this.getY(l,a);return d&&(v=Math.floor(v+.5)),v},getCSSMatrix:function(){var l=this.matrix;return"matrix("+l[0]+","+l[1]+","+l[2]+","+l[3]+","+l[4]+","+l[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});n.exports=u},59715:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=1,s={_visible:!0,visible:{get:function(){return this._visible},set:function(o){o?(this._visible=!0,this.renderFlags|=C):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(o){return this.visible=o,this}};n.exports=s},31401:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Alpha:s(16005),AlphaSingle:s(88509),BlendMode:s(90065),ComputedSize:s(94215),Crop:s(61683),Depth:s(89272),Flip:s(54434),FX:s(47059),GetBounds:s(8004),Mask:s(8573),Origin:s(27387),PathFollower:s(37640),Pipeline:s(72699),PostPipeline:s(17581),ScrollFactor:s(80227),Size:s(16736),Texture:s(37726),TextureCrop:s(79812),Tint:s(27472),ToJSON:s(53774),Transform:s(16901),TransformMatrix:s(61340),Visible:s(59715)}},31559:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37105),y=s(10312),f=s(83419),u=s(31401),l=s(51708),a=s(95643),d=s(87841),v=s(29959),h=s(36899),c=s(26099),p=new u.TransformMatrix,m=new f({Extends:a,Mixins:[u.AlphaSingle,u.BlendMode,u.ComputedSize,u.Depth,u.Mask,u.PostPipeline,u.Transform,u.Visible,v],initialize:function(T,P,M,E){a.call(this,T,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new u.TransformMatrix,this._sortKey="",this._sysEvents=T.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(P,M),this.setBlendMode(y.SKIP_CHECK),E&&this.add(E)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(x){return x===void 0&&(x=!0),this.exclusive=x,this},getBounds:function(x){if(x===void 0&&(x=new d),x.setTo(this.x,this.y,0,0),this.parentContainer){var T=this.parentContainer.getBoundsTransformMatrix(),P=T.transformPoint(this.x,this.y);x.setTo(P.x,P.y,0,0)}if(this.list.length>0){var M=this.list,E=new d,w=!1;x.setEmpty();for(var R=0;R<M.length;R++){var A=M[R];A.getBounds&&(A.getBounds(E),w?h(E,x,x):(x.setTo(E.x,E.y,E.width,E.height),w=!0))}}return x},addHandler:function(x){x.once(l.DESTROY,this.onChildDestroyed,this),this.exclusive&&(x.parentContainer&&x.parentContainer.remove(x),x.parentContainer=this,x.removeFromDisplayList(),x.addedToScene())},removeHandler:function(x){x.off(l.DESTROY,this.remove,this),this.exclusive&&(x.parentContainer=null,x.removedFromScene(),x.addToDisplayList())},pointToContainer:function(x,T){T===void 0&&(T=new c),this.parentContainer?this.parentContainer.pointToContainer(x,T):(T.x=x.x,T.y=x.y);var P=p;return P.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),P.invert(),P.transformPoint(x.x,x.y,T),T},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(p,this.localTransform)},add:function(x){return o.Add(this.list,x,this.maxSize,this.addHandler,this),this},addAt:function(x,T){return o.AddAt(this.list,x,T,this.maxSize,this.addHandler,this),this},getAt:function(x){return this.list[x]},getIndex:function(x){return this.list.indexOf(x)},sort:function(x,T){return x?(T===void 0&&(T=function(P,M){return P[x]-M[x]}),o.StableSort(this.list,T),this):this},getByName:function(x){return o.GetFirst(this.list,"name",x)},getRandom:function(x,T){return o.GetRandom(this.list,x,T)},getFirst:function(x,T,P,M){return o.GetFirst(this.list,x,T,P,M)},getAll:function(x,T,P,M){return o.GetAll(this.list,x,T,P,M)},count:function(x,T,P,M){return o.CountAllMatching(this.list,x,T,P,M)},swap:function(x,T){return o.Swap(this.list,x,T),this},moveTo:function(x,T){return o.MoveTo(this.list,x,T),this},moveAbove:function(x,T){return o.MoveAbove(this.list,x,T),this},moveBelow:function(x,T){return o.MoveBelow(this.list,x,T),this},remove:function(x,T){var P=o.Remove(this.list,x,this.removeHandler,this);if(T&&P){Array.isArray(P)||(P=[P]);for(var M=0;M<P.length;M++)P[M].destroy()}return this},removeAt:function(x,T){var P=o.RemoveAt(this.list,x,this.removeHandler,this);return T&&P&&P.destroy(),this},removeBetween:function(x,T,P){var M=o.RemoveBetween(this.list,x,T,this.removeHandler,this);if(P)for(var E=0;E<M.length;E++)M[E].destroy();return this},removeAll:function(x){var T=this.list;if(x){for(var P=0;P<T.length;P++)T[P]&&T[P].scene&&(T[P].off(l.DESTROY,this.onChildDestroyed,this),T[P].destroy());this.list=[]}else o.RemoveBetween(T,0,T.length,this.removeHandler,this);return this},bringToTop:function(x){return o.BringToTop(this.list,x),this},sendToBack:function(x){return o.SendToBack(this.list,x),this},moveUp:function(x){return o.MoveUp(this.list,x),this},moveDown:function(x){return o.MoveDown(this.list,x),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(x,T,P){var M=o.Replace(this.list,x,T);return M&&(this.addHandler(T),this.removeHandler(x),P&&x.destroy()),this},exists:function(x){return this.list.indexOf(x)>-1},setAll:function(x,T,P,M){return o.SetAll(this.list,x,T,P,M),this},each:function(x,T){var P=[null],M,E=this.list.slice(),w=E.length;for(M=2;M<arguments.length;M++)P.push(arguments[M]);for(M=0;M<w;M++)P[0]=E[M],x.apply(T,P);return this},iterate:function(x,T){var P=[null],M;for(M=2;M<arguments.length;M++)P.push(arguments[M]);for(M=0;M<this.list.length;M++)P[0]=this.list[M],x.apply(T,P);return this},setScrollFactor:function(x,T,P){return T===void 0&&(T=x),P===void 0&&(P=!1),this.scrollFactorX=x,this.scrollFactorY=T,P&&(o.SetAll(this.list,"scrollFactorX",x),o.SetAll(this.list,"scrollFactorY",T)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(x){o.Remove(this.list,x),this.exclusive&&(x.parentContainer=null,x.removedFromScene())}});n.exports=m},53584:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){y.addToRenderList(o);var u=o.list;if(u.length!==0){var l=o.localTransform;f?(l.loadIdentity(),l.multiply(f),l.translate(o.x,o.y),l.rotate(o.rotation),l.scale(o.scaleX,o.scaleY)):l.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var a=o.blendMode!==-1;a||s.setBlendMode(0);var d=o._alpha,v=o.scrollFactorX,h=o.scrollFactorY;o.mask&&o.mask.preRenderCanvas(s,null,y);for(var c=0;c<u.length;c++){var p=u[c];if(p.willRender(y)){var m=p.alpha,x=p.scrollFactorX,T=p.scrollFactorY;!a&&p.blendMode!==s.currentBlendMode&&s.setBlendMode(p.blendMode),p.setScrollFactor(x*v,T*h),p.setAlpha(m*d),p.renderCanvas(s,p,y,l),p.setAlpha(m),p.setScrollFactor(x,T)}}o.mask&&o.mask.postRenderCanvas(s)}};n.exports=C},77143:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),y=s(31559),f=s(44603),u=s(23568),l=s(95540);f.register("container",function(a,d){a===void 0&&(a={});var v=u(a,"x",0),h=u(a,"y",0),c=l(a,"children",null),p=new y(this.scene,v,h,c);return d!==void 0&&(a.add=d),o(this.scene,p,a),p})},24961:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(31559),y=s(39429);y.register("container",function(f,u,l){return this.displayList.add(new o(this.scene,f,u,l))})},29959:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(72249),f=s(53584),n.exports={renderWebGL:y,renderCanvas:f}},72249:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){y.addToRenderList(o);var u=o.list,l=u.length;if(l!==0){var a=o.localTransform;f?(a.loadIdentity(),a.multiply(f),a.translate(o.x,o.y),a.rotate(o.rotation),a.scale(o.scaleX,o.scaleY)):a.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY),s.pipelines.preBatch(o);var d=o.blendMode!==-1;d||s.setBlendMode(0);for(var v=o.alpha,h=o.scrollFactorX,c=o.scrollFactorY,p=0;p<l;p++){var m=u[p];if(m.willRender(y)){var x,T,P,M;if(m.alphaTopLeft!==void 0)x=m.alphaTopLeft,T=m.alphaTopRight,P=m.alphaBottomLeft,M=m.alphaBottomRight;else{var E=m.alpha;x=E,T=E,P=E,M=E}var w=m.scrollFactorX,R=m.scrollFactorY;!d&&m.blendMode!==s.currentBlendMode&&s.setBlendMode(m.blendMode);var A=m.mask;A&&A.preRenderWebGL(s,m,y);var L=m.type;L!==s.currentType&&(s.newType=!0,s.currentType=L),s.nextTypeMatch=p<l-1?u[p+1].type===s.currentType:!1,m.setScrollFactor(w*h,R*c),m.setAlpha(x*v,T*v,P*v,M*v),m.renderWebGL(s,m,y,a,o),m.setAlpha(x,T,P,M),m.setScrollFactor(w,R),A&&A.postRenderWebGL(s,y),s.newType=!1}}s.pipelines.postBatch(o)}};n.exports=C},47407:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(31401),f=s(441),u=s(95643),l=s(41212),a=s(35846),d=s(44594),v=s(61369),h=new o({Extends:u,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.Origin,y.ScrollFactor,y.Transform,y.Visible,f],initialize:function(p,m,x,T,P,M){if(u.call(this,p,"DOMElement"),this.parent=p.sys.game.domContainer,!this.parent)throw new Error("No DOM Container set in game config");this.cache=p.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new v,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(m,x),typeof T=="string"?T[0]==="#"?this.setElement(T.substr(1),P,M):this.createElement(T,P,M):T&&this.setElement(T,P,M),p.sys.events.on(d.SLEEP,this.handleSceneEvent,this),p.sys.events.on(d.WAKE,this.handleSceneEvent,this),p.sys.events.on(d.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(c){var p=this.node,m=p.style;p&&(m.display=c.settings.visible?"block":"none")},setSkew:function(c,p){return c===void 0&&(c=0),p===void 0&&(p=c),this.skewX=c,this.skewY=p,this},setPerspective:function(c){return this.parent.style.perspective=c+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(c){this.parent.style.perspective=c+"px"}},addListener:function(c){if(this.node){c=c.split(" ");for(var p=0;p<c.length;p++)this.node.addEventListener(c[p],this.handler,!1)}return this},removeListener:function(c){if(this.node){c=c.split(" ");for(var p=0;p<c.length;p++)this.node.removeEventListener(c[p],this.handler)}return this},dispatchNativeEvent:function(c){this.emit(c.type,c)},createElement:function(c,p,m){return this.setElement(document.createElement(c),p,m)},setElement:function(c,p,m){this.removeElement();var x;if(typeof c=="string"?(c[0]==="#"&&(c=c.substr(1)),x=document.getElementById(c)):typeof c=="object"&&c.nodeType===1&&(x=c),!x)return this;if(this.node=x,p&&l(p))for(var T in p)x.style[T]=p[T];else typeof p=="string"&&(x.style=p);return x.style.zIndex="0",x.style.display="inline",x.style.position="absolute",x.phaser=this,this.parent.appendChild(x),m&&(x.innerText=m),this.updateSize()},createFromCache:function(c,p){var m=this.cache.get(c);return m&&this.createFromHTML(m,p),this},createFromHTML:function(c,p){p===void 0&&(p="div"),this.removeElement();var m=document.createElement(p);return this.node=m,m.style.zIndex="0",m.style.display="inline",m.style.position="absolute",m.phaser=this,this.parent.appendChild(m),m.innerHTML=c,this.updateSize()},removeElement:function(){return this.node&&(a(this.node),this.node=null),this},updateSize:function(){var c=this.node;return this.width=c.clientWidth,this.height=c.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(c,p){if(this.node){for(var m=this.node.querySelectorAll("*"),x=0;x<m.length;x++)if(m[x][c]===p)return m[x]}return null},getChildByID:function(c){return this.getChildByProperty("id",c)},getChildByName:function(c){return this.getChildByProperty("name",c)},setClassName:function(c){return this.node&&(this.node.className=c,this.updateSize()),this},setText:function(c){return this.node&&(this.node.innerText=c,this.updateSize()),this},setHTML:function(c){return this.node&&(this.node.innerHTML=c,this.updateSize()),this},preRender:function(){var c=this.parentContainer,p=this.node;p&&c&&!c.willRender()&&(p.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(d.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(d.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(d.PRE_RENDER,this.preRender,this)}});n.exports=h},49381:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(47407),y=s(95643),f=s(61340),u=new f,l=new f,a=new f,d=function(v,h,c,p){if(h.node){var m=h.node.style,x=h.scene.sys.settings;if(!m||!x.visible||y.RENDER_MASK!==h.renderFlags||h.cameraFilter!==0&&h.cameraFilter&c.id||h.parentContainer&&!h.parentContainer.willRender()){m.display="none";return}var T=h.parentContainer,P=c.alpha*h.alpha;T&&(P*=T.alpha);var M=u,E=l,w=a,R=0,A=0,L="0%",b="0%";p?(R=h.width*h.scaleX*h.originX,A=h.height*h.scaleY*h.originY,E.applyITRS(h.x-R,h.y-A,h.rotation,h.scaleX,h.scaleY),M.copyFrom(c.matrix),M.multiplyWithOffset(p,-c.scrollX*h.scrollFactorX,-c.scrollY*h.scrollFactorY),E.e=h.x-R,E.f=h.y-A,M.multiply(E,w)):(R=h.width*h.originX,A=h.height*h.originY,E.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY),M.copyFrom(c.matrix),L=100*h.originX+"%",b=100*h.originY+"%",E.e-=c.scrollX*h.scrollFactorX,E.f-=c.scrollY*h.scrollFactorY,M.multiply(E,w),w.e-=R,w.f-=A),h.transformOnly||(m.display="block",m.opacity=P,m.zIndex=h._depth,m.pointerEvents=h.pointerEvents,m.mixBlendMode=o[h._blendMode]),m.transform=w.getCSSMatrix()+" skew("+h.skewX+"rad, "+h.skewY+"rad) rotate3d("+h.rotate3d.x+","+h.rotate3d.y+","+h.rotate3d.z+","+h.rotate3d.w+h.rotate3dAngle+")",m.transformOrigin=L+" "+b}};n.exports=d},2611:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(3069),y=s(39429);y.register("dom",function(f,u,l,a,d){var v=new o(this.scene,f,u,l,a,d);return this.displayList.add(v),v})},441:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(49381),f=s(49381),n.exports={renderWebGL:y,renderCanvas:f}},62980:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addedtoscene"},41337:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},44947:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedfromscene"},49358:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},35163:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="created"},97249:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="error"},19483:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="locked"},56059:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"},26772:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="metadata"},64437:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="playing"},83411:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="play"},75780:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seeked"},67799:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seeking"},63500:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stalled"},55541:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},53208:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="textureready"},4992:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unlocked"},12:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unsupported"},51708:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADDED_TO_SCENE:s(62980),DESTROY:s(41337),REMOVED_FROM_SCENE:s(44947),VIDEO_COMPLETE:s(49358),VIDEO_CREATED:s(35163),VIDEO_ERROR:s(97249),VIDEO_LOCKED:s(19483),VIDEO_LOOP:s(56059),VIDEO_METADATA:s(26772),VIDEO_PLAY:s(83411),VIDEO_PLAYING:s(64437),VIDEO_SEEKED:s(75780),VIDEO_SEEKING:s(67799),VIDEO_STALLED:s(63500),VIDEO_STOP:s(55541),VIDEO_TEXTURE:s(53208),VIDEO_UNLOCKED:s(4992),VIDEO_UNSUPPORTED:s(12)}},42421:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(31401),f=s(95643),u=s(64993),l=new o({Extends:f,Mixins:[y.Alpha,y.BlendMode,y.Depth,y.Flip,y.Origin,y.ScrollFactor,y.Size,y.Texture,y.Tint,y.Transform,y.Visible,u],initialize:function(d){f.call(this,d,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});n.exports=l},70217:()=>{},56315:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(42421),y=s(39429);y.register("extern",function(){var f=new o(this.scene);return this.displayList.add(f),f})},64993:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(80287),f=s(70217),n.exports={renderWebGL:y,renderCanvas:f}},80287:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),y=function(f,u,l,a){f.pipelines.clear();var d=o(u,l,a).calc;u.render.call(u,f,l,d),f.pipelines.rebind()};n.exports=y},85592:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(71911),y=s(83419),f=s(85592),u=s(31401),l=s(8497),a=s(95643),d=s(95540),v=s(35154),h=s(36383),c=s(84503),p=new y({Extends:a,Mixins:[u.AlphaSingle,u.BlendMode,u.Depth,u.Mask,u.Pipeline,u.PostPipeline,u.Transform,u.Visible,u.ScrollFactor,c],initialize:function(x,T){var P=v(T,"x",0),M=v(T,"y",0);a.call(this,x,"Graphics"),this.setPosition(P,M),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(T)},setDefaultStyles:function(m){return v(m,"lineStyle",null)&&(this.defaultStrokeWidth=v(m,"lineStyle.width",1),this.defaultStrokeColor=v(m,"lineStyle.color",16777215),this.defaultStrokeAlpha=v(m,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),v(m,"fillStyle",null)&&(this.defaultFillColor=v(m,"fillStyle.color",16777215),this.defaultFillAlpha=v(m,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(m,x,T){return T===void 0&&(T=1),this.commandBuffer.push(f.LINE_STYLE,m,x,T),this._lineWidth=m,this},fillStyle:function(m,x){return x===void 0&&(x=1),this.commandBuffer.push(f.FILL_STYLE,m,x),this},fillGradientStyle:function(m,x,T,P,M,E,w,R){return M===void 0&&(M=1),E===void 0&&(E=M),w===void 0&&(w=M),R===void 0&&(R=M),this.commandBuffer.push(f.GRADIENT_FILL_STYLE,M,E,w,R,m,x,T,P),this},lineGradientStyle:function(m,x,T,P,M,E){return E===void 0&&(E=1),this.commandBuffer.push(f.GRADIENT_LINE_STYLE,m,E,x,T,P,M),this},beginPath:function(){return this.commandBuffer.push(f.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(f.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(f.FILL_PATH),this},fill:function(){return this.commandBuffer.push(f.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(f.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(f.STROKE_PATH),this},fillCircleShape:function(m){return this.fillCircle(m.x,m.y,m.radius)},strokeCircleShape:function(m){return this.strokeCircle(m.x,m.y,m.radius)},fillCircle:function(m,x,T){return this.beginPath(),this.arc(m,x,T,0,h.PI2),this.fillPath(),this},strokeCircle:function(m,x,T){return this.beginPath(),this.arc(m,x,T,0,h.PI2),this.strokePath(),this},fillRectShape:function(m){return this.fillRect(m.x,m.y,m.width,m.height)},strokeRectShape:function(m){return this.strokeRect(m.x,m.y,m.width,m.height)},fillRect:function(m,x,T,P){return this.commandBuffer.push(f.FILL_RECT,m,x,T,P),this},strokeRect:function(m,x,T,P){var M=this._lineWidth/2,E=m-M,w=m+M;return this.beginPath(),this.moveTo(m,x),this.lineTo(m,x+P),this.strokePath(),this.beginPath(),this.moveTo(m+T,x),this.lineTo(m+T,x+P),this.strokePath(),this.beginPath(),this.moveTo(E,x),this.lineTo(w+T,x),this.strokePath(),this.beginPath(),this.moveTo(E,x+P),this.lineTo(w+T,x+P),this.strokePath(),this},fillRoundedRect:function(m,x,T,P,M){M===void 0&&(M=20);var E=M,w=M,R=M,A=M;typeof M!="number"&&(E=d(M,"tl",20),w=d(M,"tr",20),R=d(M,"bl",20),A=d(M,"br",20));var L=E>=0,b=w>=0,O=R>=0,F=A>=0;return E=Math.abs(E),w=Math.abs(w),R=Math.abs(R),A=Math.abs(A),this.beginPath(),this.moveTo(m+E,x),this.lineTo(m+T-w,x),b?this.arc(m+T-w,x+w,w,-h.TAU,0):this.arc(m+T,x,w,Math.PI,h.TAU,!0),this.lineTo(m+T,x+P-A),F?this.arc(m+T-A,x+P-A,A,0,h.TAU):this.arc(m+T,x+P,A,-h.TAU,Math.PI,!0),this.lineTo(m+R,x+P),O?this.arc(m+R,x+P-R,R,h.TAU,Math.PI):this.arc(m,x+P,R,0,-h.TAU,!0),this.lineTo(m,x+E),L?this.arc(m+E,x+E,E,-Math.PI,-h.TAU):this.arc(m,x,E,h.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(m,x,T,P,M){M===void 0&&(M=20);var E=M,w=M,R=M,A=M,L=Math.min(T,P)/2;typeof M!="number"&&(E=d(M,"tl",20),w=d(M,"tr",20),R=d(M,"bl",20),A=d(M,"br",20));var b=E>=0,O=w>=0,F=R>=0,D=A>=0;return E=Math.min(Math.abs(E),L),w=Math.min(Math.abs(w),L),R=Math.min(Math.abs(R),L),A=Math.min(Math.abs(A),L),this.beginPath(),this.moveTo(m+E,x),this.lineTo(m+T-w,x),this.moveTo(m+T-w,x),O?this.arc(m+T-w,x+w,w,-h.TAU,0):this.arc(m+T,x,w,Math.PI,h.TAU,!0),this.lineTo(m+T,x+P-A),this.moveTo(m+T,x+P-A),D?this.arc(m+T-A,x+P-A,A,0,h.TAU):this.arc(m+T,x+P,A,-h.TAU,Math.PI,!0),this.lineTo(m+R,x+P),this.moveTo(m+R,x+P),F?this.arc(m+R,x+P-R,R,h.TAU,Math.PI):this.arc(m,x+P,R,0,-h.TAU,!0),this.lineTo(m,x+E),this.moveTo(m,x+E),b?this.arc(m+E,x+E,E,-Math.PI,-h.TAU):this.arc(m,x,E,h.TAU,0,!0),this.strokePath(),this},fillPointShape:function(m,x){return this.fillPoint(m.x,m.y,x)},fillPoint:function(m,x,T){return!T||T<1?T=1:(m-=T/2,x-=T/2),this.commandBuffer.push(f.FILL_RECT,m,x,T,T),this},fillTriangleShape:function(m){return this.fillTriangle(m.x1,m.y1,m.x2,m.y2,m.x3,m.y3)},strokeTriangleShape:function(m){return this.strokeTriangle(m.x1,m.y1,m.x2,m.y2,m.x3,m.y3)},fillTriangle:function(m,x,T,P,M,E){return this.commandBuffer.push(f.FILL_TRIANGLE,m,x,T,P,M,E),this},strokeTriangle:function(m,x,T,P,M,E){return this.commandBuffer.push(f.STROKE_TRIANGLE,m,x,T,P,M,E),this},strokeLineShape:function(m){return this.lineBetween(m.x1,m.y1,m.x2,m.y2)},lineBetween:function(m,x,T,P){return this.beginPath(),this.moveTo(m,x),this.lineTo(T,P),this.strokePath(),this},lineTo:function(m,x){return this.commandBuffer.push(f.LINE_TO,m,x),this},moveTo:function(m,x){return this.commandBuffer.push(f.MOVE_TO,m,x),this},strokePoints:function(m,x,T,P){x===void 0&&(x=!1),T===void 0&&(T=!1),P===void 0&&(P=m.length),this.beginPath(),this.moveTo(m[0].x,m[0].y);for(var M=1;M<P;M++)this.lineTo(m[M].x,m[M].y);return x&&this.lineTo(m[0].x,m[0].y),T&&this.closePath(),this.strokePath(),this},fillPoints:function(m,x,T,P){x===void 0&&(x=!1),T===void 0&&(T=!1),P===void 0&&(P=m.length),this.beginPath(),this.moveTo(m[0].x,m[0].y);for(var M=1;M<P;M++)this.lineTo(m[M].x,m[M].y);return x&&this.lineTo(m[0].x,m[0].y),T&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(m,x){x===void 0&&(x=32);var T=m.getPoints(x);return this.strokePoints(T,!0)},strokeEllipse:function(m,x,T,P,M){M===void 0&&(M=32);var E=new l(m,x,T,P),w=E.getPoints(M);return this.strokePoints(w,!0)},fillEllipseShape:function(m,x){x===void 0&&(x=32);var T=m.getPoints(x);return this.fillPoints(T,!0)},fillEllipse:function(m,x,T,P,M){M===void 0&&(M=32);var E=new l(m,x,T,P),w=E.getPoints(M);return this.fillPoints(w,!0)},arc:function(m,x,T,P,M,E,w){return E===void 0&&(E=!1),w===void 0&&(w=0),this.commandBuffer.push(f.ARC,m,x,T,P,M,E,w),this},slice:function(m,x,T,P,M,E,w){return E===void 0&&(E=!1),w===void 0&&(w=0),this.commandBuffer.push(f.BEGIN_PATH),this.commandBuffer.push(f.MOVE_TO,m,x),this.commandBuffer.push(f.ARC,m,x,T,P,M,E,w),this.commandBuffer.push(f.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(f.SAVE),this},restore:function(){return this.commandBuffer.push(f.RESTORE),this},translateCanvas:function(m,x){return this.commandBuffer.push(f.TRANSLATE,m,x),this},scaleCanvas:function(m,x){return this.commandBuffer.push(f.SCALE,m,x),this},rotateCanvas:function(m){return this.commandBuffer.push(f.ROTATE,m),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(m,x,T){var P=this.scene.sys,M=P.game.renderer;x===void 0&&(x=P.scale.width),T===void 0&&(T=P.scale.height),p.TargetCamera.setScene(this.scene),p.TargetCamera.setViewport(0,0,x,T),p.TargetCamera.scrollX=this.x,p.TargetCamera.scrollY=this.y;var E,w,R={willReadFrequently:!0};if(typeof m=="string")if(P.textures.exists(m)){E=P.textures.get(m);var A=E.getSourceImage();A instanceof HTMLCanvasElement&&(w=A.getContext("2d",R))}else E=P.textures.createCanvas(m,x,T),w=E.getSourceImage().getContext("2d",R);else m instanceof HTMLCanvasElement&&(w=m.getContext("2d",R));return w&&(this.renderCanvas(M,this,p.TargetCamera,null,w,!1),E&&E.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});p.TargetCamera=new o,n.exports=p},32768:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(85592),y=s(20926),f=function(u,l,a,d,v,h){var c=l.commandBuffer,p=c.length,m=v||u.currentContext;if(!(p===0||!y(u,m,l,a,d))){a.addToRenderList(l);var x=1,T=1,P=0,M=0,E=1,w=0,R=0,A=0;m.beginPath();for(var L=0;L<p;++L){var b=c[L];switch(b){case o.ARC:m.arc(c[L+1],c[L+2],c[L+3],c[L+4],c[L+5],c[L+6]),L+=7;break;case o.LINE_STYLE:E=c[L+1],P=c[L+2],x=c[L+3],w=(P&16711680)>>>16,R=(P&65280)>>>8,A=P&255,m.strokeStyle="rgba("+w+","+R+","+A+","+x+")",m.lineWidth=E,L+=3;break;case o.FILL_STYLE:M=c[L+1],T=c[L+2],w=(M&16711680)>>>16,R=(M&65280)>>>8,A=M&255,m.fillStyle="rgba("+w+","+R+","+A+","+T+")",L+=2;break;case o.BEGIN_PATH:m.beginPath();break;case o.CLOSE_PATH:m.closePath();break;case o.FILL_PATH:h||m.fill();break;case o.STROKE_PATH:h||m.stroke();break;case o.FILL_RECT:h?m.rect(c[L+1],c[L+2],c[L+3],c[L+4]):m.fillRect(c[L+1],c[L+2],c[L+3],c[L+4]),L+=4;break;case o.FILL_TRIANGLE:m.beginPath(),m.moveTo(c[L+1],c[L+2]),m.lineTo(c[L+3],c[L+4]),m.lineTo(c[L+5],c[L+6]),m.closePath(),h||m.fill(),L+=6;break;case o.STROKE_TRIANGLE:m.beginPath(),m.moveTo(c[L+1],c[L+2]),m.lineTo(c[L+3],c[L+4]),m.lineTo(c[L+5],c[L+6]),m.closePath(),h||m.stroke(),L+=6;break;case o.LINE_TO:m.lineTo(c[L+1],c[L+2]),L+=2;break;case o.MOVE_TO:m.moveTo(c[L+1],c[L+2]),L+=2;break;case o.LINE_FX_TO:m.lineTo(c[L+1],c[L+2]),L+=5;break;case o.MOVE_FX_TO:m.moveTo(c[L+1],c[L+2]),L+=5;break;case o.SAVE:m.save();break;case o.RESTORE:m.restore();break;case o.TRANSLATE:m.translate(c[L+1],c[L+2]),L+=2;break;case o.SCALE:m.scale(c[L+1],c[L+2]),L+=2;break;case o.ROTATE:m.rotate(c[L+1]),L+=1;break;case o.GRADIENT_FILL_STYLE:L+=5;break;case o.GRADIENT_LINE_STYLE:L+=6;break}}m.restore()}};n.exports=f},87079:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(44603),y=s(43831);o.register("graphics",function(f,u){f===void 0&&(f={}),u!==void 0&&(f.add=u);var l=new y(this.scene,f);return f.add&&this.scene.sys.displayList.add(l),l})},1201:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43831),y=s(39429);y.register("graphics",function(f){return this.displayList.add(new o(this.scene,f))})},84503:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(77545),f=s(32768),f=s(32768),n.exports={renderWebGL:y,renderCanvas:f}},77545:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(85592),y=s(91296),f=s(61340),u=s(70554),l=function(c,p,m){this.x=c,this.y=p,this.width=m},a=function(c,p,m){this.points=[],this.pointsLength=1,this.points[0]=new l(c,p,m)},d=[],v=new f,h=function(c,p,m,x){if(p.commandBuffer.length!==0){m.addToRenderList(p);var T=c.pipelines.set(p.pipeline,p);c.pipelines.preBatch(p);for(var P=y(p,m,x).calc,M=v.loadIdentity(),E=p.commandBuffer,w=m.alpha*p.alpha,R=1,A=T.fillTint,L=T.strokeTint,b=0,O=0,F=0,D=.01,B=Math.PI*2,N,z=[],W=0,X=!0,k=null,V=u.getTintAppendFloatAlpha,I=0;I<E.length;I++)switch(N=E[I],N){case o.BEGIN_PATH:{z.length=0,k=null,X=!0;break}case o.CLOSE_PATH:{X=!1,k&&k.points.length&&k.points.push(k.points[0]);break}case o.FILL_PATH:{for(W=0;W<z.length;W++)T.batchFillPath(z[W].points,M,P);break}case o.STROKE_PATH:{for(W=0;W<z.length;W++)T.batchStrokePath(z[W].points,R,X,M,P);break}case o.LINE_STYLE:{R=E[++I];var U=E[++I],G=E[++I]*w,Y=V(U,G);L.TL=Y,L.TR=Y,L.BL=Y,L.BR=Y;break}case o.FILL_STYLE:{var H=E[++I],$=E[++I]*w,K=V(H,$);A.TL=K,A.TR=K,A.BL=K,A.BR=K;break}case o.GRADIENT_FILL_STYLE:{var Z=E[++I]*w,J=E[++I]*w,j=E[++I]*w,Q=E[++I]*w;A.TL=V(E[++I],Z),A.TR=V(E[++I],J),A.BL=V(E[++I],j),A.BR=V(E[++I],Q);break}case o.GRADIENT_LINE_STYLE:{R=E[++I];var _=E[++I]*w;L.TL=V(E[++I],_),L.TR=V(E[++I],_),L.BL=V(E[++I],_),L.BR=V(E[++I],_);break}case o.ARC:{var it=0,q=E[++I],ht=E[++I],lt=E[++I],ut=E[++I],tt=E[++I],at=E[++I],ot=E[++I];for(tt-=ut,at?tt<-B?tt=-B:tt>0&&(tt=-B+tt%B):tt>B?tt=B:tt<0&&(tt=B+tt%B),k===null&&(k=new a(q+Math.cos(ut)*lt,ht+Math.sin(ut)*lt,R),z.push(k),it+=D);it<1+ot;)F=tt*it+ut,b=q+Math.cos(F)*lt,O=ht+Math.sin(F)*lt,k.points.push(new l(b,O,R)),it+=D;F=tt+ut,b=q+Math.cos(F)*lt,O=ht+Math.sin(F)*lt,k.points.push(new l(b,O,R));break}case o.FILL_RECT:{T.batchFillRect(E[++I],E[++I],E[++I],E[++I],M,P);break}case o.FILL_TRIANGLE:{T.batchFillTriangle(E[++I],E[++I],E[++I],E[++I],E[++I],E[++I],M,P);break}case o.STROKE_TRIANGLE:{T.batchStrokeTriangle(E[++I],E[++I],E[++I],E[++I],E[++I],E[++I],R,M,P);break}case o.LINE_TO:{k!==null?k.points.push(new l(E[++I],E[++I],R)):(k=new a(E[++I],E[++I],R),z.push(k));break}case o.MOVE_TO:{k=new a(E[++I],E[++I],R),z.push(k);break}case o.SAVE:{d.push(M.copyToArray());break}case o.RESTORE:{M.copyFromArray(d.pop());break}case o.TRANSLATE:{q=E[++I],ht=E[++I],M.translate(q,ht);break}case o.SCALE:{q=E[++I],ht=E[++I],M.scale(q,ht);break}case o.ROTATE:{M.rotate(E[++I]);break}}c.pipelines.postBatch(p)}};n.exports=h},26479:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(61061),y=s(83419),f=s(51708),u=s(50792),l=s(46710),a=s(95540),d=s(35154),v=s(97022),h=s(41212),c=s(88492),p=s(35072),m=s(68287),x=new y({Extends:u,initialize:function(P,M,E){u.call(this),E?M&&!Array.isArray(M)&&(M=[M]):Array.isArray(M)?h(M[0])&&(E=M,M=null):h(M)&&(E=M,M=null),this.scene=P,this.children=new p,this.isParent=!0,this.type="Group",this.classType=a(E,"classType",m),this.name=a(E,"name",""),this.active=a(E,"active",!0),this.maxSize=a(E,"maxSize",-1),this.defaultKey=a(E,"defaultKey",null),this.defaultFrame=a(E,"defaultFrame",null),this.runChildUpdate=a(E,"runChildUpdate",!1),this.createCallback=a(E,"createCallback",null),this.removeCallback=a(E,"removeCallback",null),this.createMultipleCallback=a(E,"createMultipleCallback",null),this.internalCreateCallback=a(E,"internalCreateCallback",null),this.internalRemoveCallback=a(E,"internalRemoveCallback",null),M&&this.addMultiple(M),E&&this.createMultiple(E),this.on(f.ADDED_TO_SCENE,this.addedToScene,this),this.on(f.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(T,P,M,E,w,R){if(T===void 0&&(T=0),P===void 0&&(P=0),M===void 0&&(M=this.defaultKey),E===void 0&&(E=this.defaultFrame),w===void 0&&(w=!0),R===void 0&&(R=!0),this.isFull())return null;var A=new this.classType(this.scene,T,P,M,E);return A.addToDisplayList(this.scene.sys.displayList),A.addToUpdateList(),A.visible=w,A.setActive(R),this.add(A),A},createMultiple:function(T){if(this.isFull())return[];Array.isArray(T)||(T=[T]);var P=[];if(T[0].key)for(var M=0;M<T.length;M++){var E=this.createFromConfig(T[M]);P=P.concat(E)}return P},createFromConfig:function(T){if(this.isFull())return[];this.classType=a(T,"classType",this.classType);var P=a(T,"key",void 0),M=a(T,"frame",null),E=a(T,"visible",!0),w=a(T,"active",!0),R=[];if(P===void 0)return R;Array.isArray(P)||(P=[P]),Array.isArray(M)||(M=[M]);var A=a(T,"repeat",0),L=a(T,"randomKey",!1),b=a(T,"randomFrame",!1),O=a(T,"yoyo",!1),F=a(T,"quantity",!1),D=a(T,"frameQuantity",1),B=a(T,"max",0),N=c(P,M,{max:B,qty:F||D,random:L,randomB:b,repeat:A,yoyo:O});T.createCallback&&(this.createCallback=T.createCallback),T.removeCallback&&(this.removeCallback=T.removeCallback),T.internalCreateCallback&&(this.internalCreateCallback=T.internalCreateCallback),T.internalRemoveCallback&&(this.internalRemoveCallback=T.internalRemoveCallback);for(var z=0;z<N.length;z++){var W=this.create(0,0,N[z].a,N[z].b,E,w);if(!W)break;R.push(W)}if(v(T,"setXY")){var X=d(T,"setXY.x",0),k=d(T,"setXY.y",0),V=d(T,"setXY.stepX",0),I=d(T,"setXY.stepY",0);o.SetXY(R,X,k,V,I)}if(v(T,"setRotation")){var U=d(T,"setRotation.value",0),G=d(T,"setRotation.step",0);o.SetRotation(R,U,G)}if(v(T,"setScale")){var Y=d(T,"setScale.x",1),H=d(T,"setScale.y",Y),$=d(T,"setScale.stepX",0),K=d(T,"setScale.stepY",0);o.SetScale(R,Y,H,$,K)}if(v(T,"setOrigin")){var Z=d(T,"setOrigin.x",.5),J=d(T,"setOrigin.y",Z),j=d(T,"setOrigin.stepX",0),Q=d(T,"setOrigin.stepY",0);o.SetOrigin(R,Z,J,j,Q)}if(v(T,"setAlpha")){var _=d(T,"setAlpha.value",1),it=d(T,"setAlpha.step",0);o.SetAlpha(R,_,it)}if(v(T,"setDepth")){var q=d(T,"setDepth.value",0),ht=d(T,"setDepth.step",0);o.SetDepth(R,q,ht)}if(v(T,"setScrollFactor")){var lt=d(T,"setScrollFactor.x",1),ut=d(T,"setScrollFactor.y",lt),tt=d(T,"setScrollFactor.stepX",0),at=d(T,"setScrollFactor.stepY",0);o.SetScrollFactor(R,lt,ut,tt,at)}var ot=a(T,"hitArea",null),pt=a(T,"hitAreaCallback",null);ot&&o.SetHitArea(R,ot,pt);var Pt=a(T,"gridAlign",!1);return Pt&&o.GridAlign(R,Pt),this.createMultipleCallback&&this.createMultipleCallback.call(this,R),R},preUpdate:function(T,P){if(!(!this.runChildUpdate||this.children.size===0))for(var M=this.children.entries.slice(),E=0;E<M.length;E++){var w=M[E];w.active&&w.update(T,P)}},add:function(T,P){return P===void 0&&(P=!1),this.isFull()?this:(this.children.set(T),this.internalCreateCallback&&this.internalCreateCallback.call(this,T),this.createCallback&&this.createCallback.call(this,T),P&&(T.addToDisplayList(this.scene.sys.displayList),T.addToUpdateList()),T.on(f.DESTROY,this.remove,this),this)},addMultiple:function(T,P){if(P===void 0&&(P=!1),Array.isArray(T))for(var M=0;M<T.length;M++)this.add(T[M],P);return this},remove:function(T,P,M){return P===void 0&&(P=!1),M===void 0&&(M=!1),this.children.contains(T)?(this.children.delete(T),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,T),this.removeCallback&&this.removeCallback.call(this,T),T.off(f.DESTROY,this.remove,this),M?T.destroy():P&&(T.removeFromDisplayList(),T.removeFromUpdateList()),this):this},clear:function(T,P){T===void 0&&(T=!1),P===void 0&&(P=!1);for(var M=this.children,E=0;E<M.size;E++){var w=M.entries[E];w.off(f.DESTROY,this.remove,this),P?w.destroy():T&&(w.removeFromDisplayList(),w.removeFromUpdateList())}return this.children.clear(),this},contains:function(T){return this.children.contains(T)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(T,P,M,E){return l(this.children.entries,T,P,M,E)},getFirst:function(T,P,M,E,w,R,A){return this.getHandler(!0,1,T,P,M,E,w,R,A)},getFirstNth:function(T,P,M,E,w,R,A,L){return this.getHandler(!0,T,P,M,E,w,R,A,L)},getLast:function(T,P,M,E,w,R,A){return this.getHandler(!1,1,T,P,M,E,w,R,A)},getLastNth:function(T,P,M,E,w,R,A,L){return this.getHandler(!1,T,P,M,E,w,R,A,L)},getHandler:function(T,P,M,E,w,R,A,L,b){M===void 0&&(M=!1),E===void 0&&(E=!1);var O,F,D=0,B=this.children.entries;if(T)for(F=0;F<B.length;F++)if(O=B[F],O.active===M){if(D++,D===P)break}else O=null;else for(F=B.length-1;F>=0;F--)if(O=B[F],O.active===M){if(D++,D===P)break}else O=null;return O?(typeof w=="number"&&(O.x=w),typeof R=="number"&&(O.y=R),O):E?this.create(w,R,A,L,b):null},get:function(T,P,M,E,w){return this.getFirst(!1,!0,T,P,M,E,w)},getFirstAlive:function(T,P,M,E,w,R){return this.getFirst(!0,T,P,M,E,w,R)},getFirstDead:function(T,P,M,E,w,R){return this.getFirst(!1,T,P,M,E,w,R)},playAnimation:function(T,P){return o.PlayAnimation(this.children.entries,T,P),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(T){T===void 0&&(T=!0);for(var P=0,M=0;M<this.children.size;M++)this.children.entries[M].active===T&&P++;return P},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var T=this.getTotalUsed(),P=this.maxSize===-1?999999999999:this.maxSize;return P-T},setActive:function(T){return this.active=T,this},setName:function(T){return this.name=T,this},propertyValueSet:function(T,P,M,E,w){return o.PropertyValueSet(this.children.entries,T,P,M,E,w),this},propertyValueInc:function(T,P,M,E,w){return o.PropertyValueInc(this.children.entries,T,P,M,E,w),this},setX:function(T,P){return o.SetX(this.children.entries,T,P),this},setY:function(T,P){return o.SetY(this.children.entries,T,P),this},setXY:function(T,P,M,E){return o.SetXY(this.children.entries,T,P,M,E),this},incX:function(T,P){return o.IncX(this.children.entries,T,P),this},incY:function(T,P){return o.IncY(this.children.entries,T,P),this},incXY:function(T,P,M,E){return o.IncXY(this.children.entries,T,P,M,E),this},shiftPosition:function(T,P,M){return o.ShiftPosition(this.children.entries,T,P,M),this},angle:function(T,P){return o.Angle(this.children.entries,T,P),this},rotate:function(T,P){return o.Rotate(this.children.entries,T,P),this},rotateAround:function(T,P){return o.RotateAround(this.children.entries,T,P),this},rotateAroundDistance:function(T,P,M){return o.RotateAroundDistance(this.children.entries,T,P,M),this},setAlpha:function(T,P){return o.SetAlpha(this.children.entries,T,P),this},setTint:function(T,P,M,E){return o.SetTint(this.children.entries,T,P,M,E),this},setOrigin:function(T,P,M,E){return o.SetOrigin(this.children.entries,T,P,M,E),this},scaleX:function(T,P){return o.ScaleX(this.children.entries,T,P),this},scaleY:function(T,P){return o.ScaleY(this.children.entries,T,P),this},scaleXY:function(T,P,M,E){return o.ScaleXY(this.children.entries,T,P,M,E),this},setDepth:function(T,P){return o.SetDepth(this.children.entries,T,P),this},setBlendMode:function(T){return o.SetBlendMode(this.children.entries,T),this},setHitArea:function(T,P){return o.SetHitArea(this.children.entries,T,P),this},shuffle:function(){return o.Shuffle(this.children.entries),this},kill:function(T){this.children.contains(T)&&T.setActive(!1)},killAndHide:function(T){this.children.contains(T)&&(T.setActive(!1),T.setVisible(!1))},setVisible:function(T,P,M){return o.SetVisible(this.children.entries,T,P,M),this},toggleVisible:function(){return o.ToggleVisible(this.children.entries),this},destroy:function(T,P){T===void 0&&(T=!1),P===void 0&&(P=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(f.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(P,T),this.scene=void 0,this.children=void 0)}});n.exports=x},94975:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(44603),y=s(26479);o.register("group",function(f){return new y(this.scene,null,f)})},3385:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26479),y=s(39429);y.register("group",function(f,u){return this.updateList.add(new o(this.scene,f,u))})},88571:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(31401),f=s(95643),u=s(59819),l=new o({Extends:f,Mixins:[y.Alpha,y.BlendMode,y.Depth,y.Flip,y.GetBounds,y.Mask,y.Origin,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Size,y.TextureCrop,y.Tint,y.Transform,y.Visible,u],initialize:function(d,v,h,c,p){f.call(this,d,"Image"),this._crop=this.resetCropObject(),this.setTexture(c,p),this.setPosition(v,h),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});n.exports=l},40652:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){y.addToRenderList(o),s.batchSprite(o,o.frame,y,f)};n.exports=C},82459:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),y=s(44603),f=s(23568),u=s(88571);y.register("image",function(l,a){l===void 0&&(l={});var d=f(l,"key",null),v=f(l,"frame",null),h=new u(this.scene,0,0,d,v);return a!==void 0&&(l.add=a),o(this.scene,h,l),h})},2117:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(88571),y=s(39429);y.register("image",function(f,u,l,a){return this.displayList.add(new o(this.scene,f,u,l,a))})},59819:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(99517),f=s(40652),n.exports={renderWebGL:y,renderCanvas:f}},99517:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){y.addToRenderList(o),this.pipeline.batchSprite(o,y,f)};n.exports=C},77856:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Events:s(51708),DisplayList:s(8050),GameObjectCreator:s(44603),GameObjectFactory:s(39429),UpdateList:s(45027),Components:s(31401),GetCalcMatrix:s(91296),BuildGameObject:s(25305),BuildGameObjectAnimation:s(13059),GameObject:s(95643),BitmapText:s(22186),Blitter:s(6107),Bob:s(46590),Container:s(31559),DOMElement:s(3069),DynamicBitmapText:s(2638),Extern:s(42421),Graphics:s(43831),Group:s(26479),Image:s(88571),Layer:s(93595),Particles:s(18404),PathFollower:s(1159),RenderTexture:s(591),RetroFont:s(196),Rope:s(77757),Sprite:s(68287),Text:s(50171),GetTextSize:s(14220),MeasureText:s(79557),TextStyle:s(35762),TileSprite:s(20839),Zone:s(41481),Video:s(18471),Shape:s(17803),Arc:s(23629),Curve:s(89),Ellipse:s(19921),Grid:s(30479),IsoBox:s(61475),IsoTriangle:s(16933),Line:s(57847),Polygon:s(24949),Rectangle:s(74561),Star:s(55911),Triangle:s(36931),Factories:{Blitter:s(12709),Container:s(24961),DOMElement:s(2611),DynamicBitmapText:s(72566),Extern:s(56315),Graphics:s(1201),Group:s(3385),Image:s(2117),Layer:s(20005),Particles:s(676),PathFollower:s(90145),RenderTexture:s(60505),Rope:s(96819),Sprite:s(46409),StaticBitmapText:s(34914),Text:s(68005),TileSprite:s(91681),Zone:s(84175),Video:s(89025),Arc:s(42563),Curve:s(40511),Ellipse:s(1543),Grid:s(34137),IsoBox:s(3933),IsoTriangle:s(49803),Line:s(2481),Polygon:s(64827),Rectangle:s(87959),Star:s(93697),Triangle:s(45245)},Creators:{Blitter:s(9403),Container:s(77143),DynamicBitmapText:s(11164),Graphics:s(87079),Group:s(94975),Image:s(82459),Layer:s(25179),Particles:s(92730),RenderTexture:s(34495),Rope:s(26209),Sprite:s(15567),StaticBitmapText:s(57336),Text:s(71259),TileSprite:s(14167),Zone:s(95261),Video:s(11511)}};o.Shader=s(20071),o.Mesh=s(4703),o.NineSlice=s(28103),o.PointLight=s(80321),o.Plane=s(33663),o.Factories.Shader=s(74177),o.Factories.Mesh=s(9225),o.Factories.NineSlice=s(47521),o.Factories.PointLight=s(71255),o.Factories.Plane=s(30985),o.Creators.Shader=s(54935),o.Creators.Mesh=s(20527),o.Creators.NineSlice=s(28279),o.Creators.PointLight=s(39829),o.Creators.Plane=s(56015),o.Light=s(41432),o.LightsManager=s(61356),o.LightsPlugin=s(88992),n.exports=o},93595:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10312),y=s(83419),f=s(31401),u=s(53774),l=s(45893),a=s(50792),d=s(51708),v=s(73162),h=s(33963),c=s(44594),p=s(19186),m=new y({Extends:v,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Mask,f.PostPipeline,f.Visible,a,h],initialize:function(T,P){v.call(this,T),a.call(this),this.scene=T,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=T.sys,this.events=T.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(o.SKIP_CHECK),P&&this.add(P),T.sys.queueDepthSort()},setActive:function(x){return this.active=x,this},setName:function(x){return this.name=x,this},setState:function(x){return this.state=x,this},setDataEnabled:function(){return this.data||(this.data=new l(this)),this},setData:function(x,T){return this.data||(this.data=new l(this)),this.data.set(x,T),this},incData:function(x,T){return this.data||(this.data=new l(this)),this.data.inc(x,T),this},toggleData:function(x){return this.data||(this.data=new l(this)),this.data.toggle(x),this},getData:function(x){return this.data||(this.data=new l(this)),this.data.get(x)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return u(this)},willRender:function(x){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&x.id)},getIndexList:function(){for(var x=this,T=this.parentContainer,P=[];T&&(P.unshift(T.getIndex(x)),x=T,T.parentContainer);)T=T.parentContainer;return P.unshift(this.displayList.getIndex(x)),P},addChildCallback:function(x){var T=x.displayList;T&&T!==this&&x.removeFromDisplayList(),x.displayList||(this.queueDepthSort(),x.displayList=this,x.emit(d.ADDED_TO_SCENE,x,this.scene),this.events.emit(c.ADDED_TO_SCENE,x,this.scene))},removeChildCallback:function(x){this.queueDepthSort(),x.displayList=null,x.emit(d.REMOVED_FROM_SCENE,x,this.scene),this.events.emit(c.REMOVED_FROM_SCENE,x,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(p(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(x,T){return x._depth-T._depth},getChildren:function(){return this.list},addToDisplayList:function(x){return x===void 0&&(x=this.scene.sys.displayList),this.displayList&&this.displayList!==x&&this.removeFromDisplayList(),x.exists(this)||(this.displayList=x,x.add(this,!0),x.queueDepthSort(),this.emit(d.ADDED_TO_SCENE,this,this.scene),x.events.emit(c.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var x=this.displayList||this.scene.sys.displayList;return x.exists(this)&&(x.remove(this,!0),x.queueDepthSort(),this.displayList=null,this.emit(d.REMOVED_FROM_SCENE,this,this.scene),x.events.emit(c.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var x=null;return this.parentContainer?x=this.parentContainer.list:this.displayList&&(x=this.displayList.list),x},destroy:function(x){if(!(!this.scene||this.ignoreDestroy)){this.emit(d.DESTROY,this);for(var T=this.list;T.length;)T[0].destroy(x);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});n.exports=m},2956:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){var f=o.list;if(f.length!==0){o.depthSort();var u=o.blendMode!==-1;u||s.setBlendMode(0);var l=o._alpha;o.mask&&o.mask.preRenderCanvas(s,null,y);for(var a=0;a<f.length;a++){var d=f[a];if(d.willRender(y)){var v=d.alpha;!u&&d.blendMode!==s.currentBlendMode&&s.setBlendMode(d.blendMode),d.setAlpha(v*l),d.renderCanvas(s,d,y),d.setAlpha(v)}}o.mask&&o.mask.postRenderCanvas(s)}};n.exports=C},25179:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),y=s(93595),f=s(44603),u=s(23568);f.register("layer",function(l,a){l===void 0&&(l={});var d=u(l,"children",null),v=new y(this.scene,d);return a!==void 0&&(l.add=a),o(this.scene,v,l),v})},20005:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(93595),y=s(39429);y.register("layer",function(f){return this.displayList.add(new o(this.scene,f))})},33963:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(15869),f=s(2956),n.exports={renderWebGL:y,renderCanvas:f}},15869:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){var f=o.list,u=f.length;if(u!==0){o.depthSort(),s.pipelines.preBatch(o);var l=o.blendMode!==-1;l||s.setBlendMode(0);for(var a=o.alpha,d=0;d<u;d++){var v=f[d];if(v.willRender(y)){var h,c,p,m;if(v.alphaTopLeft!==void 0)h=v.alphaTopLeft,c=v.alphaTopRight,p=v.alphaBottomLeft,m=v.alphaBottomRight;else{var x=v.alpha;h=x,c=x,p=x,m=x}!l&&v.blendMode!==s.currentBlendMode&&s.setBlendMode(v.blendMode);var T=v.mask;T&&T.preRenderWebGL(s,v,y);var P=v.type;P!==s.currentType&&(s.newType=!0,s.currentType=P),s.nextTypeMatch=d<u-1?f[d+1].type===s.currentType:!1,v.setAlpha(h*a,c*a,p*a,m*a),v.renderWebGL(s,v,y),v.setAlpha(h,c,p,m),T&&T.postRenderWebGL(s,y),s.newType=!1}}s.pipelines.postBatch(o)}};n.exports=C},41432:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(96503),y=s(83419),f=s(31401),u=s(51767),l=s(70554),a=new y({Extends:o,Mixins:[f.Origin,f.ScrollFactor,f.Visible],initialize:function(v,h,c,p,m,x,T){o.call(this,v,h,c),this.color=new u(p,m,x),this.intensity=T,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(c)},displayWidth:{get:function(){return this.diameter},set:function(d){this.diameter=d}},displayHeight:{get:function(){return this.diameter},set:function(d){this.diameter=d}},width:{get:function(){return this.diameter},set:function(d){this.diameter=d}},height:{get:function(){return this.diameter},set:function(d){this.diameter=d}},willRender:function(d){return!(a.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&d.id)},setColor:function(d){var v=l.getFloatsFromUintRGB(d);return this.color.set(v[0],v[1],v[2]),this},setIntensity:function(d){return this.intensity=d,this},setRadius:function(d){return this.radius=d,this}});a.RENDER_MASK=15,n.exports=a},61356:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(81491),y=s(83419),f=s(20339),u=s(41432),l=s(80321),a=s(51767),d=s(19133),v=s(19186),h=s(70554),c=new y({initialize:function(){this.lights=[],this.ambientColor=new a(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(p,m,x,T,P,M){return this.systems.displayList.add(new l(this.scene,p,m,x,T,P,M))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(p){for(var m=this.lights,x=p.worldView,T=[],P=0;P<m.length;P++){var M=m[P];M.willRender(p)&&o(M,x)&&T.push({light:M,distance:f(M.x,M.y,x.centerX,x.centerY)})}return T.length>this.maxLights&&(v(T,this.sortByDistance),T=T.slice(0,this.maxLights)),this.visibleLights=T.length,T},sortByDistance:function(p,m){return p.distance>=m.distance},setAmbientColor:function(p){var m=h.getFloatsFromUintRGB(p);return this.ambientColor.set(m[0],m[1],m[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(p,m,x,T,P){p===void 0&&(p=0),m===void 0&&(m=0),x===void 0&&(x=128),T===void 0&&(T=16777215),P===void 0&&(P=1);var M=h.getFloatsFromUintRGB(T),E=new u(p,m,x,M[0],M[1],M[2],P);return this.lights.push(E),E},removeLight:function(p){var m=this.lights.indexOf(p);return m>=0&&d(this.lights,m),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});n.exports=c},88992:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(61356),f=s(37277),u=s(44594),l=new o({Extends:y,initialize:function(d){this.scene=d,this.systems=d.sys,d.sys.settings.isBooted||d.sys.events.once(u.BOOT,this.boot,this),y.call(this)},boot:function(){var a=this.systems.events;a.on(u.SHUTDOWN,this.shutdown,this),a.on(u.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});f.register("LightsPlugin",l,"lights"),n.exports=l},4703:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(31401),f=s(39506),u=s(83997),l=s(95643),a=s(34684),d=s(92515),v=s(91296),h=s(37867),c=s(29807),p=s(43396),m=s(19186),x=s(25836),T=s(39318),P=new o({Extends:l,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.Mask,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Size,y.Texture,y.Transform,y.Visible,c],initialize:function(E,w,R,A,L,b,O,F,D,B,N,z){w===void 0&&(w=0),R===void 0&&(R=0),A===void 0&&(A="__WHITE"),l.call(this,E,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new x,this.modelScale=new x(1,1,1),this.modelRotation=new x,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new h,this.viewPosition=new x,this.viewMatrix=new h,this.projectionMatrix=new h,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var W=E.sys.renderer;this.setPosition(w,R),this.setTexture(A,L),this.setSize(W.width,W.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(W.width,W.height),b&&this.addVertices(b,O,F,D,B,N,z)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(M){return this.viewPosition.addScale(x.LEFT,M),this.dirtyCache[10]=1,this},panY:function(M){return this.viewPosition.y+=x.DOWN.y*M,this.dirtyCache[10]=1,this},panZ:function(M){return this.viewPosition.z+=M,this.dirtyCache[10]=1,this},setPerspective:function(M,E,w,R,A){return w===void 0&&(w=45),R===void 0&&(R=.01),A===void 0&&(A=1e3),this.fov=w,this.projectionMatrix.perspective(f(w),M/E,R,A),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(M,E,w,R){return M===void 0&&(M=this.scene.sys.renderer.getAspectRatio()),E===void 0&&(E=1),w===void 0&&(w=-1e3),R===void 0&&(R=1e3),this.fov=0,this.projectionMatrix.ortho(-M,M,-E,E,w,R),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(M){M.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(M,E,w,R,A,L,b,O,F){var D=this.scene.sys.cache.obj.get(M),B;return D&&(B=a(D,this,E,w,R,A,L,b,O,F)),(!B||B.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",M),this},sortByDepth:function(M,E){return M.depth-E.depth},depthSort:function(){return m(this.faces,this.sortByDepth),this},addVertex:function(M,E,w,R,A,L,b){var O=new T(M,E,w,R,A,L,b);return this.vertices.push(O),O},addFace:function(M,E,w){var R=new u(M,E,w);return this.faces.push(R),this.dirtyCache[9]=-1,R},addVertices:function(M,E,w,R,A,L,b){var O=d(M,E,w,R,A,L,b);return O?(this.faces=this.faces.concat(O.faces),this.vertices=this.vertices.concat(O.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(M){return this.faces[M]},hasFaceAt:function(M,E,w){w===void 0&&(w=this.scene.sys.cameras.main);for(var R=v(this,w).calc,A=this.faces,L=0;L<A.length;L++){var b=A[L];if(b.contains(M,E,R))return!0}return!1},getFaceAt:function(M,E,w){w===void 0&&(w=this.scene.sys.cameras.main);for(var R=v(this,w).calc,A=this.faces,L=[],b=0;b<A.length;b++){var O=A[b];O.contains(M,E,R)&&L.push(O)}return m(L,this.sortByDepth)},setDebug:function(M,E){return this.debugGraphic=M,!M&&!E?this.debugCallback=null:E?this.debugCallback=E:this.debugCallback=this.renderDebug,this},isDirty:function(){var M=this.modelPosition,E=this.modelRotation,w=this.modelScale,R=this.dirtyCache,A=M.x,L=M.y,b=M.z,O=E.x,F=E.y,D=E.z,B=w.x,N=w.y,z=w.z,W=this.getFaceCount(),X=R[0],k=R[1],V=R[2],I=R[3],U=R[4],G=R[5],Y=R[6],H=R[7],$=R[8],K=R[9];return R[0]=A,R[1]=L,R[2]=b,R[3]=O,R[4]=F,R[5]=D,R[6]=B,R[7]=N,R[8]=z,R[9]=W,X!==A||k!==L||V!==b||I!==O||U!==F||G!==D||Y!==B||H!==N||$!==z||K!==W},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var M=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!M[10]&&!this.isDirty())){var E=this.width,w=this.height,R=this.viewMatrix,A=this.viewPosition;M[10]&&(R.identity(),R.translate(A),R.invert(),M[10]=0);var L=this.transformMatrix;L.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var b=A.z,O=this.faces,F=0;F<O.length;F++)O[F].transformCoordinatesLocal(L,E,w,b);this.depthSort()}},renderDebug:function(M,E){for(var w=M.debugGraphic,R=0;R<E.length;R++){var A=E[R],L=A.vertex1.tx,b=A.vertex1.ty,O=A.vertex2.tx,F=A.vertex2.ty,D=A.vertex3.tx,B=A.vertex3.ty;w.strokeTriangle(L,b,O,F,D,B)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(M){M===void 0&&(M={});var E=(function(w,R,A){for(var L=this.faces,b=0;b<L.length;b++){var O=L[b];if(O.contains(R,A))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,M,E),this},setTint:function(M){M===void 0&&(M=16777215);for(var E=this.vertices,w=0;w<E.length;w++)E[w].color=M;return this},uvScroll:function(M,E){for(var w=this.faces,R=0;R<w.length;R++)w[R].scrollUV(M,E);return this},uvScale:function(M,E){for(var w=this.faces,R=0;R<w.length;R++)w[R].scaleUV(M,E);return this},tint:{set:function(M){this.setTint(M)}},rotateX:{get:function(){return p(this.modelRotation.x)},set:function(M){this.modelRotation.x=f(M)}},rotateY:{get:function(){return p(this.modelRotation.y)},set:function(M){this.modelRotation.y=f(M)}},rotateZ:{get:function(){return p(this.modelRotation.z)},set:function(M){this.modelRotation.z=f(M)}}});n.exports=P},36488:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(){};n.exports=C},20527:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),y=s(44603),f=s(23568),u=s(35154),l=s(4703);y.register("mesh",function(a,d){a===void 0&&(a={});var v=f(a,"key",null),h=f(a,"frame",null),c=u(a,"vertices",[]),p=u(a,"uvs",[]),m=u(a,"indicies",[]),x=u(a,"containsZ",!1),T=u(a,"normals",[]),P=u(a,"colors",16777215),M=u(a,"alphas",1),E=new l(this.scene,0,0,v,h,c,p,m,x,T,P,M);return d!==void 0&&(a.add=d),o(this.scene,E,a),E})},9225:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(4703),y=s(39429);y.register("mesh",function(f,u,l,a,d,v,h,c,p,m,x){return this.displayList.add(new o(this.scene,f,u,l,a,d,v,h,c,p,m,x))})},29807:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(48833),f=s(36488),n.exports={renderWebGL:y,renderCanvas:f}},48833:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),y=function(f,u,l,a){var d=u.faces,v=d.length;if(v!==0){l.addToRenderList(u);var h=f.pipelines.set(u.pipeline,u),c=o(u,l,a).calc;f.pipelines.preBatch(u);for(var p=h.setGameObject(u),m=h.vertexViewF32,x=h.vertexViewU32,T=h.vertexCount*h.currentShader.vertexComponentCount-1,P=u.tintFill,M=[],E=u.debugCallback,w=c.a,R=c.b,A=c.c,L=c.d,b=c.e,O=c.f,F=u.viewPosition.z,D=u.hideCCW,B=l.roundPixels,N=l.alpha*u.alpha,z=0,W=0;W<v;W++){var X=d[W];X.isInView(l,D,F,N,w,R,A,L,b,O,B)&&(h.shouldFlush(3)&&(h.flush(),p=h.setGameObject(u),T=h.vertexCount*h.currentShader.vertexComponentCount-1),T=X.load(m,x,T,p,P),z++,h.vertexCount+=3,h.currentBatch.count=h.vertexCount-h.currentBatch.start,E&&M.push(X))}u.totalFrame+=z,E&&E.call(u,u,M),f.pipelines.postBatch(u)}};n.exports=y},28103:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(31401),f=s(95643),u=s(78023),l=s(39318),a=new o({Extends:f,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.GetBounds,y.Mask,y.Origin,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Texture,y.Transform,y.Visible,u],initialize:function(v,h,c,p,m,x,T,P,M,E,w){f.call(this,v,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var R=v.textures.getFrame(p,m);this.is3Slice=!E&&!w,R&&R.scale9&&(this.is3Slice=R.is3Slice);for(var A=this.is3Slice?18:54,L=0;L<A;L++)this.vertices.push(new l);this.setPosition(h,c),this.setTexture(p,m),this.setSlices(x,T,P,M,E,w,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(d,v,h,c,p,m,x){h===void 0&&(h=10),c===void 0&&(c=10),p===void 0&&(p=0),m===void 0&&(m=0),x===void 0&&(x=!1);var T=this.frame,P=!1;if(this.is3Slice&&x&&p!==0&&m!==0&&(P=!0),P)console.warn("Cannot change 9 slice to 3 slice");else{if(T&&T.scale9&&!x){var M=T.data.scale9Borders,E=M.x,w=M.y;h=E,c=T.width-M.w-E,p=w,m=T.height-M.h-w,d===void 0&&(d=T.width),v===void 0&&(v=T.height)}else d===void 0&&(d=256),v===void 0&&(v=256);this._width=d,this._height=v,this.leftWidth=h,this.rightWidth=c,this.topHeight=p,this.bottomHeight=m,this.is3Slice&&(v=T.height,this._height=v,this.topHeight=v,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var d=this.leftWidth,v=this.rightWidth,h=this.topHeight,c=this.bottomHeight,p=this.frame.width,m=this.frame.height;this.updateQuadUVs(0,0,0,d/p,h/m),this.updateQuadUVs(6,d/p,0,1-v/p,h/m),this.updateQuadUVs(12,1-v/p,0,1,h/m),this.is3Slice||(this.updateQuadUVs(18,0,h/m,d/p,1-c/m),this.updateQuadUVs(24,d/p,h/m,1-v/p,1-c/m),this.updateQuadUVs(30,1-v/p,h/m,1,1-c/m),this.updateQuadUVs(36,0,1-c/m,d/p,1),this.updateQuadUVs(42,d/p,1-c/m,1-v/p,1),this.updateQuadUVs(48,1-v/p,1-c/m,1,1))},updateVertices:function(){var d=this.leftWidth,v=this.rightWidth,h=this.topHeight,c=this.bottomHeight,p=this.width,m=this.height;this.updateQuad(0,-.5,.5,-.5+d/p,.5-h/m),this.updateQuad(6,-.5+d/p,.5,.5-v/p,.5-h/m),this.updateQuad(12,.5-v/p,.5,.5,.5-h/m),this.is3Slice||(this.updateQuad(18,-.5,.5-h/m,-.5+d/p,-.5+c/m),this.updateQuad(24,-.5+d/p,.5-h/m,.5-v/p,-.5+c/m),this.updateQuad(30,.5-v/p,.5-h/m,.5,-.5+c/m),this.updateQuad(36,-.5,-.5+c/m,-.5+d/p,-.5),this.updateQuad(42,-.5+d/p,-.5+c/m,.5-v/p,-.5),this.updateQuad(48,.5-v/p,-.5+c/m,.5,-.5))},updateQuad:function(d,v,h,c,p){var m=this.width,x=this.height,T=this.originX,P=this.originY,M=this.vertices;M[d+0].resize(v,h,m,x,T,P),M[d+1].resize(v,p,m,x,T,P),M[d+2].resize(c,h,m,x,T,P),M[d+3].resize(v,p,m,x,T,P),M[d+4].resize(c,p,m,x,T,P),M[d+5].resize(c,h,m,x,T,P)},updateQuadUVs:function(d,v,h,c,p){var m=this.vertices,x=this.frame,T=x.u0,P=x.v0,M=x.u1,E=x.v1;if(T!==0||M!==1){var w=M-T;v=T+v*w,c=T+c*w}if(P!==0||E!==1){var R=E-P;h=P+h*R,p=P+p*R}m[d+0].setUVs(v,h),m[d+1].setUVs(v,p),m[d+2].setUVs(c,h),m[d+3].setUVs(v,p),m[d+4].setUVs(c,p),m[d+5].setUVs(c,h)},clearTint:function(){return this.setTint(16777215),this},setTint:function(d){return d===void 0&&(d=16777215),this.tint=d,this.tintFill=!1,this},setTintFill:function(d){return this.setTint(d),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(d){this._width=Math.max(d,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(d){this.is3Slice||(this._height=Math.max(d,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(d){this.scaleX=d/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(d){this.scaleY=d/this.height}},setSize:function(d,v){this.width=d,this.height=v,this.updateDisplayOrigin();var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=this.width,h.hitArea.height=this.height),this},setDisplaySize:function(d,v){return this.displayWidth=d,this.displayHeight=v,this},originX:{get:function(){return this._originX},set:function(d){this._originX=d,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(d){this._originY=d,this.updateVertices()}},setOrigin:function(d,v){return d===void 0&&(d=.5),v===void 0&&(v=d),this._originX=d,this._originY=v,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var d=this.frame.height;this._height=d,this.topHeight=d,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});n.exports=a},28279:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),y=s(44603),f=s(23568),u=s(35154),l=s(28103);y.register("nineslice",function(a,d){a===void 0&&(a={});var v=f(a,"key",null),h=f(a,"frame",null),c=u(a,"width",256),p=u(a,"height",256),m=u(a,"leftWidth",10),x=u(a,"rightWidth",10),T=u(a,"topHeight",0),P=u(a,"bottomHeight",0),M=new l(this.scene,0,0,v,h,c,p,m,x,T,P);return d!==void 0&&(a.add=d),o(this.scene,M,a),M})},47521:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(28103),y=s(39429);y.register("nineslice",function(f,u,l,a,d,v,h,c,p,m){return this.displayList.add(new o(this.scene,f,u,l,a,d,v,h,c,p,m))})},78023:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(52230),n.exports={renderWebGL:y,renderCanvas:f}},52230:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),y=s(70554),f=function(u,l,a,d){var v=l.vertices,h=v.length;if(h!==0){a.addToRenderList(l);var c=u.pipelines.set(l.pipeline,l),p=o(l,a,d,!1).calc;u.pipelines.preBatch(l);var m=c.setGameObject(l),x=c.vertexViewF32,T=c.vertexViewU32,P=c.vertexCount*c.currentShader.vertexComponentCount-1,M=a.roundPixels,E=l.tintFill,w=a.alpha*l.alpha,R=y.getTintAppendFloatAlpha(l.tint,w),A=c.vertexAvailable(),L=-1;A<h&&(L=A);for(var b=0;b<h;b++){var O=v[b];b===L&&(c.flush(),m=c.setGameObject(l),P=0),x[++P]=p.getXRound(O.vx,O.vy,M),x[++P]=p.getYRound(O.vx,O.vy,M),x[++P]=O.u,x[++P]=O.v,x[++P]=m,x[++P]=E,T[++P]=R,c.vertexCount++,c.currentBatch.count=c.vertexCount-c.currentBatch.start}u.pipelines.postBatch(l)}};n.exports=f},76472:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(44777),f=s(37589),u=s(6113),l=s(91389),a=s(90664),d=new o({Extends:y,initialize:function(h){y.call(this,h,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var v=this.propertyValue,h=v,c=this.defaultEmit,p=this.defaultUpdate;if(this.method===9){this.start=v[0],this.ease=u("Linear"),this.interpolation=l("linear"),c=this.easedValueEmit,p=this.easeValueUpdate,h=v[0],this.active=!0,this.r.length=0,this.g.length=0,this.b.length=0;for(var m=0;m<v.length;m++){var x=a(v[m]);this.r.push(x.r),this.g.push(x.g),this.b.push(x.b)}}return this.onEmit=c,this.onUpdate=p,this.current=h,this},setEase:function(v){this.easeName=v,this.ease=u(v)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(v,h,c){var p=this.ease(c),m=this.interpolation(this.r,p),x=this.interpolation(this.g,p),T=this.interpolation(this.b,p),P=f(m,x,T);return this.current=P,P}});n.exports=d},44777:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(30976),y=s(45319),f=s(83419),u=s(99472),l=s(6113),a=s(95540),d=s(91389),v=s(77720),h=s(15994),c=new f({initialize:function(m,x,T){T===void 0&&(T=!1),this.propertyKey=m,this.propertyValue=x,this.defaultValue=x,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=T,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(p,m){p===void 0&&(p={}),m&&(this.propertyKey=m),this.propertyValue=a(p,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(p){var m;switch(this.method){case 1:case 3:case 8:m=p;break;case 2:this.propertyValue.indexOf(p)>=0&&(m=p);break;case 4:var x=(this.end-this.start)/this.steps;m=v(p,x),this.counter=m;break;case 5:case 6:case 7:m=y(p,this.start,this.end);break;case 9:m=this.start[0];break}return this.current=m,this},getMethod:function(){var p=this.propertyValue;if(p===null)return 0;var m=typeof p;if(m==="number")return 1;if(Array.isArray(p))return 2;if(m==="function")return 3;if(m==="object"){if(this.hasBoth(p,"start","end"))return this.has(p,"steps")?4:5;if(this.hasBoth(p,"min","max"))return 6;if(this.has(p,"random"))return 7;if(this.hasEither(p,"onEmit","onUpdate"))return 8;if(this.hasEither(p,"values","interpolation"))return 9}return 0},setMethods:function(){var p=this.propertyValue,m=p,x=this.defaultEmit,T=this.defaultUpdate;switch(this.method){case 1:x=this.staticValueEmit;break;case 2:x=this.randomStaticValueEmit,m=p[0];break;case 3:this._onEmit=p,x=this.proxyEmit,m=this.defaultValue;break;case 4:this.start=p.start,this.end=p.end,this.steps=p.steps,this.counter=this.start,this.yoyo=this.has(p,"yoyo")?p.yoyo:!1,this.direction=0,x=this.steppedEmit,m=this.start;break;case 5:this.start=p.start,this.end=p.end;var P=this.has(p,"ease")?p.ease:"Linear";this.ease=l(P,p.easeParams),x=this.has(p,"random")&&p.random?this.randomRangedValueEmit:this.easedValueEmit,T=this.easeValueUpdate,m=this.start;break;case 6:this.start=p.min,this.end=p.max,x=this.has(p,"int")&&p.int?this.randomRangedIntEmit:this.randomRangedValueEmit,m=this.start;break;case 7:var M=p.random;Array.isArray(M)&&(this.start=M[0],this.end=M[1]),x=this.randomRangedIntEmit,m=this.start;break;case 8:this._onEmit=this.has(p,"onEmit")?p.onEmit:this.defaultEmit,this._onUpdate=this.has(p,"onUpdate")?p.onUpdate:this.defaultUpdate,x=this.proxyEmit,T=this.proxyUpdate,m=this.defaultValue;break;case 9:this.start=p.values;var E=this.has(p,"ease")?p.ease:"Linear";this.ease=l(E,p.easeParams),this.interpolation=d(p.interpolation),x=this.easedValueEmit,T=this.easeValueUpdate,m=this.start[0];break}return this.onEmit=x,this.onUpdate=T,this.current=m,this},has:function(p,m){return p.hasOwnProperty(m)},hasBoth:function(p,m,x){return p.hasOwnProperty(m)&&p.hasOwnProperty(x)},hasEither:function(p,m,x){return p.hasOwnProperty(m)||p.hasOwnProperty(x)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(p,m,x,T){return T},proxyEmit:function(p,m,x){var T=this._onEmit(p,m,x);return this.current=T,T},proxyUpdate:function(p,m,x,T){var P=this._onUpdate(p,m,x,T);return this.current=P,P},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var p=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[p],this.current},randomRangedValueEmit:function(p,m){var x=u(this.start,this.end);return p&&p.data[m]&&(p.data[m].min=x,p.data[m].max=this.end),this.current=x,x},randomRangedIntEmit:function(p,m){var x=o(this.start,this.end);return p&&p.data[m]&&(p.data[m].min=x,p.data[m].max=this.end),this.current=x,x},steppedEmit:function(){var p=this.counter,m=p,x=(this.end-this.start)/this.steps;if(this.yoyo){var T;this.direction===0?(m+=x,m>=this.end&&(T=m-this.end,m=this.end-T,this.direction=1)):(m-=x,m<=this.start&&(T=this.start-m,m=this.start+T,this.direction=0)),this.counter=m}else this.counter=h(m+x,this.start,this.end);return this.current=p,p},easedValueEmit:function(p,m){if(p&&p.data[m]){var x=p.data[m];x.min=this.start,x.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(p,m,x){var T=p.data[m],P,M=this.ease(x);return this.interpolation?P=this.interpolation(this.start,M):P=(T.max-T.min)*M+T.min,this.current=P,P},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});n.exports=c},24502:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(95540),f=s(20286),u=new o({Extends:f,initialize:function(a,d,v,h,c){if(typeof a=="object"){var p=a;a=y(p,"x",0),d=y(p,"y",0),v=y(p,"power",0),h=y(p,"epsilon",100),c=y(p,"gravity",50)}else a===void 0&&(a=0),d===void 0&&(d=0),v===void 0&&(v=0),h===void 0&&(h=100),c===void 0&&(c=50);f.call(this,a,d,!0),this._gravity=c,this._power=v*c,this._epsilon=h*h},update:function(l,a){var d=this.x-l.x,v=this.y-l.y,h=d*d+v*v;if(h!==0){var c=Math.sqrt(h);h<this._epsilon&&(h=this._epsilon);var p=this._power*a/(h*c)*100;l.velocityX+=d*p,l.velocityY+=v*p}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(l){this._epsilon=l*l}},power:{get:function(){return this._power/this._gravity},set:function(l){this._power=l*this._gravity}},gravity:{get:function(){return this._gravity},set:function(l){var a=this.power;this._gravity=l,this.power=a}}});n.exports=u},56480:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(9674),y=s(45319),f=s(83419),u=s(39506),l=s(87841),a=s(11520),d=s(26099),v=new f({initialize:function(c){this.emitter=c,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new d,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=c.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new o(this)),this.bounds=new l},emit:function(h,c,p,m,x,T){return this.emitter.emit(h,c,p,m,x,T)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(h,c){h===void 0&&(h=0),c===void 0&&(c=0),this.x=h,this.y=c},fire:function(h,c){var p=this.emitter,m=p.ops,x=p.getAnim();if(x?this.anims.play(x):(this.frame=p.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(p.getEmitZone(this),h===void 0?this.x+=m.x.onEmit(this,"x"):m.x.steps>0?this.x+=h+m.x.onEmit(this,"x"):this.x+=h,c===void 0?this.y+=m.y.onEmit(this,"y"):m.y.steps>0?this.y+=c+m.y.onEmit(this,"y"):this.y+=c,this.life=m.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=m.delay.onEmit(this,"delay"),this.holdCurrent=m.hold.onEmit(this,"hold"),this.scaleX=m.scaleX.onEmit(this,"scaleX"),this.scaleY=m.scaleY.active?m.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=m.rotate.onEmit(this,"rotate"),this.rotation=u(this.angle),p.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&p.getDeathZone(this))return this.lifeCurrent=0,!1;var T=m.speedX.onEmit(this,"speedX"),P=m.speedY.active?m.speedY.onEmit(this,"speedY"):T;if(p.radial){var M=u(m.angle.onEmit(this,"angle"));this.velocityX=Math.cos(M)*Math.abs(T),this.velocityY=Math.sin(M)*Math.abs(P)}else if(p.moveTo){var E=m.moveToX.onEmit(this,"moveToX"),w=m.moveToY.onEmit(this,"moveToY"),R=this.life/1e3;this.velocityX=(E-this.x)/R,this.velocityY=(w-this.y)/R}else this.velocityX=T,this.velocityY=P;return p.acceleration&&(this.accelerationX=m.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=m.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=m.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=m.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=m.bounce.onEmit(this,"bounce"),this.alpha=m.alpha.onEmit(this,"alpha"),m.color.active?this.tint=m.color.onEmit(this,"tint"):this.tint=m.tint.onEmit(this,"tint"),!0},update:function(h,c,p){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=h,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=h,!1;this.anims&&this.anims.update(0,h);var m=this.emitter,x=m.ops,T=1-this.lifeCurrent/this.life;if(this.lifeT=T,this.x=x.x.onUpdate(this,"x",T,this.x),this.y=x.y.onUpdate(this,"y",T,this.y),m.moveTo){var P=x.moveToX.onUpdate(this,"moveToX",T,m.moveToX),M=x.moveToY.onUpdate(this,"moveToY",T,m.moveToY),E=this.lifeCurrent/1e3;this.velocityX=(P-this.x)/E,this.velocityY=(M-this.y)/E}return this.computeVelocity(m,h,c,p,T),this.scaleX=x.scaleX.onUpdate(this,"scaleX",T,this.scaleX),x.scaleY.active?this.scaleY=x.scaleY.onUpdate(this,"scaleY",T,this.scaleY):this.scaleY=this.scaleX,this.angle=x.rotate.onUpdate(this,"rotate",T,this.angle),this.rotation=u(this.angle),m.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=y(x.alpha.onUpdate(this,"alpha",T,this.alpha),0,1),x.color.active?this.tint=x.color.onUpdate(this,"color",T,this.tint):this.tint=x.tint.onUpdate(this,"tint",T,this.tint),this.lifeCurrent-=h,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(h,c,p,m,x){var T=h.ops,P=this.velocityX,M=this.velocityY,E=T.accelerationX.onUpdate(this,"accelerationX",x,this.accelerationX),w=T.accelerationY.onUpdate(this,"accelerationY",x,this.accelerationY),R=T.maxVelocityX.onUpdate(this,"maxVelocityX",x,this.maxVelocityX),A=T.maxVelocityY.onUpdate(this,"maxVelocityY",x,this.maxVelocityY);this.bounce=T.bounce.onUpdate(this,"bounce",x,this.bounce),P+=h.gravityX*p+E*p,M+=h.gravityY*p+w*p,P=y(P,-R,R),M=y(M,-A,A),this.velocityX=P,this.velocityY=M,this.x+=P*p,this.y+=M*p,h.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var L=0;L<m.length;L++){var b=m[L];b.active&&b.update(this,c,p,x)}},setSizeToFrame:function(){},getBounds:function(h){h===void 0&&(h=this.emitter.getWorldTransformMatrix());var c=Math.abs(h.scaleX)*this.scaleX,p=Math.abs(h.scaleY)*this.scaleY,m=this.x,x=this.y,T=this.rotation,P=this.frame.width*c/2,M=this.frame.height*p/2,E=this.bounds,w=new d(m-P,x-M),R=new d(m+P,x-M),A=new d(m-P,x+M),L=new d(m+P,x+M);return T!==0&&(a(w,m,x,T),a(R,m,x,T),a(A,m,x,T),a(L,m,x,T)),h.transformPoint(w.x,w.y,w),h.transformPoint(R.x,R.y,R),h.transformPoint(A.x,A.y,A),h.transformPoint(L.x,L.y,L),E.x=Math.min(w.x,R.x,A.x,L.x),E.y=Math.min(w.y,R.y,A.y,L.y),E.width=Math.max(w.x,R.x,A.x,L.x)-E.x,E.height=Math.max(w.y,R.y,A.y,L.y)-E.y,E},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});n.exports=v},69601:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(20286),f=s(87841),u=new o({Extends:y,initialize:function(a,d,v,h,c,p,m,x){c===void 0&&(c=!0),p===void 0&&(p=!0),m===void 0&&(m=!0),x===void 0&&(x=!0),y.call(this,a,d,!0),this.bounds=new f(a,d,v,h),this.collideLeft=c,this.collideRight=p,this.collideTop=m,this.collideBottom=x},update:function(l){var a=this.bounds,d=-l.bounce,v=l.worldPosition;v.x<a.x&&this.collideLeft?(l.x+=a.x-v.x,l.velocityX*=d):v.x>a.right&&this.collideRight&&(l.x-=v.x-a.right,l.velocityX*=d),v.y<a.y&&this.collideTop?(l.y+=a.y-v.y,l.velocityY*=d):v.y>a.bottom&&this.collideBottom&&(l.y-=v.y-a.bottom,l.velocityY*=d)}});n.exports=u},31600:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(31401),f=s(53774),u=s(43459),l=s(26388),a=s(19909),d=s(76472),v=s(44777),h=s(20696),c=s(95643),p=s(95540),m=s(26546),x=s(24502),T=s(69036),P=s(1985),M=s(97022),E=s(86091),w=s(73162),R=s(20074),A=s(269),L=s(56480),b=s(69601),O=s(68875),F=s(87841),D=s(59996),B=s(72905),N=s(90668),z=s(19186),W=s(61340),X=s(26099),k=s(15994),V=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],I=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],U=new o({Extends:c,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.Mask,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Texture,y.Transform,y.Visible,N],initialize:function(Y,H,$,K,Z){c.call(this,Y,"ParticleEmitter"),this.particleClass=L,this.config=null,this.ops={accelerationX:new v("accelerationX",0),accelerationY:new v("accelerationY",0),alpha:new v("alpha",1),angle:new v("angle",{min:0,max:360},!0),bounce:new v("bounce",0),color:new d("color"),delay:new v("delay",0,!0),hold:new v("hold",0,!0),lifespan:new v("lifespan",1e3,!0),maxVelocityX:new v("maxVelocityX",1e4),maxVelocityY:new v("maxVelocityY",1e4),moveToX:new v("moveToX",0),moveToY:new v("moveToY",0),quantity:new v("quantity",1,!0),rotate:new v("rotate",0),scaleX:new v("scaleX",1),scaleY:new v("scaleY",1),speedX:new v("speedX",0,!0),speedY:new v("speedY",0,!0),tint:new v("tint",16777215),x:new v("x",0),y:new v("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new X,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new W,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new w(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(H,$),this.setTexture(K),Z&&this.setConfig(Z)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(G){if(!G)return this;this.config=G;var Y=0,H="",$=this.ops;for(Y=0;Y<I.length;Y++)H=I[Y],$[H].loadConfig(G);for(Y=0;Y<V.length;Y++)H=V[Y],M(G,H)&&(this[H]=p(G,H));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=T(G,["moveToX","moveToY"]),M(G,"speed")&&($.speedX.loadConfig(G,"speed"),$.speedY.active=!1),(P(G,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),M(G,"scale")&&($.scaleX.loadConfig(G,"scale"),$.scaleY.active=!1),M(G,"callbackScope")){var K=p(G,"callbackScope",null);this.emitCallbackScope=K,this.deathCallbackScope=K}if(M(G,"emitZone")&&this.addEmitZone(G.emitZone),M(G,"deathZone")&&this.addDeathZone(G.deathZone),M(G,"bounds")){var Z=this.addParticleBounds(G.bounds);Z.collideLeft=p(G,"collideLeft",!0),Z.collideRight=p(G,"collideRight",!0),Z.collideTop=p(G,"collideTop",!0),Z.collideBottom=p(G,"collideBottom",!0)}return M(G,"followOffset")&&this.followOffset.setFromObject(p(G,"followOffset",0)),M(G,"texture")&&this.setTexture(G.texture),M(G,"frame")?this.setEmitterFrame(G.frame):M(G,"anim")&&this.setAnim(G.anim),M(G,"reserve")&&this.reserve(G.reserve),M(G,"advance")&&this.fastForward(G.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(h.START,this),this},updateConfig:function(G){return G&&(this.config?this.setConfig(A(this.config,G)):this.setConfig(G)),this},toJSON:function(){var G=f(this),Y=0,H="";for(Y=0;Y<V.length;Y++)H=V[Y],G[H]=this[H];var $=this.ops;for(Y=0;Y<I.length;Y++)H=I[Y],$[H]&&(G[H]=$[H].toJSON());return $.speedY.active||(delete G.speedX,G.speed=$.speedX.toJSON()),this.scaleX===this.scaleY&&(delete G.scaleX,delete G.scaleY,G.scale=$.scaleX.toJSON()),G},resetCounters:function(G,Y){var H=this.counters;H.fill(0),H[0]=G,Y&&(H[5]=1)},startFollow:function(G,Y,H,$){return Y===void 0&&(Y=0),H===void 0&&(H=0),$===void 0&&($=!1),this.follow=G,this.followOffset.set(Y,H),this.trackVisible=$,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var G=this.frames,Y=G.length,H;return Y===1?H=G[0]:this.randomFrame?H=m(G):(H=G[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===Y&&(this.currentFrame=0))),this.texture.get(H)},setEmitterFrame:function(G,Y,H){Y===void 0&&(Y=!0),H===void 0&&(H=1),this.randomFrame=Y,this.frameQuantity=H,this.currentFrame=0;var $=typeof G;if(this.frames.length=0,Array.isArray(G))this.frames=this.frames.concat(G);else if($==="string"||$==="number")this.frames.push(G);else if($==="object"){var K=G;G=p(K,"frames",null),G&&(this.frames=this.frames.concat(G));var Z=p(K,"cycle",!1);this.randomFrame=!Z,this.frameQuantity=p(K,"quantity",H)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var G=this.anims,Y=G.length;if(Y===0)return null;if(Y===1)return G[0];if(this.randomAnim)return m(G);var H=G[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=k(this.currentAnim+1,0,Y)),H},setAnim:function(G,Y,H){Y===void 0&&(Y=!0),H===void 0&&(H=1),this.randomAnim=Y,this.animQuantity=H,this.currentAnim=0;var $=typeof G;if(this.anims.length=0,Array.isArray(G))this.anims=this.anims.concat(G);else if($==="string")this.anims.push(G);else if($==="object"){var K=G;G=p(K,"anims",null),G&&(this.anims=this.anims.concat(G));var Z=p(K,"cycle",!1);this.randomAnim=!Z,this.animQuantity=p(K,"quantity",H)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(G){return G===void 0&&(G=!0),this.radial=G,this},addParticleBounds:function(G,Y,H,$,K,Z,J,j){if(typeof G=="object"){var Q=G;G=Q.x,Y=Q.y,H=M(Q,"w")?Q.w:Q.width,$=M(Q,"h")?Q.h:Q.height}return this.addParticleProcessor(new b(G,Y,H,$,K,Z,J,j))},setParticleSpeed:function(G,Y){return Y===void 0&&(Y=G),this.ops.speedX.onChange(G),G===Y?this.ops.speedY.active=!1:this.ops.speedY.onChange(Y),this.radial=!0,this},setParticleScale:function(G,Y){return G===void 0&&(G=1),Y===void 0&&(Y=G),this.ops.scaleX.onChange(G),this.ops.scaleY.onChange(Y),this},setParticleGravity:function(G,Y){return this.gravityX=G,this.gravityY=Y,this},setParticleAlpha:function(G){return this.ops.alpha.onChange(G),this},setParticleTint:function(G){return this.ops.tint.onChange(G),this},setEmitterAngle:function(G){return this.ops.angle.onChange(G),this},setParticleLifespan:function(G){return this.ops.lifespan.onChange(G),this},setQuantity:function(G){return this.quantity=G,this},setFrequency:function(G,Y){return this.frequency=G,this.flowCounter=G>0?G:0,Y&&(this.quantity=Y),this},addDeathZone:function(G){Array.isArray(G)||(G=[G]);for(var Y,H=[],$=0;$<G.length;$++)if(Y=G[$],Y instanceof l)H.push(Y);else if(typeof Y.contains=="function")Y=new l(Y,!0),H.push(Y);else{var K=p(Y,"type","onEnter"),Z=p(Y,"source",null);if(Z&&typeof Z.contains=="function"){var J=K==="onEnter";Y=new l(Z,J),H.push(Y)}}return this.deathZones=this.deathZones.concat(H),H},removeDeathZone:function(G){return B(this.deathZones,G),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(G){Array.isArray(G)||(G=[G]);for(var Y,H=[],$=0;$<G.length;$++)if(Y=G[$],Y instanceof O||Y instanceof a)H.push(Y);else{var K=p(Y,"source",null);if(K){var Z=p(Y,"type","random");if(Z==="random"&&typeof K.getRandomPoint=="function")Y=new O(K),H.push(Y);else if(Z==="edge"&&typeof K.getPoints=="function"){var J=p(Y,"quantity",1),j=p(Y,"stepRate",0),Q=p(Y,"yoyo",!1),_=p(Y,"seamless",!0),it=p(Y,"total",-1);Y=new a(K,J,j,Q,_,it),H.push(Y)}}}return this.emitZones=this.emitZones.concat(H),H},removeEmitZone:function(G){return B(this.emitZones,G),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(G){var Y=this.emitZones,H=Y.length;if(H!==0){var $=Y[this.zoneIndex];$.getPoint(G),$.total>-1&&(this.zoneTotal++,this.zoneTotal===$.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===H&&(this.zoneIndex=0)))}},getDeathZone:function(G){for(var Y=this.deathZones,H=0;H<Y.length;H++){var $=Y[H];if($.willKill(G))return this.emit(h.DEATH_ZONE,this,G,$),!0}return!1},setEmitZone:function(G){var Y;return isFinite(G)?Y=G:Y=this.emitZones.indexOf(G),Y>=0&&(this.zoneIndex=Y),this},addParticleProcessor:function(G){return this.processors.exists(G)||(G.emitter&&G.emitter.removeParticleProcessor(G),this.processors.add(G),G.emitter=this),G},removeParticleProcessor:function(G){return this.processors.exists(G)&&(this.processors.remove(G,!0),G.emitter=null),G},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(G){return this.addParticleProcessor(new x(G))},reserve:function(G){var Y=this.dead;if(this.maxParticles>0){var H=this.getParticleCount();H+G>this.maxParticles&&(G=this.maxParticles-(H+G))}for(var $=0;$<G;$++)Y.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(G,Y){return G===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof G=="function"&&(this.emitCallback=G,Y&&(this.emitCallbackScope=Y)),this},onParticleDeath:function(G,Y){return G===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof G=="function"&&(this.deathCallback=G,Y&&(this.deathCallbackScope=Y)),this},killAll:function(){for(var G=this.dead,Y=this.alive;Y.length>0;)G.push(Y.pop());return this},forEachAlive:function(G,Y){for(var H=this.alive,$=H.length,K=0;K<$;K++)G.call(Y,H[K],this);return this},forEachDead:function(G,Y){for(var H=this.dead,$=H.length,K=0;K<$;K++)G.call(Y,H[K],this);return this},start:function(G,Y){return G===void 0&&(G=0),this.emitting||(G>0&&this.fastForward(G),this.emitting=!0,this.resetCounters(this.frequency,!0),Y!==void 0&&(this.duration=Math.abs(Y)),this.emit(h.START,this)),this},stop:function(G){return G===void 0&&(G=!1),this.emitting&&(this.emitting=!1,G&&this.killAll(),this.emit(h.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(G,Y){return G===void 0&&(G=""),Y===void 0&&(Y=this.true),this.sortProperty=G,this.sortOrderAsc=Y,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(G){return this.sortProperty!==""?G=this.depthSortCallback:G=null,this.sortCallback=G,this},depthSort:function(){return z(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(G,Y){var H=this.sortProperty;return this.sortOrderAsc?G[H]-Y[H]:Y[H]-G[H]},flow:function(G,Y,H){return Y===void 0&&(Y=1),this.emitting=!1,this.frequency=G,this.quantity=Y,H!==void 0&&(this.stopAfter=H),this.start()},explode:function(G,Y,H){this.frequency=-1,this.resetCounters(-1,!0);var $=this.emitParticle(G,Y,H);return this.emit(h.EXPLODE,this,$),$},emitParticleAt:function(G,Y,H){return this.emitParticle(H,G,Y)},emitParticle:function(G,Y,H){if(!this.atLimit()){G===void 0&&(G=this.ops.quantity.onEmit());for(var $=this.dead,K=this.stopAfter,Z=this.follow?this.follow.x+this.followOffset.x:Y,J=this.follow?this.follow.y+this.followOffset.y:H,j=0;j<G;j++){var Q=$.pop();if(Q||(Q=new this.particleClass(this)),Q.fire(Z,J)?(this.particleBringToTop?this.alive.push(Q):this.alive.unshift(Q),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,Q,this)):this.dead.push(Q),K>0&&(this.stopCounter++,this.stopCounter>=K)||this.atLimit())break}return Q}},fastForward:function(G,Y){Y===void 0&&(Y=1e3/60);var H=0;for(this.skipping=!0;H<Math.abs(G);)this.preUpdate(0,Y),H+=Y;return this.skipping=!1,this},preUpdate:function(G,Y){Y*=this.timeScale;var H=Y/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var $=this.getProcessors(),K=this.alive,Z=this.dead,J=0,j=[],Q=K.length;for(J=0;J<Q;J++){var _=K[J];_.update(Y,H,$)&&j.push({index:J,particle:_})}if(Q=j.length,Q>0){var it=this.deathCallback,q=this.deathCallbackScope;for(J=Q-1;J>=0;J--){var ht=j[J];K.splice(ht.index,1),Z.push(ht.particle),it&&it.call(q,ht.particle),ht.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&K.length===0&&(this.completeFlag=0,this.emit(h.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=Y;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=Y,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(G){for(var Y=this.getWorldTransformMatrix(),H=this.alive,$=H.length,K=[],Z=0;Z<$;Z++){var J=H[Z];D(G,J.getBounds(Y))&&K.push(J)}return K},getBounds:function(G,Y,H,$){G===void 0&&(G=0),Y===void 0&&(Y=0),H===void 0&&(H=1e3/60),$===void 0&&($=new F);var K=this.getWorldTransformMatrix(),Z,J,j=this.alive,Q=!1;if($.setTo(0,0,0,0),Y>0){var _=0;for(this.skipping=!0;_<Math.abs(Y);){for(this.preUpdate(0,H),Z=0;Z<j.length;Z++)J=j[Z].getBounds(K),Q?R($,J):(Q=!0,u(J,$));_+=H}this.skipping=!1}else for(Z=0;Z<j.length;Z++)J=j[Z].getBounds(K),Q?R($,J):(Q=!0,u(J,$));return G>0&&E($,G,G),$},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(G){this.ops.x.onChange(G)}},particleY:{get:function(){return this.ops.y.current},set:function(G){this.ops.y.onChange(G)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(G){this.ops.accelerationX.onChange(G)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(G){this.ops.accelerationY.onChange(G)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(G){this.ops.maxVelocityX.onChange(G)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(G){this.ops.maxVelocityY.onChange(G)}},speed:{get:function(){return this.ops.speedX.current},set:function(G){this.ops.speedX.onChange(G),this.ops.speedY.onChange(G)}},speedX:{get:function(){return this.ops.speedX.current},set:function(G){this.ops.speedX.onChange(G)}},speedY:{get:function(){return this.ops.speedY.current},set:function(G){this.ops.speedY.onChange(G)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(G){this.ops.moveToX.onChange(G)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(G){this.ops.moveToY.onChange(G)}},bounce:{get:function(){return this.ops.bounce.current},set:function(G){this.ops.bounce.onChange(G)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(G){this.ops.scaleX.onChange(G)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(G){this.ops.scaleY.onChange(G)}},particleColor:{get:function(){return this.ops.color.current},set:function(G){this.ops.color.onChange(G)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(G){this.ops.color.setEase(G)}},particleTint:{get:function(){return this.ops.tint.current},set:function(G){this.ops.tint.onChange(G)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(G){this.ops.alpha.onChange(G)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(G){this.ops.lifespan.onChange(G)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(G){this.ops.angle.onChange(G)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(G){this.ops.rotate.onChange(G)}},quantity:{get:function(){return this.ops.quantity.current},set:function(G){this.ops.quantity.onChange(G)}},delay:{get:function(){return this.ops.delay.current},set:function(G){this.ops.delay.onChange(G)}},hold:{get:function(){return this.ops.hold.current},set:function(G){this.ops.hold.onChange(G)}},flowCounter:{get:function(){return this.counters[0]},set:function(G){this.counters[0]=G}},frameCounter:{get:function(){return this.counters[1]},set:function(G){this.counters[1]=G}},animCounter:{get:function(){return this.counters[2]},set:function(G){this.counters[2]=G}},elapsed:{get:function(){return this.counters[3]},set:function(G){this.counters[3]=G}},stopCounter:{get:function(){return this.counters[4]},set:function(G){this.counters[4]=G}},completeFlag:{get:function(){return this.counters[5]},set:function(G){this.counters[5]=G}},zoneIndex:{get:function(){return this.counters[6]},set:function(G){this.counters[6]=G}},zoneTotal:{get:function(){return this.counters[7]},set:function(G){this.counters[7]=G}},currentFrame:{get:function(){return this.counters[8]},set:function(G){this.counters[8]=G}},currentAnim:{get:function(){return this.counters[9]},set:function(G){this.counters[9]=G}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var G,Y=this.ops;for(G=0;G<I.length;G++){var H=I[G];Y[H].destroy()}for(G=0;G<this.alive.length;G++)this.alive[G].destroy();for(G=0;G<this.dead.length;G++)this.dead[G].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});n.exports=U},9871:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(59996),y=s(61340),f=new y,u=new y,l=new y,a=new y,d=function(v,h,c,p){var m=f,x=u,T=l,P=a;p?(P.loadIdentity(),P.multiply(p),P.translate(h.x,h.y),P.rotate(h.rotation),P.scale(h.scaleX,h.scaleY)):P.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY);var M=v.currentContext,E=c.roundPixels,w=c.alpha,R=h.alpha,A=h.alive,L=A.length,b=h.viewBounds;if(!(!h.visible||L===0||b&&!o(b,c.worldView))){h.sortCallback&&h.depthSort(),c.addToRenderList(h);var O=h.scrollFactorX,F=h.scrollFactorY;M.save(),M.globalCompositeOperation=v.blendModes[h.blendMode];for(var D=0;D<L;D++){var B=A[D],N=B.alpha*R*w;if(!(N<=0||B.scaleX===0||B.scaleY===0)){T.applyITRS(B.x,B.y,B.rotation,B.scaleX,B.scaleY),m.copyFrom(c.matrix),m.multiplyWithOffset(P,-c.scrollX*O,-c.scrollY*F),T.e=B.x,T.f=B.y,m.multiply(T,x);var z=B.frame,W=z.canvasData;if(W.width>0&&W.height>0){var X=-z.halfWidth,k=-z.halfHeight;M.globalAlpha=N,M.save(),x.setToContext(M),E&&(X=Math.round(X),k=Math.round(k)),M.imageSmoothingEnabled=!z.source.scaleMode,M.drawImage(z.source.image,W.x,W.y,W.width,W.height,X,k,W.width,W.height),M.restore()}}}M.restore()}};n.exports=d},92730:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),y=s(44603),f=s(23568),u=s(95540),l=s(31600);y.register("particles",function(a,d){a===void 0&&(a={});var v=f(a,"key",null),h=u(a,"config",null),c=new l(this.scene,0,0,v);return d!==void 0&&(a.add=d),o(this.scene,c,a),h&&c.setConfig(h),c})},676:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),y=s(31600);o.register("particles",function(f,u,l,a){return f!==void 0&&typeof f=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new y(this.scene,f,u,l,a))})},90668:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(21188),f=s(9871),n.exports={renderWebGL:y,renderCanvas:f}},21188:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(59996),y=s(61340),f=s(70554),u=new y,l=new y,a=new y,d=new y,v=function(h,c,p,m){var x=h.pipelines.set(c.pipeline),T=u,P=l,M=a,E=d;m?(E.loadIdentity(),E.multiply(m),E.translate(c.x,c.y),E.rotate(c.rotation),E.scale(c.scaleX,c.scaleY)):E.applyITRS(c.x,c.y,c.rotation,c.scaleX,c.scaleY);var w=f.getTintAppendFloatAlpha,R=p.alpha,A=c.alpha;h.pipelines.preBatch(c);var L=c.alive,b=L.length,O=c.viewBounds;if(!(b===0||O&&!o(O,p.worldView))){c.sortCallback&&c.depthSort(),p.addToRenderList(c),T.copyFrom(p.matrix),T.multiplyWithOffset(E,-p.scrollX*c.scrollFactorX,-p.scrollY*c.scrollFactorY),h.setBlendMode(c.blendMode),c.mask&&(c.mask.preRenderWebGL(h,c,p),h.pipelines.set(c.pipeline));for(var F=c.tintFill,D,B,N=0;N<b;N++){var z=L[N],W=z.alpha*A*R;if(!(W<=0||z.scaleX===0||z.scaleY===0)){M.applyITRS(z.x,z.y,z.rotation,z.scaleX,z.scaleY),M.e=z.x,M.f=z.y,T.multiply(M,P);var X=z.frame;X.glTexture!==B&&(B=X.glTexture,D=x.setGameObject(c,X));var k=-X.halfWidth,V=-X.halfHeight,I=P.setQuad(k,V,k+X.width,V+X.height),U=w(z.tint,W);x.shouldFlush(6)&&(x.flush(),D=x.setGameObject(c,X)),x.batchQuad(c,I[0],I[1],I[2],I[3],I[4],I[5],I[6],I[7],X.u0,X.v0,X.u1,X.v1,U,U,U,U,F,B,D)}}c.mask&&c.mask.postRenderWebGL(h,p),h.pipelines.postBatch(c)}};n.exports=v},20286:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=new o({initialize:function(u,l,a){u===void 0&&(u=0),l===void 0&&(l=0),a===void 0&&(a=!0),this.emitter,this.x=u,this.y=l,this.active=a},update:function(){},destroy:function(){this.emitter=null}});n.exports=y},9774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},812:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="deathzone"},30522:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="explode"},96695:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},18677:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},20696:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:s(9774),DEATH_ZONE:s(812),EXPLODE:s(30522),START:s(96695),STOP:s(18677)}},18404:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={EmitterColorOp:s(76472),EmitterOp:s(44777),Events:s(20696),GravityWell:s(24502),Particle:s(56480),ParticleBounds:s(69601),ParticleEmitter:s(31600),ParticleProcessor:s(20286),Zones:s(21024)}},26388:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=new o({initialize:function(u,l){this.source=u,this.killOnEnter=l},willKill:function(f){var u=f.worldPosition,l=this.source.contains(u.x,u.y);return l&&this.killOnEnter||!l&&!this.killOnEnter}});n.exports=y},19909:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=new o({initialize:function(u,l,a,d,v,h){d===void 0&&(d=!1),v===void 0&&(v=!0),h===void 0&&(h=-1),this.source=u,this.points=[],this.quantity=l,this.stepRate=a,this.yoyo=d,this.counter=-1,this.seamless=v,this._length=0,this._direction=0,this.total=h,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var f=this.points[0],u=this.points[this.points.length-1];f.x===u.x&&f.y===u.y&&this.points.pop()}var l=this._length;return this._length=this.points.length,this._length<l&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(f){return this.source=f,this.updateSource()},getPoint:function(f){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var u=this.points[this.counter];u&&(f.x=u.x,f.y=u.y)}});n.exports=y},68875:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(26099),f=new o({initialize:function(l){this.source=l,this._tempVec=new y,this.total=-1},getPoint:function(u){var l=this._tempVec;this.source.getRandomPoint(l),u.x=l.x,u.y=l.y}});n.exports=f},21024:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DeathZone:s(26388),EdgeZone:s(19909),RandomZone:s(68875)}},1159:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(31401),f=s(68287),u=new o({Extends:f,Mixins:[y.PathFollower],initialize:function(a,d,v,h,c,p){f.call(this,a,v,h,c,p),this.path=d},preUpdate:function(l,a){this.anims.update(l,a),this.pathUpdate(l)}});n.exports=u},90145:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),y=s(1159);o.register("follower",function(f,u,l,a,d){var v=new y(this.scene,f,u,l,a,d);return this.displayList.add(v),this.updateList.add(v),v})},33663:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(9674),y=s(83419),f=s(48803),u=s(90664),l=s(4703),a=s(45650),d=new y({Extends:l,initialize:function(h,c,p,m,x,T,P,M){m||(m="__DEFAULT"),l.call(this,h,c,p,m,x),this.type="Plane",this.anims=new o(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(T,P,M),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(v,h,c){v===void 0&&(v=8),h===void 0&&(h=8),c===void 0&&(c=!1);var p=!1;return c&&(p=!0),this.gridWidth=v,this.gridHeight=h,this.isTiled=c,this.clear(),f({mesh:this,widthSegments:v,heightSegments:h,isOrtho:!1,tile:c,flipY:p}),this},setSizeToFrame:function(v){v===void 0&&(v=!0);var h=this.frame;if(this.setPerspective(this.width/h.width,this.height/h.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!v)return this;var c=this.gridWidth,p=this.gridHeight,m=this.vertices,x=h.u0,T=h.u1,P=h.v0,M=h.v1,E,w,R=0;if(this.isTiled)for(P=h.v1,M=h.v0,w=0;w<p;w++)for(E=0;E<c;E++)m[R++].setUVs(x,M),m[R++].setUVs(x,P),m[R++].setUVs(T,M),m[R++].setUVs(x,P),m[R++].setUVs(T,P),m[R++].setUVs(T,M);else{var A=c+1,L=p+1,b=T-x,O=M-P,F=[];for(w=0;w<L;w++)for(E=0;E<A;E++){var D=x+b*(E/c),B=P+O*(w/p);F.push(D,B)}for(w=0;w<p;w++)for(E=0;E<c;E++){var N=(E+A*w)*2,z=(E+A*(w+1))*2,W=(E+1+A*(w+1))*2,X=(E+1+A*w)*2;m[R++].setUVs(F[N],F[N+1]),m[R++].setUVs(F[z],F[z+1]),m[R++].setUVs(F[X],F[X+1]),m[R++].setUVs(F[z],F[z+1]),m[R++].setUVs(F[W],F[W+1]),m[R++].setUVs(F[X],F[X+1])}}return this},setViewHeight:function(v){v===void 0&&(v=this.frame.height);var h=this.fov*(Math.PI/180);this.viewPosition.z=this.height/v/Math.tan(h/2),this.dirtyCache[10]=1},createCheckerboard:function(v,h,c,p,m){v===void 0&&(v=16777215),h===void 0&&(h=255),c===void 0&&(c=255),p===void 0&&(p=255),m===void 0&&(m=128);for(var x=u(v),T=u(h),P=[],M=0;M<16;M++)for(var E=0;E<16;E++)M<8&&E<8||M>7&&E>7?P.push(x.r,x.g,x.b,c):P.push(T.r,T.g,T.b,p);var w=this.scene.sys.textures.addUint8Array(a(),new Uint8Array(P),16,16);return this.removeCheckerboard(),this.setTexture(w),this.setSizeToFrame(),this.setViewHeight(m),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(v,h){return this.anims.play(v,h)},playReverse:function(v,h){return this.anims.playReverse(v,h)},playAfterDelay:function(v,h){return this.anims.playAfterDelay(v,h)},playAfterRepeat:function(v,h){return this.anims.playAfterRepeat(v,h)},stop:function(){return this.anims.stop()},stopAfterDelay:function(v){return this.anims.stopAfterDelay(v)},stopAfterRepeat:function(v){return this.anims.stopAfterRepeat(v)},stopOnFrame:function(v){return this.anims.stopOnFrame(v)},preUpdate:function(v,h){l.prototype.preUpdate.call(this,v,h),this.anims.update(v,h)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});n.exports=d},56015:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),y=s(13059),f=s(44603),u=s(23568),l=s(35154),a=s(33663);f.register("plane",function(d,v){d===void 0&&(d={});var h=u(d,"key",null),c=u(d,"frame",null),p=l(d,"width",8),m=l(d,"height",8),x=l(d,"tile",!1),T=new a(this.scene,0,0,h,c,p,m,x);v!==void 0&&(d.add=v);var P=l(d,"checkerboard",null);if(P){var M=l(P,"color1",16777215),E=l(P,"color2",255),w=l(P,"alpha1",255),R=l(P,"alpha2",255),A=l(P,"height",128);T.createCheckerboard(M,E,w,R,A)}return o(this.scene,T,d),y(T,d),T})},30985:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(33663),y=s(39429);y.register("plane",function(f,u,l,a,d,v,h){return this.displayList.add(new o(this.scene,f,u,l,a,d,v,h))})},80321:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(31401),f=s(95643),u=s(30100),l=s(36060),a=s(67277),d=new o({Extends:f,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.Mask,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Transform,y.Visible,a],initialize:function(h,c,p,m,x,T,P){m===void 0&&(m=16777215),x===void 0&&(x=128),T===void 0&&(T=1),P===void 0&&(P=.1),f.call(this,h,"PointLight"),this.initPipeline(l.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(c,p),this.color=u(m),this.intensity=T,this.attenuation=P,this.width=x*2,this.height=x*2,this._radius=x},radius:{get:function(){return this._radius},set:function(v){this._radius=v,this.width=v*2,this.height=v*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});n.exports=d},39829:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),y=s(44603),f=s(23568),u=s(80321);y.register("pointlight",function(l,a){l===void 0&&(l={});var d=f(l,"color",16777215),v=f(l,"radius",128),h=f(l,"intensity",1),c=f(l,"attenuation",.1),p=new u(this.scene,0,0,d,v,h,c);return a!==void 0&&(l.add=a),o(this.scene,p,l),p})},71255:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),y=s(80321);o.register("pointlight",function(f,u,l,a,d,v){return this.displayList.add(new y(this.scene,f,u,l,a,d,v))})},67277:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(57787),n.exports={renderWebGL:y,renderCanvas:f}},57787:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),y=function(f,u,l,a){l.addToRenderList(u);var d=f.pipelines.set(u.pipeline),v=o(u,l,a).calc,h=u.width,c=u.height,p=-u._radius,m=-u._radius,x=p+h,T=m+c,P=v.getX(0,0),M=v.getY(0,0),E=v.getX(p,m),w=v.getY(p,m),R=v.getX(p,T),A=v.getY(p,T),L=v.getX(x,T),b=v.getY(x,T),O=v.getX(x,m),F=v.getY(x,m);f.pipelines.preBatch(u),d.batchPointLight(u,l,E,w,R,A,L,b,O,F,P,M),f.pipelines.postBatch(u)};n.exports=y},591:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(81320),f=s(88571),u=new o({Extends:f,initialize:function(a,d,v,h,c,p){d===void 0&&(d=0),v===void 0&&(v=0),h===void 0&&(h=32),c===void 0&&(c=32),p===void 0&&(p=!0);var m=new y(a.sys.textures,"",h,c,p);f.call(this,a,d,v,m),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(l,a){this.width=l,this.height=a,this.updateDisplayOrigin();var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=l,d.hitArea.height=a),this},resize:function(l,a,d){return this.texture.setSize(l,a,d),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(l){var a=this.texture;return a.key=l,a.manager.addDynamicTexture(a)&&(this._saved=!0),a},fill:function(l,a,d,v,h,c){return this.texture.fill(l,a,d,v,h,c),this},clear:function(){return this.texture.clear(),this},stamp:function(l,a,d,v,h){return this.texture.stamp(l,a,d,v,h),this},erase:function(l,a,d){return this.texture.erase(l,a,d),this},draw:function(l,a,d,v,h){return this.texture.draw(l,a,d,v,h),this},drawFrame:function(l,a,d,v,h,c){return this.texture.drawFrame(l,a,d,v,h,c),this},repeat:function(l,a,d,v,h,c,p,m,x){return this.texture.repeat(l,a,d,v,h,c,p,m,x),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(l,a,d,v,h){return this.texture.batchDraw(l,a,d,v,h),this},batchDrawFrame:function(l,a,d,v,h,c){return this.texture.batchDrawFrame(l,a,d,v,h,c),this},endDraw:function(l){return this.texture.endDraw(l),this},snapshotArea:function(l,a,d,v,h,c,p){return this.texture.snapshotArea(l,a,d,v,h,c,p),this},snapshot:function(l,a,d){return this.snapshotArea(0,0,this.width,this.height,l,a,d)},snapshotPixel:function(l,a,d){return this.snapshotArea(l,a,1,1,d,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});n.exports=u},34495:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),y=s(44603),f=s(23568),u=s(591);y.register("renderTexture",function(l,a){l===void 0&&(l={});var d=f(l,"x",0),v=f(l,"y",0),h=f(l,"width",32),c=f(l,"height",32),p=new u(this.scene,d,v,h,c);return a!==void 0&&(l.add=a),o(this.scene,p,l),p})},60505:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),y=s(591);o.register("renderTexture",function(f,u,l,a){return this.displayList.add(new y(this.scene,f,u,l,a))})},77757:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(9674),y=s(83419),f=s(31401),u=s(95643),l=s(36060),a=s(38745),d=s(26099),v=new y({Extends:u,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Flip,f.Mask,f.Pipeline,f.PostPipeline,f.Size,f.Texture,f.Transform,f.Visible,f.ScrollFactor,a],initialize:function(c,p,m,x,T,P,M,E,w){x===void 0&&(x="__DEFAULT"),P===void 0&&(P=2),M===void 0&&(M=!0),u.call(this,c,"Rope"),this.anims=new o(this),this.points=P,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=x==="__DEFAULT",this.dirty=!1,this.horizontal=M,this._flipX=!1,this._flipY=!1,this._perp=new d,this.debugCallback=null,this.debugGraphic=null,this.setTexture(x,T),this.setPosition(p,m),this.setSizeToFrame(),this.initPipeline(l.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(P)&&this.resizeArrays(P.length),this.setPoints(P,E,w),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(h,c){var p=this.anims.currentFrame;this.anims.update(h,c),this.anims.currentFrame!==p&&(this.updateUVs(),this.updateVertices())},play:function(h,c,p){return this.anims.play(h,c,p),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(h,c,p){return h===void 0&&(h=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(h,c,p))},setVertical:function(h,c,p){return h===void 0&&(h=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(h,c,p)):this},setTintFill:function(h){return h===void 0&&(h=!1),this.tintFill=h,this},setAlphas:function(h,c){var p=this.points.length;if(p<1)return this;var m=this.alphas;h===void 0?h=[1]:!Array.isArray(h)&&c===void 0&&(h=[h]);var x,T=0;if(c!==void 0)for(x=0;x<p;x++)T=x*2,m[T]=h,m[T+1]=c;else if(h.length===p)for(x=0;x<p;x++)T=x*2,m[T]=h[x],m[T+1]=h[x];else{var P=h[0];for(x=0;x<p;x++)T=x*2,h.length>T&&(P=h[T]),m[T]=P,h.length>T+1&&(P=h[T+1]),m[T+1]=P}return this},setColors:function(h){var c=this.points.length;if(c<1)return this;var p=this.colors;h===void 0?h=[16777215]:Array.isArray(h)||(h=[h]);var m,x=0;if(h.length===c)for(m=0;m<c;m++)x=m*2,p[x]=h[m],p[x+1]=h[m];else{var T=h[0];for(m=0;m<c;m++)x=m*2,h.length>x&&(T=h[x]),p[x]=T,h.length>x+1&&(T=h[x+1]),p[x+1]=T}return this},setPoints:function(h,c,p){if(h===void 0&&(h=2),typeof h=="number"){var m=h;m<2&&(m=2),h=[];var x,T,P;if(this.horizontal)for(P=-this.frame.halfWidth,T=this.frame.width/(m-1),x=0;x<m;x++)h.push({x:P+x*T,y:0});else for(P=-this.frame.halfHeight,T=this.frame.height/(m-1),x=0;x<m;x++)h.push({x:0,y:P+x*T})}var M=h.length,E=this.points.length;return M<1?(console.warn("Rope: Not enough points given"),this):(M===1&&(h.unshift({x:0,y:0}),M++),E!==M&&this.resizeArrays(M),this.dirty=!0,this.points=h,this.updateUVs(),c!=null&&this.setColors(c),p!=null&&this.setAlphas(p),this)},updateUVs:function(){for(var h=this.uv,c=this.points.length,p=this.frame.u0,m=this.frame.v0,x=this.frame.u1,T=this.frame.v1,P=(x-p)/(c-1),M=(T-m)/(c-1),E=0;E<c;E++){var w=E*4,R,A,L,b;this.horizontal?(this._flipX?(R=x-E*P,L=x-E*P):(R=p+E*P,L=p+E*P),this._flipY?(A=T,b=m):(A=m,b=T)):(this._flipX?(R=p,L=x):(R=x,L=p),this._flipY?(A=T-E*M,b=T-E*M):(A=m+E*M,b=m+E*M)),h[w+0]=R,h[w+1]=A,h[w+2]=L,h[w+3]=b}return this},resizeArrays:function(h){var c=this.colors,p=this.alphas;this.vertices=new Float32Array(h*4),this.uv=new Float32Array(h*4),c=new Uint32Array(h*2),p=new Float32Array(h*2);for(var m=0;m<h*2;m++)c[m]=16777215,p[m]=1;return this.colors=c,this.alphas=p,this.dirty=!0,this},updateVertices:function(){var h=this._perp,c=this.points,p=this.vertices,m=c.length;if(this.dirty=!1,!(m<1)){for(var x,T=c[0],P=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,M=0;M<m;M++){var E=c[M],w=M*4;M<m-1?x=c[M+1]:x=E,h.x=x.y-T.y,h.y=-(x.x-T.x);var R=h.length();h.x/=R,h.y/=R,h.x*=P,h.y*=P,p[w]=E.x+h.x,p[w+1]=E.y+h.y,p[w+2]=E.x-h.x,p[w+3]=E.y-h.y,T=E}return this}},setDebug:function(h,c){return this.debugGraphic=h,!h&&!c?this.debugCallback=null:c?this.debugCallback=c:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(h,c,p){var m=h.debugGraphic,x=p[0],T=p[1],P=p[2],M=p[3];m.lineBetween(x,T,P,M);for(var E=4;E<c;E+=4){var w=p[E+0],R=p[E+1],A=p[E+2],L=p[E+3];m.lineBetween(x,T,w,R),m.lineBetween(P,M,A,L),m.lineBetween(P,M,w,R),m.lineBetween(w,R,A,L),x=w,T=R,P=A,M=L}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(h){return this._flipX=h,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(h){return this._flipY=h,this.updateUVs()}}});n.exports=v},95262:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(){};n.exports=C},26209:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),y=s(44603),f=s(23568),u=s(35154),l=s(77757);y.register("rope",function(a,d){a===void 0&&(a={});var v=f(a,"key",null),h=f(a,"frame",null),c=f(a,"horizontal",!0),p=u(a,"points",void 0),m=u(a,"colors",void 0),x=u(a,"alphas",void 0),T=new l(this.scene,0,0,v,h,p,c,m,x);return d!==void 0&&(a.add=d),o(this.scene,T,a),T})},96819:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(77757),y=s(39429);y.register("rope",function(f,u,l,a,d,v,h,c){return this.displayList.add(new o(this.scene,f,u,l,a,d,v,h,c))})},38745:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(20439),f=s(95262),n.exports={renderWebGL:y,renderCanvas:f}},20439:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),y=s(70554),f=function(u,l,a,d){a.addToRenderList(l);var v=u.pipelines.set(l.pipeline,l),h=o(l,a,d).calc,c=l.vertices,p=l.uv,m=l.colors,x=l.alphas,T=l.alpha,P=y.getTintAppendFloatAlpha,M=a.roundPixels,E=c.length,w=Math.floor(E*.5);v.flush(),u.pipelines.preBatch(l);var R=v.setGameObject(l),A=v.vertexViewF32,L=v.vertexViewU32,b=v.vertexCount*v.currentShader.vertexComponentCount-1,O=0,F=l.tintFill;l.dirty&&l.updateVertices();for(var D=l.debugCallback,B=[],N=0;N<E;N+=2){var z=c[N+0],W=c[N+1],X=z*h.a+W*h.c+h.e,k=z*h.b+W*h.d+h.f;M&&(X=Math.round(X),k=Math.round(k)),A[++b]=X,A[++b]=k,A[++b]=p[N+0],A[++b]=p[N+1],A[++b]=R,A[++b]=F,L[++b]=P(m[O],a.alpha*(x[O]*T)),O++,D&&(B[N+0]=X,B[N+1]=k)}D&&D.call(l,l,E,B),v.vertexCount+=w,v.currentBatch.count=v.vertexCount-v.currentBatch.start,u.pipelines.postBatch(l)};n.exports=f},20071:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(31401),f=s(95643),u=s(95540),l=s(79291),a=s(61622),d=s(25479),v=s(61340),h=s(95428),c=s(92503),p=new o({Extends:f,Mixins:[y.ComputedSize,y.Depth,y.GetBounds,y.Mask,y.Origin,y.ScrollFactor,y.Transform,y.Visible,d],initialize:function(x,T,P,M,E,w,R,A){P===void 0&&(P=0),M===void 0&&(M=0),E===void 0&&(E=128),w===void 0&&(w=128),f.call(this,x,"Shader"),this.blendMode=-1,this.shader;var L=x.sys.renderer;this.renderer=L,this.gl=L.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=L.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new v,this._tempMatrix2=new v,this._tempMatrix3=new v,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=L.width,this._rendererHeight=L.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(P,M),this.setSize(E,w),this.setOrigin(.5,.5),this.setShader(T,R,A),this.renderer.on(c.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(m){return this.renderToTexture?!0:!(f.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&m.id)},setRenderToTexture:function(m,x){if(!this.renderToTexture){var T=this.width,P=this.height,M=this.renderer;this.glTexture=M.createTextureFromSource(null,T,P,0),this.framebuffer=M.createFramebuffer(T,P,this.glTexture,!1),this._rendererWidth=T,this._rendererHeight=P,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),m&&(this.texture=this.scene.sys.textures.addGLTexture(m,this.glTexture))}return this.shader&&(M.pipelines.clear(),this.load(),this.flush(),M.pipelines.rebind()),this},setShader:function(m,x,T){if(this.renderer.contextLost)return this._deferSetShader={key:m,textures:x,textureData:T},this;if(x===void 0&&(x=[]),typeof m=="string"){var P=this.scene.sys.cache.shader;if(!P.has(m))return console.warn("Shader missing: "+m),this;this.shader=P.get(m)}else this.shader=m;var M=this.gl,E=this.renderer;this.program&&E.deleteProgram(this.program);var w=E.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);M.uniformMatrix4fv(M.getUniformLocation(w.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),M.uniformMatrix4fv(M.getUniformLocation(w.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),M.uniform2f(M.getUniformLocation(w.webGLProgram,"uResolution"),this.width,this.height),this.program=w;var R=new Date,A={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[R.getFullYear(),R.getMonth(),R.getDate(),R.getHours()*60*60+R.getMinutes()*60+R.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=l(!0,{},this.shader.uniforms,A):this.uniforms=A;for(var L=0;L<4;L++)x[L]&&this.setSampler2D("iChannel"+L,x[L],L,T);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(m){return this.pointer=m,this},projOrtho:function(m,x,T,P){if(this.renderer.contextLost){this._deferProjOrtho={left:m,right:x,bottom:T,top:P};return}var M=-1e3,E=1e3,w=1/(m-x),R=1/(T-P),A=1/(M-E),L=this.projectionMatrix;L[0]=-2*w,L[5]=-2*R,L[10]=2*A,L[12]=(m+x)*w,L[13]=(P+T)*R,L[14]=(E+M)*A;var b=this.program,O=this.gl,F=this.renderer;F.setProgram(b),O.uniformMatrix4fv(O.getUniformLocation(b.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=x,this._rendererHeight=T},initUniforms:function(){var m=this.renderer.glFuncMap,x=this.program;this._textureCount=0;for(var T in this.uniforms){var P=this.uniforms[T],M=P.type,E=m[M];P.uniformLocation=this.renderer.createUniformLocation(x,T),M!=="sampler2D"&&(P.glMatrix=E.matrix,P.glValueLength=E.length,P.glFunc=E.func)}},setSampler2DBuffer:function(m,x,T,P,M,E){M===void 0&&(M=0),E===void 0&&(E={});var w=this.uniforms[m];return w.value=x,E.width=T,E.height=P,w.textureData=E,this._textureCount=M,this.initSampler2D(w),this},setSampler2D:function(m,x,T,P){T===void 0&&(T=0);var M=this.scene.sys.textures;if(M.exists(x)){var E=M.getFrame(x);if(E.glTexture&&E.glTexture.isRenderTexture)return this.setSampler2DBuffer(m,E.glTexture,E.width,E.height,T,P);var w=this.uniforms[m],R=E.source;w.textureKey=x,w.source=R.image,w.value=E.glTexture,R.isGLTexture&&(P||(P={}),P.width=R.width,P.height=R.height),P&&(w.textureData=P),this._textureCount=T,this.initSampler2D(w)}return this},setUniform:function(m,x){return a(this.uniforms,m,x),this},getUniform:function(m){return u(this.uniforms,m,null)},setChannel0:function(m,x){return this.setSampler2D("iChannel0",m,0,x)},setChannel1:function(m,x){return this.setSampler2D("iChannel1",m,1,x)},setChannel2:function(m,x){return this.setSampler2D("iChannel2",m,2,x)},setChannel3:function(m,x){return this.setSampler2D("iChannel3",m,3,x)},initSampler2D:function(m){if(m.value){var x=m.textureData;if(x&&!m.value.isRenderTexture){var T=this.gl,P=m.value,M=T[u(x,"magFilter","linear").toUpperCase()],E=T[u(x,"minFilter","linear").toUpperCase()],w=T[u(x,"wrapS","repeat").toUpperCase()],R=T[u(x,"wrapT","repeat").toUpperCase()],A=T[u(x,"format","rgba").toUpperCase()],L=u(x,"flipY",!1),b=u(x,"width",P.width),O=u(x,"height",P.height),F=u(x,"source",P.pixels);x.repeat&&(w=T.REPEAT,R=T.REPEAT),x.width&&(F=null),P.update(F,b,O,L,w,R,E,M,A)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var m=this.gl,x=this.uniforms,T,P,M,E,w,R=0;for(var A in x)T=x[A],M=T.glFunc,P=T.glValueLength,E=T.uniformLocation,w=T.value,w!==null&&(P===1?T.glMatrix?M.call(m,E.webGLUniformLocation,T.transpose,w):M.call(m,E.webGLUniformLocation,w):P===2?M.call(m,E.webGLUniformLocation,w.x,w.y):P===3?M.call(m,E.webGLUniformLocation,w.x,w.y,w.z):P===4?M.call(m,E.webGLUniformLocation,w.x,w.y,w.z,w.w):T.type==="sampler2D"&&(m.activeTexture(m.TEXTURE0+R),m.bindTexture(m.TEXTURE_2D,w.webGLTexture),m.uniform1i(E.webGLUniformLocation,R),R++))},load:function(m){var x=this.gl,T=this.width,P=this.height,M=this.renderer,E=this.program,w=this.viewMatrix;if(!this.renderToTexture){var R=-this._displayOriginX,A=-this._displayOriginY;w[0]=m[0],w[1]=m[1],w[4]=m[2],w[5]=m[3],w[8]=m[4],w[9]=m[5],w[12]=w[0]*R+w[4]*A,w[13]=w[1]*R+w[5]*A}x.useProgram(E.webGLProgram),x.uniformMatrix4fv(x.getUniformLocation(E.webGLProgram,"uViewMatrix"),!1,w),x.uniformMatrix4fv(x.getUniformLocation(E.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),x.uniform2f(x.getUniformLocation(E.webGLProgram,"uResolution"),this.width,this.height);var L=this.uniforms,b=L.resolution;b.value.x=T,b.value.y=P,L.time.value=M.game.loop.getDuration();var O=this.pointer;if(O){var F=L.mouse,D=O.x/T,B=1-O.y/P;F.value.x=D.toFixed(2),F.value.y=B.toFixed(2)}this.syncUniforms()},flush:function(){var m=this.width,x=this.height,T=this.program,P=this.gl,M=this.vertexBuffer,E=this.renderer,w=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(E.setFramebuffer(this.framebuffer),P.clearColor(0,0,0,0),P.clear(P.COLOR_BUFFER_BIT)),P.bindBuffer(P.ARRAY_BUFFER,M.webGLBuffer);var R=P.getAttribLocation(T.webGLProgram,"inPosition");R!==-1&&(P.enableVertexAttribArray(R),P.vertexAttribPointer(R,2,P.FLOAT,!1,w,0));var A=this.vertexViewF32;A[3]=x,A[4]=m,A[5]=x,A[8]=m,A[9]=x,A[10]=m;var L=6;P.bufferSubData(P.ARRAY_BUFFER,0,this.bytes.subarray(0,L*w)),P.drawArrays(P.TRIANGLES,0,L),this.renderToTexture&&E.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var m=this._deferSetShader.key,x=this._deferSetShader.textures,T=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(m,x,T)}if(this._deferProjOrtho!==null){var P=this._deferProjOrtho.left,M=this._deferProjOrtho.right,E=this._deferProjOrtho.bottom,w=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(P,M,E,w)}},preDestroy:function(){var m=this.renderer;m.off(c.RESTORE_WEBGL,this.onContextRestored,this),m.deleteProgram(this.program),m.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(m.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),h(this.uniforms,function(x){m.deleteUniformLocation(x.uniformLocation),x.uniformLocation=null})}});n.exports=p},80464:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(){};n.exports=C},54935:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),y=s(44603),f=s(23568),u=s(20071);y.register("shader",function(l,a){l===void 0&&(l={});var d=f(l,"key",null),v=f(l,"x",0),h=f(l,"y",0),c=f(l,"width",128),p=f(l,"height",128),m=new u(this.scene,d,v,h,c,p);return a!==void 0&&(l.add=a),o(this.scene,m,l),m})},74177:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20071),y=s(39429);y.register("shader",function(f,u,l,a,d,v,h){return this.displayList.add(new o(this.scene,f,u,l,a,d,v,h))})},25479:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(19257),f=s(80464),n.exports={renderWebGL:y,renderCanvas:f}},19257:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),y=function(f,u,l,a){if(u.shader){if(l.addToRenderList(u),f.pipelines.clear(),u.renderToTexture)u.load(),u.flush();else{var d=o(u,l,a).calc;(f.width!==u._rendererWidth||f.height!==u._rendererHeight)&&u.projOrtho(0,f.width,f.height,0),u.load(d.matrix),u.flush()}f.pipelines.rebind()}};n.exports=y},10441:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70554),y=function(f,u,l,a,d,v){for(var h=o.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*a),c=l.pathData,p=l.pathIndexes,m=0;m<p.length;m+=3){var x=p[m]*2,T=p[m+1]*2,P=p[m+2]*2,M=c[x+0]-d,E=c[x+1]-v,w=c[T+0]-d,R=c[T+1]-v,A=c[P+0]-d,L=c[P+1]-v,b=u.getX(M,E),O=u.getY(M,E),F=u.getX(w,R),D=u.getY(w,R),B=u.getX(A,L),N=u.getY(A,L);f.batchTri(l,b,O,F,D,B,N,0,0,1,1,h,h,h,2)}};n.exports=y},65960:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){var u=y||o.fillColor,l=f||o.fillAlpha,a=(u&16711680)>>>16,d=(u&65280)>>>8,v=u&255;s.fillStyle="rgba("+a+","+d+","+v+","+l+")"};n.exports=C},75177:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){var u=y||o.strokeColor,l=f||o.strokeAlpha,a=(u&16711680)>>>16,d=(u&65280)>>>8,v=u&255;s.strokeStyle="rgba("+a+","+d+","+v+","+l+")",s.lineWidth=o.lineWidth};n.exports=C},17803:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(31401),f=s(95643),u=s(23031),l=new o({Extends:f,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.GetBounds,y.Mask,y.Origin,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Transform,y.Visible],initialize:function(d,v,h){v===void 0&&(v="Shape"),f.call(this,d,v),this.geom=h,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new u,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(a,d){return d===void 0&&(d=1),a===void 0?this.isFilled=!1:(this.fillColor=a,this.fillAlpha=d,this.isFilled=!0),this},setStrokeStyle:function(a,d,v){return v===void 0&&(v=1),a===void 0?this.isStroked=!1:(this.lineWidth=a,this.strokeColor=d,this.strokeAlpha=v,this.isStroked=!0),this},setClosePath:function(a){return this.closePath=a,this},setSize:function(a,d){return this.width=a,this.height=d,this},setDisplaySize:function(a,d){return this.displayWidth=a,this.displayHeight=d,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(a){this.scaleX=a/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(a){this.scaleY=a/this.height}}});n.exports=l},34682:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70554),y=function(f,u,l,a,d){var v=f.strokeTint,h=o.getTintAppendFloatAlpha(u.strokeColor,u.strokeAlpha*l);v.TL=h,v.TR=h,v.BL=h,v.BR=h;var c=u.pathData,p=c.length-1,m=u.lineWidth,x=m/2,T=c[0]-a,P=c[1]-d;u.closePath||(p-=2);for(var M=2;M<p;M+=2){var E=c[M]-a,w=c[M+1]-d;f.batchLine(T,P,E,w,x,x,m,M-2,u.closePath?M===p-1:!1),T=E,P=w}};n.exports=y},23629:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(13609),y=s(83419),f=s(39506),u=s(94811),l=s(96503),a=s(36383),d=s(17803),v=new y({Extends:d,Mixins:[o],initialize:function(c,p,m,x,T,P,M,E,w){p===void 0&&(p=0),m===void 0&&(m=0),x===void 0&&(x=128),T===void 0&&(T=0),P===void 0&&(P=360),M===void 0&&(M=!1),d.call(this,c,"Arc",new l(0,0,x)),this._startAngle=T,this._endAngle=P,this._anticlockwise=M,this._iterations=.01,this.setPosition(p,m);var R=this.geom.radius*2;this.setSize(R,R),E!==void 0&&this.setFillStyle(E,w),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(h){this._iterations=h,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(h){this.geom.radius=h;var c=h*2;this.setSize(c,c),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(h){this._startAngle=h,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(h){this._endAngle=h,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(h){this._anticlockwise=h,this.updateData()}},setRadius:function(h){return this.radius=h,this},setIterations:function(h){return h===void 0&&(h=.01),this.iterations=h,this},setStartAngle:function(h,c){return this._startAngle=h,c!==void 0&&(this._anticlockwise=c),this.updateData()},setEndAngle:function(h,c){return this._endAngle=h,c!==void 0&&(this._anticlockwise=c),this.updateData()},updateData:function(){var h=this._iterations,c=h,p=this.geom.radius,m=f(this._startAngle),x=f(this._endAngle),T=this._anticlockwise,P=p,M=p;x-=m,T?x<-a.PI2?x=-a.PI2:x>0&&(x=-a.PI2+x%a.PI2):x>a.PI2?x=a.PI2:x<0&&(x=a.PI2+x%a.PI2);for(var E=[P+Math.cos(m)*p,M+Math.sin(m)*p],w;c<1;)w=x*c+m,E.push(P+Math.cos(w)*p,M+Math.sin(w)*p),c+=h;return w=x+m,E.push(P+Math.cos(w)*p,M+Math.sin(w)*p),E.push(P+Math.cos(m)*p,M+Math.sin(m)*p),this.pathIndexes=u(E),this.pathData=E,this}});n.exports=v},42542:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39506),y=s(65960),f=s(75177),u=s(20926),l=function(a,d,v,h){v.addToRenderList(d);var c=a.currentContext;if(u(a,c,d,v,h)){var p=d.radius;c.beginPath(),c.arc(p-d.originX*(p*2),p-d.originY*(p*2),p,o(d._startAngle),o(d._endAngle),d.anticlockwise),d.closePath&&c.closePath(),d.isFilled&&(y(c,d),c.fill()),d.isStroked&&(f(c,d),c.stroke()),c.restore()}};n.exports=l},42563:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(23629),y=s(39429);y.register("arc",function(f,u,l,a,d,v,h,c){return this.displayList.add(new o(this.scene,f,u,l,a,d,v,h,c))}),y.register("circle",function(f,u,l,a,d){return this.displayList.add(new o(this.scene,f,u,l,0,360,!1,a,d))})},13609:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(41447),f=s(42542),n.exports={renderWebGL:y,renderCanvas:f}},41447:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),y=s(10441),f=s(34682),u=function(l,a,d,v){d.addToRenderList(a);var h=l.pipelines.set(a.pipeline),c=o(a,d,v),p=h.calcMatrix.copyFrom(c.calc),m=a._displayOriginX,x=a._displayOriginY,T=d.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&y(h,p,a,T,m,x),a.isStroked&&f(h,a,T,m,x),l.pipelines.postBatch(a)};n.exports=u},89:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(33141),f=s(94811),u=s(87841),l=s(17803),a=new o({Extends:l,Mixins:[y],initialize:function(v,h,c,p,m,x){h===void 0&&(h=0),c===void 0&&(c=0),l.call(this,v,"Curve",p),this._smoothness=32,this._curveBounds=new u,this.closePath=!1,this.setPosition(h,c),m!==void 0&&this.setFillStyle(m,x),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(d){this._smoothness=d,this.updateData()}},setSmoothness:function(d){return this._smoothness=d,this.updateData()},updateData:function(){var d=this._curveBounds,v=this._smoothness;this.geom.getBounds(d,v),this.setSize(d.width,d.height),this.updateDisplayOrigin();for(var h=[],c=this.geom.getPoints(v),p=0;p<c.length;p++)h.push(c[p].x,c[p].y);return h.push(c[0].x,c[0].y),this.pathIndexes=f(h),this.pathData=h,this}});n.exports=a},3170:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65960),y=s(75177),f=s(20926),u=function(l,a,d,v){d.addToRenderList(a);var h=l.currentContext;if(f(l,h,a,d,v)){var c=a._displayOriginX+a._curveBounds.x,p=a._displayOriginY+a._curveBounds.y,m=a.pathData,x=m.length-1,T=m[0]-c,P=m[1]-p;h.beginPath(),h.moveTo(T,P),a.closePath||(x-=2);for(var M=2;M<x;M+=2){var E=m[M]-c,w=m[M+1]-p;h.lineTo(E,w)}a.closePath&&h.closePath(),a.isFilled&&(o(h,a),h.fill()),a.isStroked&&(y(h,a),h.stroke()),h.restore()}};n.exports=u},40511:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),y=s(89);o.register("curve",function(f,u,l,a,d){return this.displayList.add(new y(this.scene,f,u,l,a,d))})},33141:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(53987),f=s(3170),n.exports={renderWebGL:y,renderCanvas:f}},53987:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10441),y=s(91296),f=s(34682),u=function(l,a,d,v){d.addToRenderList(a);var h=l.pipelines.set(a.pipeline),c=y(a,d,v),p=h.calcMatrix.copyFrom(c.calc),m=a._displayOriginX+a._curveBounds.x,x=a._displayOriginY+a._curveBounds.y,T=d.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&o(h,p,a,T,m,x),a.isStroked&&f(h,a,T,m,x),l.pipelines.postBatch(a)};n.exports=u},19921:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(94811),f=s(54205),u=s(8497),l=s(17803),a=new o({Extends:l,Mixins:[f],initialize:function(v,h,c,p,m,x,T){h===void 0&&(h=0),c===void 0&&(c=0),p===void 0&&(p=128),m===void 0&&(m=128),l.call(this,v,"Ellipse",new u(p/2,m/2,p,m)),this._smoothness=64,this.setPosition(h,c),this.width=p,this.height=m,x!==void 0&&this.setFillStyle(x,T),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(d){this._smoothness=d,this.updateData()}},setSize:function(d,v){return this.width=d,this.height=v,this.geom.setPosition(d/2,v/2),this.geom.setSize(d,v),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(d){return this._smoothness=d,this.updateData()},updateData:function(){for(var d=[],v=this.geom.getPoints(this._smoothness),h=0;h<v.length;h++)d.push(v[h].x,v[h].y);return d.push(v[0].x,v[0].y),this.pathIndexes=y(d),this.pathData=d,this}});n.exports=a},7930:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65960),y=s(75177),f=s(20926),u=function(l,a,d,v){d.addToRenderList(a);var h=l.currentContext;if(f(l,h,a,d,v)){var c=a._displayOriginX,p=a._displayOriginY,m=a.pathData,x=m.length-1,T=m[0]-c,P=m[1]-p;h.beginPath(),h.moveTo(T,P),a.closePath||(x-=2);for(var M=2;M<x;M+=2){var E=m[M]-c,w=m[M+1]-p;h.lineTo(E,w)}h.closePath(),a.isFilled&&(o(h,a),h.fill()),a.isStroked&&(y(h,a),h.stroke()),h.restore()}};n.exports=u},1543:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(19921),y=s(39429);y.register("ellipse",function(f,u,l,a,d,v){return this.displayList.add(new o(this.scene,f,u,l,a,d,v))})},54205:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(19467),f=s(7930),n.exports={renderWebGL:y,renderCanvas:f}},19467:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10441),y=s(91296),f=s(34682),u=function(l,a,d,v){d.addToRenderList(a);var h=l.pipelines.set(a.pipeline),c=y(a,d,v),p=h.calcMatrix.copyFrom(c.calc),m=a._displayOriginX,x=a._displayOriginY,T=d.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&o(h,p,a,T,m,x),a.isStroked&&f(h,a,T,m,x),l.pipelines.postBatch(a)};n.exports=u},30479:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(17803),f=s(26015),u=new o({Extends:y,Mixins:[f],initialize:function(a,d,v,h,c,p,m,x,T,P,M){d===void 0&&(d=0),v===void 0&&(v=0),h===void 0&&(h=128),c===void 0&&(c=128),p===void 0&&(p=32),m===void 0&&(m=32),y.call(this,a,"Grid",null),this.cellWidth=p,this.cellHeight=m,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(d,v),this.setSize(h,c),this.setFillStyle(x,T),P!==void 0&&this.setOutlineStyle(P,M),this.updateDisplayOrigin()},setFillStyle:function(l,a){return a===void 0&&(a=1),l===void 0?this.showCells=!1:(this.fillColor=l,this.fillAlpha=a,this.showCells=!0),this},setAltFillStyle:function(l,a){return a===void 0&&(a=1),l===void 0?this.showAltCells=!1:(this.altFillColor=l,this.altFillAlpha=a,this.showAltCells=!0),this},setOutlineStyle:function(l,a){return a===void 0&&(a=1),l===void 0?this.showOutline=!1:(this.outlineFillColor=l,this.outlineFillAlpha=a,this.showOutline=!0),this}});n.exports=u},49912:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65960),y=s(75177),f=s(20926),u=function(l,a,d,v){d.addToRenderList(a);var h=l.currentContext;if(f(l,h,a,d,v)){var c=-a._displayOriginX,p=-a._displayOriginY,m=d.alpha*a.alpha,x=a.width,T=a.height,P=a.cellWidth,M=a.cellHeight,E=Math.ceil(x/P),w=Math.ceil(T/M),R=P,A=M,L=P-(E*P-x),b=M-(w*M-T),O=a.showCells,F=a.showAltCells,D=a.showOutline,B=0,N=0,z=0,W=0,X=0;if(D&&(R--,A--,L===P&&L--,b===M&&b--),O&&a.fillAlpha>0)for(o(h,a),N=0;N<w;N++)for(F&&(z=N%2),B=0;B<E;B++){if(F&&z){z=0;continue}z++,W=B<E-1?R:L,X=N<w-1?A:b,h.fillRect(c+B*P,p+N*M,W,X)}if(F&&a.altFillAlpha>0)for(o(h,a,a.altFillColor,a.altFillAlpha*m),N=0;N<w;N++)for(F&&(z=N%2),B=0;B<E;B++){if(F&&!z){z=1;continue}z=0,W=B<E-1?R:L,X=N<w-1?A:b,h.fillRect(c+B*P,p+N*M,W,X)}if(D&&a.outlineFillAlpha>0){for(y(h,a,a.outlineFillColor,a.outlineFillAlpha*m),B=1;B<E;B++){var k=B*P;h.beginPath(),h.moveTo(k+c,p),h.lineTo(k+c,T+p),h.stroke()}for(N=1;N<w;N++){var V=N*M;h.beginPath(),h.moveTo(c,V+p),h.lineTo(c+x,V+p),h.stroke()}}h.restore()}};n.exports=u},34137:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),y=s(30479);o.register("grid",function(f,u,l,a,d,v,h,c,p,m){return this.displayList.add(new y(this.scene,f,u,l,a,d,v,h,c,p,m))})},26015:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(46161),f=s(49912),n.exports={renderWebGL:y,renderCanvas:f}},46161:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),y=s(70554),f=function(u,l,a,d){a.addToRenderList(l);var v=u.pipelines.set(l.pipeline),h=o(l,a,d),c=v.calcMatrix.copyFrom(h.calc);c.translate(-l._displayOriginX,-l._displayOriginY);var p=a.alpha*l.alpha,m=l.width,x=l.height,T=l.cellWidth,P=l.cellHeight,M=Math.ceil(m/T),E=Math.ceil(x/P),w=T,R=P,A=T-(M*T-m),L=P-(E*P-x),b,O,F=l.showCells,D=l.showAltCells,B=l.showOutline,N=0,z=0,W=0,X=0,k=0;if(B&&(w--,R--,A===T&&A--,L===P&&L--),u.pipelines.preBatch(l),F&&l.fillAlpha>0)for(b=v.fillTint,O=y.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*p),b.TL=O,b.TR=O,b.BL=O,b.BR=O,z=0;z<E;z++)for(D&&(W=z%2),N=0;N<M;N++){if(D&&W){W=0;continue}W++,X=N<M-1?w:A,k=z<E-1?R:L,v.batchFillRect(N*T,z*P,X,k)}if(D&&l.altFillAlpha>0)for(b=v.fillTint,O=y.getTintAppendFloatAlpha(l.altFillColor,l.altFillAlpha*p),b.TL=O,b.TR=O,b.BL=O,b.BR=O,z=0;z<E;z++)for(D&&(W=z%2),N=0;N<M;N++){if(D&&!W){W=1;continue}W=0,X=N<M-1?w:A,k=z<E-1?R:L,v.batchFillRect(N*T,z*P,X,k)}if(B&&l.outlineFillAlpha>0){var V=v.strokeTint,I=y.getTintAppendFloatAlpha(l.outlineFillColor,l.outlineFillAlpha*p);for(V.TL=I,V.TR=I,V.BL=I,V.BR=I,N=1;N<M;N++){var U=N*T;v.batchLine(U,0,U,x,l.lineWidth,l.lineWidth,1,0,!1)}for(z=1;z<E;z++){var G=z*P;v.batchLine(0,G,m,G,l.lineWidth,l.lineWidth,1,0,!1)}}u.pipelines.postBatch(l)};n.exports=f},61475:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(99651),y=s(83419),f=s(17803),u=new y({Extends:f,Mixins:[o],initialize:function(a,d,v,h,c,p,m,x){d===void 0&&(d=0),v===void 0&&(v=0),h===void 0&&(h=48),c===void 0&&(c=32),p===void 0&&(p=15658734),m===void 0&&(m=10066329),x===void 0&&(x=13421772),f.call(this,a,"IsoBox",null),this.projection=4,this.fillTop=p,this.fillLeft=m,this.fillRight=x,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(d,v),this.setSize(h,c),this.updateDisplayOrigin()},setProjection:function(l){return this.projection=l,this},setFaces:function(l,a,d){return l===void 0&&(l=!0),a===void 0&&(a=!0),d===void 0&&(d=!0),this.showTop=l,this.showLeft=a,this.showRight=d,this},setFillStyle:function(l,a,d){return this.fillTop=l,this.fillLeft=a,this.fillRight=d,this.isFilled=!0,this}});n.exports=u},11508:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65960),y=s(20926),f=function(u,l,a,d){a.addToRenderList(l);var v=u.currentContext;if(y(u,v,l,a,d)&&l.isFilled){var h=l.width,c=l.height,p=h/2,m=h/l.projection;l.showTop&&(o(v,l,l.fillTop),v.beginPath(),v.moveTo(-p,-c),v.lineTo(0,-m-c),v.lineTo(p,-c),v.lineTo(p,-1),v.lineTo(0,m-1),v.lineTo(-p,-1),v.lineTo(-p,-c),v.fill()),l.showLeft&&(o(v,l,l.fillLeft),v.beginPath(),v.moveTo(-p,0),v.lineTo(0,m),v.lineTo(0,m-c),v.lineTo(-p,-c),v.lineTo(-p,0),v.fill()),l.showRight&&(o(v,l,l.fillRight),v.beginPath(),v.moveTo(p,0),v.lineTo(0,m),v.lineTo(0,m-c),v.lineTo(p,-c),v.lineTo(p,0),v.fill()),v.restore()}};n.exports=f},3933:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),y=s(61475);o.register("isobox",function(f,u,l,a,d,v,h){return this.displayList.add(new y(this.scene,f,u,l,a,d,v,h))})},99651:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(68149),f=s(11508),n.exports={renderWebGL:y,renderCanvas:f}},68149:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),y=s(70554),f=function(u,l,a,d){a.addToRenderList(l);var v=u.pipelines.set(l.pipeline),h=o(l,a,d),c=v.calcMatrix.copyFrom(h.calc),p=l.width,m=l.height,x=p/2,T=p/l.projection,P=a.alpha*l.alpha;if(l.isFilled){var M,E,w,R,A,L,b,O,F;u.pipelines.preBatch(l),l.showTop&&(M=y.getTintAppendFloatAlpha(l.fillTop,P),E=c.getX(-x,-m),w=c.getY(-x,-m),R=c.getX(0,-T-m),A=c.getY(0,-T-m),L=c.getX(x,-m),b=c.getY(x,-m),O=c.getX(0,T-m),F=c.getY(0,T-m),v.batchQuad(l,E,w,R,A,L,b,O,F,0,0,1,1,M,M,M,M,2)),l.showLeft&&(M=y.getTintAppendFloatAlpha(l.fillLeft,P),E=c.getX(-x,0),w=c.getY(-x,0),R=c.getX(0,T),A=c.getY(0,T),L=c.getX(0,T-m),b=c.getY(0,T-m),O=c.getX(-x,-m),F=c.getY(-x,-m),v.batchQuad(l,E,w,R,A,L,b,O,F,0,0,1,1,M,M,M,M,2)),l.showRight&&(M=y.getTintAppendFloatAlpha(l.fillRight,P),E=c.getX(x,0),w=c.getY(x,0),R=c.getX(0,T),A=c.getY(0,T),L=c.getX(0,T-m),b=c.getY(0,T-m),O=c.getX(x,-m),F=c.getY(x,-m),v.batchQuad(l,E,w,R,A,L,b,O,F,0,0,1,1,M,M,M,M,2)),u.pipelines.postBatch(l)}};n.exports=f},16933:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(60561),f=s(17803),u=new o({Extends:f,Mixins:[y],initialize:function(a,d,v,h,c,p,m,x,T){d===void 0&&(d=0),v===void 0&&(v=0),h===void 0&&(h=48),c===void 0&&(c=32),p===void 0&&(p=!1),m===void 0&&(m=15658734),x===void 0&&(x=10066329),T===void 0&&(T=13421772),f.call(this,a,"IsoTriangle",null),this.projection=4,this.fillTop=m,this.fillLeft=x,this.fillRight=T,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=p,this.isFilled=!0,this.setPosition(d,v),this.setSize(h,c),this.updateDisplayOrigin()},setProjection:function(l){return this.projection=l,this},setReversed:function(l){return this.isReversed=l,this},setFaces:function(l,a,d){return l===void 0&&(l=!0),a===void 0&&(a=!0),d===void 0&&(d=!0),this.showTop=l,this.showLeft=a,this.showRight=d,this},setFillStyle:function(l,a,d){return this.fillTop=l,this.fillLeft=a,this.fillRight=d,this.isFilled=!0,this}});n.exports=u},79590:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65960),y=s(20926),f=function(u,l,a,d){a.addToRenderList(l);var v=u.currentContext;if(y(u,v,l,a,d)&&l.isFilled){var h=l.width,c=l.height,p=h/2,m=h/l.projection,x=l.isReversed;l.showTop&&x&&(o(v,l,l.fillTop),v.beginPath(),v.moveTo(-p,-c),v.lineTo(0,-m-c),v.lineTo(p,-c),v.lineTo(0,m-c),v.fill()),l.showLeft&&(o(v,l,l.fillLeft),v.beginPath(),x?(v.moveTo(-p,-c),v.lineTo(0,m),v.lineTo(0,m-c)):(v.moveTo(-p,0),v.lineTo(0,m),v.lineTo(0,m-c)),v.fill()),l.showRight&&(o(v,l,l.fillRight),v.beginPath(),x?(v.moveTo(p,-c),v.lineTo(0,m),v.lineTo(0,m-c)):(v.moveTo(p,0),v.lineTo(0,m),v.lineTo(0,m-c)),v.fill()),v.restore()}};n.exports=f},49803:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),y=s(16933);o.register("isotriangle",function(f,u,l,a,d,v,h,c){return this.displayList.add(new y(this.scene,f,u,l,a,d,v,h,c))})},60561:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(51503),f=s(79590),n.exports={renderWebGL:y,renderCanvas:f}},51503:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),y=s(70554),f=function(u,l,a,d){a.addToRenderList(l);var v=u.pipelines.set(l.pipeline),h=o(l,a,d),c=v.calcMatrix.copyFrom(h.calc),p=l.width,m=l.height,x=p/2,T=p/l.projection,P=l.isReversed,M=a.alpha*l.alpha;if(l.isFilled){u.pipelines.preBatch(l);var E,w,R,A,L,b,O;if(l.showTop&&P){E=y.getTintAppendFloatAlpha(l.fillTop,M),w=c.getX(-x,-m),R=c.getY(-x,-m),A=c.getX(0,-T-m),L=c.getY(0,-T-m),b=c.getX(x,-m),O=c.getY(x,-m);var F=c.getX(0,T-m),D=c.getY(0,T-m);v.batchQuad(l,w,R,A,L,b,O,F,D,0,0,1,1,E,E,E,E,2)}l.showLeft&&(E=y.getTintAppendFloatAlpha(l.fillLeft,M),P?(w=c.getX(-x,-m),R=c.getY(-x,-m),A=c.getX(0,T),L=c.getY(0,T),b=c.getX(0,T-m),O=c.getY(0,T-m)):(w=c.getX(-x,0),R=c.getY(-x,0),A=c.getX(0,T),L=c.getY(0,T),b=c.getX(0,T-m),O=c.getY(0,T-m)),v.batchTri(l,w,R,A,L,b,O,0,0,1,1,E,E,E,2)),l.showRight&&(E=y.getTintAppendFloatAlpha(l.fillRight,M),P?(w=c.getX(x,-m),R=c.getY(x,-m),A=c.getX(0,T),L=c.getY(0,T),b=c.getX(0,T-m),O=c.getY(0,T-m)):(w=c.getX(x,0),R=c.getY(x,0),A=c.getX(0,T),L=c.getY(0,T),b=c.getX(0,T-m),O=c.getY(0,T-m)),v.batchTri(l,w,R,A,L,b,O,0,0,1,1,E,E,E,2)),u.pipelines.postBatch(l)}};n.exports=f},57847:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(17803),f=s(23031),u=s(36823),l=new o({Extends:y,Mixins:[u],initialize:function(d,v,h,c,p,m,x,T,P){v===void 0&&(v=0),h===void 0&&(h=0),c===void 0&&(c=0),p===void 0&&(p=0),m===void 0&&(m=128),x===void 0&&(x=0),y.call(this,d,"Line",new f(c,p,m,x));var M=Math.max(1,this.geom.right-this.geom.left),E=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(v,h),this.setSize(M,E),T!==void 0&&this.setStrokeStyle(1,T,P),this.updateDisplayOrigin()},setLineWidth:function(a,d){return d===void 0&&(d=a),this._startWidth=a,this._endWidth=d,this.lineWidth=a,this},setTo:function(a,d,v,h){return this.geom.setTo(a,d,v,h),this}});n.exports=l},17440:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(75177),y=s(20926),f=function(u,l,a,d){a.addToRenderList(l);var v=u.currentContext;if(y(u,v,l,a,d)){var h=l._displayOriginX,c=l._displayOriginY;l.isStroked&&(o(v,l),v.beginPath(),v.moveTo(l.geom.x1-h,l.geom.y1-c),v.lineTo(l.geom.x2-h,l.geom.y2-c),v.stroke()),v.restore()}};n.exports=f},2481:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),y=s(57847);o.register("line",function(f,u,l,a,d,v,h,c){return this.displayList.add(new y(this.scene,f,u,l,a,d,v,h,c))})},36823:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(77385),f=s(17440),n.exports={renderWebGL:y,renderCanvas:f}},77385:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),y=s(70554),f=function(u,l,a,d){a.addToRenderList(l);var v=u.pipelines.set(l.pipeline),h=o(l,a,d);v.calcMatrix.copyFrom(h.calc);var c=l._displayOriginX,p=l._displayOriginY,m=a.alpha*l.alpha;if(u.pipelines.preBatch(l),l.isStroked){var x=v.strokeTint,T=y.getTintAppendFloatAlpha(l.strokeColor,l.strokeAlpha*m);x.TL=T,x.TR=T,x.BL=T,x.BR=T,v.batchLine(l.geom.x1-c,l.geom.y1-p,l.geom.x2-c,l.geom.y2-p,l._startWidth/2,l._endWidth/2,1,0,!1,h.sprite,h.camera)}u.pipelines.postBatch(l)};n.exports=f},24949:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(90273),y=s(83419),f=s(94811),u=s(13829),l=s(25717),a=s(17803),d=s(5469),v=new y({Extends:a,Mixins:[o],initialize:function(c,p,m,x,T,P){p===void 0&&(p=0),m===void 0&&(m=0),a.call(this,c,"Polygon",new l(x));var M=u(this.geom);this.setPosition(p,m),this.setSize(M.width,M.height),T!==void 0&&this.setFillStyle(T,P),this.updateDisplayOrigin(),this.updateData()},smooth:function(h){h===void 0&&(h=1);for(var c=0;c<h;c++)d(this.geom);return this.updateData()},setTo:function(h){this.geom.setTo(h);var c=u(this.geom);return this.setSize(c.width,c.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var h=[],c=this.geom.points,p=0;p<c.length;p++)h.push(c[p].x,c[p].y);return h.push(c[0].x,c[0].y),this.pathIndexes=f(h),this.pathData=h,this}});n.exports=v},38710:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65960),y=s(75177),f=s(20926),u=function(l,a,d,v){d.addToRenderList(a);var h=l.currentContext;if(f(l,h,a,d,v)){var c=a._displayOriginX,p=a._displayOriginY,m=a.pathData,x=m.length-1,T=m[0]-c,P=m[1]-p;h.beginPath(),h.moveTo(T,P),a.closePath||(x-=2);for(var M=2;M<x;M+=2){var E=m[M]-c,w=m[M+1]-p;h.lineTo(E,w)}a.closePath&&h.closePath(),a.isFilled&&(o(h,a),h.fill()),a.isStroked&&(y(h,a),h.stroke()),h.restore()}};n.exports=u},64827:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),y=s(24949);o.register("polygon",function(f,u,l,a,d){return this.displayList.add(new y(this.scene,f,u,l,a,d))})},90273:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(73695),f=s(38710),n.exports={renderWebGL:y,renderCanvas:f}},73695:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10441),y=s(91296),f=s(34682),u=function(l,a,d,v){d.addToRenderList(a);var h=l.pipelines.set(a.pipeline),c=y(a,d,v),p=h.calcMatrix.copyFrom(c.calc),m=a._displayOriginX,x=a._displayOriginY,T=d.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&o(h,p,a,T,m,x),a.isStroked&&f(h,a,T,m,x),l.pipelines.postBatch(a)};n.exports=u},74561:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(94811),f=s(87841),u=s(17803),l=s(95597),a=new o({Extends:u,Mixins:[l],initialize:function(v,h,c,p,m,x,T){h===void 0&&(h=0),c===void 0&&(c=0),p===void 0&&(p=128),m===void 0&&(m=128),u.call(this,v,"Rectangle",new f(0,0,p,m)),this.radius=20,this.isRounded=!1,this.setPosition(h,c),this.setSize(p,m),x!==void 0&&this.setFillStyle(x,T),this.updateDisplayOrigin(),this.updateData()},setRounded:function(d){return d===void 0&&(d=16),this.radius=d,this.isRounded=d>0,this.updateRoundedData()},setSize:function(d,v){this.width=d,this.height=v,this.geom.setSize(d,v),this.updateData(),this.updateDisplayOrigin();var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=d,h.hitArea.height=v),this},updateData:function(){if(this.isRounded)return this.updateRoundedData();var d=[],v=this.geom,h=this._tempLine;return v.getLineA(h),d.push(h.x1,h.y1,h.x2,h.y2),v.getLineB(h),d.push(h.x2,h.y2),v.getLineC(h),d.push(h.x2,h.y2),v.getLineD(h),d.push(h.x2,h.y2),this.pathData=d,this},updateRoundedData:function(){var d=[],v=this.width/2,h=this.height/2,c=Math.min(v,h),p=Math.min(this.radius,c),m=v,x=h,T=Math.max(1,Math.floor(p/5));return this.arcTo(d,m-v+p,x-h+p,p,Math.PI,Math.PI*1.5,T),d.push(m+v-p,x-h),this.arcTo(d,m+v-p,x-h+p,p,Math.PI*1.5,Math.PI*2,T),d.push(m+v,x+h-p),this.arcTo(d,m+v-p,x+h-p,p,0,Math.PI*.5,T),d.push(m-v+p,x+h),this.arcTo(d,m-v+p,x+h-p,p,Math.PI*.5,Math.PI,T),d.push(m-v,x-h+p),this.pathIndexes=y(d),this.pathData=d,this},arcTo:function(d,v,h,c,p,m,x){for(var T=(m-p)/x,P=0;P<=x;P++){var M=p+T*P;d.push(v+Math.cos(M)*c,h+Math.sin(M)*c)}}});n.exports=a},48682:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65960),y=s(75177),f=s(20926),u=function(a,d,v,h,c,p){var m=Math.min(h/2,c/2),x=Math.min(p,m);if(x===0){a.rect(d,v,h,c);return}a.moveTo(d+x,v),a.lineTo(d+h-x,v),a.arcTo(d+h,v,d+h,v+x,x),a.lineTo(d+h,v+c-x),a.arcTo(d+h,v+c,d+h-x,v+c,x),a.lineTo(d+x,v+c),a.arcTo(d,v+c,d,v+c-x,x),a.lineTo(d,v+x),a.arcTo(d,v,d+x,v,x),a.closePath()},l=function(a,d,v,h){v.addToRenderList(d);var c=a.currentContext;if(f(a,c,d,v,h)){var p=d._displayOriginX,m=d._displayOriginY;d.isFilled&&(o(c,d),d.isRounded?(c.beginPath(),u(c,-p,-m,d.width,d.height,d.radius),c.fill()):c.fillRect(-p,-m,d.width,d.height)),d.isStroked&&(y(c,d),c.beginPath(),d.isRounded?u(c,-p,-m,d.width,d.height,d.radius):c.rect(-p,-m,d.width,d.height),c.stroke()),c.restore()}};n.exports=l},87959:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),y=s(74561);o.register("rectangle",function(f,u,l,a,d,v){return this.displayList.add(new y(this.scene,f,u,l,a,d,v))})},95597:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(52059),f=s(48682),n.exports={renderWebGL:y,renderCanvas:f}},52059:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10441),y=s(91296),f=s(34682),u=s(70554),l=function(a,d,v,h){v.addToRenderList(d);var c=a.pipelines.set(d.pipeline),p=y(d,v,h);c.calcMatrix.copyFrom(p.calc);var m=d._displayOriginX,x=d._displayOriginY,T=v.alpha*d.alpha;if(a.pipelines.preBatch(d),d.isRounded&&d.isFilled)o(c,p.calc,d,T,m,x);else if(d.isFilled){var P=c.fillTint,M=u.getTintAppendFloatAlpha(d.fillColor,d.fillAlpha*T);P.TL=M,P.TR=M,P.BL=M,P.BR=M,c.batchFillRect(-m,-x,d.width,d.height)}d.isStroked&&f(c,d,T,m,x),a.pipelines.postBatch(d)};n.exports=l},55911:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(81991),y=s(83419),f=s(94811),u=s(17803),l=new y({Extends:u,Mixins:[o],initialize:function(d,v,h,c,p,m,x,T){v===void 0&&(v=0),h===void 0&&(h=0),c===void 0&&(c=5),p===void 0&&(p=32),m===void 0&&(m=64),u.call(this,d,"Star",null),this._points=c,this._innerRadius=p,this._outerRadius=m,this.setPosition(v,h),this.setSize(m*2,m*2),x!==void 0&&this.setFillStyle(x,T),this.updateDisplayOrigin(),this.updateData()},setPoints:function(a){return this._points=a,this.updateData()},setInnerRadius:function(a){return this._innerRadius=a,this.updateData()},setOuterRadius:function(a){return this._outerRadius=a,this.updateData()},points:{get:function(){return this._points},set:function(a){this._points=a,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(a){this._innerRadius=a,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(a){this._outerRadius=a,this.updateData()}},updateData:function(){var a=[],d=this._points,v=this._innerRadius,h=this._outerRadius,c=Math.PI/2*3,p=Math.PI/d,m=h,x=h;a.push(m,x+-h);for(var T=0;T<d;T++)a.push(m+Math.cos(c)*h,x+Math.sin(c)*h),c+=p,a.push(m+Math.cos(c)*v,x+Math.sin(c)*v),c+=p;return a.push(m,x+-h),this.pathIndexes=f(a),this.pathData=a,this}});n.exports=l},64272:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65960),y=s(75177),f=s(20926),u=function(l,a,d,v){d.addToRenderList(a);var h=l.currentContext;if(f(l,h,a,d,v)){var c=a._displayOriginX,p=a._displayOriginY,m=a.pathData,x=m.length-1,T=m[0]-c,P=m[1]-p;h.beginPath(),h.moveTo(T,P),a.closePath||(x-=2);for(var M=2;M<x;M+=2){var E=m[M]-c,w=m[M+1]-p;h.lineTo(E,w)}h.closePath(),a.isFilled&&(o(h,a),h.fill()),a.isStroked&&(y(h,a),h.stroke()),h.restore()}};n.exports=u},93697:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(55911),y=s(39429);y.register("star",function(f,u,l,a,d,v,h){return this.displayList.add(new o(this.scene,f,u,l,a,d,v,h))})},81991:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(57017),f=s(64272),n.exports={renderWebGL:y,renderCanvas:f}},57017:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10441),y=s(91296),f=s(34682),u=function(l,a,d,v){d.addToRenderList(a);var h=l.pipelines.set(a.pipeline),c=y(a,d,v),p=h.calcMatrix.copyFrom(c.calc),m=a._displayOriginX,x=a._displayOriginY,T=d.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&o(h,p,a,T,m,x),a.isStroked&&f(h,a,T,m,x),l.pipelines.postBatch(a)};n.exports=u},36931:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(17803),f=s(16483),u=s(96195),l=new o({Extends:y,Mixins:[u],initialize:function(d,v,h,c,p,m,x,T,P,M,E){v===void 0&&(v=0),h===void 0&&(h=0),c===void 0&&(c=0),p===void 0&&(p=128),m===void 0&&(m=64),x===void 0&&(x=0),T===void 0&&(T=128),P===void 0&&(P=128),y.call(this,d,"Triangle",new f(c,p,m,x,T,P));var w=this.geom.right-this.geom.left,R=this.geom.bottom-this.geom.top;this.setPosition(v,h),this.setSize(w,R),M!==void 0&&this.setFillStyle(M,E),this.updateDisplayOrigin(),this.updateData()},setTo:function(a,d,v,h,c,p){return this.geom.setTo(a,d,v,h,c,p),this.updateData()},updateData:function(){var a=[],d=this.geom,v=this._tempLine;return d.getLineA(v),a.push(v.x1,v.y1,v.x2,v.y2),d.getLineB(v),a.push(v.x2,v.y2),d.getLineC(v),a.push(v.x2,v.y2),this.pathData=a,this}});n.exports=l},85172:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65960),y=s(75177),f=s(20926),u=function(l,a,d,v){d.addToRenderList(a);var h=l.currentContext;if(f(l,h,a,d,v)){var c=a._displayOriginX,p=a._displayOriginY,m=a.geom.x1-c,x=a.geom.y1-p,T=a.geom.x2-c,P=a.geom.y2-p,M=a.geom.x3-c,E=a.geom.y3-p;h.beginPath(),h.moveTo(m,x),h.lineTo(T,P),h.lineTo(M,E),h.closePath(),a.isFilled&&(o(h,a),h.fill()),a.isStroked&&(y(h,a),h.stroke()),h.restore()}};n.exports=u},45245:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),y=s(36931);o.register("triangle",function(f,u,l,a,d,v,h,c,p,m){return this.displayList.add(new y(this.scene,f,u,l,a,d,v,h,c,p,m))})},96195:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(83253),f=s(85172),n.exports={renderWebGL:y,renderCanvas:f}},83253:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),y=s(34682),f=s(70554),u=function(l,a,d,v){d.addToRenderList(a);var h=l.pipelines.set(a.pipeline),c=o(a,d,v);h.calcMatrix.copyFrom(c.calc);var p=a._displayOriginX,m=a._displayOriginY,x=d.alpha*a.alpha;if(l.pipelines.preBatch(a),a.isFilled){var T=h.fillTint,P=f.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*x);T.TL=P,T.TR=P,T.BL=P,T.BR=P;var M=a.geom.x1-p,E=a.geom.y1-m,w=a.geom.x2-p,R=a.geom.y2-m,A=a.geom.x3-p,L=a.geom.y3-m;h.batchFillTriangle(M,E,w,R,A,L,c.sprite,c.camera)}a.isStroked&&y(h,a,x,p,m),l.pipelines.postBatch(a)};n.exports=u},68287:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(9674),y=s(83419),f=s(31401),u=s(95643),l=s(92751),a=new y({Extends:u,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Size,f.TextureCrop,f.Tint,f.Transform,f.Visible,l],initialize:function(v,h,c,p,m){u.call(this,v,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(p,m),this.setPosition(h,c),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(d,v){this.anims.update(d,v)},play:function(d,v){return this.anims.play(d,v)},playReverse:function(d,v){return this.anims.playReverse(d,v)},playAfterDelay:function(d,v){return this.anims.playAfterDelay(d,v)},playAfterRepeat:function(d,v){return this.anims.playAfterRepeat(d,v)},chain:function(d){return this.anims.chain(d)},stop:function(){return this.anims.stop()},stopAfterDelay:function(d){return this.anims.stopAfterDelay(d)},stopAfterRepeat:function(d){return this.anims.stopAfterRepeat(d)},stopOnFrame:function(d){return this.anims.stopOnFrame(d)},toJSON:function(){return f.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});n.exports=a},76552:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){y.addToRenderList(o),s.batchSprite(o,o.frame,y,f)};n.exports=C},15567:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),y=s(13059),f=s(44603),u=s(23568),l=s(68287);f.register("sprite",function(a,d){a===void 0&&(a={});var v=u(a,"key",null),h=u(a,"frame",null),c=new l(this.scene,0,0,v,h);return d!==void 0&&(a.add=d),o(this.scene,c,a),y(c,a),c})},46409:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),y=s(68287);o.register("sprite",function(f,u,l,a){return this.displayList.add(new y(this.scene,f,u,l,a))})},92751:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(9409),f=s(76552),n.exports={renderWebGL:y,renderCanvas:f}},9409:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){y.addToRenderList(o),o.pipeline.batchSprite(o,y,f)};n.exports=C},14220:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){var f=s.canvas,u=s.context,l=s.style,a=[],d=0,v=y.length;l.maxLines>0&&l.maxLines<y.length&&(v=l.maxLines),l.syncFont(f,u);for(var h=s.letterSpacing,c=0;c<v;c++){var p=l.strokeThickness;if(h===0)p+=u.measureText(y[c]).width;else{for(var m=y[c],x=0;x<m.length;x++)p+=u.measureText(m[x]).width;m.length>1&&(p+=h*(m.length-1))}l.wordWrap&&(p-=u.measureText(" ").width),a[c]=Math.ceil(p),d=Math.max(d,a[c])}var T=o.fontSize+l.strokeThickness,P=T*v,M=s.lineSpacing;return v>1&&(P+=M*(v-1)),{width:d,height:P,lines:v,lineWidths:a,lineSpacing:M,lineHeight:T}};n.exports=C},79557:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(27919),y=function(f){var u=o.create(this),l=u.getContext("2d",{willReadFrequently:!0});f.syncFont(u,l);var a=l.measureText(f.testString);if("actualBoundingBoxAscent"in a){var d=a.actualBoundingBoxAscent,v=a.actualBoundingBoxDescent;return o.remove(u),{ascent:d,descent:v,fontSize:d+v}}var h=Math.ceil(a.width*f.baselineX),c=h,p=2*c;c=c*f.baselineY|0,u.width=h,u.height=p,l.fillStyle="#f00",l.fillRect(0,0,h,p),l.font=f._font,l.textBaseline="alphabetic",l.fillStyle="#000",l.fillText(f.testString,0,c);var m={ascent:0,descent:0,fontSize:0},x=l.getImageData(0,0,h,p);if(!x)return m.ascent=c,m.descent=c+6,m.fontSize=m.ascent+m.descent,o.remove(u),m;var T=x.data,P=T.length,M=h*4,E,w,R=0,A=!1;for(E=0;E<c;E++){for(w=0;w<M;w+=4)if(T[R+w]!==255){A=!0;break}if(!A)R+=M;else break}for(m.ascent=c-E,R=P-M,A=!1,E=p;E>c;E--){for(w=0;w<M;w+=4)if(T[R+w]!==255){A=!0;break}if(!A)R-=M;else break}return m.descent=E-c,m.fontSize=m.ascent+m.descent,o.remove(u),m};n.exports=y},50171:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(40366),y=s(27919),f=s(83419),u=s(31401),l=s(95643),a=s(14220),d=s(35154),v=s(35846),h=s(61771),c=s(35762),p=s(45650),m=new f({Extends:l,Mixins:[u.Alpha,u.BlendMode,u.ComputedSize,u.Crop,u.Depth,u.Flip,u.GetBounds,u.Mask,u.Origin,u.Pipeline,u.PostPipeline,u.ScrollFactor,u.Tint,u.Transform,u.Visible,h],initialize:function(T,P,M,E,w){P===void 0&&(P=0),M===void 0&&(M=0),l.call(this,T,"Text"),this.renderer=T.sys.renderer,this.setPosition(P,M),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=y.create(this),this.context,this.style=new c(this,w),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=p(),this.texture=T.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(E),w&&w.padding&&this.setPadding(w.padding),w&&w.lineSpacing&&this.setLineSpacing(w.lineSpacing),w&&w.letterSpacing&&this.setLetterSpacing(w.letterSpacing)},initRTL:function(){if(!this.style.rtl){this.canvas.dir="ltr",this.context.direction="ltr";return}this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas),this.originX=1},runWordWrap:function(x){var T=this.style;if(T.wordWrapCallback){var P=T.wordWrapCallback.call(T.wordWrapCallbackScope,x,this);return Array.isArray(P)&&(P=P.join(`
`)),P}else return T.wordWrapWidth?T.wordWrapUseAdvanced?this.advancedWordWrap(x,this.context,this.style.wordWrapWidth):this.basicWordWrap(x,this.context,this.style.wordWrapWidth):x},advancedWordWrap:function(x,T,P){for(var M="",E=x.replace(/ +/gi," ").split(this.splitRegExp),w=E.length,R=0;R<w;R++){var A=E[R],L="";A=A.replace(/^ *|\s*$/gi,"");var b=A.length*this.letterSpacing,O=T.measureText(A).width+b;if(O<P){M+=A+`
`;continue}for(var F=P,D=A.split(" "),B=0;B<D.length;B++){var N=D[B],z=N+" ",W=z.length*this.letterSpacing,X=T.measureText(z).width+W;if(X>F){if(B===0){for(var k=z;k.length;){k=k.slice(0,-1);var V=k.length*this.letterSpacing;if(X=T.measureText(k).width+V,X<=F)break}if(!k.length)throw new Error("wordWrapWidth < a single character");var I=N.substr(k.length);D[B]=I,L+=k}var U=D[B].length?B:B+1,G=D.slice(U).join(" ").replace(/[ \n]*$/gi,"");E.splice(R+1,0,G),w=E.length;break}else L+=z,F-=X}M+=L.replace(/[ \n]*$/gi,"")+`
`}return M=M.replace(/[\s|\n]*$/gi,""),M},basicWordWrap:function(x,T,P){for(var M="",E=x.split(this.splitRegExp),w=E.length-1,R=T.measureText(" ").width,A=0;A<=w;A++){for(var L=P,b=E[A].split(" "),O=b.length-1,F=0;F<=O;F++){var D=b[F],B=D.length*this.letterSpacing,N=T.measureText(D).width+B,z=N;F<O&&(z+=R),z>L&&F>0&&(M+=`
`,L=P),M+=D,F<O?(M+=" ",L-=z):L-=N}A<w&&(M+=`
`)}return M},getWrappedText:function(x){x===void 0&&(x=this._text),this.style.syncFont(this.canvas,this.context);var T=this.runWordWrap(x);return T.split(this.splitRegExp)},setText:function(x){return!x&&x!==0&&(x=""),Array.isArray(x)&&(x=x.join(`
`)),x!==this._text&&(this._text=x.toString(),this.updateText()),this},appendText:function(x,T){T===void 0&&(T=!0),!x&&x!==0&&(x=""),Array.isArray(x)&&(x=x.join(`
`)),x=x.toString();var P=this._text.concat(T?`
`+x:x);return P!==this._text&&(this._text=P,this.updateText()),this},setStyle:function(x){return this.style.setStyle(x)},setFont:function(x){return this.style.setFont(x)},setFontFamily:function(x){return this.style.setFontFamily(x)},setFontSize:function(x){return this.style.setFontSize(x)},setFontStyle:function(x){return this.style.setFontStyle(x)},setFixedSize:function(x,T){return this.style.setFixedSize(x,T)},setBackgroundColor:function(x){return this.style.setBackgroundColor(x)},setFill:function(x){return this.style.setFill(x)},setColor:function(x){return this.style.setColor(x)},setStroke:function(x,T){return this.style.setStroke(x,T)},setShadow:function(x,T,P,M,E,w){return this.style.setShadow(x,T,P,M,E,w)},setShadowOffset:function(x,T){return this.style.setShadowOffset(x,T)},setShadowColor:function(x){return this.style.setShadowColor(x)},setShadowBlur:function(x){return this.style.setShadowBlur(x)},setShadowStroke:function(x){return this.style.setShadowStroke(x)},setShadowFill:function(x){return this.style.setShadowFill(x)},setWordWrapWidth:function(x,T){return this.style.setWordWrapWidth(x,T)},setWordWrapCallback:function(x,T){return this.style.setWordWrapCallback(x,T)},setAlign:function(x){return this.style.setAlign(x)},setResolution:function(x){return this.style.setResolution(x)},setLineSpacing:function(x){return this.lineSpacing=x,this.updateText()},setLetterSpacing:function(x){return this.letterSpacing=x,this.updateText()},setPadding:function(x,T,P,M){if(typeof x=="object"){var E=x,w=d(E,"x",null);w!==null?(x=w,P=w):(x=d(E,"left",0),P=d(E,"right",x));var R=d(E,"y",null);R!==null?(T=R,M=R):(T=d(E,"top",0),M=d(E,"bottom",T))}else x===void 0&&(x=0),T===void 0&&(T=x),P===void 0&&(P=x),M===void 0&&(M=T);return this.padding.left=x,this.padding.top=T,this.padding.right=P,this.padding.bottom=M,this.updateText()},setMaxLines:function(x){return this.style.setMaxLines(x)},setRTL:function(x){x===void 0&&(x=!0);var T=this.style;return T.rtl===x?this:(T.rtl=x,x?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),T.align==="left"?T.align="right":T.align==="right"&&(T.align="left"),this)},updateText:function(){var x=this.canvas,T=this.context,P=this.style,M=P.resolution,E=P.metrics;P.syncFont(x,T);var w=this._text;(P.wordWrapWidth||P.wordWrapCallback)&&(w=this.runWordWrap(this._text));var R=w.split(this.splitRegExp),A=a(this,E,R),L=this.padding,b;P.fixedWidth===0?(this.width=A.width+L.left+L.right,b=A.width):(this.width=P.fixedWidth,b=this.width-L.left-L.right,b<A.width&&(b=A.width)),P.fixedHeight===0?this.height=A.height+L.top+L.bottom:this.height=P.fixedHeight;var O=this.width,F=this.height;this.updateDisplayOrigin(),O*=M,F*=M,O=Math.max(O,1),F=Math.max(F,1),x.width!==O||x.height!==F?(x.width=O,x.height=F,this.frame.setSize(O,F),P.syncFont(x,T),P.rtl&&(T.direction="rtl")):T.clearRect(0,0,O,F),T.save(),T.scale(M,M),P.backgroundColor&&(T.fillStyle=P.backgroundColor,T.fillRect(0,0,O,F)),P.syncStyle(x,T),T.translate(L.left,L.top);for(var D,B,N=0;N<A.lines;N++){if(D=P.strokeThickness/2,B=P.strokeThickness/2+N*A.lineHeight+E.ascent,N>0&&(B+=A.lineSpacing*N),P.rtl)D=O-D-L.left-L.right;else if(P.align==="right")D+=b-A.lineWidths[N];else if(P.align==="center")D+=(b-A.lineWidths[N])/2;else if(P.align==="justify"){var z=.85;if(A.lineWidths[N]/A.width>=z){var W=A.width-A.lineWidths[N],X=T.measureText(" ").width,k=R[N].trim(),V=k.split(" ");W+=(R[N].length-k.length)*X;for(var I=Math.floor(W/X),U=0;I>0;)V[U]+=" ",U=(U+1)%(V.length-1||1),--I;R[N]=V.join(" ")}}this.autoRound&&(D=Math.round(D),B=Math.round(B));var G=this.letterSpacing;if(P.strokeThickness&&G===0&&(P.syncShadow(T,P.shadowStroke),T.strokeText(R[N],D,B)),P.color)if(P.syncShadow(T,P.shadowFill),G!==0)for(var Y=0,H=R[N].split(""),$=0;$<H.length;$++)P.strokeThickness&&(P.syncShadow(T,P.shadowStroke),T.strokeText(H[$],D+Y,B),P.syncShadow(T,P.shadowFill)),T.fillText(H[$],D+Y,B),Y+=T.measureText(H[$]).width+G;else T.fillText(R[N],D,B)}T.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(x,this.frame.source.glTexture,!0));var K=this.input;return K&&!K.customHitArea&&(K.hitArea.width=this.width,K.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(x){this.setText(x)}},toJSON:function(){var x=u.ToJSON(this),T={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return x.data=T,x},preDestroy:function(){v(this.canvas),y.remove(this.canvas);var x=this.texture;x&&x.destroy()}});n.exports=m},79724:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){o.width===0||o.height===0||(y.addToRenderList(o),s.batchSprite(o,o.frame,y,f))};n.exports=C},71259:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),y=s(44603),f=s(23568),u=s(50171);y.register("text",function(l,a){l===void 0&&(l={});var d=f(l,"text",""),v=f(l,"style",null),h=f(l,"padding",null);h!==null&&(v.padding=h);var c=new u(this.scene,0,0,d,v);return a!==void 0&&(l.add=a),o(this.scene,c,l),c.autoRound=f(l,"autoRound",!0),c.resolution=f(l,"resolution",1),c})},68005:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(50171),y=s(39429);y.register("text",function(f,u,l,a){return this.displayList.add(new o(this.scene,f,u,l,a))})},61771:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(34397),f=s(79724),n.exports={renderWebGL:y,renderCanvas:f}},35762:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(23568),f=s(35154),u=s(79557),l={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},a=new o({initialize:function(v,h){this.parent=v,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(h,!1,!0)},setStyle:function(d,v,h){v===void 0&&(v=!0),h===void 0&&(h=!1);for(var c in l){var p=h?l[c][1]:this[c];c==="wordWrapCallback"||c==="wordWrapCallbackScope"?this[c]=f(d,l[c][0],p):d&&c==="fontSize"&&typeof d.fontSize=="number"?this[c]=d.fontSize.toString()+"px":this[c]=y(d,l[c][0],p)}var m=f(d,"font",null);m!==null&&this.setFont(m,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var x=f(d,"fill",null);x!==null&&(this.color=x);var T=f(d,"metrics",!1);return T?this.metrics={ascent:f(T,"ascent",0),descent:f(T,"descent",0),fontSize:f(T,"fontSize",0)}:(v||!this.metrics)&&(this.metrics=u(this)),v?this.parent.updateText():this.parent},syncFont:function(d,v){v.font=this._font},syncStyle:function(d,v){v.textBaseline="alphabetic",v.fillStyle=this.color,v.strokeStyle=this.stroke,v.lineWidth=this.strokeThickness,v.lineCap="round",v.lineJoin="round"},syncShadow:function(d,v){v?(d.shadowOffsetX=this.shadowOffsetX,d.shadowOffsetY=this.shadowOffsetY,d.shadowColor=this.shadowColor,d.shadowBlur=this.shadowBlur):(d.shadowOffsetX=0,d.shadowOffsetY=0,d.shadowColor=0,d.shadowBlur=0)},update:function(d){return d&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=u(this)),this.parent.updateText()},setFont:function(d,v){v===void 0&&(v=!0);var h=d,c="",p="";if(typeof d!="string")h=f(d,"fontFamily","Courier"),c=f(d,"fontSize","16px"),p=f(d,"fontStyle","");else{var m=d.split(" "),x=0;p=m.length>2?m[x++]:"",c=m[x++]||"16px",h=m[x++]||"Courier"}return(h!==this.fontFamily||c!==this.fontSize||p!==this.fontStyle)&&(this.fontFamily=h,this.fontSize=c,this.fontStyle=p,v&&this.update(!0)),this.parent},setFontFamily:function(d){return this.fontFamily!==d&&(this.fontFamily=d,this.update(!0)),this.parent},setFontStyle:function(d){return this.fontStyle!==d&&(this.fontStyle=d,this.update(!0)),this.parent},setFontSize:function(d){return typeof d=="number"&&(d=d.toString()+"px"),this.fontSize!==d&&(this.fontSize=d,this.update(!0)),this.parent},setTestString:function(d){return this.testString=d,this.update(!0)},setFixedSize:function(d,v){return this.fixedWidth=d,this.fixedHeight=v,d&&(this.parent.width=d),v&&(this.parent.height=v),this.update(!1)},setBackgroundColor:function(d){return this.backgroundColor=d,this.update(!1)},setFill:function(d){return this.color=d,this.update(!1)},setColor:function(d){return this.color=d,this.update(!1)},setResolution:function(d){return this.resolution=d,this.update(!1)},setStroke:function(d,v){return v===void 0&&(v=this.strokeThickness),d===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==d||this.strokeThickness!==v)&&(this.stroke=d,this.strokeThickness=v,this.update(!0)),this.parent},setShadow:function(d,v,h,c,p,m){return d===void 0&&(d=0),v===void 0&&(v=0),h===void 0&&(h="#000"),c===void 0&&(c=0),p===void 0&&(p=!1),m===void 0&&(m=!0),this.shadowOffsetX=d,this.shadowOffsetY=v,this.shadowColor=h,this.shadowBlur=c,this.shadowStroke=p,this.shadowFill=m,this.update(!1)},setShadowOffset:function(d,v){return d===void 0&&(d=0),v===void 0&&(v=d),this.shadowOffsetX=d,this.shadowOffsetY=v,this.update(!1)},setShadowColor:function(d){return d===void 0&&(d="#000"),this.shadowColor=d,this.update(!1)},setShadowBlur:function(d){return d===void 0&&(d=0),this.shadowBlur=d,this.update(!1)},setShadowStroke:function(d){return this.shadowStroke=d,this.update(!1)},setShadowFill:function(d){return this.shadowFill=d,this.update(!1)},setWordWrapWidth:function(d,v){return v===void 0&&(v=!1),this.wordWrapWidth=d,this.wordWrapUseAdvanced=v,this.update(!1)},setWordWrapCallback:function(d,v){return v===void 0&&(v=null),this.wordWrapCallback=d,this.wordWrapCallbackScope=v,this.update(!1)},setAlign:function(d){return d===void 0&&(d="left"),this.align=d,this.update(!1)},setMaxLines:function(d){return d===void 0&&(d=0),this.maxLines=d,this.update(!1)},getTextMetrics:function(){var d=this.metrics;return{ascent:d.ascent,descent:d.descent,fontSize:d.fontSize}},toJSON:function(){var d={};for(var v in l)d[v]=this[v];return d.metrics=this.getTextMetrics(),d},destroy:function(){this.parent=void 0}});n.exports=a},34397:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70554),y=function(f,u,l,a){if(!(u.width===0||u.height===0)){l.addToRenderList(u);var d=u.frame,v=d.width,h=d.height,c=o.getTintAppendFloatAlpha,p=f.pipelines.set(u.pipeline,u),m=p.setTexture2D(d.glTexture,u);p.batchTexture(u,d.glTexture,v,h,u.x,u.y,v/u.style.resolution,h/u.style.resolution,u.scaleX,u.scaleY,u.rotation,u.flipX,u.flipY,u.scrollFactorX,u.scrollFactorY,u.displayOriginX,u.displayOriginY,0,0,v,h,c(u.tintTopLeft,l.alpha*u._alphaTL),c(u.tintTopRight,l.alpha*u._alphaTR),c(u.tintBottomLeft,l.alpha*u._alphaBL),c(u.tintBottomRight,l.alpha*u._alphaBR),u.tintFill,0,0,l,a,!1,m)}};n.exports=y},20839:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(27919),y=s(83419),f=s(31401),u=s(95643),l=s(98439),a=s(68703),d=s(56295),v=s(45650),h=s(26099),c=8,p=new y({Extends:u,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Crop,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Tint,f.Transform,f.Visible,d],initialize:function(x,T,P,M,E,w,R){var A=x.sys.renderer;u.call(this,x,"TileSprite");var L=x.sys.textures.get(w),b=L.get(R);b.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),L=x.sys.textures.get("__MISSING"),b=L.get()),L.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),L=x.sys.textures.get("__MISSING"),b=L.get()),!M||!E?(M=M||b.width,E=E||b.height):(M=Math.floor(M),E=Math.floor(E)),this._tilePosition=new h,this._tileScale=new h(1,1),this.dirty=!1,this.renderer=A,this.canvas=o.create(this,M,E),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=L,this.displayFrame=b,this._crop=this.resetCropObject(),this._textureKey=v(),this.texture=x.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=l(b.width),this.potHeight=l(b.height),this.fillCanvas=o.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(T,P),this.setSize(M,E),this.setFrame(R),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(m,x){return this.displayTexture=this.scene.sys.textures.get(m),this.setFrame(x)},setFrame:function(m){var x=this.displayTexture.get(m);return this.potWidth=l(x.width),this.potHeight=l(x.height),this.canvas.width=0,!x.cutWidth||!x.cutHeight?this.renderFlags&=-9:this.renderFlags|=c,this.displayFrame=x,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(m,x){return m!==void 0&&(this.tilePositionX=m),x!==void 0&&(this.tilePositionY=x),this},setTileScale:function(m,x){return m===void 0&&(m=this.tileScaleX),x===void 0&&(x=m),this.tileScaleX=m,this.tileScaleY=x,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var m=this.displayFrame;if(m.source.isRenderTexture||m.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var x=this.fillContext,T=this.fillCanvas,P=this.potWidth,M=this.potHeight;(!this.renderer||!this.renderer.gl)&&(P=m.cutWidth,M=m.cutHeight),x.clearRect(0,0,P,M),T.width=P,T.height=M,x.drawImage(m.source.image,m.cutX,m.cutY,m.cutWidth,m.cutHeight,0,0,P,M),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(T,this.fillPattern):this.fillPattern=x.createPattern(T,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var m=this.canvas;if((m.width!==this.width||m.height!==this.height)&&(m.width=this.width,m.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var x=this.context;this.scene.sys.game.config.antialias||a.disable(x);var T=this._tileScale.x,P=this._tileScale.y,M=this._tilePosition.x,E=this._tilePosition.y;x.clearRect(0,0,this.width,this.height),x.save(),x.scale(T,P),x.translate(-M,-E),x.fillStyle=this.fillPattern,x.fillRect(M,E,this.width/T,this.height/P),x.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),o.remove(this.canvas),o.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var m=this.texture;m&&m.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(m){this._tilePosition.x=m,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(m){this._tilePosition.y=m,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(m){this._tileScale.x=m,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(m){this._tileScale.y=m,this.dirty=!0}}});n.exports=p},46992:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){o.updateCanvas(),y.addToRenderList(o),s.batchSprite(o,o.frame,y,f)};n.exports=C},14167:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),y=s(44603),f=s(23568),u=s(20839);y.register("tileSprite",function(l,a){l===void 0&&(l={});var d=f(l,"x",0),v=f(l,"y",0),h=f(l,"width",512),c=f(l,"height",512),p=f(l,"key",""),m=f(l,"frame",""),x=new u(this.scene,d,v,h,c,p,m);return a!==void 0&&(l.add=a),o(this.scene,x,l),x})},91681:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20839),y=s(39429);y.register("tileSprite",function(f,u,l,a,d,v){return this.displayList.add(new o(this.scene,f,u,l,a,d,v))})},56295:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(18553),f=s(46992),n.exports={renderWebGL:y,renderCanvas:f}},18553:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70554),y=function(f,u,l,a){u.updateCanvas();var d=u.width,v=u.height;if(!(d===0||v===0)){l.addToRenderList(u);var h=o.getTintAppendFloatAlpha,c=f.pipelines.set(u.pipeline,u),p=c.setTexture2D(u.fillPattern,u);c.batchTexture(u,u.fillPattern,u.displayFrame.width*u.tileScaleX,u.displayFrame.height*u.tileScaleY,u.x,u.y,d,v,u.scaleX,u.scaleY,u.rotation,u.flipX,u.flipY,u.scrollFactorX,u.scrollFactorY,u.originX*d,u.originY*v,0,0,d,v,h(u.tintTopLeft,l.alpha*u._alphaTL),h(u.tintTopRight,l.alpha*u._alphaTR),h(u.tintBottomLeft,l.alpha*u._alphaBL),h(u.tintBottomRight,l.alpha*u._alphaBR),u.tintFill,u.tilePositionX%u.displayFrame.width/u.displayFrame.width,u.tilePositionY%u.displayFrame.height/u.displayFrame.height,l,a,!1,p)}};n.exports=y},18471:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),y=s(83419),f=s(31401),u=s(51708),l=s(8443),a=s(95643),d=s(36383),v=s(14463),h=s(45650),c=s(10247),p=new y({Extends:a,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.TextureCrop,f.Tint,f.Transform,f.Visible,c],initialize:function(x,T,P,M){a.call(this,x,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=h(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var E=x.sys.game;this._device=E.device.video,this.setPosition(T,P),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),E.events.on(l.PAUSE,this.globalPause,this),E.events.on(l.RESUME,this.globalResume,this);var w=x.sys.sound;w&&w.on(v.GLOBAL_MUTE,this.globalMute,this),M&&this.load(M)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(m){var x=this.scene.sys.cache.video.get(m);return x?(this.cacheKey=m,this.loadHandler(x.url,x.noAudio,x.crossOrigin)):console.warn("No video in cache for key: "+m),this},changeSource:function(m,x,T,P,M){x===void 0&&(x=!0),T===void 0&&(T=!1),this.cacheKey!==m&&(this.load(m),x&&this.play(T,P,M))},getVideoKey:function(){return this.cacheKey},loadURL:function(m,x,T){x===void 0&&(x=!1);var P=this._device.getVideoURL(m);return P?(this.cacheKey="",this.loadHandler(P.url,x,T)):console.warn("No supported video format found for "+m),this},loadMediaStream:function(m,x,T){return this.loadHandler(null,x,T,m)},loadHandler:function(m,x,T,P){x||(x=!1);var M=this.video;if(M?(this.removeLoadEventHandlers(),this.stop()):(M=document.createElement("video"),M.controls=!1,M.setAttribute("playsinline","playsinline"),M.setAttribute("preload","auto"),M.setAttribute("disablePictureInPicture","true")),x?(M.muted=!0,M.defaultMuted=!0,M.setAttribute("autoplay","autoplay")):(M.muted=!1,M.defaultMuted=!1,M.removeAttribute("autoplay")),T?M.setAttribute("crossorigin",T):M.removeAttribute("crossorigin"),P)if("srcObject"in M)try{M.srcObject=P}catch(w){if(w.name!=="TypeError")throw w;M.src=URL.createObjectURL(P)}else M.src=URL.createObjectURL(P);else M.src=m;this.retry=0,this.video=M,this._playCalled=!1,M.load(),this.addLoadEventHandlers();var E=this.scene.sys.textures.get(this._key);return this.setTexture(E),this},requestVideoFrame:function(m,x){var T=this.video;if(T){var P=x.width,M=x.height,E=this.videoTexture,w=this.videoTextureSource,R=!E||w.source!==T;R?(this._codePaused=T.paused,this._codeMuted=T.muted,E?(w.source=T,w.width=P,w.height=M,E.get().setSize(P,M)):(E=this.scene.sys.textures.create(this._key,T,P,M),E.add("__BASE",0,0,0,P,M),this.setTexture(E),this.videoTexture=E,this.videoTextureSource=E.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(u.VIDEO_TEXTURE,this,E)),this.setSizeToFrame(),this.updateDisplayOrigin()):w.update(),this.isStalled=!1,this.metadata=x;var A=x.mediaTime;R&&(this._lastUpdate=A,this.emit(u.VIDEO_CREATED,this,P,M),this.frameReady||(this.frameReady=!0,this.emit(u.VIDEO_PLAY,this))),this._playingMarker?A>=this._markerOut&&(T.loop?(T.currentTime=this._markerIn,this.emit(u.VIDEO_LOOP,this)):(this.stop(!1),this.emit(u.VIDEO_COMPLETE,this))):A<this._lastUpdate&&this.emit(u.VIDEO_LOOP,this),this._lastUpdate=A,this._getFrame?(this.removeEventHandlers(),T.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(m,x,T){x===void 0&&(x=-1),T===void 0&&(T=d.MAX_SAFE_INTEGER);var P=this.video;return!P||this.isPlaying()?(P||console.warn("Video not loaded"),this):(m===void 0&&(m=P.loop),P.loop=m,this._markerIn=x,this._markerOut=T,this._playingMarker=x>-1&&T>x&&T<d.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=P.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var m=this.video;return!m||this.isPlaying()?(m||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=m.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var m=this.video;m&&(m.addEventListener("error",this._loadCallbackHandler),m.addEventListener("abort",this._loadCallbackHandler),m.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var m=this.video;m&&(m.removeEventListener("error",this._loadCallbackHandler),m.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var m=this.video;if(m){var x=this._callbacks;for(var T in x)m.addEventListener(T,x[T])}},removeEventHandlers:function(){var m=this.video;if(m){var x=this._callbacks;for(var T in x)m.removeEventListener(T,x[T])}},createPlayPromise:function(m){m===void 0&&(m=!0);var x=this.video,T=x.play();if(T!==void 0){var P=this.playSuccess.bind(this),M=this.playError.bind(this);if(!m){var E=this;M=function(){E.failedPlayAttempts++}}T.then(P).catch(M)}else x.addEventListener("playing",this._callbacks.legacy),m||this.failedPlayAttempts++},addMarker:function(m,x,T){return!isNaN(x)&&x>=0&&!isNaN(T)&&T>x&&(this.markers[m]=[x,T]),this},playMarker:function(m,x){var T=this.markers[m];return T&&this.play(x,T[0],T[1]),this},removeMarker:function(m){return delete this.markers[m],this},snapshot:function(m,x){return m===void 0&&(m=this.width),x===void 0&&(x=this.height),this.snapshotArea(0,0,this.width,this.height,m,x)},snapshotArea:function(m,x,T,P,M,E){m===void 0&&(m=0),x===void 0&&(x=0),T===void 0&&(T=this.width),P===void 0&&(P=this.height),M===void 0&&(M=T),E===void 0&&(E=P);var w=this.video,R=this.snapshotTexture;return R?(R.setSize(M,E),w&&R.context.drawImage(w,m,x,T,P,0,0,M,E)):(R=this.scene.sys.textures.createCanvas(h(),M,E),this.snapshotTexture=R,w&&R.context.drawImage(w,m,x,T,P,0,0,M,E)),R.update()},saveSnapshotTexture:function(m){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,m):this.snapshotTexture=this.scene.sys.textures.createCanvas(m,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(u.VIDEO_UNLOCKED,this));var m=this.scene.sys.sound;m&&m.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(m){var x=m.name;x==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(u.VIDEO_LOCKED,this)):x==="NotSupportedError"?(this.stop(!1),this.emit(u.VIDEO_UNSUPPORTED,this,m)):(this.stop(!1),this.emit(u.VIDEO_ERROR,this,m))},legacyPlayHandler:function(){var m=this.video;m&&(this.playSuccess(),m.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(u.VIDEO_PLAYING,this)},loadErrorHandler:function(m){this.stop(!1),this.emit(u.VIDEO_ERROR,this,m)},metadataHandler:function(m){this.emit(u.VIDEO_METADATA,this,m)},setSizeToFrame:function(m){m||(m=this.frame),this.width=m.realWidth,this.height=m.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var x=this.input;return x&&!x.customHitArea&&(x.hitArea.width=this.width,x.hitArea.height=this.height),this},stalledHandler:function(m){this.isStalled=!0,this.emit(u.VIDEO_STALLED,this,m)},completeHandler:function(){this._playCalled=!1,this.emit(u.VIDEO_COMPLETE,this)},preUpdate:function(m,x){var T=this.video;!T||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=x,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(m){var x=this.video;if(x){var T=x.duration;if(T!==1/0&&!isNaN(T)){var P=T*m;this.setCurrentTime(P)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(m){var x=this.video;if(x){if(typeof m=="string"){var T=m[0],P=parseFloat(m.substr(1));T==="+"?m=x.currentTime+P:T==="-"&&(m=x.currentTime-P)}x.currentTime=m}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(u.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(u.VIDEO_SEEKED,this)},getProgress:function(){var m=this.video;if(m){var x=m.duration;if(x!==1/0&&!isNaN(x))return m.currentTime/x}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(m){m===void 0&&(m=!0),this._codeMuted=m;var x=this.video;return x&&(x.muted=this._systemMuted?!0:m),this},isMuted:function(){return this._codeMuted},globalMute:function(m,x){this._systemMuted=x;var T=this.video;T&&(T.muted=this._codeMuted?!0:x)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(m){m===void 0&&(m=!0);var x=this.video;return this._codePaused=m,x&&!x.ended&&(m?x.paused||(this.removeEventHandlers(),x.pause()):m||(this._playCalled?x.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(m){return m===void 0&&(m=1),this.video&&(this.video.volume=o(m,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(m){return this.video&&(this.video.playbackRate=m),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(m){return m===void 0&&(m=!0),this.video&&(this.video.loop=m),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(m,x){return x===void 0&&(x=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,m),this.videoTextureSource.setFlipY(x)),this._key=m,this.flipY=x,!!this.videoTexture},stop:function(m){m===void 0&&(m=!0);var x=this.video;return x&&(this.removeEventHandlers(),x.cancelVideoFrameCallback(this._rfvCallbackId),x.pause()),this.retry=0,this._playCalled=!1,m&&this.emit(u.VIDEO_STOP,this),this},removeVideoElement:function(){var m=this.video;if(m){for(m.parentNode&&m.parentNode.removeChild(m);m.hasChildNodes();)m.removeChild(m.firstChild);m.removeAttribute("autoplay"),m.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var m=this.scene.sys.game.events;m.off(l.PAUSE,this.globalPause,this),m.off(l.RESUME,this.globalResume,this);var x=this.scene.sys.sound;x&&x.off(v.GLOBAL_MUTE,this.globalMute,this)}});n.exports=p},58352:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){o.videoTexture&&(y.addToRenderList(o),s.batchSprite(o,o.frame,y,f))};n.exports=C},11511:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),y=s(44603),f=s(23568),u=s(18471);y.register("video",function(l,a){l===void 0&&(l={});var d=f(l,"key",null),v=new u(this.scene,0,0,d);return a!==void 0&&(l.add=a),o(this.scene,v,l),v})},89025:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(18471),y=s(39429);y.register("video",function(f,u,l){return this.displayList.add(new o(this.scene,f,u,l))})},10247:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(29849),f=s(58352),n.exports={renderWebGL:y,renderCanvas:f}},29849:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){o.videoTexture&&(y.addToRenderList(o),o.pipeline.batchSprite(o,y,f))};n.exports=C},41481:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10312),y=s(96503),f=s(87902),u=s(83419),l=s(31401),a=s(95643),d=s(87841),v=s(37303),h=new u({Extends:a,Mixins:[l.Depth,l.GetBounds,l.Origin,l.Transform,l.ScrollFactor,l.Visible],initialize:function(p,m,x,T,P){T===void 0&&(T=1),P===void 0&&(P=T),a.call(this,p,"Zone"),this.setPosition(m,x),this.width=T,this.height=P,this.blendMode=o.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(c){this.scaleX=c/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(c){this.scaleY=c/this.height}},setSize:function(c,p,m){m===void 0&&(m=!0),this.width=c,this.height=p,this.updateDisplayOrigin();var x=this.input;return m&&x&&!x.customHitArea&&(x.hitArea.width=c,x.hitArea.height=p),this},setDisplaySize:function(c,p){return this.displayWidth=c,this.displayHeight=p,this},setCircleDropZone:function(c){return this.setDropZone(new y(0,0,c),f)},setRectangleDropZone:function(c,p){return this.setDropZone(new d(0,0,c,p),v)},setDropZone:function(c,p){return this.input||this.setInteractive(c,p,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(c,p,m){m.addToRenderList(p)},renderWebGL:function(c,p,m){m.addToRenderList(p)}});n.exports=h},95261:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(44603),y=s(23568),f=s(41481);o.register("zone",function(u){var l=y(u,"x",0),a=y(u,"y",0),d=y(u,"width",1),v=y(u,"height",d);return new f(this.scene,l,a,d,v)})},84175:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(41481),y=s(39429);y.register("zone",function(f,u,l,a){return this.displayList.add(new o(this.scene,f,u,l,a))})},95166:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s.radius>0?Math.PI*s.radius*s.radius:0};n.exports=C},96503:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(87902),f=s(26241),u=s(79124),l=s(23777),a=s(28176),d=new o({initialize:function(h,c,p){h===void 0&&(h=0),c===void 0&&(c=0),p===void 0&&(p=0),this.type=l.CIRCLE,this.x=h,this.y=c,this._radius=p,this._diameter=p*2},contains:function(v,h){return y(this,v,h)},getPoint:function(v,h){return f(this,v,h)},getPoints:function(v,h,c){return u(this,v,h,c)},getRandomPoint:function(v){return a(this,v)},setTo:function(v,h,c){return this.x=v,this.y=h,this._radius=c,this._diameter=c*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(v,h){return h===void 0&&(h=v),this.x=v,this.y=h,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(v){this._radius=v,this._diameter=v*2}},diameter:{get:function(){return this._diameter},set:function(v){this._diameter=v,this._radius=v*.5}},left:{get:function(){return this.x-this._radius},set:function(v){this.x=v+this._radius}},right:{get:function(){return this.x+this._radius},set:function(v){this.x=v-this._radius}},top:{get:function(){return this.y-this._radius},set:function(v){this.y=v+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(v){this.y=v-this._radius}}});n.exports=d},71562:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return 2*(Math.PI*s.radius)};n.exports=C},92110:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),y=function(f,u,l){return l===void 0&&(l=new o),l.x=f.x+f.radius*Math.cos(u),l.y=f.y+f.radius*Math.sin(u),l};n.exports=y},42250:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(96503),y=function(f){return new o(f.x,f.y,f.radius)};n.exports=y},87902:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){if(s.radius>0&&o>=s.left&&o<=s.right&&y>=s.top&&y<=s.bottom){var f=(s.x-o)*(s.x-o),u=(s.y-y)*(s.y-y);return f+u<=s.radius*s.radius}else return!1};n.exports=C},5698:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87902),y=function(f,u){return o(f,u.x,u.y)};n.exports=y},70588:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87902),y=function(f,u){return o(f,u.x,u.y)&&o(f,u.right,u.y)&&o(f,u.x,u.bottom)&&o(f,u.right,u.bottom)};n.exports=y},26394:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return o.setTo(s.x,s.y,s.radius)};n.exports=C},76278:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return s.x===o.x&&s.y===o.y&&s.radius===o.radius};n.exports=C},2074:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),y=function(f,u){return u===void 0&&(u=new o),u.x=f.left,u.y=f.top,u.width=f.diameter,u.height=f.diameter,u};n.exports=y},26241:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(92110),y=s(62945),f=s(36383),u=s(2141),l=function(a,d,v){v===void 0&&(v=new u);var h=y(d,0,f.PI2);return o(a,h,v)};n.exports=l},79124:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(71562),y=s(92110),f=s(62945),u=s(36383),l=function(a,d,v,h){h===void 0&&(h=[]),!d&&v>0&&(d=o(a)/v);for(var c=0;c<d;c++){var p=f(c/d,0,u.PI2);h.push(y(a,p))}return h};n.exports=l},50884:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){return s.x+=o,s.y+=y,s};n.exports=C},39212:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return s.x+=o.x,s.y+=o.y,s};n.exports=C},28176:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),y=function(f,u){u===void 0&&(u=new o);var l=2*Math.PI*Math.random(),a=Math.random()+Math.random(),d=a>1?2-a:a,v=d*Math.cos(l),h=d*Math.sin(l);return u.x=f.x+v*f.radius,u.y=f.y+h*f.radius,u};n.exports=y},88911:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(96503);o.Area=s(95166),o.Circumference=s(71562),o.CircumferencePoint=s(92110),o.Clone=s(42250),o.Contains=s(87902),o.ContainsPoint=s(5698),o.ContainsRect=s(70588),o.CopyFrom=s(26394),o.Equals=s(76278),o.GetBounds=s(2074),o.GetPoint=s(26241),o.GetPoints=s(79124),o.Offset=s(50884),o.OffsetPoint=s(39212),o.Random=s(28176),n.exports=o},23777:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};n.exports=C},78874:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s.isEmpty()?0:s.getMajorRadius()*s.getMinorRadius()*Math.PI};n.exports=C},92990:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){var o=s.width/2,y=s.height/2,f=Math.pow(o-y,2)/Math.pow(o+y,2);return Math.PI*(o+y)*(1+3*f/(10+Math.sqrt(4-3*f)))};n.exports=C},79522:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),y=function(f,u,l){l===void 0&&(l=new o);var a=f.width/2,d=f.height/2;return l.x=f.x+a*Math.cos(u),l.y=f.y+d*Math.sin(u),l};n.exports=y},58102:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(8497),y=function(f){return new o(f.x,f.y,f.width,f.height)};n.exports=y},81154:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){if(s.width<=0||s.height<=0)return!1;var f=(o-s.x)/s.width,u=(y-s.y)/s.height;return f*=f,u*=u,f+u<.25};n.exports=C},46662:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(81154),y=function(f,u){return o(f,u.x,u.y)};n.exports=y},1632:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(81154),y=function(f,u){return o(f,u.x,u.y)&&o(f,u.right,u.y)&&o(f,u.x,u.bottom)&&o(f,u.right,u.bottom)};n.exports=y},65534:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return o.setTo(s.x,s.y,s.width,s.height)};n.exports=C},8497:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(81154),f=s(90549),u=s(48320),l=s(23777),a=s(24820),d=new o({initialize:function(h,c,p,m){h===void 0&&(h=0),c===void 0&&(c=0),p===void 0&&(p=0),m===void 0&&(m=0),this.type=l.ELLIPSE,this.x=h,this.y=c,this.width=p,this.height=m},contains:function(v,h){return y(this,v,h)},getPoint:function(v,h){return f(this,v,h)},getPoints:function(v,h,c){return u(this,v,h,c)},getRandomPoint:function(v){return a(this,v)},setTo:function(v,h,c,p){return this.x=v,this.y=h,this.width=c,this.height=p,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(v,h){return h===void 0&&(h=v),this.x=v,this.y=h,this},setSize:function(v,h){return h===void 0&&(h=v),this.width=v,this.height=h,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(v){this.x=v+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(v){this.x=v-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(v){this.y=v+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(v){this.y=v-this.height/2}}});n.exports=d},36146:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return s.x===o.x&&s.y===o.y&&s.width===o.width&&s.height===o.height};n.exports=C},23694:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),y=function(f,u){return u===void 0&&(u=new o),u.x=f.left,u.y=f.top,u.width=f.width,u.height=f.height,u};n.exports=y},90549:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(79522),y=s(62945),f=s(36383),u=s(2141),l=function(a,d,v){v===void 0&&(v=new u);var h=y(d,0,f.PI2);return o(a,h,v)};n.exports=l},48320:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(92990),y=s(79522),f=s(62945),u=s(36383),l=function(a,d,v,h){h===void 0&&(h=[]),!d&&v>0&&(d=o(a)/v);for(var c=0;c<d;c++){var p=f(c/d,0,u.PI2);h.push(y(a,p))}return h};n.exports=l},73424:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){return s.x+=o,s.y+=y,s};n.exports=C},44808:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return s.x+=o.x,s.y+=o.y,s};n.exports=C},24820:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),y=function(f,u){u===void 0&&(u=new o);var l=Math.random()*Math.PI*2,a=Math.sqrt(Math.random());return u.x=f.x+a*Math.cos(l)*f.width/2,u.y=f.y+a*Math.sin(l)*f.height/2,u};n.exports=y},49203:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(8497);o.Area=s(78874),o.Circumference=s(92990),o.CircumferencePoint=s(79522),o.Clone=s(58102),o.Contains=s(81154),o.ContainsPoint=s(46662),o.ContainsRect=s(1632),o.CopyFrom=s(65534),o.Equals=s(36146),o.GetBounds=s(23694),o.GetPoint=s(90549),o.GetPoints=s(48320),o.Offset=s(73424),o.OffsetPoint=s(44808),o.Random=s(24820),n.exports=o},55738:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(23777),y=s(79291),f={Circle:s(88911),Ellipse:s(49203),Intersects:s(91865),Line:s(2529),Mesh:s(73090),Point:s(43711),Polygon:s(58423),Rectangle:s(93232),Triangle:s(84435)};f=y(!1,f,o),n.exports=f},2044:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20339),y=function(f,u){return o(f.x,f.y,u.x,u.y)<=f.radius+u.radius};n.exports=y},81491:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){var y=o.width/2,f=o.height/2,u=Math.abs(s.x-o.x-y),l=Math.abs(s.y-o.y-f),a=y+s.radius,d=f+s.radius;if(u>a||l>d)return!1;if(u<=y||l<=f)return!0;var v=u-y,h=l-f,c=v*v,p=h*h,m=s.radius*s.radius;return c+p<=m};n.exports=C},63376:(n,C,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),y=s(2044),f=function(u,l,a){if(a===void 0&&(a=[]),y(u,l)){var d=u.x,v=u.y,h=u.radius,c=l.x,p=l.y,m=l.radius,x,T,P,M,E;if(v===p)E=(m*m-h*h-c*c+d*d)/(2*(d-c)),x=1,T=-2*p,P=c*c+E*E-2*c*E+p*p-m*m,M=T*T-4*x*P,M===0?a.push(new o(E,-T/(2*x))):M>0&&(a.push(new o(E,(-T+Math.sqrt(M))/(2*x))),a.push(new o(E,(-T-Math.sqrt(M))/(2*x))));else{var w=(d-c)/(v-p),R=(m*m-h*h-c*c+d*d-p*p+v*v)/(2*(v-p));x=w*w+1,T=2*v*w-2*R*w-2*d,P=d*d+v*v+R*R-h*h-2*v*R,M=T*T-4*x*P,M===0?(E=-T/(2*x),a.push(new o(E,R-E*w))):M>0&&(E=(-T+Math.sqrt(M))/(2*x),a.push(new o(E,R-E*w)),E=(-T-Math.sqrt(M))/(2*x),a.push(new o(E,R-E*w)))}}return a};n.exports=f},97439:(n,C,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(4042),y=s(81491),f=function(u,l,a){if(a===void 0&&(a=[]),y(u,l)){var d=l.getLineA(),v=l.getLineB(),h=l.getLineC(),c=l.getLineD();o(d,u,a),o(v,u,a),o(h,u,a),o(c,u,a)}return a};n.exports=f},4042:(n,C,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),y=s(80462),f=function(u,l,a){if(a===void 0&&(a=[]),y(u,l)){var d=u.x1,v=u.y1,h=u.x2,c=u.y2,p=l.x,m=l.y,x=l.radius,T=h-d,P=c-v,M=d-p,E=v-m,w=T*T+P*P,R=2*(T*M+P*E),A=M*M+E*E-x*x,L=R*R-4*w*A,b,O;if(L===0){var F=-R/(2*w);b=d+F*T,O=v+F*P,F>=0&&F<=1&&a.push(new o(b,O))}else if(L>0){var D=(-R-Math.sqrt(L))/(2*w);b=d+D*T,O=v+D*P,D>=0&&D<=1&&a.push(new o(b,O));var B=(-R+Math.sqrt(L))/(2*w);b=d+B*T,O=v+B*P,B>=0&&B<=1&&a.push(new o(b,O))}}return a};n.exports=f},36100:(n,C,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25836),y=function(f,u,l,a){l===void 0&&(l=!1);var d=f.x1,v=f.y1,h=f.x2,c=f.y2,p=u.x1,m=u.y1,x=u.x2,T=u.y2,P=h-d,M=c-v,E=x-p,w=T-m,R=P*w-M*E;if(R===0)return null;var A,L,b;if(l){if(A=(P*(m-v)+M*(d-p))/(E*M-w*P),P!==0)L=(p+E*A-d)/P;else if(M!==0)L=(m+w*A-v)/M;else return null;if(L<0||A<0||A>1)return null;b=L}else{if(A=((p-d)*w-(m-v)*E)/R,L=((v-m)*P-(d-p)*M)/R,A<0||A>1||L<0||L>1)return null;b=A}return a===void 0&&(a=new o),a.set(d+P*b,v+M*b,b)};n.exports=y},3073:(n,C,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36100),y=s(23031),f=s(25836),u=new y,l=new f,a=function(d,v,h,c){h===void 0&&(h=!1),c===void 0&&(c=new f);var p=!1;c.set(),l.set();for(var m=v[v.length-1],x=0;x<v.length;x++){var T=v[x];u.setTo(m.x,m.y,T.x,T.y),m=T,o(d,u,h,l)&&(!p||l.z<c.z)&&(c.copy(l),p=!0)}return p?c:null};n.exports=a},56362:(n,C,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25836),y=s(61369),f=s(3073),u=new o,l=function(a,d,v,h){h===void 0&&(h=new y),Array.isArray(d)||(d=[d]);var c=!1;h.set(),u.set();for(var p=0;p<d.length;p++)f(a,d[p].points,v,u)&&(!c||u.z<h.z)&&(h.set(u.x,u.y,u.z,p),c=!0);return c?h:null};n.exports=l},60646:(n,C,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),y=s(76112),f=s(92773),u=function(l,a,d){if(d===void 0&&(d=[]),f(l,a))for(var v=a.getLineA(),h=a.getLineB(),c=a.getLineC(),p=a.getLineD(),m=[new o,new o,new o,new o],x=[y(v,l,m[0]),y(h,l,m[1]),y(c,l,m[2]),y(p,l,m[3])],T=0;T<4;T++)x[T]&&d.push(m[T]);return d};n.exports=u},71147:(n,C,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(61369),y=s(56362),f=s(23031),u=new f;function l(v,h,c,p,m){var x=Math.cos(v),T=Math.sin(v);u.setTo(h,c,h+x,c+T);var P=y(u,p,!0);P&&m.push(new o(P.x,P.y,v,P.w))}function a(v,h){return v.z-h.z}var d=function(v,h,c){Array.isArray(c)||(c=[c]);for(var p=[],m=[],x=0;x<c.length;x++)for(var T=c[x].points,P=0;P<T.length;P++){var M=Math.atan2(T[P].y-h,T[P].x-v);m.indexOf(M)===-1&&(l(M,v,h,c,p),l(M-1e-5,v,h,c,p),l(M+1e-5,v,h,c,p),m.push(M))}return p.sort(a)};n.exports=d},68389:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),y=s(59996),f=function(u,l,a){return a===void 0&&(a=new o),y(u,l)&&(a.x=Math.max(u.x,l.x),a.y=Math.max(u.y,l.y),a.width=Math.min(u.right,l.right)-a.x,a.height=Math.min(u.bottom,l.bottom)-a.y),a};n.exports=f},52784:(n,C,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(60646),y=s(59996),f=function(u,l,a){if(a===void 0&&(a=[]),y(u,l)){var d=u.getLineA(),v=u.getLineB(),h=u.getLineC(),c=u.getLineD();o(d,l,a),o(v,l,a),o(h,l,a),o(c,l,a)}return a};n.exports=f},26341:(n,C,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(89265),y=s(60646),f=function(u,l,a){if(a===void 0&&(a=[]),o(u,l)){var d=l.getLineA(),v=l.getLineB(),h=l.getLineC();y(d,u,a),y(v,u,a),y(h,u,a)}return a};n.exports=f},38720:(n,C,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(4042),y=s(67636),f=function(u,l,a){if(a===void 0&&(a=[]),y(u,l)){var d=u.getLineA(),v=u.getLineB(),h=u.getLineC();o(d,l,a),o(v,l,a),o(h,l,a)}return a};n.exports=f},13882:(n,C,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),y=s(2822),f=s(76112),u=function(l,a,d){if(d===void 0&&(d=[]),y(l,a))for(var v=l.getLineA(),h=l.getLineB(),c=l.getLineC(),p=[new o,new o,new o],m=[f(v,a,p[0]),f(h,a,p[1]),f(c,a,p[2])],x=0;x<3;x++)m[x]&&d.push(p[x]);return d};n.exports=u},75636:(n,C,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(82944),y=s(13882),f=function(u,l,a){if(a===void 0&&(a=[]),o(u,l)){var d=l.getLineA(),v=l.getLineB(),h=l.getLineC();y(u,d,a),y(u,v,a),y(u,h,a)}return a};n.exports=f},80462:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87902),y=s(2141),f=new y,u=function(l,a,d){if(d===void 0&&(d=f),o(a,l.x1,l.y1))return d.x=l.x1,d.y=l.y1,!0;if(o(a,l.x2,l.y2))return d.x=l.x2,d.y=l.y2,!0;var v=l.x2-l.x1,h=l.y2-l.y1,c=a.x-l.x1,p=a.y-l.y1,m=v*v+h*h,x=v,T=h;if(m>0){var P=(c*v+p*h)/m;x*=P,T*=P}d.x=l.x1+x,d.y=l.y1+T;var M=x*x+T*T;return M<=m&&x*v+T*h>=0&&o(a,d.x,d.y)};n.exports=u},76112:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){var f=s.x1,u=s.y1,l=s.x2,a=s.y2,d=o.x1,v=o.y1,h=o.x2,c=o.y2;if(f===l&&u===a||d===h&&v===c)return!1;var p=(c-v)*(l-f)-(h-d)*(a-u);if(p===0)return!1;var m=((h-d)*(u-v)-(c-v)*(f-d))/p,x=((l-f)*(u-v)-(a-u)*(f-d))/p;return m<0||m>1||x<0||x>1?!1:(y&&(y.x=f+m*(l-f),y.y=u+m*(a-u)),!0)};n.exports=C},92773:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){var y=s.x1,f=s.y1,u=s.x2,l=s.y2,a=o.x,d=o.y,v=o.right,h=o.bottom,c=0;if(y>=a&&y<=v&&f>=d&&f<=h||u>=a&&u<=v&&l>=d&&l<=h)return!0;if(y<a&&u>=a){if(c=f+(l-f)*(a-y)/(u-y),c>d&&c<=h)return!0}else if(y>v&&u<=v&&(c=f+(l-f)*(v-y)/(u-y),c>=d&&c<=h))return!0;if(f<d&&l>=d){if(c=y+(u-y)*(d-f)/(l-f),c>=a&&c<=v)return!0}else if(f>h&&l<=h&&(c=y+(u-y)*(h-f)/(l-f),c>=a&&c<=v))return!0;return!1};n.exports=C},16204:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){y===void 0&&(y=1);var f=o.x1,u=o.y1,l=o.x2,a=o.y2,d=s.x,v=s.y,h=(l-f)*(l-f)+(a-u)*(a-u);if(h===0)return!1;var c=((d-f)*(l-f)+(v-u)*(a-u))/h;if(c<0)return Math.sqrt((f-d)*(f-d)+(u-v)*(u-v))<=y;if(c>=0&&c<=1){var p=((u-v)*(l-f)-(f-d)*(a-u))/h;return Math.abs(p)*Math.sqrt(h)<=y}else return Math.sqrt((l-d)*(l-d)+(a-v)*(a-v))<=y};n.exports=C},14199:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(16204),y=function(f,u){if(!o(f,u))return!1;var l=Math.min(u.x1,u.x2),a=Math.max(u.x1,u.x2),d=Math.min(u.y1,u.y2),v=Math.max(u.y1,u.y2);return f.x>=l&&f.x<=a&&f.y>=d&&f.y<=v};n.exports=y},59996:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return s.width<=0||s.height<=0||o.width<=0||o.height<=0?!1:!(s.right<o.x||s.bottom<o.y||s.x>o.right||s.y>o.bottom)};n.exports=C},89265:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(76112),y=s(37303),f=s(48653),u=s(77493),l=function(a,d){if(d.left>a.right||d.right<a.left||d.top>a.bottom||d.bottom<a.top)return!1;var v=d.getLineA(),h=d.getLineB(),c=d.getLineC();if(y(a,v.x1,v.y1)||y(a,v.x2,v.y2)||y(a,h.x1,h.y1)||y(a,h.x2,h.y2)||y(a,c.x1,c.y1)||y(a,c.x2,c.y2))return!0;var p=a.getLineA(),m=a.getLineB(),x=a.getLineC(),T=a.getLineD();if(o(v,p)||o(v,m)||o(v,x)||o(v,T)||o(h,p)||o(h,m)||o(h,x)||o(h,T)||o(c,p)||o(c,m)||o(c,x)||o(c,T))return!0;var P=u(a),M=f(d,P,!0);return M.length>0};n.exports=l},84411:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f,u,l){return l===void 0&&(l=0),!(o>s.right+l||y<s.left-l||f>s.bottom+l||u<s.top-l)};n.exports=C},67636:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(80462),y=s(10690),f=function(u,l){return u.left>l.right||u.right<l.left||u.top>l.bottom||u.bottom<l.top?!1:!!(y(u,l.x,l.y)||o(u.getLineA(),l)||o(u.getLineB(),l)||o(u.getLineC(),l))};n.exports=f},2822:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(76112),y=function(f,u){return!!(f.contains(u.x1,u.y1)||f.contains(u.x2,u.y2)||o(f.getLineA(),u)||o(f.getLineB(),u)||o(f.getLineC(),u))};n.exports=y},82944:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(48653),y=s(71694),f=s(76112),u=function(l,a){if(l.left>a.right||l.right<a.left||l.top>a.bottom||l.bottom<a.top)return!1;var d=l.getLineA(),v=l.getLineB(),h=l.getLineC(),c=a.getLineA(),p=a.getLineB(),m=a.getLineC();if(f(d,c)||f(d,p)||f(d,m)||f(v,c)||f(v,p)||f(v,m)||f(h,c)||f(h,p)||f(h,m))return!0;var x=y(l),T=o(a,x,!0);return T.length>0||(x=y(a),T=o(l,x,!0),T.length>0)};n.exports=u},91865:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CircleToCircle:s(2044),CircleToRectangle:s(81491),GetCircleToCircle:s(63376),GetCircleToRectangle:s(97439),GetLineToCircle:s(4042),GetLineToLine:s(36100),GetLineToPoints:s(3073),GetLineToPolygon:s(56362),GetLineToRectangle:s(60646),GetRaysFromPointToPolygon:s(71147),GetRectangleIntersection:s(68389),GetRectangleToRectangle:s(52784),GetRectangleToTriangle:s(26341),GetTriangleToCircle:s(38720),GetTriangleToLine:s(13882),GetTriangleToTriangle:s(75636),LineToCircle:s(80462),LineToLine:s(76112),LineToRectangle:s(92773),PointToLine:s(16204),PointToLineSegment:s(14199),RectangleToRectangle:s(59996),RectangleToTriangle:s(89265),RectangleToValues:s(84411),TriangleToCircle:s(67636),TriangleToLine:s(2822),TriangleToTriangle:s(82944)}},91938:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return Math.atan2(s.y2-s.y1,s.x2-s.x1)};n.exports=C},84993:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){o===void 0&&(o=1),y===void 0&&(y=[]);var f=Math.round(s.x1),u=Math.round(s.y1),l=Math.round(s.x2),a=Math.round(s.y2),d=Math.abs(l-f),v=Math.abs(a-u),h=f<l?1:-1,c=u<a?1:-1,p=d-v;y.push({x:f,y:u});for(var m=1;!(f===l&&u===a);){var x=p<<1;x>-v&&(p-=v,f+=h),x<d&&(p+=d,u+=c),m%o===0&&y.push({x:f,y:u}),m++}return y};n.exports=C},36469:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){var f=o-(s.x1+s.x2)/2,u=y-(s.y1+s.y2)/2;return s.x1+=f,s.y1+=u,s.x2+=f,s.y2+=u,s};n.exports=C},31116:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(23031),y=function(f){return new o(f.x1,f.y1,f.x2,f.y2)};n.exports=y},59944:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return o.setTo(s.x1,s.y1,s.x2,s.y2)};n.exports=C},59220:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return s.x1===o.x1&&s.y1===o.y1&&s.x2===o.x2&&s.y2===o.y2};n.exports=C},78177:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35001),y=function(f,u,l){l===void 0&&(l=u);var a=o(f),d=f.x2-f.x1,v=f.y2-f.y1;return u&&(f.x1=f.x1-d/a*u,f.y1=f.y1-v/a*u),l&&(f.x2=f.x2+d/a*l,f.y2=f.y2+v/a*l),f};n.exports=y},26708:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(52816),y=s(6113),f=s(2141),u=function(l,a,d,v,h){v===void 0&&(v=0),h===void 0&&(h=[]);var c=[],p=l.x1,m=l.y1,x=l.x2-p,T=l.y2-m,P=y(a,h),M,E,w=d-1;for(M=0;M<w;M++)E=P(M/w),c.push(new f(p+x*E,m+T*E));if(E=P(1),c.push(new f(p+x*E,m+T*E)),v>0){var R=c[0],A=[R];for(M=1;M<c.length-1;M++){var L=c[M];o(R,L)>=v&&(A.push(L),R=L)}var b=c[c.length-1];return o(R,b)<v&&A.pop(),A.push(b),A}else return c};n.exports=u},32125:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),y=function(f,u){return u===void 0&&(u=new o),u.x=(f.x1+f.x2)/2,u.y=(f.y1+f.y2)/2,u};n.exports=y},99569:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),y=function(f,u,l){l===void 0&&(l=new o);var a=f.x1,d=f.y1,v=f.x2,h=f.y2,c=(v-a)*(v-a)+(h-d)*(h-d);if(c===0)return l;var p=((u.x-a)*(v-a)+(u.y-d)*(h-d))/c;return l.x=a+p*(v-a),l.y=d+p*(h-d),l};n.exports=y},34638:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),y=s(91938),f=s(2141),u=function(l,a){a===void 0&&(a=new f);var d=y(l)-o.TAU;return a.x=Math.cos(d),a.y=Math.sin(d),a};n.exports=u},13151:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),y=function(f,u,l){return l===void 0&&(l=new o),l.x=f.x1+(f.x2-f.x1)*u,l.y=f.y1+(f.y2-f.y1)*u,l};n.exports=y},15258:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35001),y=s(2141),f=function(u,l,a,d){d===void 0&&(d=[]),!l&&a>0&&(l=o(u)/a);for(var v=u.x1,h=u.y1,c=u.x2,p=u.y2,m=0;m<l;m++){var x=m/l,T=v+(c-v)*x,P=h+(p-h)*x;d.push(new y(T,P))}return d};n.exports=f},26408:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){var y=s.x1,f=s.y1,u=s.x2,l=s.y2,a=(u-y)*(u-y)+(l-f)*(l-f);if(a===0)return!1;var d=((f-o.y)*(u-y)-(y-o.x)*(l-f))/a;return Math.abs(d)*Math.sqrt(a)};n.exports=C},98770:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return Math.abs(s.y1-s.y2)};n.exports=C},35001:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return Math.sqrt((s.x2-s.x1)*(s.x2-s.x1)+(s.y2-s.y1)*(s.y2-s.y1))};n.exports=C},23031:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(13151),f=s(15258),u=s(23777),l=s(65822),a=s(26099),d=new o({initialize:function(h,c,p,m){h===void 0&&(h=0),c===void 0&&(c=0),p===void 0&&(p=0),m===void 0&&(m=0),this.type=u.LINE,this.x1=h,this.y1=c,this.x2=p,this.y2=m},getPoint:function(v,h){return y(this,v,h)},getPoints:function(v,h,c){return f(this,v,h,c)},getRandomPoint:function(v){return l(this,v)},setTo:function(v,h,c,p){return v===void 0&&(v=0),h===void 0&&(h=0),c===void 0&&(c=0),p===void 0&&(p=0),this.x1=v,this.y1=h,this.x2=c,this.y2=p,this},setFromObjects:function(v,h){return this.x1=v.x,this.y1=v.y,this.x2=h.x,this.y2=h.y,this},getPointA:function(v){return v===void 0&&(v=new a),v.set(this.x1,this.y1),v},getPointB:function(v){return v===void 0&&(v=new a),v.set(this.x2,this.y2),v},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(v){this.x1<=this.x2?this.x1=v:this.x2=v}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(v){this.x1>this.x2?this.x1=v:this.x2=v}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(v){this.y1<=this.y2?this.y1=v:this.y2=v}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(v){this.y1>this.y2?this.y1=v:this.y2=v}}});n.exports=d},64795:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),y=s(15994),f=s(91938),u=function(l){var a=f(l)-o.TAU;return y(a,-Math.PI,Math.PI)};n.exports=u},52616:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),y=s(91938),f=function(u){return Math.cos(y(u)-o.TAU)};n.exports=f},87231:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),y=s(91938),f=function(u){return Math.sin(y(u)-o.TAU)};n.exports=f},89662:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){return s.x1+=o,s.y1+=y,s.x2+=o,s.y2+=y,s};n.exports=C},71165:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return-((s.x2-s.x1)/(s.y2-s.y1))};n.exports=C},65822:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),y=function(f,u){u===void 0&&(u=new o);var l=Math.random();return u.x=f.x1+l*(f.x2-f.x1),u.y=f.y1+l*(f.y2-f.y1),u};n.exports=y},69777:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91938),y=s(64795),f=function(u,l){return 2*y(l)-Math.PI-o(u)};n.exports=f},39706:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(64400),y=function(f,u){var l=(f.x1+f.x2)/2,a=(f.y1+f.y2)/2;return o(f,l,a,u)};n.exports=y},82585:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(64400),y=function(f,u,l){return o(f,u.x,u.y,l)};n.exports=y},64400:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){var u=Math.cos(f),l=Math.sin(f),a=s.x1-o,d=s.y1-y;return s.x1=a*u-d*l+o,s.y1=a*l+d*u+y,a=s.x2-o,d=s.y2-y,s.x2=a*u-d*l+o,s.y2=a*l+d*u+y,s};n.exports=C},62377:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f,u){return s.x1=o,s.y1=y,s.x2=o+Math.cos(f)*u,s.y2=y+Math.sin(f)*u,s};n.exports=C},71366:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return(s.y2-s.y1)/(s.x2-s.x1)};n.exports=C},10809:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return Math.abs(s.x1-s.x2)};n.exports=C},2529:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(23031);o.Angle=s(91938),o.BresenhamPoints=s(84993),o.CenterOn=s(36469),o.Clone=s(31116),o.CopyFrom=s(59944),o.Equals=s(59220),o.Extend=s(78177),o.GetEasedPoints=s(26708),o.GetMidPoint=s(32125),o.GetNearestPoint=s(99569),o.GetNormal=s(34638),o.GetPoint=s(13151),o.GetPoints=s(15258),o.GetShortestDistance=s(26408),o.Height=s(98770),o.Length=s(35001),o.NormalAngle=s(64795),o.NormalX=s(52616),o.NormalY=s(87231),o.Offset=s(89662),o.PerpSlope=s(71165),o.Random=s(65822),o.ReflectAngle=s(69777),o.Rotate=s(39706),o.RotateAroundPoint=s(82585),o.RotateAroundXY=s(64400),o.SetToAngle=s(62377),o.Slope=s(71366),o.Width=s(10809),n.exports=o},83997:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(87841),f=s(26099);function u(a,d,v,h){var c=a-v,p=d-h,m=c*c+p*p;return Math.sqrt(m)}var l=new o({initialize:function(d,v,h){this.vertex1=d,this.vertex2=v,this.vertex3=h,this.bounds=new y,this._inCenter=new f},getInCenter:function(a){a===void 0&&(a=!0);var d=this.vertex1,v=this.vertex2,h=this.vertex3,c,p,m,x,T,P;a?(c=d.x,p=d.y,m=v.x,x=v.y,T=h.x,P=h.y):(c=d.vx,p=d.vy,m=v.vx,x=v.vy,T=h.vx,P=h.vy);var M=u(T,P,m,x),E=u(c,p,T,P),w=u(m,x,c,p),R=M+E+w;return this._inCenter.set((c*M+m*E+T*w)/R,(p*M+x*E+P*w)/R)},contains:function(a,d,v){var h=this.vertex1,c=this.vertex2,p=this.vertex3,m=h.vx,x=h.vy,T=c.vx,P=c.vy,M=p.vx,E=p.vy;if(v){var w=v.a,R=v.b,A=v.c,L=v.d,b=v.e,O=v.f;m=h.vx*w+h.vy*A+b,x=h.vx*R+h.vy*L+O,T=c.vx*w+c.vy*A+b,P=c.vx*R+c.vy*L+O,M=p.vx*w+p.vy*A+b,E=p.vx*R+p.vy*L+O}var F=M-m,D=E-x,B=T-m,N=P-x,z=a-m,W=d-x,X=F*F+D*D,k=F*B+D*N,V=F*z+D*W,I=B*B+N*N,U=B*z+N*W,G=X*I-k*k,Y=G===0?0:1/G,H=(I*V-k*U)*Y,$=(X*U-k*V)*Y;return H>=0&&$>=0&&H+$<1},isCounterClockwise:function(a){var d=this.vertex1,v=this.vertex2,h=this.vertex3,c=(v.vx-d.vx)*(h.vy-d.vy)-(v.vy-d.vy)*(h.vx-d.vx);return a<=0?c>=0:c<0},load:function(a,d,v,h,c){return v=this.vertex1.load(a,d,v,h,c),v=this.vertex2.load(a,d,v,h,c),v=this.vertex3.load(a,d,v,h,c),v},transformCoordinatesLocal:function(a,d,v,h){return this.vertex1.transformCoordinatesLocal(a,d,v,h),this.vertex2.transformCoordinatesLocal(a,d,v,h),this.vertex3.transformCoordinatesLocal(a,d,v,h),this},updateBounds:function(){var a=this.vertex1,d=this.vertex2,v=this.vertex3,h=this.bounds;return h.x=Math.min(a.vx,d.vx,v.vx),h.y=Math.min(a.vy,d.vy,v.vy),h.width=Math.max(a.vx,d.vx,v.vx)-h.x,h.height=Math.max(a.vy,d.vy,v.vy)-h.y,this},isInView:function(a,d,v,h,c,p,m,x,T,P,M){this.update(h,c,p,m,x,T,P,M);var E=this.vertex1,w=this.vertex2,R=this.vertex3;if(E.ta<=0&&w.ta<=0&&R.ta<=0||d&&!this.isCounterClockwise(v))return!1;var A=this.bounds;A.x=Math.min(E.tx,w.tx,R.tx),A.y=Math.min(E.ty,w.ty,R.ty),A.width=Math.max(E.tx,w.tx,R.tx)-A.x,A.height=Math.max(E.ty,w.ty,R.ty)-A.y;var L=a.x+a.width,b=a.y+a.height;return A.width<=0||A.height<=0||a.width<=0||a.height<=0?!1:!(A.right<a.x||A.bottom<a.y||A.x>L||A.y>b)},scrollUV:function(a,d){return this.vertex1.scrollUV(a,d),this.vertex2.scrollUV(a,d),this.vertex3.scrollUV(a,d),this},scaleUV:function(a,d){return this.vertex1.scaleUV(a,d),this.vertex2.scaleUV(a,d),this.vertex3.scaleUV(a,d),this},setColor:function(a){return this.vertex1.color=a,this.vertex2.color=a,this.vertex3.color=a,this},update:function(a,d,v,h,c,p,m,x){return this.vertex1.update(d,v,h,c,p,m,x,a),this.vertex2.update(d,v,h,c,p,m,x,a),this.vertex3.update(d,v,h,c,p,m,x,a),this},translate:function(a,d){d===void 0&&(d=0);var v=this.vertex1,h=this.vertex2,c=this.vertex3;return v.x+=a,v.y+=d,h.x+=a,h.y+=d,c.x+=a,c.y+=d,this},x:{get:function(){return this.getInCenter().x},set:function(a){var d=this.getInCenter();this.translate(a-d.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(a){var d=this.getInCenter();this.translate(0,a-d.y)}},alpha:{get:function(){var a=this.vertex1,d=this.vertex2,v=this.vertex3;return(a.alpha+d.alpha+v.alpha)/3},set:function(a){this.vertex1.alpha=a,this.vertex2.alpha=a,this.vertex3.alpha=a}},depth:{get:function(){var a=this.vertex1,d=this.vertex2,v=this.vertex3;return(a.vz+d.vz+v.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});n.exports=l},48803:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83997),y=s(95540),f=s(37867),u=s(25836),l=s(39318),a=new u,d=new u,v=new f,h=function(c){var p=y(c,"mesh"),m=y(c,"texture",null),x=y(c,"frame"),T=y(c,"width",1),P=y(c,"height",T),M=y(c,"widthSegments",1),E=y(c,"heightSegments",M),w=y(c,"x",0),R=y(c,"y",0),A=y(c,"z",0),L=y(c,"rotateX",0),b=y(c,"rotateY",0),O=y(c,"rotateZ",0),F=y(c,"zIsUp",!0),D=y(c,"isOrtho",p?p.dirtyCache[11]:!1),B=y(c,"colors",[16777215]),N=y(c,"alphas",[1]),z=y(c,"tile",!1),W=y(c,"flipY",!1),X=y(c,"width",null),k={faces:[],verts:[]};a.set(w,R,A),d.set(L,b,O),v.fromRotationXYTranslation(d,a,F);var V;if(!m&&p)m=p.texture,x||(V=p.frame);else if(p&&typeof m=="string")m=p.scene.sys.textures.get(m);else if(!m)return k;V||(V=m.get(x)),!X&&D&&m&&p&&(T=V.width/p.height,P=V.height/p.height);var I=T/2,U=P/2,G=Math.floor(M),Y=Math.floor(E),H=G+1,$=Y+1,K=T/G,Z=P/Y,J=[],j=[],Q,_,it=0,q=1,ht=0,lt=1;V&&(it=V.u0,q=V.u1,W?(ht=V.v1,lt=V.v0):(ht=V.v0,lt=V.v1));var ut=q-it,tt=lt-ht;for(_=0;_<$;_++){var at=_*Z-U;for(Q=0;Q<H;Q++){var ot=Q*K-I;j.push(ot,-at);var pt=it+ut*(Q/G),Pt=ht+tt*(_/Y);J.push(pt,Pt)}}Array.isArray(B)||(B=[B]),Array.isArray(N)||(N=[N]);var kt=0,Ct=0;for(_=0;_<Y;_++)for(Q=0;Q<G;Q++){var Et=(Q+H*_)*2,Ht=(Q+H*(_+1))*2,ye=(Q+1+H*(_+1))*2,Gt=(Q+1+H*_)*2,$t=B[Ct],se=N[kt],We=new l(j[Et],j[Et+1],0,J[Et],J[Et+1],$t,se).transformMat4(v),Rn=new l(j[Ht],j[Ht+1],0,J[Ht],J[Ht+1],$t,se).transformMat4(v),An=new l(j[Gt],j[Gt+1],0,J[Gt],J[Gt+1],$t,se).transformMat4(v),Ln=new l(j[Ht],j[Ht+1],0,J[Ht],J[Ht+1],$t,se).transformMat4(v),On=new l(j[ye],j[ye+1],0,J[ye],J[ye+1],$t,se).transformMat4(v),Fn=new l(j[Gt],j[Gt+1],0,J[Gt],J[Gt+1],$t,se).transformMat4(v);z&&(We.setUVs(it,lt),Rn.setUVs(it,ht),An.setUVs(q,lt),Ln.setUVs(it,ht),On.setUVs(q,ht),Fn.setUVs(q,lt)),Ct++,Ct===B.length&&(Ct=0),kt++,kt===N.length&&(kt=0),k.verts.push(We,Rn,An,Ln,On,Fn),k.faces.push(new o(We,Rn,An),new o(Ln,On,Fn))}return p&&(p.faces=p.faces.concat(k.faces),p.vertices=p.vertices.concat(k.verts)),k};n.exports=h},34684:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83997),y=s(37867),f=s(25836),u=s(39318),l=new f,a=new f,d=new y,v=function(h,c,p,m,x,T,P,M,E,w){p===void 0&&(p=1),m===void 0&&(m=0),x===void 0&&(x=0),T===void 0&&(T=0),P===void 0&&(P=0),M===void 0&&(M=0),E===void 0&&(E=0),w===void 0&&(w=!0);var R={faces:[],verts:[]},A=h.materials;l.set(m,x,T),a.set(P,M,E),d.fromRotationXYTranslation(a,l,w);for(var L=0;L<h.models.length;L++)for(var b=h.models[L],O=b.vertices,F=b.textureCoords,D=b.faces,B=0;B<D.length;B++){var N=D[B],z=N.vertices[0],W=N.vertices[1],X=N.vertices[2],k=O[z.vertexIndex],V=O[W.vertexIndex],I=O[X.vertexIndex],U=z.textureCoordsIndex,G=W.textureCoordsIndex,Y=X.textureCoordsIndex,H=U===-1?{u:0,v:1}:F[U],$=G===-1?{u:0,v:0}:F[G],K=Y===-1?{u:1,v:1}:F[Y],Z=16777215;N.material!==""&&A[N.material]&&(Z=A[N.material]);var J=new u(k.x*p,k.y*p,k.z*p,H.u,H.v,Z).transformMat4(d),j=new u(V.x*p,V.y*p,V.z*p,$.u,$.v,Z).transformMat4(d),Q=new u(I.x*p,I.y*p,I.z*p,K.u,K.v,Z).transformMat4(d);R.verts.push(J,j,Q),R.faces.push(new o(J,j,Q))}return c&&(c.faces=c.faces.concat(R.faces),c.vertices=c.vertices.concat(R.verts)),R};n.exports=v},92515:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83997),y=s(39318),f=function(u,l,a,d,v,h,c,p){if(d===void 0&&(d=!1),h===void 0&&(h=16777215),c===void 0&&(c=1),p===void 0&&(p=!1),u.length!==l.length&&!d){console.warn("GenerateVerts: vertices and uvs count not equal");return}var m={faces:[],vertices:[]},x,T,P,M,E,w,R,A,L,b,O,F=d?3:2,D=Array.isArray(h),B=Array.isArray(c);if(Array.isArray(a)&&a.length>0)for(x=0;x<a.length;x++){var N=a[x],z=a[x]*2,W=a[x]*F;T=u[W],P=u[W+1],M=d?u[W+2]:0,E=l[z],w=l[z+1],p&&(w=1-w),R=D?h[N]:h,A=B?c[N]:c,L=0,b=0,O=0,v&&(L=v[W],b=v[W+1],O=d?v[W+2]:0),m.vertices.push(new y(T,P,M,E,w,R,A,L,b,O))}else{var X=0,k=0;for(x=0;x<u.length;x+=F)T=u[x],P=u[x+1],M=d?u[x+2]:0,E=l[X],w=l[X+1],R=D?h[k]:h,A=B?c[k]:c,L=0,b=0,O=0,v&&(L=v[x],b=v[x+1],O=d?v[x+2]:0),m.vertices.push(new y(T,P,M,E,w,R,A,L,b,O)),X+=2,k++}for(x=0;x<m.vertices.length;x+=3){var V=m.vertices[x],I=m.vertices[x+1],U=m.vertices[x+2];m.faces.push(new o(V,I,U))}return m};n.exports=f},85048:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=!0,s="untitled",o="",y="";function f(T){var P=T.indexOf("#");return P>-1?T.substring(0,P):T}function u(T){return T.models.length===0&&T.models.push({faces:[],name:s,textureCoords:[],vertexNormals:[],vertices:[]}),o="",T.models[T.models.length-1]}function l(T,P){var M=T.length>=2?T[1]:s;P.models.push({faces:[],name:M,textureCoords:[],vertexNormals:[],vertices:[]}),o=""}function a(T){T.length===2&&(o=T[1])}function d(T,P){var M=T.length,E=M>=2?parseFloat(T[1]):0,w=M>=3?parseFloat(T[2]):0,R=M>=4?parseFloat(T[3]):0;u(P).vertices.push({x:E,y:w,z:R})}function v(T,P){var M=T.length,E=M>=2?parseFloat(T[1]):0,w=M>=3?parseFloat(T[2]):0,R=M>=4?parseFloat(T[3]):0;isNaN(E)&&(E=0),isNaN(w)&&(w=0),isNaN(R)&&(R=0),C&&(w=1-w),u(P).textureCoords.push({u:E,v:w,w:R})}function h(T,P){var M=T.length,E=M>=2?parseFloat(T[1]):0,w=M>=3?parseFloat(T[2]):0,R=M>=4?parseFloat(T[3]):0;u(P).vertexNormals.push({x:E,y:w,z:R})}function c(T,P){var M=T.length-1;if(!(M<3)){for(var E={group:o,material:y,vertices:[]},w=0;w<M;w++){var R=T[w+1],A=R.split("/"),L=A.length;if(!(L<1||L>3)){var b=0,O=0,F=0;b=parseInt(A[0],10),L>1&&A[1]!==""&&(O=parseInt(A[1],10)),L>2&&(F=parseInt(A[2],10)),b!==0&&(b<0&&(b=u(P).vertices.length+1+b),O-=1,b-=1,F-=1,E.vertices.push({textureCoordsIndex:O,vertexIndex:b,vertexNormalIndex:F}))}}u(P).faces.push(E)}}function p(T,P){T.length>=2&&P.materialLibraries.push(T[1])}function m(T){T.length>=2&&(y=T[1])}var x=function(T,P){P===void 0&&(P=!0),C=P;var M={materials:{},materialLibraries:[],models:[]};o="",y="";for(var E=T.split(`
`),w=0;w<E.length;w++){var R=f(E[w]),A=R.replace(/\s\s+/g," ").trim().split(" ");switch(A[0].toLowerCase()){case"o":l(A,M);break;case"g":a(A);break;case"v":d(A,M);break;case"vt":v(A,M);break;case"vn":h(A,M);break;case"f":c(A,M);break;case"mtllib":p(A,M);break;case"usemtl":m(A);break}}return M};n.exports=x},61485:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37589),y=function(f){for(var u={},l=f.split(`
`),a="",d=0;d<l.length;d++){var v=l[d].trim();if(!(v.indexOf("#")===0||v==="")){var h=v.replace(/\s\s+/g," ").trim().split(" ");switch(h[0].toLowerCase()){case"newmtl":{a=h[1];break}case"kd":{var c=Math.floor(h[1]*255),p=h.length>=2?Math.floor(h[2]*255):c,m=h.length>=3?Math.floor(h[3]*255):c;u[a]=o(c,p,m);break}}}}return u};n.exports=y},92570:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){var u,l;if(y===void 0&&f===void 0){var a=s.getInCenter();u=a.x,l=a.y}var d=Math.cos(o),v=Math.sin(o),h=s.vertex1,c=s.vertex2,p=s.vertex3,m=h.x-u,x=h.y-l;h.set(m*d-x*v+u,m*v+x*d+l),m=c.x-u,x=c.y-l,c.set(m*d-x*v+u,m*v+x*d+l),m=p.x-u,x=p.y-l,p.set(m*d-x*v+u,m*v+x*d+l)};n.exports=C},39318:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(70554),f=s(25836),u=new o({Extends:f,initialize:function(a,d,v,h,c,p,m,x,T,P){p===void 0&&(p=16777215),m===void 0&&(m=1),x===void 0&&(x=0),T===void 0&&(T=0),P===void 0&&(P=0),f.call(this,a,d,v),this.vx=0,this.vy=0,this.vz=0,this.nx=x,this.ny=T,this.nz=P,this.u=h,this.v=c,this.color=p,this.alpha=m,this.tx=0,this.ty=0,this.ta=0,this.tu=h,this.tv=c},setUVs:function(l,a){return this.u=l,this.v=a,this.tu=l,this.tv=a,this},scrollUV:function(l,a){return this.tu+=l,this.tv+=a,this},scaleUV:function(l,a){return this.tu=this.u*l,this.tv=this.v*a,this},transformCoordinatesLocal:function(l,a,d,v){var h=this.x,c=this.y,p=this.z,m=l.val,x=h*m[0]+c*m[4]+p*m[8]+m[12],T=h*m[1]+c*m[5]+p*m[9]+m[13],P=h*m[2]+c*m[6]+p*m[10]+m[14],M=h*m[3]+c*m[7]+p*m[11]+m[15];this.vx=x/M*a,this.vy=-(T/M)*d,v<=0?this.vz=P/M:this.vz=-(P/M)},resize:function(l,a,d,v,h,c){return this.x=l,this.y=a,this.vx=this.x*d,this.vy=-this.y*v,this.vz=0,h<.5?this.vx+=d*(.5-h):h>.5&&(this.vx-=d*(h-.5)),c<.5?this.vy+=v*(.5-c):c>.5&&(this.vy-=v*(c-.5)),this},update:function(l,a,d,v,h,c,p,m){var x=this.vx*l+this.vy*d+h,T=this.vx*a+this.vy*v+c;return p&&(x=Math.round(x),T=Math.round(T)),this.tx=x,this.ty=T,this.ta=this.alpha*m,this},load:function(l,a,d,v,h){return l[++d]=this.tx,l[++d]=this.ty,l[++d]=this.tu,l[++d]=this.tv,l[++d]=v,l[++d]=h,a[++d]=y.getTintAppendFloatAlpha(this.color,this.ta),d}});n.exports=u},73090:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Face:s(83997),GenerateGridVerts:s(48803),GenerateObjVerts:s(34684),GenerateVerts:s(92515),ParseObj:s(85048),ParseObjMaterial:s(61485),RotateFace:s(92570),Vertex:s(39318)};n.exports=o},96550:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s.setTo(Math.ceil(s.x),Math.ceil(s.y))};n.exports=C},99706:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),y=function(f){return new o(f.x,f.y)};n.exports=y},68010:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return o.setTo(s.x,s.y)};n.exports=C},27814:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return s.x===o.x&&s.y===o.y};n.exports=C},73565:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s.setTo(Math.floor(s.x),Math.floor(s.y))};n.exports=C},87555:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),y=function(f,u){if(u===void 0&&(u=new o),!Array.isArray(f))throw new Error("GetCentroid points argument must be an array");var l=f.length;if(l<1)throw new Error("GetCentroid points array must not be empty");if(l===1)u.x=f[0].x,u.y=f[0].y;else{for(var a=0;a<l;a++)u.x+=f[a].x,u.y+=f[a].y;u.x/=l,u.y/=l}return u};n.exports=y},28793:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return Math.sqrt(s.x*s.x+s.y*s.y)};n.exports=C},44405:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s.x*s.x+s.y*s.y};n.exports=C},20873:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),y=function(f,u){u===void 0&&(u=new o);for(var l=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,v=Number.POSITIVE_INFINITY,h=0;h<f.length;h++){var c=f[h];c.x>l&&(l=c.x),c.x<a&&(a=c.x),c.y>d&&(d=c.y),c.y<v&&(v=c.y)}return u.x=a,u.y=v,u.width=l-a,u.height=d-v,u};n.exports=y},26152:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),y=function(f,u,l,a){return l===void 0&&(l=0),a===void 0&&(a=new o),a.x=f.x+(u.x-f.x)*l,a.y=f.y+(u.y-f.y)*l,a};n.exports=y},55767:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s.setTo(s.y,s.x)};n.exports=C},79432:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),y=function(f,u){return u===void 0&&(u=new o),u.setTo(-f.x,-f.y)};n.exports=y},2141:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(23777),f=new o({initialize:function(l,a){l===void 0&&(l=0),a===void 0&&(a=l),this.type=y.POINT,this.x=l,this.y=a},setTo:function(u,l){return u===void 0&&(u=0),l===void 0&&(l=u),this.x=u,this.y=l,this}});n.exports=f},72930:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),y=s(44405),f=function(u,l,a){a===void 0&&(a=new o);var d=u.x*l.x+u.y*l.y,v=d/y(l);return v!==0&&(a.x=v*l.x,a.y=v*l.y),a};n.exports=f},62880:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),y=function(f,u,l){l===void 0&&(l=new o);var a=f.x*u.x+f.y*u.y;return a!==0&&(l.x=a*u.x,l.y=a*u.y),l};n.exports=y},15093:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(28793),y=function(f,u){if(f.x!==0||f.y!==0){var l=o(f);f.x/=l,f.y/=l}return f.x*=u,f.y*=u,f};n.exports=y},43711:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141);o.Ceil=s(96550),o.Clone=s(99706),o.CopyFrom=s(68010),o.Equals=s(27814),o.Floor=s(73565),o.GetCentroid=s(87555),o.GetMagnitude=s(28793),o.GetMagnitudeSq=s(44405),o.GetRectangleFromPoints=s(20873),o.Interpolate=s(26152),o.Invert=s(55767),o.Negative=s(79432),o.Project=s(72930),o.ProjectUnit=s(62880),o.SetMagnitude=s(15093),n.exports=o},12306:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25717),y=function(f){return new o(f.points)};n.exports=y},63814:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){for(var f=!1,u=-1,l=s.points.length-1;++u<s.points.length;l=u){var a=s.points[u].x,d=s.points[u].y,v=s.points[l].x,h=s.points[l].y;(d<=y&&y<h||h<=y&&y<d)&&o<(v-a)*(y-d)/(h-d)+a&&(f=!f)}return f};n.exports=C},99338:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(63814),y=function(f,u){return o(f,u.x,u.y)};n.exports=y},94811:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(k,V,I){I=I||2;var U=V&&V.length,G=U?V[0]*I:k.length,Y=s(k,0,G,I,!0),H=[];if(!Y||Y.next===Y.prev)return H;var $,K,Z,J,j,Q,_;if(U&&(Y=d(k,V,Y,I)),k.length>80*I){$=Z=k[0],K=J=k[1];for(var it=I;it<G;it+=I)j=k[it],Q=k[it+1],j<$&&($=j),Q<K&&(K=Q),j>Z&&(Z=j),Q>J&&(J=Q);_=Math.max(Z-$,J-K),_=_!==0?32767/_:0}return y(Y,H,I,$,K,_,0),H}function s(k,V,I,U,G){var Y,H;if(G===X(k,V,I,U)>0)for(Y=V;Y<I;Y+=U)H=N(Y,k[Y],k[Y+1],H);else for(Y=I-U;Y>=V;Y-=U)H=N(Y,k[Y],k[Y+1],H);return H&&R(H,H.next)&&(z(H),H=H.next),H}function o(k,V){if(!k)return k;V||(V=k);var I=k,U;do if(U=!1,!I.steiner&&(R(I,I.next)||w(I.prev,I,I.next)===0)){if(z(I),I=V=I.prev,I===I.next)break;U=!0}else I=I.next;while(U||I!==V);return V}function y(k,V,I,U,G,Y,H){if(k){!H&&Y&&m(k,U,G,Y);for(var $=k,K,Z;k.prev!==k.next;){if(K=k.prev,Z=k.next,Y?u(k,U,G,Y):f(k)){V.push(K.i/I|0),V.push(k.i/I|0),V.push(Z.i/I|0),z(k),k=Z.next,$=Z.next;continue}if(k=Z,k===$){H?H===1?(k=l(o(k),V,I),y(k,V,I,U,G,Y,2)):H===2&&a(k,V,I,U,G,Y):y(o(k),V,I,U,G,Y,1);break}}}}function f(k){var V=k.prev,I=k,U=k.next;if(w(V,I,U)>=0)return!1;for(var G=V.x,Y=I.x,H=U.x,$=V.y,K=I.y,Z=U.y,J=G<Y?G<H?G:H:Y<H?Y:H,j=$<K?$<Z?$:Z:K<Z?K:Z,Q=G>Y?G>H?G:H:Y>H?Y:H,_=$>K?$>Z?$:Z:K>Z?K:Z,it=U.next;it!==V;){if(it.x>=J&&it.x<=Q&&it.y>=j&&it.y<=_&&M(G,$,Y,K,H,Z,it.x,it.y)&&w(it.prev,it,it.next)>=0)return!1;it=it.next}return!0}function u(k,V,I,U){var G=k.prev,Y=k,H=k.next;if(w(G,Y,H)>=0)return!1;for(var $=G.x,K=Y.x,Z=H.x,J=G.y,j=Y.y,Q=H.y,_=$<K?$<Z?$:Z:K<Z?K:Z,it=J<j?J<Q?J:Q:j<Q?j:Q,q=$>K?$>Z?$:Z:K>Z?K:Z,ht=J>j?J>Q?J:Q:j>Q?j:Q,lt=T(_,it,V,I,U),ut=T(q,ht,V,I,U),tt=k.prevZ,at=k.nextZ;tt&&tt.z>=lt&&at&&at.z<=ut;){if(tt.x>=_&&tt.x<=q&&tt.y>=it&&tt.y<=ht&&tt!==G&&tt!==H&&M($,J,K,j,Z,Q,tt.x,tt.y)&&w(tt.prev,tt,tt.next)>=0||(tt=tt.prevZ,at.x>=_&&at.x<=q&&at.y>=it&&at.y<=ht&&at!==G&&at!==H&&M($,J,K,j,Z,Q,at.x,at.y)&&w(at.prev,at,at.next)>=0))return!1;at=at.nextZ}for(;tt&&tt.z>=lt;){if(tt.x>=_&&tt.x<=q&&tt.y>=it&&tt.y<=ht&&tt!==G&&tt!==H&&M($,J,K,j,Z,Q,tt.x,tt.y)&&w(tt.prev,tt,tt.next)>=0)return!1;tt=tt.prevZ}for(;at&&at.z<=ut;){if(at.x>=_&&at.x<=q&&at.y>=it&&at.y<=ht&&at!==G&&at!==H&&M($,J,K,j,Z,Q,at.x,at.y)&&w(at.prev,at,at.next)>=0)return!1;at=at.nextZ}return!0}function l(k,V,I){var U=k;do{var G=U.prev,Y=U.next.next;!R(G,Y)&&A(G,U,U.next,Y)&&F(G,Y)&&F(Y,G)&&(V.push(G.i/I|0),V.push(U.i/I|0),V.push(Y.i/I|0),z(U),z(U.next),U=k=Y),U=U.next}while(U!==k);return o(U)}function a(k,V,I,U,G,Y){var H=k;do{for(var $=H.next.next;$!==H.prev;){if(H.i!==$.i&&E(H,$)){var K=B(H,$);H=o(H,H.next),K=o(K,K.next),y(H,V,I,U,G,Y,0),y(K,V,I,U,G,Y,0);return}$=$.next}H=H.next}while(H!==k)}function d(k,V,I,U){var G=[],Y,H,$,K,Z;for(Y=0,H=V.length;Y<H;Y++)$=V[Y]*U,K=Y<H-1?V[Y+1]*U:k.length,Z=s(k,$,K,U,!1),Z===Z.next&&(Z.steiner=!0),G.push(P(Z));for(G.sort(v),Y=0;Y<G.length;Y++)I=h(G[Y],I);return I}function v(k,V){return k.x-V.x}function h(k,V){var I=c(k,V);if(!I)return V;var U=B(I,k);return o(U,U.next),o(I,I.next)}function c(k,V){var I=V,U=k.x,G=k.y,Y=-1/0,H;do{if(G<=I.y&&G>=I.next.y&&I.next.y!==I.y){var $=I.x+(G-I.y)*(I.next.x-I.x)/(I.next.y-I.y);if($<=U&&$>Y&&(Y=$,H=I.x<I.next.x?I:I.next,$===U))return H}I=I.next}while(I!==V);if(!H)return null;var K=H,Z=H.x,J=H.y,j=1/0,Q;I=H;do U>=I.x&&I.x>=Z&&U!==I.x&&M(G<J?U:Y,G,Z,J,G<J?Y:U,G,I.x,I.y)&&(Q=Math.abs(G-I.y)/(U-I.x),F(I,k)&&(Q<j||Q===j&&(I.x>H.x||I.x===H.x&&p(H,I)))&&(H=I,j=Q)),I=I.next;while(I!==K);return H}function p(k,V){return w(k.prev,k,V.prev)<0&&w(V.next,k,k.next)<0}function m(k,V,I,U){var G=k;do G.z===0&&(G.z=T(G.x,G.y,V,I,U)),G.prevZ=G.prev,G.nextZ=G.next,G=G.next;while(G!==k);G.prevZ.nextZ=null,G.prevZ=null,x(G)}function x(k){var V,I,U,G,Y,H,$,K,Z=1;do{for(I=k,k=null,Y=null,H=0;I;){for(H++,U=I,$=0,V=0;V<Z&&($++,U=U.nextZ,!!U);V++);for(K=Z;$>0||K>0&&U;)$!==0&&(K===0||!U||I.z<=U.z)?(G=I,I=I.nextZ,$--):(G=U,U=U.nextZ,K--),Y?Y.nextZ=G:k=G,G.prevZ=Y,Y=G;I=U}Y.nextZ=null,Z*=2}while(H>1);return k}function T(k,V,I,U,G){return k=(k-I)*G|0,V=(V-U)*G|0,k=(k|k<<8)&16711935,k=(k|k<<4)&252645135,k=(k|k<<2)&858993459,k=(k|k<<1)&1431655765,V=(V|V<<8)&16711935,V=(V|V<<4)&252645135,V=(V|V<<2)&858993459,V=(V|V<<1)&1431655765,k|V<<1}function P(k){var V=k,I=k;do(V.x<I.x||V.x===I.x&&V.y<I.y)&&(I=V),V=V.next;while(V!==k);return I}function M(k,V,I,U,G,Y,H,$){return(G-H)*(V-$)>=(k-H)*(Y-$)&&(k-H)*(U-$)>=(I-H)*(V-$)&&(I-H)*(Y-$)>=(G-H)*(U-$)}function E(k,V){return k.next.i!==V.i&&k.prev.i!==V.i&&!O(k,V)&&(F(k,V)&&F(V,k)&&D(k,V)&&(w(k.prev,k,V.prev)||w(k,V.prev,V))||R(k,V)&&w(k.prev,k,k.next)>0&&w(V.prev,V,V.next)>0)}function w(k,V,I){return(V.y-k.y)*(I.x-V.x)-(V.x-k.x)*(I.y-V.y)}function R(k,V){return k.x===V.x&&k.y===V.y}function A(k,V,I,U){var G=b(w(k,V,I)),Y=b(w(k,V,U)),H=b(w(I,U,k)),$=b(w(I,U,V));return!!(G!==Y&&H!==$||G===0&&L(k,I,V)||Y===0&&L(k,U,V)||H===0&&L(I,k,U)||$===0&&L(I,V,U))}function L(k,V,I){return V.x<=Math.max(k.x,I.x)&&V.x>=Math.min(k.x,I.x)&&V.y<=Math.max(k.y,I.y)&&V.y>=Math.min(k.y,I.y)}function b(k){return k>0?1:k<0?-1:0}function O(k,V){var I=k;do{if(I.i!==k.i&&I.next.i!==k.i&&I.i!==V.i&&I.next.i!==V.i&&A(I,I.next,k,V))return!0;I=I.next}while(I!==k);return!1}function F(k,V){return w(k.prev,k,k.next)<0?w(k,V,k.next)>=0&&w(k,k.prev,V)>=0:w(k,V,k.prev)<0||w(k,k.next,V)<0}function D(k,V){var I=k,U=!1,G=(k.x+V.x)/2,Y=(k.y+V.y)/2;do I.y>Y!=I.next.y>Y&&I.next.y!==I.y&&G<(I.next.x-I.x)*(Y-I.y)/(I.next.y-I.y)+I.x&&(U=!U),I=I.next;while(I!==k);return U}function B(k,V){var I=new W(k.i,k.x,k.y),U=new W(V.i,V.x,V.y),G=k.next,Y=V.prev;return k.next=V,V.prev=k,I.next=G,G.prev=I,U.next=I,I.prev=U,Y.next=U,U.prev=Y,U}function N(k,V,I,U){var G=new W(k,V,I);return U?(G.next=U.next,G.prev=U,U.next.prev=G,U.next=G):(G.prev=G,G.next=G),G}function z(k){k.next.prev=k.prev,k.prev.next=k.next,k.prevZ&&(k.prevZ.nextZ=k.nextZ),k.nextZ&&(k.nextZ.prevZ=k.prevZ)}function W(k,V,I){this.i=k,this.x=V,this.y=I,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}C.deviation=function(k,V,I,U){var G=V&&V.length,Y=G?V[0]*I:k.length,H=Math.abs(X(k,0,Y,I));if(G)for(var $=0,K=V.length;$<K;$++){var Z=V[$]*I,J=$<K-1?V[$+1]*I:k.length;H-=Math.abs(X(k,Z,J,I))}var j=0;for($=0;$<U.length;$+=3){var Q=U[$]*I,_=U[$+1]*I,it=U[$+2]*I;j+=Math.abs((k[Q]-k[it])*(k[_+1]-k[Q+1])-(k[Q]-k[_])*(k[it+1]-k[Q+1]))}return H===0&&j===0?0:Math.abs((j-H)/H)};function X(k,V,I,U){for(var G=0,Y=V,H=I-U;Y<I;Y+=U)G+=(k[H]-k[Y])*(k[Y+1]+k[H+1]),H=Y;return G}C.flatten=function(k){for(var V=k[0][0].length,I={vertices:[],holes:[],dimensions:V},U=0,G=0;G<k.length;G++){for(var Y=0;Y<k[G].length;Y++)for(var H=0;H<V;H++)I.vertices.push(k[G][Y][H]);G>0&&(U+=k[G-1].length,I.holes.push(U))}return I},n.exports=C},13829:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),y=function(f,u){u===void 0&&(u=new o);for(var l=1/0,a=1/0,d=-l,v=-a,h,c=0;c<f.points.length;c++)h=f.points[c],l=Math.min(l,h.x),a=Math.min(a,h.y),d=Math.max(d,h.x),v=Math.max(v,h.y);return u.x=l,u.y=a,u.width=d-l,u.height=v-a,u};n.exports=y},26173:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){o===void 0&&(o=[]);for(var y=0;y<s.points.length;y++)o.push(s.points[y].x),o.push(s.points[y].y);return o};n.exports=C},9564:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35001),y=s(23031),f=s(30052),u=function(l,a,d,v){v===void 0&&(v=[]);var h=l.points,c=f(l);!a&&d>0&&(a=c/d);for(var p=0;p<a;p++)for(var m=c*(p/a),x=0,T=0;T<h.length;T++){var P=h[T],M=h[(T+1)%h.length],E=new y(P.x,P.y,M.x,M.y),w=o(E);if(m<x||m>x+w){x+=w;continue}var R=E.getPoint((m-x)/w);v.push(R);break}return v};n.exports=u},30052:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35001),y=s(23031),f=function(u){for(var l=u.points,a=0,d=0;d<l.length;d++){var v=l[d],h=l[(d+1)%l.length],c=new y(v.x,v.y,h.x,h.y);a+=o(c)}return a};n.exports=f},25717:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(63814),f=s(9564),u=s(23777),l=new o({initialize:function(d){this.type=u.POLYGON,this.area=0,this.points=[],d&&this.setTo(d)},contains:function(a,d){return y(this,a,d)},setTo:function(a){if(this.area=0,this.points=[],typeof a=="string"&&(a=a.split(" ")),!Array.isArray(a))return this;for(var d,v=0;v<a.length;v++)d={x:0,y:0},typeof a[v]=="number"||typeof a[v]=="string"?(d.x=parseFloat(a[v]),d.y=parseFloat(a[v+1]),v++):Array.isArray(a[v])?(d.x=a[v][0],d.y=a[v][1]):(d.x=a[v].x,d.y=a[v].y),this.points.push(d);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var a=0,d,v,h=0;h<this.points.length-1;h++)d=this.points[h],v=this.points[h+1],a+=(v.x-d.x)*(d.y+v.y);return d=this.points[0],v=this.points[this.points.length-1],a+=(d.x-v.x)*(v.y+d.y),this.area=-a*.5,this.area},getPoints:function(a,d,v){return f(this,a,d,v)}});n.exports=l},8133:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s.points.reverse(),s};n.exports=C},29524:n=>{function C(l,a){var d=l.x-a.x,v=l.y-a.y;return d*d+v*v}function s(l,a,d){var v=a.x,h=a.y,c=d.x-v,p=d.y-h;if(c!==0||p!==0){var m=((l.x-v)*c+(l.y-h)*p)/(c*c+p*p);m>1?(v=d.x,h=d.y):m>0&&(v+=c*m,h+=p*m)}return c=l.x-v,p=l.y-h,c*c+p*p}function o(l,a){for(var d=l[0],v=[d],h,c=1,p=l.length;c<p;c++)h=l[c],C(h,d)>a&&(v.push(h),d=h);return d!==h&&v.push(h),v}function y(l,a,d,v,h){for(var c=v,p,m=a+1;m<d;m++){var x=s(l[m],l[a],l[d]);x>c&&(p=m,c=x)}c>v&&(p-a>1&&y(l,a,p,v,h),h.push(l[p]),d-p>1&&y(l,p,d,v,h))}function f(l,a){var d=l.length-1,v=[l[0]];return y(l,0,d,a,v),v.push(l[d]),v}var u=function(l,a,d){a===void 0&&(a=1),d===void 0&&(d=!1);var v=l.points;if(v.length>2){var h=a*a;d||(v=o(v,h)),l.setTo(f(v,h))}return l};n.exports=u},5469:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(o,y){return o[0]=y[0],o[1]=y[1],o},s=function(o){var y,f=[],u=o.points;for(y=0;y<u.length;y++)f.push([u[y].x,u[y].y]);var l=[];for(f.length>0&&l.push(C([0,0],f[0])),y=0;y<f.length-1;y++){var a=f[y],d=f[y+1],v=a[0],h=a[1],c=d[0],p=d[1];l.push([.85*v+.15*c,.85*h+.15*p]),l.push([.15*v+.85*c,.15*h+.85*p])}return f.length>1&&l.push(C([0,0],f[f.length-1])),o.setTo(l)};n.exports=s},24709:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){for(var f=s.points,u=0;u<f.length;u++)f[u].x+=o,f[u].y+=y;return s};n.exports=C},58423:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25717);o.Clone=s(12306),o.Contains=s(63814),o.ContainsPoint=s(99338),o.Earcut=s(94811),o.GetAABB=s(13829),o.GetNumberArray=s(26173),o.GetPoints=s(9564),o.Perimeter=s(30052),o.Reverse=s(8133),o.Simplify=s(29524),o.Smooth=s(5469),o.Translate=s(24709),n.exports=o},62224:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s.width*s.height};n.exports=C},98615:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s.x=Math.ceil(s.x),s.y=Math.ceil(s.y),s};n.exports=C},31688:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s.x=Math.ceil(s.x),s.y=Math.ceil(s.y),s.width=Math.ceil(s.width),s.height=Math.ceil(s.height),s};n.exports=C},67502:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){return s.x=o-s.width/2,s.y=y-s.height/2,s};n.exports=C},65085:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),y=function(f){return new o(f.x,f.y,f.width,f.height)};n.exports=y},37303:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){return s.width<=0||s.height<=0?!1:s.x<=o&&s.x+s.width>=o&&s.y<=y&&s.y+s.height>=y};n.exports=C},96553:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37303),y=function(f,u){return o(f,u.x,u.y)};n.exports=y},70273:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return o.width*o.height>s.width*s.height?!1:o.x>s.x&&o.x<s.right&&o.right>s.x&&o.right<s.right&&o.y>s.y&&o.y<s.bottom&&o.bottom>s.y&&o.bottom<s.bottom};n.exports=C},43459:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return o.setTo(s.x,s.y,s.width,s.height)};n.exports=C},77493:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return o===void 0&&(o=[]),o.push({x:s.x,y:s.y}),o.push({x:s.right,y:s.y}),o.push({x:s.right,y:s.bottom}),o.push({x:s.x,y:s.bottom}),o};n.exports=C},9219:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return s.x===o.x&&s.y===o.y&&s.width===o.width&&s.height===o.height};n.exports=C},53751:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(8249),y=function(f,u){var l=o(f);return l<o(u)?f.setSize(u.height*l,u.height):f.setSize(u.width,u.width/l),f.setPosition(u.centerX-f.width/2,u.centerY-f.height/2)};n.exports=y},16088:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(8249),y=function(f,u){var l=o(f);return l>o(u)?f.setSize(u.height*l,u.height):f.setSize(u.width,u.width/l),f.setPosition(u.centerX-f.width/2,u.centerY-f.height/2)};n.exports=y},80774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s.x=Math.floor(s.x),s.y=Math.floor(s.y),s};n.exports=C},83859:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s.x=Math.floor(s.x),s.y=Math.floor(s.y),s.width=Math.floor(s.width),s.height=Math.floor(s.height),s};n.exports=C},19217:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),y=s(36383),f=function(u,l){if(l===void 0&&(l=new o),u.length===0)return l;for(var a=Number.MAX_VALUE,d=Number.MAX_VALUE,v=y.MIN_SAFE_INTEGER,h=y.MIN_SAFE_INTEGER,c,p,m,x=0;x<u.length;x++)c=u[x],Array.isArray(c)?(p=c[0],m=c[1]):(p=c.x,m=c.y),a=Math.min(a,p),d=Math.min(d,m),v=Math.max(v,p),h=Math.max(h,m);return l.x=a,l.y=d,l.width=v-a,l.height=h-d,l};n.exports=f},9477:(n,C,s)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),y=function(f,u,l,a,d){return d===void 0&&(d=new o),d.setTo(Math.min(f,l),Math.min(u,a),Math.abs(f-l),Math.abs(u-a))};n.exports=y},8249:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s.height===0?NaN:s.width/s.height};n.exports=C},27165:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),y=function(f,u){return u===void 0&&(u=new o),u.x=f.centerX,u.y=f.centerY,u};n.exports=y},20812:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(13019),y=s(2141),f=function(u,l,a){if(a===void 0&&(a=new y),l<=0||l>=1)return a.x=u.x,a.y=u.y,a;var d=o(u)*l;return l>.5?(d-=u.width+u.height,d<=u.width?(a.x=u.right-d,a.y=u.bottom):(a.x=u.x,a.y=u.bottom-(d-u.width))):d<=u.width?(a.x=u.x+d,a.y=u.y):(a.x=u.right,a.y=u.y+(d-u.width)),a};n.exports=f},34819:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20812),y=s(13019),f=function(u,l,a,d){d===void 0&&(d=[]),!l&&a>0&&(l=y(u)/a);for(var v=0;v<l;v++){var h=v/l;d.push(o(u,h))}return d};n.exports=f},51313:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),y=function(f,u){return u===void 0&&(u=new o),u.x=f.width,u.y=f.height,u};n.exports=y},86091:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(67502),y=function(f,u,l){var a=f.centerX,d=f.centerY;return f.setSize(f.width+u*2,f.height+l*2),o(f,a,d)};n.exports=y},53951:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),y=s(59996),f=function(u,l,a){return a===void 0&&(a=new o),y(u,l)?(a.x=Math.max(u.x,l.x),a.y=Math.max(u.y,l.y),a.width=Math.min(u.right,l.right)-a.x,a.height=Math.min(u.bottom,l.bottom)-a.y):a.setEmpty(),a};n.exports=f},14649:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(13019),y=s(2141),f=function(u,l,a,d){if(d===void 0&&(d=[]),!l&&!a)return d;l?a=Math.round(o(u)/l):l=o(u)/a;for(var v=u.x,h=u.y,c=0,p=0;p<a;p++)switch(d.push(new y(v,h)),c){case 0:v+=l,v>=u.right&&(c=1,h+=v-u.right,v=u.right);break;case 1:h+=l,h>=u.bottom&&(c=2,v-=h-u.bottom,h=u.bottom);break;case 2:v-=l,v<=u.left&&(c=3,h-=u.left-v,v=u.left);break;case 3:h-=l,h<=u.top&&(c=0,h=u.top);break}return d};n.exports=f},33595:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){for(var y=s.x,f=s.right,u=s.y,l=s.bottom,a=0;a<o.length;a++)y=Math.min(y,o[a].x),f=Math.max(f,o[a].x),u=Math.min(u,o[a].y),l=Math.max(l,o[a].y);return s.x=y,s.y=u,s.width=f-y,s.height=l-u,s};n.exports=C},20074:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){var y=Math.min(s.x,o.x),f=Math.max(s.right,o.right);s.x=y,s.width=f-y;var u=Math.min(s.y,o.y),l=Math.max(s.bottom,o.bottom);return s.y=u,s.height=l-u,s};n.exports=C},92171:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){var f=Math.min(s.x,o),u=Math.max(s.right,o);s.x=f,s.width=u-f;var l=Math.min(s.y,y),a=Math.max(s.bottom,y);return s.y=l,s.height=a-l,s};n.exports=C},42981:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){return s.x+=o,s.y+=y,s};n.exports=C},46907:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return s.x+=o.x,s.y+=o.y,s};n.exports=C},60170:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return s.x<o.right&&s.right>o.x&&s.y<o.bottom&&s.bottom>o.y};n.exports=C},13019:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return 2*(s.width+s.height)};n.exports=C},85133:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),y=s(39506),f=function(u,l,a){a===void 0&&(a=new o),l=y(l);var d=Math.sin(l),v=Math.cos(l),h=v>0?u.width/2:u.width/-2,c=d>0?u.height/2:u.height/-2;return Math.abs(h*d)<Math.abs(c*v)?c=h*d/v:h=c*v/d,a.x=h+u.centerX,a.y=c+u.centerY,a};n.exports=f},26597:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),y=function(f,u){return u===void 0&&(u=new o),u.x=f.x+Math.random()*f.width,u.y=f.y+Math.random()*f.height,u};n.exports=y},86470:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(30976),y=s(70273),f=s(2141),u=function(l,a,d){if(d===void 0&&(d=new f),y(l,a))switch(o(0,3)){case 0:d.x=l.x+Math.random()*(a.right-l.x),d.y=l.y+Math.random()*(a.top-l.y);break;case 1:d.x=a.x+Math.random()*(l.right-a.x),d.y=a.bottom+Math.random()*(l.bottom-a.bottom);break;case 2:d.x=l.x+Math.random()*(a.x-l.x),d.y=a.y+Math.random()*(l.bottom-a.y);break;case 3:d.x=a.right+Math.random()*(l.right-a.right),d.y=l.y+Math.random()*(a.bottom-l.y);break}return d};n.exports=u},87841:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(37303),f=s(20812),u=s(34819),l=s(23777),a=s(23031),d=s(26597),v=new o({initialize:function(c,p,m,x){c===void 0&&(c=0),p===void 0&&(p=0),m===void 0&&(m=0),x===void 0&&(x=0),this.type=l.RECTANGLE,this.x=c,this.y=p,this.width=m,this.height=x},contains:function(h,c){return y(this,h,c)},getPoint:function(h,c){return f(this,h,c)},getPoints:function(h,c,p){return u(this,h,c,p)},getRandomPoint:function(h){return d(this,h)},setTo:function(h,c,p,m){return this.x=h,this.y=c,this.width=p,this.height=m,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(h,c){return c===void 0&&(c=h),this.x=h,this.y=c,this},setSize:function(h,c){return c===void 0&&(c=h),this.width=h,this.height=c,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(h){return h===void 0&&(h=new a),h.setTo(this.x,this.y,this.right,this.y),h},getLineB:function(h){return h===void 0&&(h=new a),h.setTo(this.right,this.y,this.right,this.bottom),h},getLineC:function(h){return h===void 0&&(h=new a),h.setTo(this.right,this.bottom,this.x,this.bottom),h},getLineD:function(h){return h===void 0&&(h=new a),h.setTo(this.x,this.bottom,this.x,this.y),h},left:{get:function(){return this.x},set:function(h){h>=this.right?this.width=0:this.width=this.right-h,this.x=h}},right:{get:function(){return this.x+this.width},set:function(h){h<=this.x?this.width=0:this.width=h-this.x}},top:{get:function(){return this.y},set:function(h){h>=this.bottom?this.height=0:this.height=this.bottom-h,this.y=h}},bottom:{get:function(){return this.y+this.height},set:function(h){h<=this.y?this.height=0:this.height=h-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(h){this.x=h-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(h){this.y=h-this.height/2}}});n.exports=v},94845:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return s.width===o.width&&s.height===o.height};n.exports=C},31730:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){return y===void 0&&(y=o),s.width*=o,s.height*=y,s};n.exports=C},36899:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),y=function(f,u,l){l===void 0&&(l=new o);var a=Math.min(f.x,u.x),d=Math.min(f.y,u.y),v=Math.max(f.right,u.right)-a,h=Math.max(f.bottom,u.bottom)-d;return l.setTo(a,d,v,h)};n.exports=y},93232:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841);o.Area=s(62224),o.Ceil=s(98615),o.CeilAll=s(31688),o.CenterOn=s(67502),o.Clone=s(65085),o.Contains=s(37303),o.ContainsPoint=s(96553),o.ContainsRect=s(70273),o.CopyFrom=s(43459),o.Decompose=s(77493),o.Equals=s(9219),o.FitInside=s(53751),o.FitOutside=s(16088),o.Floor=s(80774),o.FloorAll=s(83859),o.FromPoints=s(19217),o.FromXY=s(9477),o.GetAspectRatio=s(8249),o.GetCenter=s(27165),o.GetPoint=s(20812),o.GetPoints=s(34819),o.GetSize=s(51313),o.Inflate=s(86091),o.Intersection=s(53951),o.MarchingAnts=s(14649),o.MergePoints=s(33595),o.MergeRect=s(20074),o.MergeXY=s(92171),o.Offset=s(42981),o.OffsetPoint=s(46907),o.Overlaps=s(60170),o.Perimeter=s(13019),o.PerimeterPoint=s(85133),o.Random=s(26597),o.RandomOutside=s(86470),o.SameDimensions=s(94845),o.Scale=s(31730),o.Union=s(36899),n.exports=o},41658:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){var o=s.x1,y=s.y1,f=s.x2,u=s.y2,l=s.x3,a=s.y3;return Math.abs(((l-o)*(u-y)-(f-o)*(a-y))/2)};n.exports=C},39208:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(16483),y=function(f,u,l){var a=l*(Math.sqrt(3)/2),d=f,v=u,h=f+l/2,c=u+a,p=f-l/2,m=u+a;return new o(d,v,h,c,p,m)};n.exports=y},39545:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(94811),y=s(16483),f=function(u,l,a,d,v){l===void 0&&(l=null),a===void 0&&(a=1),d===void 0&&(d=1),v===void 0&&(v=[]);for(var h=o(u,l),c,p,m,x,T,P,M,E,w,R=0;R<h.length;R+=3)c=h[R],p=h[R+1],m=h[R+2],x=u[c*2]*a,T=u[c*2+1]*d,P=u[p*2]*a,M=u[p*2+1]*d,E=u[m*2]*a,w=u[m*2+1]*d,v.push(new y(x,T,P,M,E,w));return v};n.exports=f},90301:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(16483),y=function(f,u,l,a){a===void 0&&(a=l);var d=f,v=u,h=f,c=u-a,p=f+l,m=u;return new o(d,v,h,c,p,m)};n.exports=y},23707:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(97523),y=s(13584),f=function(u,l,a,d){d===void 0&&(d=o);var v=d(u),h=l-v.x,c=a-v.y;return y(u,h,c)};n.exports=f},97523:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),y=function(f,u){return u===void 0&&(u=new o),u.x=(f.x1+f.x2+f.x3)/3,u.y=(f.y1+f.y2+f.y3)/3,u};n.exports=y},24951:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099);function y(u,l,a,d){return u*d-l*a}var f=function(u,l){l===void 0&&(l=new o);var a=u.x3,d=u.y3,v=u.x1-a,h=u.y1-d,c=u.x2-a,p=u.y2-d,m=2*y(v,h,c,p),x=y(h,v*v+h*h,p,c*c+p*p),T=y(v,v*v+h*h,c,c*c+p*p);return l.x=a-x/m,l.y=d+T/m,l};n.exports=f},85614:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(96503),y=function(f,u){u===void 0&&(u=new o);var l=f.x1,a=f.y1,d=f.x2,v=f.y2,h=f.x3,c=f.y3,p=d-l,m=v-a,x=h-l,T=c-a,P=p*(l+d)+m*(a+v),M=x*(l+h)+T*(a+c),E=2*(p*(c-v)-m*(h-d)),w,R;if(Math.abs(E)<1e-6){var A=Math.min(l,d,h),L=Math.min(a,v,c);w=(Math.max(l,d,h)-A)*.5,R=(Math.max(a,v,c)-L)*.5,u.x=A+w,u.y=L+R,u.radius=Math.sqrt(w*w+R*R)}else u.x=(T*P-m*M)/E,u.y=(p*M-x*P)/E,w=u.x-l,R=u.y-a,u.radius=Math.sqrt(w*w+R*R);return u};n.exports=y},74422:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(16483),y=function(f){return new o(f.x1,f.y1,f.x2,f.y2,f.x3,f.y3)};n.exports=y},10690:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){var f=s.x3-s.x1,u=s.y3-s.y1,l=s.x2-s.x1,a=s.y2-s.y1,d=o-s.x1,v=y-s.y1,h=f*f+u*u,c=f*l+u*a,p=f*d+u*v,m=l*l+a*a,x=l*d+a*v,T=h*m-c*c,P=T===0?0:1/T,M=(m*p-c*x)*P,E=(h*x-c*p)*P;return M>=0&&E>=0&&M+E<1};n.exports=C},48653:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){y===void 0&&(y=!1),f===void 0&&(f=[]);for(var u=s.x3-s.x1,l=s.y3-s.y1,a=s.x2-s.x1,d=s.y2-s.y1,v=u*u+l*l,h=u*a+l*d,c=a*a+d*d,p=v*c-h*h,m=p===0?0:1/p,x,T,P,M,E,w,R=s.x1,A=s.y1,L=0;L<o.length&&(P=o[L].x-R,M=o[L].y-A,E=u*P+l*M,w=a*P+d*M,x=(c*E-h*w)*m,T=(v*w-h*E)*m,!(x>=0&&T>=0&&x+T<1&&(f.push({x:o[L].x,y:o[L].y}),y)));L++);return f};n.exports=C},96006:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10690),y=function(f,u){return o(f,u.x,u.y)};n.exports=y},71326:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return o.setTo(s.x1,s.y1,s.x2,s.y2,s.x3,s.y3)};n.exports=C},71694:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return o===void 0&&(o=[]),o.push({x:s.x1,y:s.y1}),o.push({x:s.x2,y:s.y2}),o.push({x:s.x3,y:s.y3}),o};n.exports=C},33522:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return s.x1===o.x1&&s.y1===o.y1&&s.x2===o.x2&&s.y2===o.y2&&s.x3===o.x3&&s.y3===o.y3};n.exports=C},20437:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),y=s(35001),f=function(u,l,a){a===void 0&&(a=new o);var d=u.getLineA(),v=u.getLineB(),h=u.getLineC();if(l<=0||l>=1)return a.x=d.x1,a.y=d.y1,a;var c=y(d),p=y(v),m=y(h),x=c+p+m,T=x*l,P=0;return T<c?(P=T/c,a.x=d.x1+(d.x2-d.x1)*P,a.y=d.y1+(d.y2-d.y1)*P):T>c+p?(T-=c+p,P=T/m,a.x=h.x1+(h.x2-h.x1)*P,a.y=h.y1+(h.y2-h.y1)*P):(T-=c,P=T/p,a.x=v.x1+(v.x2-v.x1)*P,a.y=v.y1+(v.y2-v.y1)*P),a};n.exports=f},80672:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35001),y=s(2141),f=function(u,l,a,d){d===void 0&&(d=[]);var v=u.getLineA(),h=u.getLineB(),c=u.getLineC(),p=o(v),m=o(h),x=o(c),T=p+m+x;!l&&a>0&&(l=T/a);for(var P=0;P<l;P++){var M=T*(P/l),E=0,w=new y;M<p?(E=M/p,w.x=v.x1+(v.x2-v.x1)*E,w.y=v.y1+(v.y2-v.y1)*E):M>p+m?(M-=p+m,E=M/x,w.x=c.x1+(c.x2-c.x1)*E,w.y=c.y1+(c.y2-c.y1)*E):(M-=p,E=M/m,w.x=h.x1+(h.x2-h.x1)*E,w.y=h.y1+(h.y2-h.y1)*E),d.push(w)}return d};n.exports=f},39757:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141);function y(u,l,a,d){var v=u-a,h=l-d,c=v*v+h*h;return Math.sqrt(c)}var f=function(u,l){l===void 0&&(l=new o);var a=u.x1,d=u.y1,v=u.x2,h=u.y2,c=u.x3,p=u.y3,m=y(c,p,v,h),x=y(a,d,c,p),T=y(v,h,a,d),P=m+x+T;return l.x=(a*m+v*x+c*T)/P,l.y=(d*m+h*x+p*T)/P,l};n.exports=f},13584:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){return s.x1+=o,s.y1+=y,s.x2+=o,s.y2+=y,s.x3+=o,s.y3+=y,s};n.exports=C},1376:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35001),y=function(f){var u=f.getLineA(),l=f.getLineB(),a=f.getLineC();return o(u)+o(l)+o(a)};n.exports=y},90260:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),y=function(f,u){u===void 0&&(u=new o);var l=f.x2-f.x1,a=f.y2-f.y1,d=f.x3-f.x1,v=f.y3-f.y1,h=Math.random(),c=Math.random();return h+c>=1&&(h=1-h,c=1-c),u.x=f.x1+(l*h+d*c),u.y=f.y1+(a*h+v*c),u};n.exports=y},52172:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(99614),y=s(39757),f=function(u,l){var a=y(u);return o(u,a.x,a.y,l)};n.exports=f},49907:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(99614),y=function(f,u,l){return o(f,u.x,u.y,l)};n.exports=y},99614:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){var u=Math.cos(f),l=Math.sin(f),a=s.x1-o,d=s.y1-y;return s.x1=a*u-d*l+o,s.y1=a*l+d*u+y,a=s.x2-o,d=s.y2-y,s.x2=a*u-d*l+o,s.y2=a*l+d*u+y,a=s.x3-o,d=s.y3-y,s.x3=a*u-d*l+o,s.y3=a*l+d*u+y,s};n.exports=C},16483:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(10690),f=s(20437),u=s(80672),l=s(23777),a=s(23031),d=s(90260),v=new o({initialize:function(c,p,m,x,T,P){c===void 0&&(c=0),p===void 0&&(p=0),m===void 0&&(m=0),x===void 0&&(x=0),T===void 0&&(T=0),P===void 0&&(P=0),this.type=l.TRIANGLE,this.x1=c,this.y1=p,this.x2=m,this.y2=x,this.x3=T,this.y3=P},contains:function(h,c){return y(this,h,c)},getPoint:function(h,c){return f(this,h,c)},getPoints:function(h,c,p){return u(this,h,c,p)},getRandomPoint:function(h){return d(this,h)},setTo:function(h,c,p,m,x,T){return h===void 0&&(h=0),c===void 0&&(c=0),p===void 0&&(p=0),m===void 0&&(m=0),x===void 0&&(x=0),T===void 0&&(T=0),this.x1=h,this.y1=c,this.x2=p,this.y2=m,this.x3=x,this.y3=T,this},getLineA:function(h){return h===void 0&&(h=new a),h.setTo(this.x1,this.y1,this.x2,this.y2),h},getLineB:function(h){return h===void 0&&(h=new a),h.setTo(this.x2,this.y2,this.x3,this.y3),h},getLineC:function(h){return h===void 0&&(h=new a),h.setTo(this.x3,this.y3,this.x1,this.y1),h},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(h){var c=0;this.x1<=this.x2&&this.x1<=this.x3?c=this.x1-h:this.x2<=this.x1&&this.x2<=this.x3?c=this.x2-h:c=this.x3-h,this.x1-=c,this.x2-=c,this.x3-=c}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(h){var c=0;this.x1>=this.x2&&this.x1>=this.x3?c=this.x1-h:this.x2>=this.x1&&this.x2>=this.x3?c=this.x2-h:c=this.x3-h,this.x1-=c,this.x2-=c,this.x3-=c}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(h){var c=0;this.y1<=this.y2&&this.y1<=this.y3?c=this.y1-h:this.y2<=this.y1&&this.y2<=this.y3?c=this.y2-h:c=this.y3-h,this.y1-=c,this.y2-=c,this.y3-=c}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(h){var c=0;this.y1>=this.y2&&this.y1>=this.y3?c=this.y1-h:this.y2>=this.y1&&this.y2>=this.y3?c=this.y2-h:c=this.y3-h,this.y1-=c,this.y2-=c,this.y3-=c}}});n.exports=v},84435:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(16483);o.Area=s(41658),o.BuildEquilateral=s(39208),o.BuildFromPolygon=s(39545),o.BuildRight=s(90301),o.CenterOn=s(23707),o.Centroid=s(97523),o.CircumCenter=s(24951),o.CircumCircle=s(85614),o.Clone=s(74422),o.Contains=s(10690),o.ContainsArray=s(48653),o.ContainsPoint=s(96006),o.CopyFrom=s(71326),o.Decompose=s(71694),o.Equals=s(33522),o.GetPoint=s(20437),o.GetPoints=s(80672),o.InCenter=s(39757),o.Perimeter=s(1376),o.Offset=s(13584),o.Random=s(90260),o.Rotate=s(52172),o.RotateAroundPoint=s(49907),o.RotateAroundXY=s(99614),n.exports=o},74457:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){return{gameObject:s,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:o,hitAreaCallback:y,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};n.exports=C},84409:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return function(y,f,u,l){var a=s.getPixelAlpha(f,u,l.texture.key,l.frame.name);return a&&a>=o}};n.exports=C},7003:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(93301),f=s(50792),u=s(8214),l=s(8443),a=s(78970),d=s(85098),v=s(42515),h=s(36210),c=s(61340),p=s(85955),m=new o({initialize:function(T,P){this.game=T,this.scaleManager,this.canvas,this.config=P,this.enabled=!0,this.events=new f,this.isOver=!0,this.defaultCursor="",this.keyboard=P.inputKeyboard?new a(this):null,this.mouse=P.inputMouse?new d(this):null,this.touch=P.inputTouch?new h(this):null,this.pointers=[],this.pointersTotal=P.inputActivePointers;for(var M=0;M<=this.pointersTotal;M++){var E=new v(this,M);E.smoothFactor=P.inputSmoothFactor,this.pointers.push(E)}this.mousePointer=P.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new c,this._tempMatrix2=new c,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],T.events.once(l.BOOT,this.boot,this)},boot:function(){var x=this.game,T=x.events;this.canvas=x.canvas,this.scaleManager=x.scale,this.events.emit(u.MANAGER_BOOT),T.on(l.PRE_RENDER,this.preRender,this),T.once(l.DESTROY,this.destroy,this)},setCanvasOver:function(x){this.isOver=!0,this.events.emit(u.GAME_OVER,x)},setCanvasOut:function(x){this.isOver=!1,this.events.emit(u.GAME_OUT,x)},preRender:function(){var x=this.game.loop.now,T=this.game.loop.delta,P=this.game.scene.getScenes(!0,!0);this.time=x,this.events.emit(u.MANAGER_UPDATE);for(var M=0;M<P.length;M++){var E=P[M];if(E.sys.input&&E.sys.input.updatePoll(x,T)&&this.globalTopOnly)return}},setDefaultCursor:function(x){this.defaultCursor=x,this.canvas.style.cursor!==x&&(this.canvas.style.cursor=x)},setCursor:function(x){x.cursor&&(this.canvas.style.cursor=x.cursor)},resetCursor:function(x,T){(T||x&&x.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(x){x===void 0&&(x=1);var T=[];this.pointersTotal+x>10&&(x=10-this.pointersTotal);for(var P=0;P<x;P++){var M=this.pointers.length,E=new v(this,M);E.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(E),this.pointersTotal++,T.push(E)}return T},updateInputPlugins:function(x,T){var P=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var M=0;M<P.length;M++){var E=P[M];if(E.sys.input){var w=E.sys.input.update(x,T);if(w&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(x){for(var T=this.pointers,P=[],M=0;M<x.changedTouches.length;M++)for(var E=x.changedTouches[M],w=1;w<T.length;w++){var R=T[w];if(!R.active){R.touchstart(E,x),this.activePointer=R,P.push(R);break}}this.updateInputPlugins(y.TOUCH_START,P)},onTouchMove:function(x){for(var T=this.pointers,P=[],M=0;M<x.changedTouches.length;M++)for(var E=x.changedTouches[M],w=1;w<T.length;w++){var R=T[w];if(R.active&&R.identifier===E.identifier){var A=document.elementFromPoint(E.clientX,E.clientY),L=A===this.canvas;!this.isOver&&L?this.setCanvasOver(x):this.isOver&&!L&&this.setCanvasOut(x),this.isOver&&(R.touchmove(E,x),this.activePointer=R,P.push(R));break}}this.updateInputPlugins(y.TOUCH_MOVE,P)},onTouchEnd:function(x){for(var T=this.pointers,P=[],M=0;M<x.changedTouches.length;M++)for(var E=x.changedTouches[M],w=1;w<T.length;w++){var R=T[w];if(R.active&&R.identifier===E.identifier){R.touchend(E,x),P.push(R);break}}this.updateInputPlugins(y.TOUCH_END,P)},onTouchCancel:function(x){for(var T=this.pointers,P=[],M=0;M<x.changedTouches.length;M++)for(var E=x.changedTouches[M],w=1;w<T.length;w++){var R=T[w];if(R.active&&R.identifier===E.identifier){R.touchcancel(E,x),P.push(R);break}}this.updateInputPlugins(y.TOUCH_CANCEL,P)},onMouseDown:function(x){var T=this.mousePointer;T.down(x),T.updateMotion(),this.activePointer=T,this.updateInputPlugins(y.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(x){var T=this.mousePointer;T.move(x),T.updateMotion(),this.activePointer=T,this.updateInputPlugins(y.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(x){var T=this.mousePointer;T.up(x),T.updateMotion(),this.activePointer=T,this.updateInputPlugins(y.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(x){var T=this.mousePointer;T.wheel(x),this.activePointer=T,this.updateInputPlugins(y.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(x){var T=this.mouse.locked;this.mousePointer.locked=T,this.events.emit(u.POINTERLOCK_CHANGE,x,T)},inputCandidate:function(x,T){var P=x.input;if(!P||!P.enabled||!x.willRender(T))return!1;var M=!0,E=x.parentContainer;if(E)do{if(!E.willRender(T)){M=!1;break}E=E.parentContainer}while(E);return M},hitTest:function(x,T,P,M){M===void 0&&(M=this._tempHitTest);var E=this._tempPoint,w=P.scrollX,R=P.scrollY;M.length=0;var A=x.x,L=x.y;P.getWorldPoint(A,L,E),x.worldX=E.x,x.worldY=E.y;for(var b={x:0,y:0},O=this._tempMatrix,F=this._tempMatrix2,D=0;D<T.length;D++){var B=T[D];if(this.inputCandidate(B,P)){var N=E.x+w*B.scrollFactorX-w,z=E.y+R*B.scrollFactorY-R;B.parentContainer?(B.getWorldTransformMatrix(O,F),O.applyInverse(N,z,b)):p(N,z,B.x,B.y,B.rotation,B.scaleX,B.scaleY,b),this.pointWithinHitArea(B,b.x,b.y)&&M.push(B)}}return M},pointWithinHitArea:function(x,T,P){T+=x.displayOriginX,P+=x.displayOriginY;var M=x.input;return M&&M.hitAreaCallback(M.hitArea,T,P,x)?(M.localX=T,M.localY=P,!0):!1},pointWithinInteractiveObject:function(x,T,P){return x.hitArea?(T+=x.gameObject.displayOriginX,P+=x.gameObject.displayOriginY,x.localX=T,x.localY=P,x.hitAreaCallback(x.hitArea,T,P,x)):!1},transformPointer:function(x,T,P,M){var E=x.position,w=x.prevPosition;w.x=E.x,w.y=E.y;var R=this.scaleManager.transformX(T),A=this.scaleManager.transformY(P),L=x.smoothFactor;!M||L===0?(E.x=R,E.y=A):(E.x=R*L+w.x*(1-L),E.y=A*L+w.y*(1-L))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(l.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var x=0;x<this.pointers.length;x++)this.pointers[x].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});n.exports=m},48205:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(96503),y=s(87902),f=s(83419),u=s(93301),l=s(74457),a=s(84409),d=s(20339),v=s(8497),h=s(81154),c=s(8214),p=s(50792),m=s(95540),x=s(23777),T=s(89639),P=s(41212),M=s(37277),E=s(87841),w=s(37303),R=s(44594),A=s(16483),L=s(10690),b=new f({Extends:p,initialize:function(F){p.call(this),this.scene=F,this.systems=F.sys,this.settings=F.sys.settings,this.manager=F.sys.game.input,this.pluginEvents=new p,this.enabled=!0,this.displayList,this.cameras,T.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var D={cancelled:!1};this._eventContainer={stopPropagation:function(){D.cancelled=!0}},this._eventData=D,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,F.sys.events.once(R.BOOT,this.boot,this),F.sys.events.on(R.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(R.DESTROY,this.destroy,this),this.pluginEvents.emit(c.BOOT)},start:function(){var O=this.systems.events;O.on(R.TRANSITION_START,this.transitionIn,this),O.on(R.TRANSITION_OUT,this.transitionOut,this),O.on(R.TRANSITION_COMPLETE,this.transitionComplete,this),O.on(R.PRE_UPDATE,this.preUpdate,this),O.once(R.SHUTDOWN,this.shutdown,this),this.manager.events.on(c.GAME_OUT,this.onGameOut,this),this.manager.events.on(c.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(c.START)},onGameOver:function(O){this.isActive()&&this.emit(c.GAME_OVER,O.timeStamp,O)},onGameOut:function(O){this.isActive()&&this.emit(c.GAME_OUT,O.timeStamp,O)},preUpdate:function(){this.pluginEvents.emit(c.PRE_UPDATE);var O=this._pendingRemoval,F=this._pendingInsertion,D=O.length,B=F.length;if(!(D===0&&B===0)){for(var N=this._list,z=0;z<D;z++){var W=O[z],X=N.indexOf(W);X>-1&&(N.splice(X,1),this.clear(W,!0))}this._pendingRemoval.length=0,this._list=N.concat(F.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(O){this.manager&&this.manager.setCursor(O)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(O,F){if(!this.isActive())return!1;if(this.pluginEvents.emit(c.UPDATE,O,F),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var D,B=this.manager,N=B.pointers;for(D=0;D<N.length;D++)N[D].updateMotion();if(this._list.length===0)return!1;var z=this.pollRate;if(z===-1)return!1;if(z>0)if(this._pollTimer-=F,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var W=!1;for(D=0;D<N.length;D++){var X=0,k=N[D];this._tempZones=[],this._temp=this.hitTestPointer(k),this.sortGameObjects(this._temp,k),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),X+=this.processOverOutEvents(k),this.getDragState(k)===2&&this.processDragThresholdEvent(k,O),X>0&&(W=!0)}return W},update:function(O,F){if(!this.isActive())return!1;for(var D=!1,B=0;B<F.length;B++){var N=0,z=F[B];switch(this._tempZones=[],this._temp=this.hitTestPointer(z),this.sortGameObjects(this._temp,z),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),O){case u.MOUSE_DOWN:N+=this.processDragDownEvent(z),N+=this.processDownEvents(z),N+=this.processOverOutEvents(z);break;case u.MOUSE_UP:N+=this.processDragUpEvent(z),N+=this.processUpEvents(z),N+=this.processOverOutEvents(z);break;case u.TOUCH_START:N+=this.processDragDownEvent(z),N+=this.processDownEvents(z),N+=this.processOverEvents(z);break;case u.TOUCH_END:case u.TOUCH_CANCEL:N+=this.processDragUpEvent(z),N+=this.processUpEvents(z),N+=this.processOutEvents(z);break;case u.MOUSE_MOVE:case u.TOUCH_MOVE:N+=this.processDragMoveEvent(z),N+=this.processMoveEvents(z),N+=this.processOverOutEvents(z);break;case u.MOUSE_WHEEL:N+=this.processWheelEvent(z);break}N>0&&(D=!0)}return this._updatedThisFrame=!0,D},clear:function(O,F){F===void 0&&(F=!1),this.disable(O);var D=O.input;D&&(this.removeDebug(O),this.manager.resetCursor(D),D.gameObject=void 0,D.target=void 0,D.hitArea=void 0,D.hitAreaCallback=void 0,D.callbackContext=void 0,O.input=null),F||this.queueForRemoval(O);var B=this._draggable.indexOf(O);return B>-1&&this._draggable.splice(B,1),O},disable:function(O,F){F===void 0&&(F=!1);var D=O.input;D&&(D.enabled=!1,D.dragState=0);for(var B=this._drag,N=this._over,z=this.manager,W=0,X;W<z.pointers.length;W++)X=B[W].indexOf(O),X>-1&&B[W].splice(X,1),X=N[W].indexOf(O),X>-1&&N[W].splice(X,1);return F&&this.resetCursor(),this},enable:function(O,F,D,B){return B===void 0&&(B=!1),O.input?O.input.enabled=!0:this.setHitArea(O,F,D),O.input&&B&&!O.input.dropZone&&(O.input.dropZone=B),this},hitTestPointer:function(O){for(var F=this.cameras.getCamerasBelowPointer(O),D=0;D<F.length;D++){for(var B=F[D],N=this.manager.hitTest(O,this._list,B),z=0;z<N.length;z++){var W=N[z];W.input.dropZone&&this._tempZones.push(W)}if(N.length>0)return O.camera=B,N}return O.camera=F[0],[]},processDownEvents:function(O){var F=0,D=this._temp,B=this._eventData,N=this._eventContainer;B.cancelled=!1;for(var z=0;z<D.length;z++){var W=D[z];if(!(!W.input||!W.input.enabled)&&(F++,W.emit(c.GAMEOBJECT_POINTER_DOWN,O,W.input.localX,W.input.localY,N),B.cancelled||!this.isActive()||W.input&&W.input.enabled&&(this.emit(c.GAMEOBJECT_DOWN,O,W,N),B.cancelled||!this.isActive())))break}return!B.cancelled&&this.isActive()&&(O.downElement===this.manager.game.canvas?this.emit(c.POINTER_DOWN,O,D):this.emit(c.POINTER_DOWN_OUTSIDE,O)),F},getDragState:function(O){return this._dragState[O.id]},setDragState:function(O,F){this._dragState[O.id]=F},processDragThresholdEvent:function(O,F){var D=!1,B=this.dragTimeThreshold,N=this.dragDistanceThreshold;if((N>0&&d(O.x,O.y,O.downX,O.downY)>=N||B>0&&F>=O.downTime+B)&&(D=!0),D)return this.setDragState(O,3),this.processDragStartList(O)},processDragStartList:function(O){if(this.getDragState(O)!==3)return 0;var F=this._drag[O.id];F.length>1&&(F=F.slice(0));for(var D=0;D<F.length;D++){var B=F[D],N=B.input;N.dragState=2,N.dragStartX=B.x,N.dragStartY=B.y,N.dragStartXGlobal=O.worldX,N.dragStartYGlobal=O.worldY,N.dragStartCamera=O.camera,N.dragX=N.dragStartXGlobal-N.dragStartX,N.dragY=N.dragStartYGlobal-N.dragStartY,B.emit(c.GAMEOBJECT_DRAG_START,O,N.dragX,N.dragY),this.emit(c.DRAG_START,O,B)}return this.setDragState(O,4),F.length},processDragDownEvent:function(O){var F=this._temp;if(this._draggable.length===0||F.length===0||!O.primaryDown||this.getDragState(O)!==0)return 0;this.setDragState(O,1);for(var D=[],B=0;B<F.length;B++){var N=F[B];N.input.draggable&&N.input.dragState===0&&D.push(N)}return D.length===0?(this.setDragState(O,0),0):(D.length>1&&(this.sortGameObjects(D,O),this.topOnly&&D.splice(1)),this._drag[O.id]=D,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(O,3),this.processDragStartList(O)):(this.setDragState(O,2),0))},processDragMoveEvent:function(O){if(this.getDragState(O)===2&&this.processDragThresholdEvent(O,this.manager.game.loop.now),this.getDragState(O)!==4)return 0;var F=this._tempZones,D=this._drag[O.id];D.length>1&&(D=D.slice(0));for(var B=0;B<D.length;B++){var N=D[B],z=N.input,W=z.target;if(W){var X=F.indexOf(W);X===0?(N.emit(c.GAMEOBJECT_DRAG_OVER,O,W),this.emit(c.DRAG_OVER,O,N,W)):X>0?(N.emit(c.GAMEOBJECT_DRAG_LEAVE,O,W),this.emit(c.DRAG_LEAVE,O,N,W),z.target=F[0],W=z.target,N.emit(c.GAMEOBJECT_DRAG_ENTER,O,W),this.emit(c.DRAG_ENTER,O,N,W)):(N.emit(c.GAMEOBJECT_DRAG_LEAVE,O,W),this.emit(c.DRAG_LEAVE,O,N,W),F[0]?(z.target=F[0],W=z.target,N.emit(c.GAMEOBJECT_DRAG_ENTER,O,W),this.emit(c.DRAG_ENTER,O,N,W)):z.target=null)}else!W&&F[0]&&(z.target=F[0],W=z.target,N.emit(c.GAMEOBJECT_DRAG_ENTER,O,W),this.emit(c.DRAG_ENTER,O,N,W));var k,V,I=O.positionToCamera(z.dragStartCamera);if(!N.parentContainer)k=I.x-z.dragX,V=I.y-z.dragY;else{var U=I.x-z.dragStartXGlobal,G=I.y-z.dragStartYGlobal,Y=N.getParentRotation(),H=U*Math.cos(Y)+G*Math.sin(Y),$=G*Math.cos(Y)-U*Math.sin(Y);H*=1/N.parentContainer.scaleX,$*=1/N.parentContainer.scaleY,k=H+z.dragStartX,V=$+z.dragStartY}N.emit(c.GAMEOBJECT_DRAG,O,k,V),this.emit(c.DRAG,O,N,k,V)}return D.length},processDragUpEvent:function(O){var F=this._drag[O.id];F.length>1&&(F=F.slice(0));for(var D=0;D<F.length;D++){var B=F[D],N=B.input;if(N&&N.dragState===2){N.dragState=0,N.dragX=N.localX-B.displayOriginX,N.dragY=N.localY-B.displayOriginY,N.dragStartCamera=null;var z=!1,W=N.target;W&&(B.emit(c.GAMEOBJECT_DROP,O,W),this.emit(c.DROP,O,B,W),N.target=null,z=!0),B.input&&B.input.enabled&&(B.emit(c.GAMEOBJECT_DRAG_END,O,N.dragX,N.dragY,z),this.emit(c.DRAG_END,O,B,z))}}return this.setDragState(O,0),F.splice(0),0},processMoveEvents:function(O){var F=0,D=this._temp,B=this._eventData,N=this._eventContainer;B.cancelled=!1;for(var z=0;z<D.length;z++){var W=D[z];if(!(!W.input||!W.input.enabled)&&(F++,W.emit(c.GAMEOBJECT_POINTER_MOVE,O,W.input.localX,W.input.localY,N),B.cancelled||!this.isActive()||W.input&&W.input.enabled&&(this.emit(c.GAMEOBJECT_MOVE,O,W,N),B.cancelled||!this.isActive()||this.topOnly)))break}return!B.cancelled&&this.isActive()&&this.emit(c.POINTER_MOVE,O,D),F},processWheelEvent:function(O){var F=0,D=this._temp,B=this._eventData,N=this._eventContainer;B.cancelled=!1;for(var z=O.deltaX,W=O.deltaY,X=O.deltaZ,k=0;k<D.length;k++){var V=D[k];if(!(!V.input||!V.input.enabled)&&(F++,V.emit(c.GAMEOBJECT_POINTER_WHEEL,O,z,W,X,N),B.cancelled||!this.isActive()||V.input&&V.input.enabled&&(this.emit(c.GAMEOBJECT_WHEEL,O,V,z,W,X,N),B.cancelled||!this.isActive())))break}return!B.cancelled&&this.isActive()&&this.emit(c.POINTER_WHEEL,O,D,z,W,X),F},processOverEvents:function(O){var F=this._temp,D=0,B=F.length,N=[];if(B>0){var z=this.manager,W=this._eventData,X=this._eventContainer;W.cancelled=!1;for(var k=0;k<B;k++){var V=F[k];if(!(!V.input||!V.input.enabled)&&(N.push(V),z.setCursor(V.input),V.emit(c.GAMEOBJECT_POINTER_OVER,O,V.input.localX,V.input.localY,X),D++,W.cancelled||!this.isActive()||V.input&&V.input.enabled&&(this.emit(c.GAMEOBJECT_OVER,O,V,X),W.cancelled||!this.isActive())))break}!W.cancelled&&this.isActive()&&this.emit(c.POINTER_OVER,O,N)}return this._over[O.id]=N,D},processOutEvents:function(O){var F=this._over[O.id],D=0,B=F.length;if(B>0){var N=this.manager,z=this._eventData,W=this._eventContainer;z.cancelled=!1,this.sortGameObjects(F,O);for(var X=0;X<B;X++){var k=F[X];if(k=F[X],!(!k.input||!k.input.enabled)&&(N.resetCursor(k.input),k.emit(c.GAMEOBJECT_POINTER_OUT,O,W),D++,z.cancelled||!this.isActive()||k.input&&k.input.enabled&&(this.emit(c.GAMEOBJECT_OUT,O,k,W),z.cancelled||!this.isActive())))break}!z.cancelled&&this.isActive()&&this.emit(c.POINTER_OUT,O,F),this._over[O.id]=[]}return D},processOverOutEvents:function(O){var F=this._temp,D,B,N=[],z=[],W=[],X=this._over[O.id],k=this._drag[O.id],V=this.manager;for(D=0;D<X.length;D++)B=X[D],F.indexOf(B)===-1&&k.indexOf(B)===-1?N.push(B):W.push(B);for(D=0;D<F.length;D++)B=F[D],X.indexOf(B)===-1&&z.push(B);var I=N.length,U=0,G=this._eventData,Y=this._eventContainer;if(G.cancelled=!1,I>0){for(this.sortGameObjects(N,O),D=0;D<I&&(B=N[D],!(!(!B.input||!B.input.enabled)&&(V.resetCursor(B.input),B.emit(c.GAMEOBJECT_POINTER_OUT,O,Y),U++,G.cancelled||!this.isActive()||B.input&&B.input.enabled&&(this.emit(c.GAMEOBJECT_OUT,O,B,Y),G.cancelled||!this.isActive()))));D++);(!G.cancelled||this.isActive())&&this.emit(c.POINTER_OUT,O,N)}if(I=z.length,G.cancelled=!1,I>0){for(this.sortGameObjects(z,O),D=0;D<I&&(B=z[D],!(!(!B.input||!B.input.enabled)&&(V.setCursor(B.input),B.emit(c.GAMEOBJECT_POINTER_OVER,O,B.input.localX,B.input.localY,Y),U++,G.cancelled||!this.isActive()||B.input&&B.input.enabled&&(this.emit(c.GAMEOBJECT_OVER,O,B,Y),G.cancelled||!this.isActive()))));D++);!G.cancelled&&this.isActive()&&this.emit(c.POINTER_OVER,O,z)}return X=W.concat(z),this._over[O.id]=this.sortGameObjects(X,O),U},processUpEvents:function(O){var F=this._temp,D=this._eventData,B=this._eventContainer;D.cancelled=!1;for(var N=0;N<F.length;N++){var z=F[N];if(!(!z.input||!z.input.enabled)&&(z.emit(c.GAMEOBJECT_POINTER_UP,O,z.input.localX,z.input.localY,B),D.cancelled||!this.isActive()||z.input&&z.input.enabled&&(this.emit(c.GAMEOBJECT_UP,O,z,B),D.cancelled||!this.isActive())))break}return!D.cancelled&&this.isActive()&&(O.upElement===this.manager.game.canvas?this.emit(c.POINTER_UP,O,F):this.emit(c.POINTER_UP_OUTSIDE,O)),F.length},forceDownState:function(O,F){this.forceState(O,F,c.GAMEOBJECT_POINTER_DOWN,c.GAMEOBJECT_DOWN,!1)},forceUpState:function(O,F){this.forceState(O,F,c.GAMEOBJECT_POINTER_UP,c.GAMEOBJECT_UP,!1)},forceOverState:function(O,F){this.forceState(O,F,c.GAMEOBJECT_POINTER_OVER,c.GAMEOBJECT_OVER,!0)},forceOutState:function(O,F){this.forceState(O,F,c.GAMEOBJECT_POINTER_OUT,c.GAMEOBJECT_OUT,!1)},forceState:function(O,F,D,B,N){var z=this._eventData,W=this._eventContainer;z.cancelled=!1,F.input&&F.input.enabled&&(F.emit(D,O,F.input.localX,F.input.localY,W),N&&this.setCursor(F.input),!z.cancelled&&this.isActive()&&F.input&&F.input.enabled&&this.emit(B,O,F,W))},queueForInsertion:function(O){return this._pendingInsertion.indexOf(O)===-1&&this._list.indexOf(O)===-1&&this._pendingInsertion.push(O),this},queueForRemoval:function(O){return this._pendingRemoval.push(O),this},setDraggable:function(O,F){F===void 0&&(F=!0),Array.isArray(O)||(O=[O]);for(var D=0;D<O.length;D++){var B=O[D];B.input.draggable=F;var N=this._draggable.indexOf(B);F&&N===-1?this._draggable.push(B):!F&&N>-1&&this._draggable.splice(N,1)}return this},makePixelPerfect:function(O){O===void 0&&(O=1);var F=this.systems.textures;return a(F,O)},setHitArea:function(O,F,D){if(F===void 0)return this.setHitAreaFromTexture(O);Array.isArray(O)||(O=[O]);var B=!1,N=!1,z=!1,W=!1,X=!1,k=!0;if(P(F)&&Object.keys(F).length){var V=F,I=O.some(function($){return $.hasOwnProperty("faces")});if(!I){F=m(V,"hitArea",null),D=m(V,"hitAreaCallback",null),X=m(V,"pixelPerfect",!1);var U=m(V,"alphaTolerance",1);X&&(F={},D=this.makePixelPerfect(U))}B=m(V,"draggable",!1),N=m(V,"dropZone",!1),z=m(V,"cursor",!1),W=m(V,"useHandCursor",!1),(!F||!D)&&(this.setHitAreaFromTexture(O),k=!1)}else typeof F=="function"&&!D&&(D=F,F={});for(var G=0;G<O.length;G++){var Y=O[G];if(X&&Y.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var H=Y.input?Y.input:l(Y,F,D);H.customHitArea=k,H.dropZone=N,H.cursor=W?"pointer":z,Y.input=H,B&&this.setDraggable(Y),this.queueForInsertion(Y)}return this},setHitAreaCircle:function(O,F,D,B,N){N===void 0&&(N=y);var z=new o(F,D,B);return this.setHitArea(O,z,N)},setHitAreaEllipse:function(O,F,D,B,N,z){z===void 0&&(z=h);var W=new v(F,D,B,N);return this.setHitArea(O,W,z)},setHitAreaFromTexture:function(O,F){F===void 0&&(F=w),Array.isArray(O)||(O=[O]);for(var D=0;D<O.length;D++){var B=O[D],N=B.frame,z=0,W=0;if(B.width?(z=B.width,W=B.height):N&&(z=N.realWidth,W=N.realHeight),B.type==="Container"&&(z===0||W===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}z!==0&&W!==0&&(B.input=l(B,new E(0,0,z,W),F),this.queueForInsertion(B))}return this},setHitAreaRectangle:function(O,F,D,B,N,z){z===void 0&&(z=w);var W=new E(F,D,B,N);return this.setHitArea(O,W,z)},setHitAreaTriangle:function(O,F,D,B,N,z,W,X){X===void 0&&(X=L);var k=new A(F,D,B,N,z,W);return this.setHitArea(O,k,X)},enableDebug:function(O,F){F===void 0&&(F=65280);var D=O.input;if(!D||!D.hitArea)return this;var B=D.hitArea,N=B.type,z=D.hitAreaDebug,W=this.systems.add,X=this.systems.updateList;z&&(X.remove(z),z.destroy(),z=null);var k=0,V=0;switch(N){case x.CIRCLE:z=W.arc(0,0,B.radius),k=B.x-B.radius,V=B.y-B.radius;break;case x.ELLIPSE:z=W.ellipse(0,0,B.width,B.height),k=B.x-B.width/2,V=B.y-B.height/2;break;case x.LINE:z=W.line(0,0,B.x1,B.y1,B.x2,B.y2);break;case x.POLYGON:z=W.polygon(0,0,B.points);break;case x.RECTANGLE:z=W.rectangle(0,0,B.width,B.height),k=B.x,V=B.y;break;case x.TRIANGLE:z=W.triangle(0,0,B.x1,B.y1,B.x2,B.y2,B.x3,B.y3);break}return z&&(z.isFilled=!1,z.strokeColor=F,z.preUpdate=function(){z.setVisible(O.visible),z.setStrokeStyle(1/O.scale,z.strokeColor),z.setDisplayOrigin(O.displayOriginX,O.displayOriginY);var I=O.x,U=O.y,G=O.rotation,Y=O.scaleX,H=O.scaleY;if(O.parentContainer){var $=O.getWorldTransformMatrix();I=$.tx,U=$.ty,G=$.rotation,Y=$.scaleX,H=$.scaleY}z.setRotation(G),z.setScale(Y,H),z.setPosition(I+k*Y,U+V*H),z.setScrollFactor(O.scrollFactorX,O.scrollFactorY),z.setDepth(O.depth)},X.add(z),D.hitAreaDebug=z),this},removeDebug:function(O){var F=O.input;if(F&&F.hitAreaDebug){var D=F.hitAreaDebug;D.destroy(),F.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(O){return this.pollRate=O,this._pollTimer=0,this},setGlobalTopOnly:function(O){return this.manager.globalTopOnly=O,this},setTopOnly:function(O){return this.topOnly=O,this},sortGameObjects:function(O,F){if(O.length<2||!F.camera)return O;var D=F.camera.renderList;return O.sort(function(B,N){var z=Math.max(D.indexOf(B),0),W=Math.max(D.indexOf(N),0);return W-z})},sortDropZones:function(O){return O.length<2?O:(this.scene.sys.depthSort(),O.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(O,F){if(!O.parentContainer&&!F.parentContainer)return this.displayList.getIndex(F)-this.displayList.getIndex(O);if(O.parentContainer===F.parentContainer)return F.parentContainer.getIndex(F)-O.parentContainer.getIndex(O);if(O.parentContainer===F)return-1;if(F.parentContainer===O)return 1;for(var D=O.getIndexList(),B=F.getIndexList(),N=Math.min(D.length,B.length),z=0;z<N;z++){var W=D[z],X=B[z];if(W!==X)return X-W}return B.length-D.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(O){return this.manager.addPointer(O)},setDefaultCursor:function(O){return this.manager.setDefaultCursor(O),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(c.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var O=0;O<10;O++)this._drag[O]=[],this._over[O]=[];this.removeAllListeners();var F=this.manager;F.canvas.style.cursor=F.defaultCursor;var D=this.systems.events;D.off(R.TRANSITION_START,this.transitionIn,this),D.off(R.TRANSITION_OUT,this.transitionOut,this),D.off(R.TRANSITION_COMPLETE,this.transitionComplete,this),D.off(R.PRE_UPDATE,this.preUpdate,this),F.events.off(c.GAME_OUT,this.onGameOut,this),F.events.off(c.GAME_OVER,this.onGameOver,this),D.off(R.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var O=this.manager.pointers,F=0;F<O.length;F++)O[F].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(c.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(R.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});M.register("InputPlugin",b,"input"),n.exports=b},89639:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35154),y={},f={};f.register=function(u,l,a,d,v){y[u]={plugin:l,mapping:a,settingsKey:d,configKey:v}},f.getPlugin=function(u){return y[u]},f.install=function(u){var l=u.scene.sys,a=l.settings.input,d=l.game.config;for(var v in y){var h=y[v].plugin,c=y[v].mapping,p=y[v].settingsKey,m=y[v].configKey;o(a,p,d[m])&&(u[c]=new h(u))}},f.remove=function(u){y.hasOwnProperty(u)&&delete y[u]},n.exports=f},42515:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(31040),y=s(83419),f=s(20339),u=s(43855),l=s(47235),a=s(26099),d=s(25892),v=new y({initialize:function(c,p){this.manager=c,this.id=p,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new a,this.prevPosition=new a,this.midPoint=new a(-1,-1),this.velocity=new a,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=p===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(h){var c=h.getWorldPoint(this.x,this.y);return this.worldX=c.x,this.worldY=c.y,this},positionToCamera:function(h,c){return h.getWorldPoint(this.x,this.y,c)},updateMotion:function(){var h=this.position.x,c=this.position.y,p=this.midPoint.x,m=this.midPoint.y;if(!(h===p&&c===m)){var x=l(this.motionFactor,p,h),T=l(this.motionFactor,m,c);u(x,h,.1)&&(x=h),u(T,c,.1)&&(T=c),this.midPoint.set(x,T);var P=h-x,M=c-T;this.velocity.set(P,M),this.angle=o(x,T,h,c),this.distance=Math.sqrt(P*P+M*M)}},up:function(h){"buttons"in h&&(this.buttons=h.buttons),this.event=h,this.button=h.button,this.upElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),h.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=h.timeStamp,this.wasTouch=!1)},down:function(h){"buttons"in h&&(this.buttons=h.buttons),this.event=h,this.button=h.button,this.downElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),h.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),d.macOS&&h.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=h.timeStamp),this.wasTouch=!1},move:function(h){"buttons"in h&&(this.buttons=h.buttons),this.event=h,this.manager.transformPointer(this,h.pageX,h.pageY,!0),this.locked&&(this.movementX=h.movementX||h.mozMovementX||h.webkitMovementX||0,this.movementY=h.movementY||h.mozMovementY||h.webkitMovementY||0),this.moveTime=h.timeStamp,this.wasTouch=!1},wheel:function(h){"buttons"in h&&(this.buttons=h.buttons),this.event=h,this.manager.transformPointer(this,h.pageX,h.pageY,!1),this.deltaX=h.deltaX,this.deltaY=h.deltaY,this.deltaZ=h.deltaZ,this.wasTouch=!1},touchstart:function(h,c){h.pointerId&&(this.pointerId=h.pointerId),this.identifier=h.identifier,this.target=h.target,this.active=!0,this.buttons=1,this.event=c,this.downElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=c.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(h,c){this.event=c,this.manager.transformPointer(this,h.pageX,h.pageY,!0),this.moveTime=c.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(h,c){this.buttons=0,this.event=c,this.upElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=c.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(h,c){this.buttons=0,this.event=c,this.upElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=c.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?f(this.downX,this.downY,this.x,this.y):f(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(h,c){h===void 0&&(h=10),c===void 0&&(c=[]);for(var p=this.prevPosition.x,m=this.prevPosition.y,x=this.position.x,T=this.position.y,P=0;P<h;P++){var M=1/h*P;c[P]={x:l(M,p,x),y:l(M,m,T)}}return c},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(h){this.position.x=h}},y:{get:function(){return this.position.y},set:function(h){this.position.y=h}},time:{get:function(){return this.event?this.event.timeStamp:0}}});n.exports=v},93301:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};n.exports=C},7179:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},85375:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},39843:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"},23388:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragenter"},16133:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"},27829:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragleave"},53904:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragover"},56058:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"},2642:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drop"},88171:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectdown"},36147:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"},71692:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragenter"},96149:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"},81285:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragleave"},74048:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragover"},21322:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"},49378:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drop"},86754:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectmove"},86433:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectout"},60709:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectover"},24081:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdown"},11172:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointermove"},18907:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerout"},95579:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerover"},35368:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerup"},26972:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wheel"},47078:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectup"},73802:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectwheel"},56718:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameout"},25936:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameover"},27503:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},50852:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="process"},96438:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},59152:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerlockchange"},47777:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdown"},27957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdownoutside"},19444:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointermove"},54251:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerout"},18667:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerover"},27192:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerup"},24652:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerupoutside"},45132:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wheel"},44512:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="preupdate"},15757:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="shutdown"},41637:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},93802:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},8214:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BOOT:s(7179),DESTROY:s(85375),DRAG_END:s(39843),DRAG_ENTER:s(23388),DRAG:s(16133),DRAG_LEAVE:s(27829),DRAG_OVER:s(53904),DRAG_START:s(56058),DROP:s(2642),GAME_OUT:s(56718),GAME_OVER:s(25936),GAMEOBJECT_DOWN:s(88171),GAMEOBJECT_DRAG_END:s(36147),GAMEOBJECT_DRAG_ENTER:s(71692),GAMEOBJECT_DRAG:s(96149),GAMEOBJECT_DRAG_LEAVE:s(81285),GAMEOBJECT_DRAG_OVER:s(74048),GAMEOBJECT_DRAG_START:s(21322),GAMEOBJECT_DROP:s(49378),GAMEOBJECT_MOVE:s(86754),GAMEOBJECT_OUT:s(86433),GAMEOBJECT_OVER:s(60709),GAMEOBJECT_POINTER_DOWN:s(24081),GAMEOBJECT_POINTER_MOVE:s(11172),GAMEOBJECT_POINTER_OUT:s(18907),GAMEOBJECT_POINTER_OVER:s(95579),GAMEOBJECT_POINTER_UP:s(35368),GAMEOBJECT_POINTER_WHEEL:s(26972),GAMEOBJECT_UP:s(47078),GAMEOBJECT_WHEEL:s(73802),MANAGER_BOOT:s(27503),MANAGER_PROCESS:s(50852),MANAGER_UPDATE:s(96438),POINTER_DOWN:s(47777),POINTER_DOWN_OUTSIDE:s(27957),POINTER_MOVE:s(19444),POINTER_OUT:s(54251),POINTER_OVER:s(18667),POINTER_UP:s(27192),POINTER_UP_OUTSIDE:s(24652),POINTER_WHEEL:s(45132),POINTERLOCK_CHANGE:s(59152),PRE_UPDATE:s(44512),SHUTDOWN:s(15757),START:s(41637),UPDATE:s(93802)}},97421:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=new o({initialize:function(u,l){this.pad=u,this.events=u.events,this.index=l,this.value=0,this.threshold=.1},update:function(f){this.value=f},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});n.exports=y},28884:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(92734),f=new o({initialize:function(l,a){this.pad=l,this.events=l.manager,this.index=a,this.value=0,this.threshold=1,this.pressed=!1},update:function(u){this.value=u;var l=this.pad,a=this.index;u>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(y.BUTTON_DOWN,l,this,u),this.pad.emit(y.GAMEPAD_BUTTON_DOWN,a,u,this)):this.pressed&&(this.pressed=!1,this.events.emit(y.BUTTON_UP,l,this,u),this.pad.emit(y.GAMEPAD_BUTTON_UP,a,u,this))},destroy:function(){this.pad=null,this.events=null}});n.exports=f},99125:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(97421),y=s(28884),f=s(83419),u=s(50792),l=s(26099),a=new f({Extends:u,initialize:function(v,h){u.call(this),this.manager=v,this.pad=h,this.id=h.id,this.index=h.index;for(var c=[],p=0;p<h.buttons.length;p++)c.push(new y(this,p));this.buttons=c;var m=[];for(p=0;p<h.axes.length;p++)m.push(new o(this,p));this.axes=m,this.vibration=h.vibrationActuator;var x={value:0,pressed:!1};this._LCLeft=c[14]?c[14]:x,this._LCRight=c[15]?c[15]:x,this._LCTop=c[12]?c[12]:x,this._LCBottom=c[13]?c[13]:x,this._RCLeft=c[2]?c[2]:x,this._RCRight=c[1]?c[1]:x,this._RCTop=c[3]?c[3]:x,this._RCBottom=c[0]?c[0]:x,this._FBLeftTop=c[4]?c[4]:x,this._FBLeftBottom=c[6]?c[6]:x,this._FBRightTop=c[5]?c[5]:x,this._FBRightBottom=c[7]?c[7]:x;var T={value:0};this._HAxisLeft=m[0]?m[0]:T,this._VAxisLeft=m[1]?m[1]:T,this._HAxisRight=m[2]?m[2]:T,this._VAxisRight=m[3]?m[3]:T,this.leftStick=new l,this.rightStick=new l,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(d){return this.axes[d].getValue()},setAxisThreshold:function(d){for(var v=0;v<this.axes.length;v++)this.axes[v].threshold=d},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(d){return this.buttons[d].value},isButtonDown:function(d){return this.buttons[d].pressed},update:function(d){if(!(d.timestamp<this._created)){var v,h=this.buttons,c=d.buttons,p=h.length;for(v=0;v<p;v++)h[v].update(c[v].value);var m=this.axes,x=d.axes;for(p=m.length,v=0;v<p;v++)m[v].update(x[v]);p>=2&&(this.leftStick.set(m[0].getValue(),m[1].getValue()),p>=4&&this.rightStick.set(m[2].getValue(),m[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var d;for(d=0;d<this.buttons.length;d++)this.buttons[d].destroy();for(d=0;d<this.axes.length;d++)this.axes[d].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});n.exports=a},56654:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(50792),f=s(92734),u=s(99125),l=s(35154),a=s(89639),d=s(8214),v=new o({Extends:y,initialize:function(c){y.call(this),this.scene=c.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=c,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,c.pluginEvents.once(d.BOOT,this.boot,this),c.pluginEvents.on(d.START,this.start,this)},boot:function(){var h=this.scene.sys.game,c=this.settings.input,p=h.config;this.enabled=l(c,"gamepad",p.inputGamepad)&&h.device.input.gamepads,this.target=l(c,"gamepad.target",p.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(d.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(d.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var h=this,c=this.target,p=function(m){m.defaultPrevented||!h.isActive()||(h.refreshPads(),h.queue.push(m))};this.onGamepadHandler=p,c.addEventListener("gamepadconnected",p,!1),c.addEventListener("gamepaddisconnected",p,!1),this.sceneInputPlugin.pluginEvents.on(d.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(d.UPDATE,this.update);for(var h=0;h<this.gamepads.length;h++)this.gamepads[h].removeAllListeners()},disconnectAll:function(){for(var h=0;h<this.gamepads.length;h++)this.gamepads[h].pad.connected=!1},refreshPads:function(){var h=navigator.getGamepads();if(!h)this.disconnectAll();else for(var c=this.gamepads,p=0;p<h.length;p++){var m=h[p];if(m){var x=m.id,T=m.index,P=c[T];if(P)P.id!==x?(P.destroy(),c[T]=new u(this,m)):P.update(m);else{var M=new u(this,m);c[T]=M,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=M):this._pad3=M:this._pad2=M:this._pad1=M}}}},getAll:function(){for(var h=[],c=this.gamepads,p=0;p<c.length;p++)c[p]&&h.push(c[p]);return h},getPad:function(h){for(var c=this.gamepads,p=0;p<c.length;p++)if(c[p]&&c[p].index===h)return c[p]},update:function(){if(this.enabled){this.refreshPads();var h=this.queue.length;if(h!==0)for(var c=this.queue.splice(0,h),p=0;p<h;p++){var m=c[p],x=this.getPad(m.gamepad.index);m.type==="gamepadconnected"?this.emit(f.CONNECTED,x,m):m.type==="gamepaddisconnected"&&this.emit(f.DISCONNECTED,x,m)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var h=0;h<this.gamepads.length;h++)this.gamepads[h]&&this.gamepads[h].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});a.register("GamepadPlugin",v,"gamepad","gamepad","inputGamepad"),n.exports=v},89651:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DUALSHOCK_4:s(65294),SNES_USB:s(89651),XBOX_360:s(90089)}},46008:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"},7629:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"},42206:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="connected"},86544:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="disconnected"},94784:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"},14325:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"},92734:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BUTTON_DOWN:s(46008),BUTTON_UP:s(7629),CONNECTED:s(42206),DISCONNECTED:s(86544),GAMEPAD_BUTTON_DOWN:s(94784),GAMEPAD_BUTTON_UP:s(14325)}},48646:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Axis:s(97421),Button:s(28884),Events:s(92734),Gamepad:s(99125),GamepadPlugin:s(56654),Configs:s(64894)}},14350:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(93301),y=s(79291),f={CreatePixelPerfectHandler:s(84409),CreateInteractiveObject:s(74457),Events:s(8214),Gamepad:s(48646),InputManager:s(7003),InputPlugin:s(48205),InputPluginCache:s(89639),Keyboard:s(51442),Mouse:s(87078),Pointer:s(42515),Touch:s(95618)};f=y(!1,f,o),n.exports=f},78970:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(72905),y=s(83419),f=s(8443),u=s(8214),l=s(46032),a=s(29747),d=new y({initialize:function(h){this.manager=h,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=a,this.onKeyUp=a,h.events.once(u.MANAGER_BOOT,this.boot,this)},boot:function(){var v=this.manager.config;this.enabled=v.inputKeyboard,this.target=v.inputKeyboardEventTarget,this.addCapture(v.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(f.POST_STEP,this.postUpdate,this)},startListeners:function(){var v=this;this.onKeyDown=function(c){if(!(c.defaultPrevented||!v.enabled||!v.manager)){v.queue.push(c),v.manager.events.emit(u.MANAGER_PROCESS);var p=c.altKey||c.ctrlKey||c.shiftKey||c.metaKey;v.preventDefault&&!p&&v.captures.indexOf(c.keyCode)>-1&&c.preventDefault()}},this.onKeyUp=function(c){if(!(c.defaultPrevented||!v.enabled||!v.manager)){v.queue.push(c),v.manager.events.emit(u.MANAGER_PROCESS);var p=c.altKey||c.ctrlKey||c.shiftKey||c.metaKey;v.preventDefault&&!p&&v.captures.indexOf(c.keyCode)>-1&&c.preventDefault()}};var h=this.target;h&&(h.addEventListener("keydown",this.onKeyDown,!1),h.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var v=this.target;v.removeEventListener("keydown",this.onKeyDown,!1),v.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(v){typeof v=="string"&&(v=v.split(",")),Array.isArray(v)||(v=[v]);for(var h=this.captures,c=0;c<v.length;c++){var p=v[c];typeof p=="string"&&(p=l[p.trim().toUpperCase()]),h.indexOf(p)===-1&&h.push(p)}this.preventDefault=h.length>0},removeCapture:function(v){typeof v=="string"&&(v=v.split(",")),Array.isArray(v)||(v=[v]);for(var h=this.captures,c=0;c<v.length;c++){var p=v[c];typeof p=="string"&&(p=l[p.toUpperCase()]),o(h,p)}this.preventDefault=h.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(f.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});n.exports=d},28846:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(50792),f=s(95922),u=s(8443),l=s(35154),a=s(8214),d=s(89639),v=s(30472),h=s(46032),c=s(87960),p=s(74600),m=s(44594),x=s(56583),T=new o({Extends:y,initialize:function(M){y.call(this),this.game=M.systems.game,this.scene=M.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=M,this.manager=M.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,M.pluginEvents.once(a.BOOT,this.boot,this),M.pluginEvents.on(a.START,this.start,this)},boot:function(){var P=this.settings.input;this.enabled=l(P,"keyboard",!0);var M=l(P,"keyboard.capture",null);M&&this.addCaptures(M),this.sceneInputPlugin.pluginEvents.once(a.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(a.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(a.SHUTDOWN,this.shutdown,this),this.game.events.on(u.BLUR,this.resetKeys,this),this.scene.sys.events.on(m.PAUSE,this.resetKeys,this),this.scene.sys.events.on(m.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(P){return this.manager.addCapture(P),this},removeCapture:function(P){return this.manager.removeCapture(P),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:h.UP,down:h.DOWN,left:h.LEFT,right:h.RIGHT,space:h.SPACE,shift:h.SHIFT})},addKeys:function(P,M,E){M===void 0&&(M=!0),E===void 0&&(E=!1);var w={};if(typeof P=="string"){P=P.split(",");for(var R=0;R<P.length;R++){var A=P[R].trim();A&&(w[A]=this.addKey(A,M,E))}}else for(var L in P)w[L]=this.addKey(P[L],M,E);return w},addKey:function(P,M,E){M===void 0&&(M=!0),E===void 0&&(E=!1);var w=this.keys;if(P instanceof v){var R=w.indexOf(P);return R>-1?w[R]=P:w[P.keyCode]=P,M&&this.addCapture(P.keyCode),P.setEmitOnRepeat(E),P}return typeof P=="string"&&(P=h[P.toUpperCase()]),w[P]||(w[P]=new v(this,P),M&&this.addCapture(P),w[P].setEmitOnRepeat(E)),w[P]},removeKey:function(P,M,E){M===void 0&&(M=!1),E===void 0&&(E=!1);var w=this.keys,R;if(P instanceof v){var A=w.indexOf(P);A>-1&&(R=this.keys[A],this.keys[A]=void 0)}else typeof P=="string"&&(P=h[P.toUpperCase()]);return w[P]&&(R=w[P],w[P]=void 0),R&&(R.plugin=null,E&&this.removeCapture(R.keyCode),M&&R.destroy()),this},removeAllKeys:function(P,M){P===void 0&&(P=!1),M===void 0&&(M=!1);for(var E=this.keys,w=0;w<E.length;w++){var R=E[w];R&&(E[w]=void 0,M&&this.removeCapture(R.keyCode),P&&R.destroy())}return this},createCombo:function(P,M){return new c(this,P,M)},checkDown:function(P,M){if(M===void 0&&(M=0),this.enabled&&P.isDown){var E=x(this.time-P.timeDown,M);if(E>P._tick)return P._tick=E,!0}return!1},update:function(){var P=this.manager.queue,M=P.length;if(!(!this.isActive()||M===0))for(var E=this.keys,w=0;w<M;w++){var R=P[w],A=R.keyCode,L=E[A],b=!1;R.cancelled===void 0&&(R.cancelled=0,R.stopImmediatePropagation=function(){R.cancelled=1},R.stopPropagation=function(){R.cancelled=-1}),R.cancelled!==-1&&(A===this.prevCode&&R.timeStamp===this.prevTime&&R.type===this.prevType||(this.prevCode=A,this.prevTime=R.timeStamp,this.prevType=R.type,R.type==="keydown"?(L&&(b=L.isDown,L.onDown(R)),!R.cancelled&&(!L||!b)&&(p[A]&&this.emit(f.KEY_DOWN+p[A],R),R.cancelled||this.emit(f.ANY_KEY_DOWN,R))):(L&&L.onUp(R),R.cancelled||(p[A]&&this.emit(f.KEY_UP+p[A],R),R.cancelled||this.emit(f.ANY_KEY_UP,R))),R.cancelled===1&&(R.cancelled=0)))}},resetKeys:function(){for(var P=this.keys,M=0;M<P.length;M++)P[M]&&P[M].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(a.MANAGER_PROCESS,this.update,this),this.game.events.off(u.BLUR,this.resetKeys),this.scene.sys.events.off(m.PAUSE,this.resetKeys,this),this.scene.sys.events.off(m.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var P=this.keys,M=0;M<P.length;M++)P[M]&&P[M].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});d.register("KeyboardPlugin",T,"keyboard","keyboard","inputKeyboard"),n.exports=T},66970:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return o.timeLastMatched=s.timeStamp,o.index++,o.index===o.size?!0:(o.current=o.keyCodes[o.index],!1)};n.exports=C},87960:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(95922),f=s(95540),u=s(68769),l=s(92803),a=new o({initialize:function(v,h,c){if(c===void 0&&(c={}),h.length<2)return!1;this.manager=v,this.enabled=!0,this.keyCodes=[];for(var p=0;p<h.length;p++){var m=h[p];typeof m=="string"?this.keyCodes.push(m.toUpperCase().charCodeAt(0)):typeof m=="number"?this.keyCodes.push(m):m.hasOwnProperty("keyCode")&&this.keyCodes.push(m.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=f(c,"resetOnWrongKey",!0),this.maxKeyDelay=f(c,"maxKeyDelay",0),this.resetOnMatch=f(c,"resetOnMatch",!1),this.deleteOnMatch=f(c,"deleteOnMatch",!1);var x=this,T=function(P){if(!(x.matched||!x.enabled)){var M=u(P,x);M&&(x.manager.emit(y.COMBO_MATCH,x,P),x.resetOnMatch?l(x):x.deleteOnMatch&&x.destroy())}};this.onKeyDown=T,this.manager.on(y.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(y.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});n.exports=a},68769:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66970),y=function(f,u){if(u.matched)return!0;var l=!1,a=!1;if(f.keyCode===u.current)if(u.index>0&&u.maxKeyDelay>0){var d=u.timeLastMatched+u.maxKeyDelay;f.timeStamp<=d&&(a=!0,l=o(f,u))}else a=!0,l=o(f,u);return!a&&u.resetOnWrongKey&&(u.index=0,u.current=u.keyCodes[0]),l&&(u.timeLastMatched=f.timeStamp,u.matched=!0,u.timeMatched=f.timeStamp),l};n.exports=y},92803:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s.current=s.keyCodes[0],s.index=0,s.timeLastMatched=0,s.matched=!1,s.timeMatched=0,s};n.exports=C},92612:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keydown"},23345:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keyup"},21957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keycombomatch"},44743:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"},3771:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keydown-"},46358:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keyup-"},75674:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"},95922:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ANY_KEY_DOWN:s(92612),ANY_KEY_UP:s(23345),COMBO_MATCH:s(21957),DOWN:s(44743),KEY_DOWN:s(3771),KEY_UP:s(46358),UP:s(75674)}},51442:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:s(95922),KeyboardManager:s(78970),KeyboardPlugin:s(28846),Key:s(30472),KeyCodes:s(46032),KeyCombo:s(87960),AdvanceKeyCombo:s(66970),ProcessKeyCombo:s(68769),ResetKeyCombo:s(92803),JustDown:s(90229),JustUp:s(38796),DownDuration:s(37015),UpDuration:s(41170)}},37015:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){o===void 0&&(o=50);var y=s.plugin.game.loop.time-s.timeDown;return s.isDown&&y<o};n.exports=C},90229:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s._justDown?(s._justDown=!1,!0):!1};n.exports=C},38796:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s._justUp?(s._justUp=!1,!0):!1};n.exports=C},30472:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(50792),f=s(95922),u=new o({Extends:y,initialize:function(a,d){y.call(this),this.plugin=a,this.keyCode=d,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(l){return this.emitOnRepeat=l,this},onDown:function(l){this.originalEvent=l,this.enabled&&(this.altKey=l.altKey,this.ctrlKey=l.ctrlKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.location=l.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(f.DOWN,this,l):(this.isDown=!0,this.isUp=!1,this.timeDown=l.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(f.DOWN,this,l)))},onUp:function(l){this.originalEvent=l,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=l.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(f.UP,this,l))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});n.exports=u},46032:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};n.exports=C},74600:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(46032),y={};for(var f in o)y[o[f]]=f;n.exports=y},41170:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){o===void 0&&(o=50);var y=s.plugin.game.loop.time-s.timeUp;return s.isUp&&y<o};n.exports=C},85098:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(89357),f=s(8214),u=s(29747),l=new o({initialize:function(d){this.manager=d,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=u,this.onMouseDown=u,this.onMouseUp=u,this.onMouseDownWindow=u,this.onMouseUpWindow=u,this.onMouseOver=u,this.onMouseOut=u,this.onMouseWheel=u,this.pointerLockChange=u,this.isTop=!0,d.events.once(f.MANAGER_BOOT,this.boot,this)},boot:function(){var a=this.manager.config;this.enabled=a.inputMouse,this.target=a.inputMouseEventTarget,this.passive=a.inputMousePassive,this.preventDefaultDown=a.inputMousePreventDefaultDown,this.preventDefaultUp=a.inputMousePreventDefaultUp,this.preventDefaultMove=a.inputMousePreventDefaultMove,this.preventDefaultWheel=a.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,a.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(a){return a.preventDefault(),!1}),this},requestPointerLock:function(){if(y.pointerLock){var a=this.target;a.requestPointerLock=a.requestPointerLock||a.mozRequestPointerLock||a.webkitRequestPointerLock,a.requestPointerLock()}},releasePointerLock:function(){y.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var a=this.target;if(a){var d=this,v=this.manager,h=v.canvas,c=window&&window.focus&&v.game.config.autoFocus;this.onMouseMove=function(m){!m.defaultPrevented&&d.enabled&&v&&v.enabled&&(v.onMouseMove(m),d.preventDefaultMove&&m.preventDefault())},this.onMouseDown=function(m){c&&window.focus(),!m.defaultPrevented&&d.enabled&&v&&v.enabled&&(v.onMouseDown(m),d.preventDefaultDown&&m.target===h&&m.preventDefault())},this.onMouseDownWindow=function(m){m.sourceCapabilities&&m.sourceCapabilities.firesTouchEvents||!m.defaultPrevented&&d.enabled&&v&&v.enabled&&m.target!==h&&v.onMouseDown(m)},this.onMouseUp=function(m){!m.defaultPrevented&&d.enabled&&v&&v.enabled&&(v.onMouseUp(m),d.preventDefaultUp&&m.target===h&&m.preventDefault())},this.onMouseUpWindow=function(m){m.sourceCapabilities&&m.sourceCapabilities.firesTouchEvents||!m.defaultPrevented&&d.enabled&&v&&v.enabled&&m.target!==h&&v.onMouseUp(m)},this.onMouseOver=function(m){!m.defaultPrevented&&d.enabled&&v&&v.enabled&&v.setCanvasOver(m)},this.onMouseOut=function(m){!m.defaultPrevented&&d.enabled&&v&&v.enabled&&v.setCanvasOut(m)},this.onMouseWheel=function(m){!m.defaultPrevented&&d.enabled&&v&&v.enabled&&v.onMouseWheel(m),d.preventDefaultWheel&&m.target===h&&m.preventDefault()};var p={passive:!0};if(a.addEventListener("mousemove",this.onMouseMove),a.addEventListener("mousedown",this.onMouseDown),a.addEventListener("mouseup",this.onMouseUp),a.addEventListener("mouseover",this.onMouseOver,p),a.addEventListener("mouseout",this.onMouseOut,p),this.preventDefaultWheel?a.addEventListener("wheel",this.onMouseWheel,{passive:!1}):a.addEventListener("wheel",this.onMouseWheel,p),window&&v.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,p),window.top.addEventListener("mouseup",this.onMouseUpWindow,p)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,p),window.addEventListener("mouseup",this.onMouseUpWindow,p),this.isTop=!1}y.pointerLock&&(this.pointerLockChange=function(m){var x=d.target;d.locked=document.pointerLockElement===x||document.mozPointerLockElement===x||document.webkitPointerLockElement===x,v.onPointerLockChange(m)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var a=this.target;a.removeEventListener("mousemove",this.onMouseMove),a.removeEventListener("mousedown",this.onMouseDown),a.removeEventListener("mouseup",this.onMouseUp),a.removeEventListener("mouseover",this.onMouseOver),a.removeEventListener("mouseout",this.onMouseOut),window&&(a=this.isTop?window.top:window,a.removeEventListener("mousedown",this.onMouseDownWindow),a.removeEventListener("mouseup",this.onMouseUpWindow)),y.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});n.exports=l},87078:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={MouseManager:s(85098)}},36210:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(8214),f=s(29747),u=new o({initialize:function(a){this.manager=a,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=f,this.onTouchStartWindow=f,this.onTouchMove=f,this.onTouchEnd=f,this.onTouchEndWindow=f,this.onTouchCancel=f,this.onTouchCancelWindow=f,this.isTop=!0,a.events.once(y.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputTouch,this.target=l.inputTouchEventTarget,this.capture=l.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,l.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(l){return l.preventDefault(),!1}),this},startListeners:function(){var l=this.target;if(l){var a=this,d=this.manager,v=d.canvas,h=window&&window.focus&&d.game.config.autoFocus;this.onTouchMove=function(x){!x.defaultPrevented&&a.enabled&&d&&d.enabled&&(d.onTouchMove(x),a.capture&&x.cancelable&&x.preventDefault())},this.onTouchStart=function(x){h&&window.focus(),!x.defaultPrevented&&a.enabled&&d&&d.enabled&&(d.onTouchStart(x),a.capture&&x.cancelable&&x.target===v&&x.preventDefault())},this.onTouchStartWindow=function(x){!x.defaultPrevented&&a.enabled&&d&&d.enabled&&x.target!==v&&d.onTouchStart(x)},this.onTouchEnd=function(x){!x.defaultPrevented&&a.enabled&&d&&d.enabled&&(d.onTouchEnd(x),a.capture&&x.cancelable&&x.target===v&&x.preventDefault())},this.onTouchEndWindow=function(x){!x.defaultPrevented&&a.enabled&&d&&d.enabled&&x.target!==v&&d.onTouchEnd(x)},this.onTouchCancel=function(x){!x.defaultPrevented&&a.enabled&&d&&d.enabled&&(d.onTouchCancel(x),a.capture&&x.preventDefault())},this.onTouchCancelWindow=function(x){!x.defaultPrevented&&a.enabled&&d&&d.enabled&&d.onTouchCancel(x)};var c=this.capture,p={passive:!0},m={passive:!1};if(l.addEventListener("touchstart",this.onTouchStart,c?m:p),l.addEventListener("touchmove",this.onTouchMove,c?m:p),l.addEventListener("touchend",this.onTouchEnd,c?m:p),l.addEventListener("touchcancel",this.onTouchCancel,c?m:p),window&&d.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,m),window.top.addEventListener("touchend",this.onTouchEndWindow,m),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,m)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,m),window.addEventListener("touchend",this.onTouchEndWindow,m),window.addEventListener("touchcancel",this.onTouchCancelWindow,m),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var l=this.target;l.removeEventListener("touchstart",this.onTouchStart),l.removeEventListener("touchmove",this.onTouchMove),l.removeEventListener("touchend",this.onTouchEnd),l.removeEventListener("touchcancel",this.onTouchCancel),window&&(l=this.isTop?window.top:window,l.removeEventListener("touchstart",this.onTouchStartWindow),l.removeEventListener("touchend",this.onTouchEndWindow),l.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});n.exports=u},95618:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={TouchManager:s(36210)}},41299:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(23906),f=s(54899),u=s(95540),l=s(98356),a=s(3374),d=s(84376),v=s(92638),h=new o({initialize:function(p,m){if(this.loader=p,this.cache=u(m,"cache",!1),this.type=u(m,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=u(m,"key",!1);var x=this.key;if(p.prefix&&p.prefix!==""&&(this.key=p.prefix+x),!this.key)throw new Error("Invalid File key: "+this.key);var T=u(m,"url");T===void 0?T=p.path+x+"."+u(m,"extension",""):typeof T=="string"&&!T.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(T=p.path+T),this.url=T,this.src="",this.xhrSettings=v(u(m,"responseType",void 0)),u(m,"xhrSettings",!1)&&(this.xhrSettings=a(this.xhrSettings,u(m,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?y.FILE_POPULATED:y.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=u(m,"config",{}),this.multiFile,this.linkFile,this.base64=typeof T=="string"&&T.indexOf("data:")===0,this.retryAttempts=u(m,"maxRetries",p.maxRetries)},setLink:function(c){this.linkFile=c,c.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===y.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=y.FILE_LOADING,this.src=l(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=d(this,this.loader.xhr)}},onLoad:function(c,p){var m=c.responseURL&&this.loader.localSchemes.some(function(P){return c.responseURL.indexOf(P)===0}),x=m&&p.target.status===0,T=!(p.target&&p.target.status!==200)||x;c.readyState===4&&c.status>=400&&c.status<=599&&(T=!1),this.state=y.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,T)},onBase64Load:function(c){this.xhrLoader=c,this.state=y.FILE_LOADED,this.percentComplete=1,this.loader.emit(f.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(c){c.lengthComputable&&(this.bytesLoaded=c.loaded,this.bytesTotal=c.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(f.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=y.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=y.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=y.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(c){if(this.state!==y.FILE_PENDING_DESTROY){c===void 0&&(c=this.data);var p=this.key,m=this.type;this.loader.emit(f.FILE_COMPLETE,p,m,c),this.loader.emit(f.FILE_KEY_COMPLETE+m+"-"+p,p,m,c),this.loader.flagForRemoval(this),this.state=y.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});h.createObjectURL=function(c,p,m){if(typeof URL=="function")c.src=URL.createObjectURL(p);else{var x=new FileReader;x.onload=function(){c.removeAttribute("crossOrigin"),c.src="data:"+(p.type||m)+";base64,"+x.result.split(",")[1]},x.onerror=c.onerror,x.readAsDataURL(p)}},h.revokeObjectURL=function(c){typeof URL=="function"&&URL.revokeObjectURL(c.src)},n.exports=h},74099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={},s={install:function(o){for(var y in C)o[y]=C[y]},register:function(o,y){C[o]=y},destroy:function(){C={}}};n.exports=s},98356:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return s.url?s.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?s.url:o+s.url:!1};n.exports=C},74261:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(23906),f=s(35072),u=s(50792),l=s(54899),a=s(74099),d=s(95540),v=s(35154),h=s(41212),c=s(37277),p=s(44594),m=s(92638),x=new o({Extends:u,initialize:function(P){u.call(this);var M=P.sys.game.config,E=P.sys.settings.loader;this.scene=P,this.systems=P.sys,this.cacheManager=P.sys.cache,this.textureManager=P.sys.textures,this.sceneManager=P.sys.game.scene,a.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(d(E,"baseURL",M.loaderBaseURL)),this.setPath(d(E,"path",M.loaderPath)),this.setPrefix(d(E,"prefix",M.loaderPrefix)),this.maxParallelDownloads=d(E,"maxParallelDownloads",M.loaderMaxParallelDownloads),this.xhr=m(d(E,"responseType",M.loaderResponseType),d(E,"async",M.loaderAsync),d(E,"user",M.loaderUser),d(E,"password",M.loaderPassword),d(E,"timeout",M.loaderTimeout),d(E,"withCredentials",M.loaderWithCredentials)),this.crossOrigin=d(E,"crossOrigin",M.loaderCrossOrigin),this.imageLoadType=d(E,"imageLoadType",M.loaderImageLoadType),this.localSchemes=d(E,"localScheme",M.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new f,this.inflight=new f,this.queue=new f,this._deleteQueue=new f,this.totalFailed=0,this.totalComplete=0,this.state=y.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=d(E,"maxRetries",M.loaderMaxRetries),P.sys.events.once(p.BOOT,this.boot,this),P.sys.events.on(p.START,this.pluginStart,this)},boot:function(){this.systems.events.once(p.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(p.SHUTDOWN,this.shutdown,this)},setBaseURL:function(T){return T===void 0&&(T=""),T!==""&&T.substr(-1)!=="/"&&(T=T.concat("/")),this.baseURL=T,this},setPath:function(T){return T===void 0&&(T=""),T!==""&&T.substr(-1)!=="/"&&(T=T.concat("/")),this.path=T,this},setPrefix:function(T){return T===void 0&&(T=""),this.prefix=T,this},setCORS:function(T){return this.crossOrigin=T,this},addFile:function(T){Array.isArray(T)||(T=[T]);for(var P=0;P<T.length;P++){var M=T[P];this.keyExists(M)||(this.list.set(M),this.emit(l.ADD,M.key,M.type,this,M),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(T){var P=T.hasCacheConflict();return P||this.list.iterate(function(M){if(M.type===T.type&&M.key===T.key)return P=!0,!1}),!P&&this.isLoading()&&(this.inflight.iterate(function(M){if(M.type===T.type&&M.key===T.key)return P=!0,!1}),this.queue.iterate(function(M){if(M.type===T.type&&M.key===T.key)return P=!0,!1})),P},addPack:function(T,P){if(typeof P=="string"){var M=v(T,P);M&&(T={packKey:M})}var E=0,w=this.baseURL,R=this.path,A=this.prefix;for(var L in T)if(Object.prototype.hasOwnProperty.call(T,L)){var b=T[L],O=d(b,"baseURL",w),F=d(b,"path",R),D=d(b,"prefix",A),B=d(b,"files",null),N=d(b,"defaultType","void");if(Array.isArray(B)){this.setBaseURL(O),this.setPath(F),this.setPrefix(D);for(var z=0;z<B.length;z++){var W=B[z],X=W.hasOwnProperty("type")?W.type:N;this[X]&&(this[X](W),E++)}}}return this.setBaseURL(w),this.setPath(R),this.setPrefix(A),E>0},removePack:function(T,P){var M=this.systems.anims,E=this.cacheManager,w=this.textureManager,R={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},A;if(h(T))A=T;else if(A=E.json.get(T),!A){console.warn("Asset Pack not found in JSON cache:",T);return}P&&(A={_:A[P]});for(var L in A){var b=A[L],O=d(b,"prefix",""),F=d(b,"files"),D=d(b,"defaultType");if(Array.isArray(F))for(var B=0;B<F.length;B++){var N=F[B],z=N.hasOwnProperty("type")?N.type:D;if(!z){console.warn("No type:",N);continue}var W=O+N.key;if(z==="animation"&&M.remove(W),!((z==="aseprite"||z==="atlas"||z==="atlasXML"||z==="htmlTexture"||z==="image"||z==="multiatlas"||z==="spritesheet"||z==="svg"||z==="texture"||z==="unityAtlas")&&(w.remove(W),!R[z]))){if(z==="pack"){this.removePack(W,N.dataKey);continue}if(z==="spine"){var X=E.custom.spine.get(W);if(!X)continue;var k=X.prefix===void 0?"":X.prefix;E.custom.spine.remove(W);var V=E.custom.spineTextures.get(W);if(!V)continue;E.custom.spineTextures.remove(W);for(var I=0;I<V.pages.length;I++){var U=V.pages[I],G=k+U.name,Y=W+":"+G;w.exists(Y)?w.remove(Y):w.remove(G)}}var H=R[z];if(H!==null){if(!H){console.warn("Unknown type:",z);continue}var $=E[H];$.remove(W)}}}}},isLoading:function(){return this.state===y.LOADER_LOADING||this.state===y.LOADER_PROCESSING},isReady:function(){return this.state===y.LOADER_IDLE||this.state===y.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(l.START,this),this.list.size===0?this.loadComplete():(this.state=y.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(p.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(l.PROGRESS,this.progress)},update:function(){this.state===y.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(T){if((T.state===y.FILE_POPULATED||T.state===y.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(T),this.list.delete(T),T.crossOrigin||(T.crossOrigin=this.crossOrigin),T.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(T,P){this.inflight&&(this.inflight.delete(T),this.updateProgress(),P?(this.totalComplete++,this.queue.set(T),this.emit(l.FILE_LOAD,T),T.onProcess()):(this.totalFailed++,this._deleteQueue.set(T),this.emit(l.FILE_LOAD_ERROR,T),this.fileProcessComplete(T)))},fileProcessComplete:function(T){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(T.state===y.FILE_ERRORED?T.multiFile&&T.multiFile.onFileFailed(T):T.state===y.FILE_COMPLETE&&(T.multiFile?T.multiFile.isReadyToProcess()&&(T.multiFile.addToCache(),T.multiFile.pendingDestroy()):(T.addToCache(),T.pendingDestroy())),this.queue.delete(T),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(l.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=y.LOADER_COMPLETE,this.systems.events.off(p.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(l.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(T){this._deleteQueue.set(T)},saveJSON:function(T,P){return this.save(JSON.stringify(T),P)},save:function(T,P,M){P===void 0&&(P="file.json"),M===void 0&&(M="application/json");var E=new Blob([T],{type:M}),w=URL.createObjectURL(E),R=document.createElement("a");return R.download=P,R.textContent="Download "+P,R.href=w,R.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var T=this.systems.game.config,P=this.systems.settings.loader;this.setBaseURL(d(P,"baseURL",T.loaderBaseURL)),this.setPath(d(P,"path",T.loaderPath)),this.setPrefix(d(P,"prefix",T.loaderPrefix)),this.state=y.LOADER_IDLE},shutdown:function(){this.reset(),this.state=y.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(p.UPDATE,this.update,this),this.systems.events.off(p.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=y.LOADER_DESTROYED,this.systems.events.off(p.UPDATE,this.update,this),this.systems.events.off(p.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});c.register("Loader",x,"load"),n.exports=x},3374:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(79291),y=s(92638),f=function(u,l){var a=u===void 0?y():o({},u);if(l)for(var d in l)l[d]!==void 0&&(a[d]=l[d]);return a};n.exports=f},26430:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(23906),f=s(54899),u=new o({initialize:function(a,d,v,h){var c=[];h.forEach(function(x){x&&c.push(x)}),this.loader=a,this.type=d,this.key=v;var p=this.key;a.prefix&&a.prefix!==""&&(this.key=a.prefix+p),this.multiKeyIndex=a.multiKeyIndex++,this.files=c,this.state=y.FILE_PENDING,this.complete=!1,this.pending=c.length,this.failed=0,this.config={},this.baseURL=a.baseURL,this.path=a.path,this.prefix=a.prefix;for(var m=0;m<c.length;m++)c[m].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(l){return this.files.push(l),l.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(l){var a=this.files.indexOf(l);a!==-1&&this.pending--},onFileFailed:function(l){var a=this.files.indexOf(l);a!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,l.type,l.key))},pendingDestroy:function(){if(this.state!==y.FILE_PENDING_DESTROY){var l=this.key,a=this.type;this.loader.emit(f.FILE_COMPLETE,l,a),this.loader.emit(f.FILE_KEY_COMPLETE+a+"-"+l,l,a),this.loader.flagForRemoval(this);for(var d=0;d<this.files.length;d++)this.files[d].pendingDestroy();this.state=y.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});n.exports=u},84376:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(3374),y=function(f,u){var l=o(u,f.xhrSettings);if(f.base64){var a=f.url.split(";base64,").pop()||f.url.split(",").pop(),d;f.xhrSettings.responseType==="arraybuffer"?d={response:Uint8Array.from(atob(a),function(c){return c.charCodeAt(0)}).buffer}:d={responseText:atob(a)},f.onBase64Load(d);return}var v=new XMLHttpRequest;if(v.open("GET",f.src,l.async,l.user,l.password),v.responseType=f.xhrSettings.responseType,v.timeout=l.timeout,l.headers)for(var h in l.headers)v.setRequestHeader(h,l.headers[h]);return l.header&&l.headerValue&&v.setRequestHeader(l.header,l.headerValue),l.requestedWith&&v.setRequestHeader("X-Requested-With",l.requestedWith),l.overrideMimeType&&v.overrideMimeType(l.overrideMimeType),l.withCredentials&&(v.withCredentials=!0),v.onload=f.onLoad.bind(f,v),v.onerror=f.onError.bind(f,v),v.onprogress=f.onProgress.bind(f),v.ontimeout=f.onError.bind(f,v),v.send(),v};n.exports=y},92638:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f,u,l){return s===void 0&&(s=""),o===void 0&&(o=!0),y===void 0&&(y=""),f===void 0&&(f=""),u===void 0&&(u=0),l===void 0&&(l=!1),{responseType:s,async:o,user:y,password:f,timeout:u,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:l}};n.exports=C},23906:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};n.exports=C},42155:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addfile"},38991:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},27540:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="filecomplete"},87464:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="filecomplete-"},94486:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loaderror"},13035:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="load"},38144:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fileprogress"},97520:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postprocess"},85595:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="progress"},55680:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},54899:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:s(42155),COMPLETE:s(38991),FILE_COMPLETE:s(27540),FILE_KEY_COMPLETE:s(87464),FILE_LOAD_ERROR:s(94486),FILE_LOAD:s(13035),FILE_PROGRESS:s(38144),POST_PROCESS:s(97520),PROGRESS:s(85595),START:s(55680)}},14135:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(74099),f=s(518),u=s(54899),l=new o({Extends:f,initialize:function(d,v,h,c,p){f.call(this,d,v,h,c,p),this.type="animationJSON"},onProcess:function(){this.loader.once(u.POST_PROCESS,this.onLoadComplete,this),f.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});y.register("animation",function(a,d,v,h){if(Array.isArray(a))for(var c=0;c<a.length;c++)this.addFile(new l(this,a[c]));else this.addFile(new l(this,a,d,h,v));return this}),n.exports=l},76272:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(74099),f=s(95540),u=s(19550),l=s(41212),a=s(518),d=s(26430),v=new o({Extends:d,initialize:function(c,p,m,x,T,P){var M,E;if(l(p)){var w=p;p=f(w,"key"),M=new u(c,{key:p,url:f(w,"textureURL"),extension:f(w,"textureExtension","png"),normalMap:f(w,"normalMap"),xhrSettings:f(w,"textureXhrSettings")}),E=new a(c,{key:p,url:f(w,"atlasURL"),extension:f(w,"atlasExtension","json"),xhrSettings:f(w,"atlasXhrSettings")})}else M=new u(c,p,m,T),E=new a(c,p,x,P);M.linkFile?d.call(this,c,"atlasjson",p,[M,E,M.linkFile]):d.call(this,c,"atlasjson",p,[M,E])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],c=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(h.key,h.data,c.data,p),c.addToCache(),this.complete=!0}}});y.register("aseprite",function(h,c,p,m,x){var T;if(Array.isArray(h))for(var P=0;P<h.length;P++)T=new v(this,h[P]),this.addFile(T.files);else T=new v(this,h,c,p,m,x),this.addFile(T.files);return this}),n.exports=v},38734:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(74099),f=s(95540),u=s(19550),l=s(41212),a=s(518),d=s(26430),v=new o({Extends:d,initialize:function(c,p,m,x,T,P){var M,E;if(l(p)){var w=p;p=f(w,"key"),M=new u(c,{key:p,url:f(w,"textureURL"),extension:f(w,"textureExtension","png"),normalMap:f(w,"normalMap"),xhrSettings:f(w,"textureXhrSettings")}),E=new a(c,{key:p,url:f(w,"atlasURL"),extension:f(w,"atlasExtension","json"),xhrSettings:f(w,"atlasXhrSettings")})}else M=new u(c,p,m,T),E=new a(c,p,x,P);M.linkFile?d.call(this,c,"atlasjson",p,[M,E,M.linkFile]):d.call(this,c,"atlasjson",p,[M,E])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],c=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(h.key,h.data,c.data,p),this.complete=!0}}});y.register("atlas",function(h,c,p,m,x){var T;if(Array.isArray(h))for(var P=0;P<h.length;P++)T=new v(this,h[P]),this.addFile(T.files);else T=new v(this,h,c,p,m,x),this.addFile(T.files);return this}),n.exports=v},74599:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(74099),f=s(95540),u=s(19550),l=s(41212),a=s(26430),d=s(57318),v=new o({Extends:a,initialize:function(c,p,m,x,T,P){var M,E;if(l(p)){var w=p;p=f(w,"key"),M=new u(c,{key:p,url:f(w,"textureURL"),extension:f(w,"textureExtension","png"),normalMap:f(w,"normalMap"),xhrSettings:f(w,"textureXhrSettings")}),E=new d(c,{key:p,url:f(w,"atlasURL"),extension:f(w,"atlasExtension","xml"),xhrSettings:f(w,"atlasXhrSettings")})}else M=new u(c,p,m,T),E=new d(c,p,x,P);M.linkFile?a.call(this,c,"atlasxml",p,[M,E,M.linkFile]):a.call(this,c,"atlasxml",p,[M,E])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],c=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(h.key,h.data,c.data,p),this.complete=!0}}});y.register("atlasXML",function(h,c,p,m,x){var T;if(Array.isArray(h))for(var P=0;P<h.length;P++)T=new v(this,h[P]),this.addFile(T.files);else T=new v(this,h,c,p,m,x),this.addFile(T.files);return this}),n.exports=v},21097:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(23906),f=s(41299),u=s(74099),l=s(95540),a=s(89749),d=s(41212),v=new o({Extends:f,initialize:function(c,p,m,x,T){if(d(p)){var P=p;p=l(P,"key"),x=l(P,"xhrSettings"),T=l(P,"context",T)}var M={type:"audio",cache:c.cacheManager.audio,extension:m.type,responseType:"arraybuffer",key:p,url:m.url,xhrSettings:x,config:{context:T}};f.call(this,c,M)},onProcess:function(){this.state=y.FILE_PROCESSING;var h=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(c){h.data=c,h.onProcessComplete()},function(c){console.error("Error decoding audio: "+h.key+" - ",c?c.message:null),h.onProcessError()}),this.config.context=null}});v.create=function(h,c,p,m,x){var T=h.systems.game,P=T.config.audio,M=T.device.audio;d(c)&&(p=l(c,"url",[]),m=l(c,"config",{}));var E=v.getAudioURL(T,p);return E?M.webAudio&&!P.disableWebAudio?new v(h,c,E,x,T.sound.context):new a(h,c,E,m):(console.warn('No audio URLs for "%s" can play on this device',c),null)},v.getAudioURL=function(h,c){Array.isArray(c)||(c=[c]);for(var p=0;p<c.length;p++){var m=l(c[p],"url",c[p]);if(m.indexOf("blob:")===0||m.indexOf("data:")===0)return{url:m,type:""};var x=m.match(/\.([a-zA-Z0-9]+)($|\?)/);if(x=l(c[p],"type",x?x[1]:"").toLowerCase(),h.device.audio[x])return{url:m,type:x}}return null},u.register("audio",function(h,c,p,m){var x=this.systems.game,T=x.config.audio,P=x.device.audio;if(T.noAudio||!P.webAudio&&!P.audioData)return this;var M;if(Array.isArray(h))for(var E=0;E<h.length;E++)M=v.create(this,h[E]),M&&this.addFile(M);else M=v.create(this,h,c,p,m),M&&this.addFile(M);return this}),n.exports=v},89524:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(21097),y=s(83419),f=s(74099),u=s(95540),l=s(41212),a=s(518),d=s(26430),v=new y({Extends:d,initialize:function(c,p,m,x,T,P,M){if(l(p)){var E=p;p=u(E,"key"),m=u(E,"jsonURL"),x=u(E,"audioURL"),T=u(E,"audioConfig"),P=u(E,"audioXhrSettings"),M=u(E,"jsonXhrSettings")}var w;if(!x)w=new a(c,p,m,M),d.call(this,c,"audiosprite",p,[w]),this.config.resourceLoad=!0,this.config.audioConfig=T,this.config.audioXhrSettings=P;else{var R=o.create(c,p,x,T,P);R&&(w=new a(c,p,m,M),d.call(this,c,"audiosprite",p,[R,w]),this.config.resourceLoad=!1)}},onFileComplete:function(h){var c=this.files.indexOf(h);if(c!==-1&&(this.pending--,this.config.resourceLoad&&h.type==="json"&&h.data.hasOwnProperty("resources"))){var p=h.data.resources,m=u(this.config,"audioConfig"),x=u(this.config,"audioXhrSettings"),T=o.create(this.loader,h.key,p,m,x);T&&(this.addToMultiFile(T),this.loader.addFile(T))}},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],c=this.files[1];h.addToCache(),c.addToCache(),this.complete=!0}}});f.register("audioSprite",function(h,c,p,m,x,T){var P=this.systems.game,M=P.config.audio,E=P.device.audio;if(M&&M.noAudio||!E.webAudio&&!E.audioData)return this;var w;if(Array.isArray(h))for(var R=0;R<h.length;R++)w=new v(this,h[R]),w.files&&this.addFile(w.files);else w=new v(this,h,c,p,m,x,T),w.files&&this.addFile(w.files);return this})},85722:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(23906),f=s(41299),u=s(74099),l=s(95540),a=s(41212),d=new o({Extends:f,initialize:function(h,c,p,m,x){var T="bin";if(a(c)){var P=c;c=l(P,"key"),p=l(P,"url"),m=l(P,"xhrSettings"),T=l(P,"extension",T),x=l(P,"dataType",x)}var M={type:"binary",cache:h.cacheManager.binary,extension:T,responseType:"arraybuffer",key:c,url:p,xhrSettings:m,config:{dataType:x}};f.call(this,h,M)},onProcess:function(){this.state=y.FILE_PROCESSING;var v=this.config.dataType;this.data=v?new v(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});u.register("binary",function(v,h,c,p){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new d(this,v[m]));else this.addFile(new d(this,v,h,p,c));return this}),n.exports=d},97025:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(74099),f=s(95540),u=s(19550),l=s(41212),a=s(26430),d=s(21859),v=s(57318),h=new o({Extends:a,initialize:function(p,m,x,T,P,M){var E,w;if(l(m)){var R=m;m=f(R,"key"),E=new u(p,{key:m,url:f(R,"textureURL"),extension:f(R,"textureExtension","png"),normalMap:f(R,"normalMap"),xhrSettings:f(R,"textureXhrSettings")}),w=new v(p,{key:m,url:f(R,"fontDataURL"),extension:f(R,"fontDataExtension","xml"),xhrSettings:f(R,"fontDataXhrSettings")})}else E=new u(p,m,x,P),w=new v(p,m,T,M);E.linkFile?a.call(this,p,"bitmapfont",m,[E,w,E.linkFile]):a.call(this,p,"bitmapfont",m,[E,w])},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[0],p=this.files[1];c.addToCache();var m=c.cache.get(c.key),x=d(p.data,c.cache.getFrame(c.key),0,0,m);this.loader.cacheManager.bitmapFont.add(c.key,{data:x,texture:c.key,frame:null}),this.complete=!0}}});y.register("bitmapFont",function(c,p,m,x,T){var P;if(Array.isArray(c))for(var M=0;M<c.length;M++)P=new h(this,c[M]),this.addFile(P.files);else P=new h(this,c,p,m,x,T),this.addFile(P.files);return this}),n.exports=h},16024:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(23906),f=s(41299),u=s(74099),l=s(95540),a=s(41212),d=new o({Extends:f,initialize:function(h,c,p,m){var x="css";if(a(c)){var T=c;c=l(T,"key"),p=l(T,"url"),m=l(T,"xhrSettings"),x=l(T,"extension",x)}var P={type:"script",cache:!1,extension:x,responseType:"text",key:c,url:p,xhrSettings:m};f.call(this,h,P)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});u.register("css",function(v,h,c){if(Array.isArray(v))for(var p=0;p<v.length;p++)this.addFile(new d(this,v[p]));else this.addFile(new d(this,v,h,c));return this}),n.exports=d},69559:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(38734),y=s(85722),f=s(83419),u=s(74099),l=s(95540),a=s(19550),d=s(41212),v=s(518),h=s(31403),c=s(46975),p=s(59327),m=s(26430),x=s(82038),T=s(55222),P=new f({Extends:m,initialize:function(E,w,R,A){if(R.multiAtlasURL){var L=new v(E,{key:w,url:R.multiAtlasURL,xhrSettings:A,config:R});m.call(this,E,"texture",w,[L])}else{var b=R.textureURL.substr(R.textureURL.length-3);R.type||(R.type=b.toLowerCase()==="ktx"?"KTX":"PVR");var O=new y(E,{key:w,url:R.textureURL,extension:b,xhrSettings:A,config:R});if(R.atlasURL){var F=new v(E,{key:w,url:R.atlasURL,xhrSettings:A,config:R});m.call(this,E,"texture",w,[O,F])}else m.call(this,E,"texture",w,[O])}this.config=R},onFileComplete:function(M){var E=this.files.indexOf(M);if(E!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(M.type==="json"&&M.data.hasOwnProperty("textures")){var w=M.data.textures,R=this.config,A=this.loader,L=A.baseURL,b=A.path,O=A.prefix,F=l(R,"multiBaseURL",this.baseURL),D=l(R,"multiPath",this.path),B=l(R,"prefix",this.prefix),N=l(R,"textureXhrSettings");F&&A.setBaseURL(F),D&&A.setPath(D),B&&A.setPrefix(B);for(var z=0;z<w.length;z++){var W=w[z].image,X="CMA"+this.multiKeyIndex+"_"+W,k=new y(A,X,W,N);if(this.addToMultiFile(k),A.addFile(k),w[z].normalMap){var V=new y(A,X,w[z].normalMap,N);V.type="normalMap",k.setLink(V),this.addToMultiFile(V),A.addFile(V)}}A.setBaseURL(L),A.setPath(b),A.setPrefix(O)}}},addToCache:function(){function M(F){console.warn('Compressed Texture Invalid: "'+L.key+'". '+F)}if(this.isReadyToProcess()){var E=this.config;if(E.multiAtlasURL)this.addMultiToCache();else{var w=this.loader.systems.renderer,R=this.loader.textureManager,A,L=this.files[0],b=this.files[1];if(E.type==="PVR"?A=x(L.data):E.type==="KTX"&&(A=h(L.data),A||M("KTX file contains unsupported format.")),A&&!T(A)&&(M("Texture dimensions failed verification. Check the texture format specifications for "+E.format+" 0x"+A.internalFormat.toString(16)+"."),A=null),A&&!w.supportsCompressedTexture(E.format,A.internalFormat)&&(M("Texture format "+E.format+" with internal format "+A.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),A=null),A){A.format=w.getCompressedTextureName(E.format,A.internalFormat);var O=b&&b.data?b.data:null;R.addCompressedTexture(L.key,A,O)}}this.complete=!0}},addMultiToCache:function(){for(var M=this.config,E=this.files[0],w=[],R=[],A=[],L=this.loader.systems.renderer,b=this.loader.textureManager,O,F=1;F<this.files.length;F++){var D=this.files[F];if(D.type!=="normalMap")for(var B=D.key.indexOf("_"),N=D.key.substr(B+1),z=D.data,W=0;W<E.data.textures.length;W++){var X=E.data.textures[W];if(X.image===N){M.type==="PVR"?O=x(z):M.type==="KTX"&&(O=h(z)),O&&L.supportsCompressedTexture(M.format,O.internalFormat)&&(O.format=L.getCompressedTextureName(M.format,O.internalFormat),R.push(O),w.push(X),D.linkFile&&A.push(D.linkFile.data));break}}}A.length===0&&(A=void 0),b.addAtlasJSONArray(this.key,R,w,A),this.complete=!0}});u.register("texture",function(M,E,w){var R=this.systems.renderer,A=function(b,O,F,D){var B={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(d(O)){var N=O;O=l(N,"key"),F=l(N,"url"),D=l(N,"xhrSettings")}var z=!1;for(var W in F)if(R.supportsCompressedTexture(W)){var X=F[W];typeof X=="string"?B.textureURL=X:B=c(X,B),B.format=W.toUpperCase(),z=!0;break}if(!z)console.warn("No supported compressed texture format or IMG fallback",O);else if(B.format==="IMG"){var k,V;B.multiAtlasURL?(V=new p(b,O,B.multiAtlasURL,B.multiPath,B.multiBaseURL,D),k=V.files):B.atlasURL?(V=new o(b,O,B.textureURL,B.atlasURL,D),k=V.files):k=new a(b,O,B.textureURL,D),b.addFile(k)}else{var I=new P(b,O,B,D);b.addFile(I.files)}};if(Array.isArray(M))for(var L=0;L<M.length;L++)A(this,M[L]);else A(this,M,E,w);return this}),n.exports=P},87674:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(23906),f=s(41299),u=s(74099),l=s(95540),a=s(98356),d=s(41212),v=new o({Extends:f,initialize:function(c,p,m,x,T,P){var M="ttf";if(d(p)){var E=p;p=l(E,"key"),m=l(E,"url"),x=l(E,"format","truetype"),T=l(E,"descriptors",null),P=l(E,"xhrSettings"),M=l(E,"extension",M)}else x===void 0&&(x="truetype");var w={type:"font",cache:!1,extension:M,responseType:"text",key:p,url:m,xhrSettings:P};f.call(this,c,w),this.data={format:x,descriptors:T},this.state=y.FILE_POPULATED},onProcess:function(){this.state=y.FILE_PROCESSING,this.src=a(this,this.loader.baseURL);var h,c=this.key,p="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?h=new FontFace(c,p,this.data.descriptors):h=new FontFace(c,p);var m=this;h.load().then(function(){document.fonts.add(h),document.body.classList.add("fonts-loaded"),m.onProcessComplete()}).catch(function(){console.warn("Font failed to load",p),m.onProcessComplete()})}});u.register("font",function(h,c,p,m,x){if(Array.isArray(h))for(var T=0;T<h.length;T++)this.addFile(new v(this,h[T]));else this.addFile(new v(this,h,c,p,m,x));return this}),n.exports=v},47931:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(23906),f=s(41299),u=s(74099),l=s(95540),a=s(41212),d=s(73894),v=new o({Extends:f,initialize:function(c,p,m,x,T){var P="glsl";if(a(p)){var M=p;p=l(M,"key"),m=l(M,"url"),x=l(M,"shaderType","fragment"),T=l(M,"xhrSettings"),P=l(M,"extension",P)}else x===void 0&&(x="fragment");var E={type:"glsl",cache:c.cacheManager.shader,extension:P,responseType:"text",key:p,url:m,config:{shaderType:x},xhrSettings:T};f.call(this,c,E)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var h=this.data.split(`
`),c=this.extractBlock(h,0);if(c)for(;c;){var p=this.getShaderName(c.header),m=this.getShaderType(c.header),x=this.getShaderUniforms(c.header),T=c.shader;if(this.cache.has(p)){var P=this.cache.get(p);m==="fragment"?P.fragmentSrc=T:P.vertexSrc=T,P.uniforms||(P.uniforms=x)}else m==="fragment"?this.cache.add(p,new d(p,T,"",x)):this.cache.add(p,new d(p,"",T,x));c=this.extractBlock(h,c.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new d(this.key,this.data)):this.cache.add(this.key,new d(this.key,"",this.data))},getShaderName:function(h){for(var c=0;c<h.length;c++){var p=h[c].trim();if(p.substring(0,5)==="name:")return p.substring(5).trim()}return this.key},getShaderType:function(h){for(var c=0;c<h.length;c++){var p=h[c].trim();if(p.substring(0,5)==="type:")return p.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(h){for(var c={},p=0;p<h.length;p++){var m=h[p].trim();if(m.substring(0,8)==="uniform."){var x=m.indexOf(":");if(x){var T=m.substring(8,x);try{c[T]=JSON.parse(m.substring(x+1))}catch{console.warn("Invalid uniform JSON: "+T)}}}}return c},extractBlock:function(h,c){for(var p=-1,m=-1,x=-1,T=!1,P=!1,M=[],E=[],w=c;w<h.length;w++){var R=h[w].trim();if(R==="---")if(p===-1)p=w,T=!0;else if(T)m=w,T=!1,P=!0;else{P=!1;break}else T?M.push(R):P&&(E.push(R),x=w)}return!T&&m!==-1?{header:M,shader:E.join(`
`),offset:x}:null}});u.register("glsl",function(h,c,p,m){if(Array.isArray(h))for(var x=0;x<h.length;x++)this.addFile(new v(this,h[x]));else this.addFile(new v(this,h,c,p,m));return this}),n.exports=v},89749:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(54899),f=s(41299),u=s(95540),l=s(98356),a=s(41212),d=new o({Extends:f,initialize:function(h,c,p,m){if(a(c)){var x=c;c=u(x,"key"),m=u(x,"config",m)}var T={type:"audio",cache:h.cacheManager.audio,extension:p.type,key:c,url:p.url,config:m};f.call(this,h,T),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var v=0;v<this.data.length;v++){var h=this.data[v];h.oncanplaythrough=null,h.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(v){var h=v.target;h.oncanplaythrough=null,h.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(y.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var v=this.config&&this.config.instances||1;this.filesTotal=v,this.filesLoaded=0,this.percentComplete=0;for(var h=0;h<v;h++){var c=new Audio;c.dataset||(c.dataset={}),c.dataset.name=this.key+("0"+h).slice(-2),c.dataset.used="false",this.locked?c.dataset.locked="true":(c.dataset.locked="false",c.preload="auto",c.oncanplaythrough=this.onProgress.bind(this),c.onerror=this.onError.bind(this)),this.data.push(c)}for(h=0;h<this.data.length;h++)c=this.data[h],c.src=l(this,this.loader.baseURL),this.locked||c.load();this.locked&&setTimeout(this.onLoad.bind(this))}});n.exports=d},88470:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(23906),f=s(41299),u=s(74099),l=s(95540),a=s(41212),d=new o({Extends:f,initialize:function(h,c,p,m){var x="html";if(a(c)){var T=c;c=l(T,"key"),p=l(T,"url"),m=l(T,"xhrSettings"),x=l(T,"extension",x)}var P={type:"text",cache:h.cacheManager.html,extension:x,responseType:"text",key:c,url:p,xhrSettings:m};f.call(this,h,P)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});u.register("html",function(v,h,c){if(Array.isArray(v))for(var p=0;p<v.length;p++)this.addFile(new d(this,v[p]));else this.addFile(new d(this,v,h,c));return this}),n.exports=d},14643:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(23906),f=s(41299),u=s(74099),l=s(95540),a=s(41212),d=new o({Extends:f,initialize:function(h,c,p,m,x,T){m===void 0&&(m=512),x===void 0&&(x=512);var P="html";if(a(c)){var M=c;c=l(M,"key"),p=l(M,"url"),T=l(M,"xhrSettings"),P=l(M,"extension",P),m=l(M,"width",m),x=l(M,"height",x)}var E={type:"html",cache:h.textureManager,extension:P,responseType:"text",key:c,url:p,xhrSettings:T,config:{width:m,height:x}};f.call(this,h,E)},onProcess:function(){this.state=y.FILE_PROCESSING;var v=this.config.width,h=this.config.height,c=[];c.push('<svg width="'+v+'px" height="'+h+'px" viewBox="0 0 '+v+" "+h+'" xmlns="http://www.w3.org/2000/svg">'),c.push('<foreignObject width="100%" height="100%">'),c.push('<body xmlns="http://www.w3.org/1999/xhtml">'),c.push(this.xhrLoader.responseText),c.push("</body>"),c.push("</foreignObject>"),c.push("</svg>");var p=[c.join(`
`)],m=this;try{var x=new window.Blob(p,{type:"image/svg+xml;charset=utf-8"})}catch{m.state=y.FILE_ERRORED,m.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){f.revokeObjectURL(m.data),m.onProcessComplete()},this.data.onerror=function(){f.revokeObjectURL(m.data),m.onProcessError()},f.createObjectURL(this.data,x,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});u.register("htmlTexture",function(v,h,c,p,m){if(Array.isArray(v))for(var x=0;x<v.length;x++)this.addFile(new d(this,v[x]));else this.addFile(new d(this,v,h,c,p,m));return this}),n.exports=d},19550:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(23906),f=s(41299),u=s(74099),l=s(95540),a=s(41212),d=s(98356),v=new o({Extends:f,initialize:function h(c,p,m,x,T){var P="png",M;if(a(p)){var E=p;p=l(E,"key"),m=l(E,"url"),M=l(E,"normalMap"),x=l(E,"xhrSettings"),P=l(E,"extension",P),T=l(E,"frameConfig")}Array.isArray(m)&&(M=m[1],m=m[0]);var w={type:"image",cache:c.textureManager,extension:P,responseType:"blob",key:p,url:m,xhrSettings:x,config:T};if(f.call(this,c,w),M){var R=new h(c,this.key,M,x,T);R.type="normalMap",this.setLink(R),c.addFile(R)}this.useImageElementLoad=c.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var h=this;this.data.onload=function(){f.revokeObjectURL(h.data),h.onProcessComplete()},this.data.onerror=function(){f.revokeObjectURL(h.data),h.onProcessError()},f.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var h=this.state;this.state=y.FILE_PROCESSING,h===y.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=y.FILE_LOADING,this.src=d(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var h=this;this.data.onload=function(){h.state=y.FILE_LOADED,h.loader.nextFile(h,!0)},this.data.onerror=function(){h.loader.nextFile(h,!1)},this.data.src=this.src},addToCache:function(){var h=this.linkFile;h?h.state>=y.FILE_COMPLETE&&(h.type==="spritesheet"?h.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,h.data,this.data):this.cache.addImage(this.key,this.data,h.data)):this.cache.addImage(this.key,this.data)}});u.register("image",function(h,c,p){if(Array.isArray(h))for(var m=0;m<h.length;m++)this.addFile(new v(this,h[m]));else this.addFile(new v(this,h,c,p));return this}),n.exports=v},518:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(23906),f=s(41299),u=s(74099),l=s(95540),a=s(35154),d=s(41212),v=new o({Extends:f,initialize:function(c,p,m,x,T){var P="json";if(d(p)){var M=p;p=l(M,"key"),m=l(M,"url"),x=l(M,"xhrSettings"),P=l(M,"extension",P),T=l(M,"dataKey",T)}var E={type:"json",cache:c.cacheManager.json,extension:P,responseType:"text",key:p,url:m,xhrSettings:x,config:T};f.call(this,c,E),d(m)&&(T?this.data=a(m,T):this.data=m,this.state=y.FILE_POPULATED)},onProcess:function(){if(this.state!==y.FILE_POPULATED){this.state=y.FILE_PROCESSING;try{var h=JSON.parse(this.xhrLoader.responseText)}catch(p){throw this.onProcessError(),p}var c=this.config;typeof c=="string"?this.data=a(h,c,h):this.data=h}this.onProcessComplete()}});u.register("json",function(h,c,p,m){if(Array.isArray(h))for(var x=0;x<h.length;x++)this.addFile(new v(this,h[x]));else this.addFile(new v(this,h,c,m,p));return this}),n.exports=v},59327:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(74099),f=s(95540),u=s(19550),l=s(41212),a=s(518),d=s(26430),v=new o({Extends:d,initialize:function(c,p,m,x,T,P,M){if(l(p)){var E=p;p=f(E,"key"),f(E,"url",!1)?m=f(E,"url"):m=f(E,"atlasURL"),P=f(E,"xhrSettings"),x=f(E,"path"),T=f(E,"baseURL"),M=f(E,"textureXhrSettings")}var w=new a(c,p,m,P);d.call(this,c,"multiatlas",p,[w]),this.config.path=x,this.config.baseURL=T,this.config.textureXhrSettings=M},onFileComplete:function(h){var c=this.files.indexOf(h);if(c!==-1&&(this.pending--,h.type==="json"&&h.data.hasOwnProperty("textures"))){var p=h.data.textures,m=this.config,x=this.loader,T=x.baseURL,P=x.path,M=x.prefix,E=f(m,"baseURL",this.baseURL),w=f(m,"path",this.path),R=f(m,"prefix",this.prefix),A=f(m,"textureXhrSettings");x.setBaseURL(E),x.setPath(w),x.setPrefix(R);for(var L=0;L<p.length;L++){var b=p[L].image,O="MA"+this.multiKeyIndex+"_"+b,F=new u(x,O,b,A);if(this.addToMultiFile(F),x.addFile(F),p[L].normalMap){var D=new u(x,O,p[L].normalMap,A);D.type="normalMap",F.setLink(D),this.addToMultiFile(D),x.addFile(D)}}x.setBaseURL(T),x.setPath(P),x.setPrefix(M)}},addToCache:function(){if(this.isReadyToProcess()){for(var h=this.files[0],c=[],p=[],m=[],x=1;x<this.files.length;x++){var T=this.files[x];if(T.type!=="normalMap")for(var P=T.key.indexOf("_"),M=T.key.substr(P+1),E=T.data,w=0;w<h.data.textures.length;w++){var R=h.data.textures[w];if(R.image===M){p.push(E),c.push(R),T.linkFile&&m.push(T.linkFile.data);break}}}m.length===0&&(m=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,p,c,m),this.complete=!0}}});y.register("multiatlas",function(h,c,p,m,x){var T;if(Array.isArray(h))for(var P=0;P<h.length;P++)T=new v(this,h[P]),this.addFile(T.files);else T=new v(this,h,c,p,m,x),this.addFile(T.files);return this}),n.exports=v},99297:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(74099),f=s(95540),u=s(41212),l=s(26430),a=s(34328),d=new o({Extends:l,initialize:function(h,c,p,m){var x="js",T=[];if(u(c)){var P=c;c=f(P,"key"),p=f(P,"url"),m=f(P,"xhrSettings"),x=f(P,"extension",x)}Array.isArray(p)||(p=[p]);for(var M=0;M<p.length;M++){var E=new a(h,{key:c+"_"+M.toString(),url:p[M],extension:x,xhrSettings:m});E.onProcess=function(){this.onProcessComplete()},T.push(E)}l.call(this,h,"scripts",c,T)},addToCache:function(){if(this.isReadyToProcess()){for(var v=0;v<this.files.length;v++){var h=this.files[v];h.data=document.createElement("script"),h.data.language="javascript",h.data.type="text/javascript",h.data.defer=!1,h.data.text=h.xhrLoader.responseText,document.head.appendChild(h.data)}this.complete=!0}}});y.register("scripts",function(v,h,c){var p;if(Array.isArray(v))for(var m=0;m<v.length;m++)p=new d(this,v[m]),this.addFile(p.files);else p=new d(this,v,h,c),this.addFile(p.files);return this}),n.exports=d},41846:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(74099),f=s(95540),u=s(41212),l=s(26430),a=s(85048),d=s(61485),v=s(78776),h=new o({Extends:l,initialize:function(p,m,x,T,P,M){var E,w,R=p.cacheManager.obj;if(u(m)){var A=m;m=f(A,"key"),E=new v(p,{key:m,type:"obj",cache:R,url:f(A,"url"),extension:f(A,"extension","obj"),xhrSettings:f(A,"xhrSettings"),config:{flipUV:f(A,"flipUV",P)}}),T=f(A,"matURL"),T&&(w=new v(p,{key:m,type:"mat",cache:R,url:T,extension:f(A,"matExtension","mat"),xhrSettings:f(A,"xhrSettings")}))}else E=new v(p,{key:m,url:x,type:"obj",cache:R,extension:"obj",xhrSettings:M,config:{flipUV:P}}),T&&(w=new v(p,{key:m,url:T,type:"mat",cache:R,extension:"mat",xhrSettings:M}));l.call(this,p,"obj",m,[E,w])},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[0],p=this.files[1],m=a(c.data,c.config.flipUV);p&&(m.materials=d(p.data)),c.cache.add(c.key,m),this.complete=!0}}});y.register("obj",function(c,p,m,x,T){var P;if(Array.isArray(c))for(var M=0;M<c.length;M++)P=new h(this,c[M]),this.addFile(P.files);else P=new h(this,c,p,m,x,T),this.addFile(P.files);return this}),n.exports=h},58610:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(23906),f=s(74099),u=s(518),l=new o({Extends:u,initialize:function(d,v,h,c,p){u.call(this,d,v,h,c,p),this.type="packfile"},onProcess:function(){if(this.state!==y.FILE_POPULATED&&(this.state=y.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var a={};a[this.config]=this.data,this.data=a}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});f.register("pack",function(a,d,v,h){if(Array.isArray(a))for(var c=0;c<a.length;c++)this.addFile(new l(this,a[c]));else this.addFile(new l(this,a,d,h,v));return this}),n.exports=l},48988:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(23906),f=s(41299),u=s(74099),l=s(95540),a=s(41212),d=new o({Extends:f,initialize:function(h,c,p,m,x,T){var P="js";if(a(c)){var M=c;c=l(M,"key"),p=l(M,"url"),T=l(M,"xhrSettings"),P=l(M,"extension",P),m=l(M,"start"),x=l(M,"mapping")}var E={type:"plugin",cache:!1,extension:P,responseType:"text",key:c,url:p,xhrSettings:T,config:{start:m,mapping:x}};f.call(this,h,E),typeof p=="function"&&(this.data=p,this.state=y.FILE_POPULATED)},onProcess:function(){var v=this.loader.systems.plugins,h=this.config,c=l(h,"start",!1),p=l(h,"mapping",null);if(this.state===y.FILE_POPULATED)v.install(this.key,this.data,c,p);else{this.state=y.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var m=v.install(this.key,window[this.key],c,p);(c||p)&&(this.loader.systems[p]=m,this.loader.scene[p]=m)}this.onProcessComplete()}});u.register("plugin",function(v,h,c,p,m){if(Array.isArray(v))for(var x=0;x<v.length;x++)this.addFile(new d(this,v[x]));else this.addFile(new d(this,v,h,c,p,m));return this}),n.exports=d},67397:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(23906),f=s(41299),u=s(74099),l=s(95540),a=s(41212),d=new o({Extends:f,initialize:function(h,c,p,m,x){var T="svg";if(a(c)){var P=c;c=l(P,"key"),p=l(P,"url"),m=l(P,"svgConfig",{}),x=l(P,"xhrSettings"),T=l(P,"extension",T)}var M={type:"svg",cache:h.textureManager,extension:T,responseType:"text",key:c,url:p,xhrSettings:x,config:{width:l(m,"width"),height:l(m,"height"),scale:l(m,"scale")}};f.call(this,h,M)},onProcess:function(){this.state=y.FILE_PROCESSING;var v=this.xhrLoader.responseText,h=[v],c=this.config.width,p=this.config.height,m=this.config.scale;t:if(c&&p||m){var x=null,T=new DOMParser;x=T.parseFromString(v,"text/xml");var P=x.getElementsByTagName("svg")[0],M=P.hasAttribute("viewBox"),E=parseFloat(P.getAttribute("width")),w=parseFloat(P.getAttribute("height"));if(!M&&E&&w)P.setAttribute("viewBox","0  0 "+E+" "+w);else if(M&&!E&&!w){var R=P.getAttribute("viewBox").split(/\s+|,/);E=R[2],w=R[3]}if(m)if(E&&w)c=E*m,p=w*m;else break t;P.setAttribute("width",c.toString()+"px"),P.setAttribute("height",p.toString()+"px"),h=[new XMLSerializer().serializeToString(P)]}try{var A=new window.Blob(h,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var L=this,b=!1;this.data.onload=function(){b||f.revokeObjectURL(L.data),L.onProcessComplete()},this.data.onerror=function(){b?L.onProcessError():(b=!0,f.revokeObjectURL(L.data),L.data.src="data:image/svg+xml,"+encodeURIComponent(h.join("")))},f.createObjectURL(this.data,A,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});u.register("svg",function(v,h,c,p){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new d(this,v[m]));else this.addFile(new d(this,v,h,c,p));return this}),n.exports=d},88423:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(23906),f=s(41299),u=s(74099),l=s(95540),a=s(41212),d=new o({Extends:f,initialize:function(h,c,p,m){var x="js";if(a(c)){var T=c;c=l(T,"key"),p=l(T,"url"),m=l(T,"xhrSettings"),x=l(T,"extension",x)}var P={type:"text",extension:x,responseType:"text",key:c,url:p,xhrSettings:m};f.call(this,h,P)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var v=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),h=eval;this.loader.sceneManager.add(this.key,h(v)),this.complete=!0}});u.register("sceneFile",function(v,h,c){if(Array.isArray(v))for(var p=0;p<v.length;p++)this.addFile(new d(this,v[p]));else this.addFile(new d(this,v,h,c));return this}),n.exports=d},56812:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(23906),f=s(41299),u=s(74099),l=s(95540),a=s(41212),d=new o({Extends:f,initialize:function(h,c,p,m,x,T){var P="js";if(a(c)){var M=c;c=l(M,"key"),p=l(M,"url"),T=l(M,"xhrSettings"),P=l(M,"extension",P),m=l(M,"systemKey"),x=l(M,"sceneKey")}var E={type:"scenePlugin",cache:!1,extension:P,responseType:"text",key:c,url:p,xhrSettings:T,config:{systemKey:m,sceneKey:x}};f.call(this,h,E),typeof p=="function"&&(this.data=p,this.state=y.FILE_POPULATED)},onProcess:function(){var v=this.loader.systems.plugins,h=this.config,c=this.key,p=l(h,"systemKey",c),m=l(h,"sceneKey",c);this.state===y.FILE_POPULATED?v.installScenePlugin(p,this.data,m,this.loader.scene,!0):(this.state=y.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),v.installScenePlugin(p,window[this.key],m,this.loader.scene,!0)),this.onProcessComplete()}});u.register("scenePlugin",function(v,h,c,p,m){if(Array.isArray(v))for(var x=0;x<v.length;x++)this.addFile(new d(this,v[x]));else this.addFile(new d(this,v,h,c,p,m));return this}),n.exports=d},34328:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(23906),f=s(41299),u=s(74099),l=s(95540),a=s(41212),d=new o({Extends:f,initialize:function(h,c,p,m,x){var T="js";if(a(c)){var P=c;c=l(P,"key"),p=l(P,"url"),m=l(P,"type","script"),x=l(P,"xhrSettings"),T=l(P,"extension",T)}else m===void 0&&(m="script");var M={type:m,cache:!1,extension:T,responseType:"text",key:c,url:p,xhrSettings:x};f.call(this,h,M)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});u.register("script",function(v,h,c,p){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new d(this,v[m]));else this.addFile(new d(this,v,h,c,p));return this}),n.exports=d},85035:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(23906),f=s(74099),u=s(19550),l=new o({Extends:u,initialize:function(d,v,h,c,p){u.call(this,d,v,h,p,c),this.type="spritesheet"},addToCache:function(){var a=this.linkFile;a?a.state>=y.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,a.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,a.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});f.register("spritesheet",function(a,d,v,h){if(Array.isArray(a))for(var c=0;c<a.length;c++)this.addFile(new l(this,a[c]));else this.addFile(new l(this,a,d,v,h));return this}),n.exports=l},78776:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(23906),f=s(41299),u=s(74099),l=s(95540),a=s(41212),d=new o({Extends:f,initialize:function(h,c,p,m){var x="text",T="txt",P=h.cacheManager.text;if(a(c)){var M=c;c=l(M,"key"),p=l(M,"url"),m=l(M,"xhrSettings"),T=l(M,"extension",T),x=l(M,"type",x),P=l(M,"cache",P)}var E={type:x,cache:P,extension:T,responseType:"text",key:c,url:p,xhrSettings:m};f.call(this,h,E)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});u.register("text",function(v,h,c){if(Array.isArray(v))for(var p=0;p<v.length;p++)this.addFile(new d(this,v[p]));else this.addFile(new d(this,v,h,c));return this}),n.exports=d},49477:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(23906),f=s(41299),u=s(74099),l=s(95540),a=s(41212),d=s(80341),v=new o({Extends:f,initialize:function(c,p,m,x){var T="csv";if(a(p)){var P=p;p=l(P,"key"),m=l(P,"url"),x=l(P,"xhrSettings"),T=l(P,"extension",T)}var M={type:"tilemapCSV",cache:c.cacheManager.tilemap,extension:T,responseType:"text",key:p,url:m,xhrSettings:x};f.call(this,c,M),this.tilemapFormat=d.CSV},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var h={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,h)}});u.register("tilemapCSV",function(h,c,p){if(Array.isArray(h))for(var m=0;m<h.length;m++)this.addFile(new v(this,h[m]));else this.addFile(new v(this,h,c,p));return this}),n.exports=v},40807:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(74099),f=s(518),u=s(80341),l=new o({Extends:f,initialize:function(d,v,h,c){f.call(this,d,v,h,c),this.type="tilemapJSON",this.cache=d.cacheManager.tilemap},addToCache:function(){var a={format:u.WELTMEISTER,data:this.data};this.cache.add(this.key,a)}});y.register("tilemapImpact",function(a,d,v){if(Array.isArray(a))for(var h=0;h<a.length;h++)this.addFile(new l(this,a[h]));else this.addFile(new l(this,a,d,v));return this}),n.exports=l},56775:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(74099),f=s(518),u=s(80341),l=new o({Extends:f,initialize:function(d,v,h,c){f.call(this,d,v,h,c),this.type="tilemapJSON",this.cache=d.cacheManager.tilemap},addToCache:function(){var a={format:u.TILED_JSON,data:this.data};this.cache.add(this.key,a)}});y.register("tilemapTiledJSON",function(a,d,v){if(Array.isArray(a))for(var h=0;h<a.length;h++)this.addFile(new l(this,a[h]));else this.addFile(new l(this,a,d,v));return this}),n.exports=l},25771:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(74099),f=s(95540),u=s(19550),l=s(41212),a=s(26430),d=s(78776),v=new o({Extends:a,initialize:function(c,p,m,x,T,P){var M,E;if(l(p)){var w=p;p=f(w,"key"),M=new u(c,{key:p,url:f(w,"textureURL"),extension:f(w,"textureExtension","png"),normalMap:f(w,"normalMap"),xhrSettings:f(w,"textureXhrSettings")}),E=new d(c,{key:p,url:f(w,"atlasURL"),extension:f(w,"atlasExtension","txt"),xhrSettings:f(w,"atlasXhrSettings")})}else M=new u(c,p,m,T),E=new d(c,p,x,P);M.linkFile?a.call(this,c,"unityatlas",p,[M,E,M.linkFile]):a.call(this,c,"unityatlas",p,[M,E])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],c=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(h.key,h.data,c.data,p),this.complete=!0}}});y.register("unityAtlas",function(h,c,p,m,x){var T;if(Array.isArray(h))for(var P=0;P<h.length;P++)T=new v(this,h[P]),this.addFile(T.files);else T=new v(this,h,c,p,m,x),this.addFile(T.files);return this}),n.exports=v},33720:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(23906),f=s(41299),u=s(74099),l=s(98356),a=s(95540),d=s(41212),v=new o({Extends:f,initialize:function(c,p,m,x){if(x===void 0&&(x=!1),d(p)){var T=p;p=a(T,"key"),m=a(T,"url",[]),x=a(T,"noAudio",!1)}var P=c.systems.game.device.video.getVideoURL(m);P||console.warn("VideoFile: No supported format for "+p);var M={type:"video",cache:c.cacheManager.video,extension:P.type,key:p,url:P.url,config:{noAudio:x}};f.call(this,c,M)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=l(this,this.loader.baseURL),this.state=y.FILE_LOADED,this.loader.nextFile(this,!0)}});u.register("video",function(h,c,p){if(Array.isArray(h))for(var m=0;m<h.length;m++)this.addFile(new v(this,h[m]));else this.addFile(new v(this,h,c,p));return this}),n.exports=v},57318:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(23906),f=s(41299),u=s(74099),l=s(95540),a=s(41212),d=s(56836),v=new o({Extends:f,initialize:function(c,p,m,x){var T="xml";if(a(p)){var P=p;p=l(P,"key"),m=l(P,"url"),x=l(P,"xhrSettings"),T=l(P,"extension",T)}var M={type:"xml",cache:c.cacheManager.xml,extension:T,responseType:"text",key:p,url:m,xhrSettings:x};f.call(this,c,M)},onProcess:function(){this.state=y.FILE_PROCESSING,this.data=d(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});u.register("xml",function(h,c,p){if(Array.isArray(h))for(var m=0;m<h.length;m++)this.addFile(new v(this,h[m]));else this.addFile(new v(this,h,c,p));return this}),n.exports=v},64589:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AnimationJSONFile:s(14135),AsepriteFile:s(76272),AtlasJSONFile:s(38734),AtlasXMLFile:s(74599),AudioFile:s(21097),AudioSpriteFile:s(89524),BinaryFile:s(85722),BitmapFontFile:s(97025),CompressedTextureFile:s(69559),CSSFile:s(16024),FontFile:s(87674),GLSLFile:s(47931),HTML5AudioFile:s(89749),HTMLFile:s(88470),HTMLTextureFile:s(14643),ImageFile:s(19550),JSONFile:s(518),MultiAtlasFile:s(59327),MultiScriptFile:s(99297),OBJFile:s(41846),PackFile:s(58610),PluginFile:s(48988),SceneFile:s(88423),ScenePluginFile:s(56812),ScriptFile:s(34328),SpriteSheetFile:s(85035),SVGFile:s(67397),TextFile:s(78776),TilemapCSVFile:s(49477),TilemapImpactFile:s(40807),TilemapJSONFile:s(56775),UnityAtlasFile:s(25771),VideoFile:s(33720),XMLFile:s(57318)}},57777:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(23906),y=s(79291),f={Events:s(54899),FileTypes:s(64589),File:s(41299),FileTypesManager:s(74099),GetURL:s(98356),LoaderPlugin:s(74261),MergeXHRSettings:s(3374),MultiFile:s(26430),XHRLoader:s(84376),XHRSettings:s(92638)};f=y(!1,f,o),n.exports=f},53307:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){for(var o=0,y=0;y<s.length;y++)o+=+s[y];return o/s.length};n.exports=C},85710:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(6411),y=function(f,u){return o(f)/o(u)/o(f-u)};n.exports=y},30976:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return Math.floor(Math.random()*(o-s+1)+s)};n.exports=C},87842:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f,u){var l=(f-o)*.5,a=(u-y)*.5,d=s*s,v=s*d;return(2*y-2*f+l+a)*v+(-3*y+3*f-2*l-a)*d+l*s+y};n.exports=C},26302:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){o===void 0&&(o=0),y===void 0&&(y=10);var f=Math.pow(y,-o);return Math.ceil(s*f)/f};n.exports=C},45319:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){return Math.max(o,Math.min(y,s))};n.exports=C},39506:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),y=function(f){return f*o.DEG_TO_RAD};n.exports=y},61241:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return Math.abs(s-o)};n.exports=C},38857:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),y=s(83419),f=s(37867),u=s(29747),l=new f,a=new y({initialize:function d(v,h,c,p){v===void 0&&(v=0),h===void 0&&(h=0),c===void 0&&(c=0),p===void 0&&(p=d.DefaultOrder),this._x=v,this._y=h,this._z=c,this._order=p,this.onChangeCallback=u},x:{get:function(){return this._x},set:function(d){this._x=d,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(d){this._y=d,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(d){this._z=d,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(d){this._order=d,this.onChangeCallback(this)}},set:function(d,v,h,c){return c===void 0&&(c=this._order),this._x=d,this._y=v,this._z=h,this._order=c,this.onChangeCallback(this),this},copy:function(d){return this.set(d.x,d.y,d.z,d.order)},setFromQuaternion:function(d,v,h){return v===void 0&&(v=this._order),h===void 0&&(h=!1),l.fromQuat(d),this.setFromRotationMatrix(l,v,h)},setFromRotationMatrix:function(d,v,h){v===void 0&&(v=this._order),h===void 0&&(h=!1);var c=d.val,p=c[0],m=c[4],x=c[8],T=c[1],P=c[5],M=c[9],E=c[2],w=c[6],R=c[10],A=0,L=0,b=0,O=.99999;switch(v){case"XYZ":{L=Math.asin(o(x,-1,1)),Math.abs(x)<O?(A=Math.atan2(-M,R),b=Math.atan2(-m,p)):A=Math.atan2(w,P);break}case"YXZ":{A=Math.asin(-o(M,-1,1)),Math.abs(M)<O?(L=Math.atan2(x,R),b=Math.atan2(T,P)):L=Math.atan2(-E,p);break}case"ZXY":{A=Math.asin(o(w,-1,1)),Math.abs(w)<O?(L=Math.atan2(-E,R),b=Math.atan2(-m,P)):b=Math.atan2(T,p);break}case"ZYX":{L=Math.asin(-o(E,-1,1)),Math.abs(E)<O?(A=Math.atan2(w,R),b=Math.atan2(T,p)):b=Math.atan2(-m,P);break}case"YZX":{b=Math.asin(o(T,-1,1)),Math.abs(T)<O?(A=Math.atan2(-M,P),L=Math.atan2(-E,p)):L=Math.atan2(x,R);break}case"XZY":{b=Math.asin(-o(m,-1,1)),Math.abs(m)<O?(A=Math.atan2(w,P),L=Math.atan2(x,p)):A=Math.atan2(-M,R);break}}return this._x=A,this._y=L,this._z=b,this._order=v,h&&this.onChangeCallback(this),this}});a.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],a.DefaultOrder="XYZ",n.exports=a},6411:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){if(s===0)return 1;for(var o=s;--s;)o*=s;return o};n.exports=C},99472:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return Math.random()*(o-s)+s};n.exports=C},77623:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){o===void 0&&(o=0),y===void 0&&(y=10);var f=Math.pow(y,-o);return Math.floor(s*f)/f};n.exports=C},62945:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),y=function(f,u,l){return f=o(f,0,1),(l-u)*f+u};n.exports=y},38265:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return s/o/1e3};n.exports=C},78702:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s==parseFloat(s)?!(s%2):void 0};n.exports=C},94883:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s===parseFloat(s)?!(s%2):void 0};n.exports=C},28915:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){return(o-s)*y+s};n.exports=C},94908:n=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){return y===void 0&&(y=0),s.clone().lerp(o,y)};n.exports=C},94434:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=new o({initialize:function(u){this.val=new Float32Array(9),u?this.copy(u):this.identity()},clone:function(){return new y(this)},set:function(f){return this.copy(f)},copy:function(f){var u=this.val,l=f.val;return u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[4]=l[4],u[5]=l[5],u[6]=l[6],u[7]=l[7],u[8]=l[8],this},fromMat4:function(f){var u=f.val,l=this.val;return l[0]=u[0],l[1]=u[1],l[2]=u[2],l[3]=u[4],l[4]=u[5],l[5]=u[6],l[6]=u[8],l[7]=u[9],l[8]=u[10],this},fromArray:function(f){var u=this.val;return u[0]=f[0],u[1]=f[1],u[2]=f[2],u[3]=f[3],u[4]=f[4],u[5]=f[5],u[6]=f[6],u[7]=f[7],u[8]=f[8],this},identity:function(){var f=this.val;return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=0,f[7]=0,f[8]=1,this},transpose:function(){var f=this.val,u=f[1],l=f[2],a=f[5];return f[1]=f[3],f[2]=f[6],f[3]=u,f[5]=f[7],f[6]=l,f[7]=a,this},invert:function(){var f=this.val,u=f[0],l=f[1],a=f[2],d=f[3],v=f[4],h=f[5],c=f[6],p=f[7],m=f[8],x=m*v-h*p,T=-m*d+h*c,P=p*d-v*c,M=u*x+l*T+a*P;return M?(M=1/M,f[0]=x*M,f[1]=(-m*l+a*p)*M,f[2]=(h*l-a*v)*M,f[3]=T*M,f[4]=(m*u-a*c)*M,f[5]=(-h*u+a*d)*M,f[6]=P*M,f[7]=(-p*u+l*c)*M,f[8]=(v*u-l*d)*M,this):null},adjoint:function(){var f=this.val,u=f[0],l=f[1],a=f[2],d=f[3],v=f[4],h=f[5],c=f[6],p=f[7],m=f[8];return f[0]=v*m-h*p,f[1]=a*p-l*m,f[2]=l*h-a*v,f[3]=h*c-d*m,f[4]=u*m-a*c,f[5]=a*d-u*h,f[6]=d*p-v*c,f[7]=l*c-u*p,f[8]=u*v-l*d,this},determinant:function(){var f=this.val,u=f[0],l=f[1],a=f[2],d=f[3],v=f[4],h=f[5],c=f[6],p=f[7],m=f[8];return u*(m*v-h*p)+l*(-m*d+h*c)+a*(p*d-v*c)},multiply:function(f){var u=this.val,l=u[0],a=u[1],d=u[2],v=u[3],h=u[4],c=u[5],p=u[6],m=u[7],x=u[8],T=f.val,P=T[0],M=T[1],E=T[2],w=T[3],R=T[4],A=T[5],L=T[6],b=T[7],O=T[8];return u[0]=P*l+M*v+E*p,u[1]=P*a+M*h+E*m,u[2]=P*d+M*c+E*x,u[3]=w*l+R*v+A*p,u[4]=w*a+R*h+A*m,u[5]=w*d+R*c+A*x,u[6]=L*l+b*v+O*p,u[7]=L*a+b*h+O*m,u[8]=L*d+b*c+O*x,this},translate:function(f){var u=this.val,l=f.x,a=f.y;return u[6]=l*u[0]+a*u[3]+u[6],u[7]=l*u[1]+a*u[4]+u[7],u[8]=l*u[2]+a*u[5]+u[8],this},rotate:function(f){var u=this.val,l=u[0],a=u[1],d=u[2],v=u[3],h=u[4],c=u[5],p=Math.sin(f),m=Math.cos(f);return u[0]=m*l+p*v,u[1]=m*a+p*h,u[2]=m*d+p*c,u[3]=m*v-p*l,u[4]=m*h-p*a,u[5]=m*c-p*d,this},scale:function(f){var u=this.val,l=f.x,a=f.y;return u[0]=l*u[0],u[1]=l*u[1],u[2]=l*u[2],u[3]=a*u[3],u[4]=a*u[4],u[5]=a*u[5],this},fromQuat:function(f){var u=f.x,l=f.y,a=f.z,d=f.w,v=u+u,h=l+l,c=a+a,p=u*v,m=u*h,x=u*c,T=l*h,P=l*c,M=a*c,E=d*v,w=d*h,R=d*c,A=this.val;return A[0]=1-(T+M),A[3]=m+R,A[6]=x-w,A[1]=m-R,A[4]=1-(p+M),A[7]=P+E,A[2]=x+w,A[5]=P-E,A[8]=1-(p+T),this},normalFromMat4:function(f){var u=f.val,l=this.val,a=u[0],d=u[1],v=u[2],h=u[3],c=u[4],p=u[5],m=u[6],x=u[7],T=u[8],P=u[9],M=u[10],E=u[11],w=u[12],R=u[13],A=u[14],L=u[15],b=a*p-d*c,O=a*m-v*c,F=a*x-h*c,D=d*m-v*p,B=d*x-h*p,N=v*x-h*m,z=T*R-P*w,W=T*A-M*w,X=T*L-E*w,k=P*A-M*R,V=P*L-E*R,I=M*L-E*A,U=b*I-O*V+F*k+D*X-B*W+N*z;return U?(U=1/U,l[0]=(p*I-m*V+x*k)*U,l[1]=(m*X-c*I-x*W)*U,l[2]=(c*V-p*X+x*z)*U,l[3]=(v*V-d*I-h*k)*U,l[4]=(a*I-v*X+h*W)*U,l[5]=(d*X-a*V-h*z)*U,l[6]=(R*N-A*B+L*D)*U,l[7]=(A*F-w*N-L*O)*U,l[8]=(w*B-R*F+L*b)*U,this):null}});n.exports=y},37867:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(25836),f=1e-6,u=new o({initialize:function(p){this.val=new Float32Array(16),p?this.copy(p):this.identity()},clone:function(){return new u(this)},set:function(c){return this.copy(c)},setValues:function(c,p,m,x,T,P,M,E,w,R,A,L,b,O,F,D){var B=this.val;return B[0]=c,B[1]=p,B[2]=m,B[3]=x,B[4]=T,B[5]=P,B[6]=M,B[7]=E,B[8]=w,B[9]=R,B[10]=A,B[11]=L,B[12]=b,B[13]=O,B[14]=F,B[15]=D,this},copy:function(c){var p=c.val;return this.setValues(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])},fromArray:function(c){return this.setValues(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(c,p,m){var x=l.fromQuat(m),T=x.val,P=p.x,M=p.y,E=p.z;return this.setValues(T[0]*P,T[1]*P,T[2]*P,0,T[4]*M,T[5]*M,T[6]*M,0,T[8]*E,T[9]*E,T[10]*E,0,c.x,c.y,c.z,1)},xyz:function(c,p,m){this.identity();var x=this.val;return x[12]=c,x[13]=p,x[14]=m,this},scaling:function(c,p,m){this.zero();var x=this.val;return x[0]=c,x[5]=p,x[10]=m,x[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var c=this.val,p=c[1],m=c[2],x=c[3],T=c[6],P=c[7],M=c[11];return c[1]=c[4],c[2]=c[8],c[3]=c[12],c[4]=p,c[6]=c[9],c[7]=c[13],c[8]=m,c[9]=T,c[11]=c[14],c[12]=x,c[13]=P,c[14]=M,this},getInverse:function(c){return this.copy(c),this.invert()},invert:function(){var c=this.val,p=c[0],m=c[1],x=c[2],T=c[3],P=c[4],M=c[5],E=c[6],w=c[7],R=c[8],A=c[9],L=c[10],b=c[11],O=c[12],F=c[13],D=c[14],B=c[15],N=p*M-m*P,z=p*E-x*P,W=p*w-T*P,X=m*E-x*M,k=m*w-T*M,V=x*w-T*E,I=R*F-A*O,U=R*D-L*O,G=R*B-b*O,Y=A*D-L*F,H=A*B-b*F,$=L*B-b*D,K=N*$-z*H+W*Y+X*G-k*U+V*I;return K?(K=1/K,this.setValues((M*$-E*H+w*Y)*K,(x*H-m*$-T*Y)*K,(F*V-D*k+B*X)*K,(L*k-A*V-b*X)*K,(E*G-P*$-w*U)*K,(p*$-x*G+T*U)*K,(D*W-O*V-B*z)*K,(R*V-L*W+b*z)*K,(P*H-M*G+w*I)*K,(m*G-p*H-T*I)*K,(O*k-F*W+B*N)*K,(A*W-R*k-b*N)*K,(M*U-P*Y-E*I)*K,(p*Y-m*U+x*I)*K,(F*z-O*X-D*N)*K,(R*X-A*z+L*N)*K)):this},adjoint:function(){var c=this.val,p=c[0],m=c[1],x=c[2],T=c[3],P=c[4],M=c[5],E=c[6],w=c[7],R=c[8],A=c[9],L=c[10],b=c[11],O=c[12],F=c[13],D=c[14],B=c[15];return this.setValues(M*(L*B-b*D)-A*(E*B-w*D)+F*(E*b-w*L),-(m*(L*B-b*D)-A*(x*B-T*D)+F*(x*b-T*L)),m*(E*B-w*D)-M*(x*B-T*D)+F*(x*w-T*E),-(m*(E*b-w*L)-M*(x*b-T*L)+A*(x*w-T*E)),-(P*(L*B-b*D)-R*(E*B-w*D)+O*(E*b-w*L)),p*(L*B-b*D)-R*(x*B-T*D)+O*(x*b-T*L),-(p*(E*B-w*D)-P*(x*B-T*D)+O*(x*w-T*E)),p*(E*b-w*L)-P*(x*b-T*L)+R*(x*w-T*E),P*(A*B-b*F)-R*(M*B-w*F)+O*(M*b-w*A),-(p*(A*B-b*F)-R*(m*B-T*F)+O*(m*b-T*A)),p*(M*B-w*F)-P*(m*B-T*F)+O*(m*w-T*M),-(p*(M*b-w*A)-P*(m*b-T*A)+R*(m*w-T*M)),-(P*(A*D-L*F)-R*(M*D-E*F)+O*(M*L-E*A)),p*(A*D-L*F)-R*(m*D-x*F)+O*(m*L-x*A),-(p*(M*D-E*F)-P*(m*D-x*F)+O*(m*E-x*M)),p*(M*L-E*A)-P*(m*L-x*A)+R*(m*E-x*M))},determinant:function(){var c=this.val,p=c[0],m=c[1],x=c[2],T=c[3],P=c[4],M=c[5],E=c[6],w=c[7],R=c[8],A=c[9],L=c[10],b=c[11],O=c[12],F=c[13],D=c[14],B=c[15],N=p*M-m*P,z=p*E-x*P,W=p*w-T*P,X=m*E-x*M,k=m*w-T*M,V=x*w-T*E,I=R*F-A*O,U=R*D-L*O,G=R*B-b*O,Y=A*D-L*F,H=A*B-b*F,$=L*B-b*D;return N*$-z*H+W*Y+X*G-k*U+V*I},multiply:function(c){var p=this.val,m=p[0],x=p[1],T=p[2],P=p[3],M=p[4],E=p[5],w=p[6],R=p[7],A=p[8],L=p[9],b=p[10],O=p[11],F=p[12],D=p[13],B=p[14],N=p[15],z=c.val,W=z[0],X=z[1],k=z[2],V=z[3];return p[0]=W*m+X*M+k*A+V*F,p[1]=W*x+X*E+k*L+V*D,p[2]=W*T+X*w+k*b+V*B,p[3]=W*P+X*R+k*O+V*N,W=z[4],X=z[5],k=z[6],V=z[7],p[4]=W*m+X*M+k*A+V*F,p[5]=W*x+X*E+k*L+V*D,p[6]=W*T+X*w+k*b+V*B,p[7]=W*P+X*R+k*O+V*N,W=z[8],X=z[9],k=z[10],V=z[11],p[8]=W*m+X*M+k*A+V*F,p[9]=W*x+X*E+k*L+V*D,p[10]=W*T+X*w+k*b+V*B,p[11]=W*P+X*R+k*O+V*N,W=z[12],X=z[13],k=z[14],V=z[15],p[12]=W*m+X*M+k*A+V*F,p[13]=W*x+X*E+k*L+V*D,p[14]=W*T+X*w+k*b+V*B,p[15]=W*P+X*R+k*O+V*N,this},multiplyLocal:function(c){var p=this.val,m=c.val;return this.setValues(p[0]*m[0]+p[1]*m[4]+p[2]*m[8]+p[3]*m[12],p[0]*m[1]+p[1]*m[5]+p[2]*m[9]+p[3]*m[13],p[0]*m[2]+p[1]*m[6]+p[2]*m[10]+p[3]*m[14],p[0]*m[3]+p[1]*m[7]+p[2]*m[11]+p[3]*m[15],p[4]*m[0]+p[5]*m[4]+p[6]*m[8]+p[7]*m[12],p[4]*m[1]+p[5]*m[5]+p[6]*m[9]+p[7]*m[13],p[4]*m[2]+p[5]*m[6]+p[6]*m[10]+p[7]*m[14],p[4]*m[3]+p[5]*m[7]+p[6]*m[11]+p[7]*m[15],p[8]*m[0]+p[9]*m[4]+p[10]*m[8]+p[11]*m[12],p[8]*m[1]+p[9]*m[5]+p[10]*m[9]+p[11]*m[13],p[8]*m[2]+p[9]*m[6]+p[10]*m[10]+p[11]*m[14],p[8]*m[3]+p[9]*m[7]+p[10]*m[11]+p[11]*m[15],p[12]*m[0]+p[13]*m[4]+p[14]*m[8]+p[15]*m[12],p[12]*m[1]+p[13]*m[5]+p[14]*m[9]+p[15]*m[13],p[12]*m[2]+p[13]*m[6]+p[14]*m[10]+p[15]*m[14],p[12]*m[3]+p[13]*m[7]+p[14]*m[11]+p[15]*m[15])},premultiply:function(c){return this.multiplyMatrices(c,this)},multiplyMatrices:function(c,p){var m=c.val,x=p.val,T=m[0],P=m[4],M=m[8],E=m[12],w=m[1],R=m[5],A=m[9],L=m[13],b=m[2],O=m[6],F=m[10],D=m[14],B=m[3],N=m[7],z=m[11],W=m[15],X=x[0],k=x[4],V=x[8],I=x[12],U=x[1],G=x[5],Y=x[9],H=x[13],$=x[2],K=x[6],Z=x[10],J=x[14],j=x[3],Q=x[7],_=x[11],it=x[15];return this.setValues(T*X+P*U+M*$+E*j,w*X+R*U+A*$+L*j,b*X+O*U+F*$+D*j,B*X+N*U+z*$+W*j,T*k+P*G+M*K+E*Q,w*k+R*G+A*K+L*Q,b*k+O*G+F*K+D*Q,B*k+N*G+z*K+W*Q,T*V+P*Y+M*Z+E*_,w*V+R*Y+A*Z+L*_,b*V+O*Y+F*Z+D*_,B*V+N*Y+z*Z+W*_,T*I+P*H+M*J+E*it,w*I+R*H+A*J+L*it,b*I+O*H+F*J+D*it,B*I+N*H+z*J+W*it)},translate:function(c){return this.translateXYZ(c.x,c.y,c.z)},translateXYZ:function(c,p,m){var x=this.val;return x[12]=x[0]*c+x[4]*p+x[8]*m+x[12],x[13]=x[1]*c+x[5]*p+x[9]*m+x[13],x[14]=x[2]*c+x[6]*p+x[10]*m+x[14],x[15]=x[3]*c+x[7]*p+x[11]*m+x[15],this},scale:function(c){return this.scaleXYZ(c.x,c.y,c.z)},scaleXYZ:function(c,p,m){var x=this.val;return x[0]=x[0]*c,x[1]=x[1]*c,x[2]=x[2]*c,x[3]=x[3]*c,x[4]=x[4]*p,x[5]=x[5]*p,x[6]=x[6]*p,x[7]=x[7]*p,x[8]=x[8]*m,x[9]=x[9]*m,x[10]=x[10]*m,x[11]=x[11]*m,this},makeRotationAxis:function(c,p){var m=Math.cos(p),x=Math.sin(p),T=1-m,P=c.x,M=c.y,E=c.z,w=T*P,R=T*M;return this.setValues(w*P+m,w*M-x*E,w*E+x*M,0,w*M+x*E,R*M+m,R*E-x*P,0,w*E-x*M,R*E+x*P,T*E*E+m,0,0,0,0,1)},rotate:function(c,p){var m=this.val,x=p.x,T=p.y,P=p.z,M=Math.sqrt(x*x+T*T+P*P);if(Math.abs(M)<f)return this;M=1/M,x*=M,T*=M,P*=M;var E=Math.sin(c),w=Math.cos(c),R=1-w,A=m[0],L=m[1],b=m[2],O=m[3],F=m[4],D=m[5],B=m[6],N=m[7],z=m[8],W=m[9],X=m[10],k=m[11],V=m[12],I=m[13],U=m[14],G=m[15],Y=x*x*R+w,H=T*x*R+P*E,$=P*x*R-T*E,K=x*T*R-P*E,Z=T*T*R+w,J=P*T*R+x*E,j=x*P*R+T*E,Q=T*P*R-x*E,_=P*P*R+w;return this.setValues(A*Y+F*H+z*$,L*Y+D*H+W*$,b*Y+B*H+X*$,O*Y+N*H+k*$,A*K+F*Z+z*J,L*K+D*Z+W*J,b*K+B*Z+X*J,O*K+N*Z+k*J,A*j+F*Q+z*_,L*j+D*Q+W*_,b*j+B*Q+X*_,O*j+N*Q+k*_,V,I,U,G)},rotateX:function(c){var p=this.val,m=Math.sin(c),x=Math.cos(c),T=p[4],P=p[5],M=p[6],E=p[7],w=p[8],R=p[9],A=p[10],L=p[11];return p[4]=T*x+w*m,p[5]=P*x+R*m,p[6]=M*x+A*m,p[7]=E*x+L*m,p[8]=w*x-T*m,p[9]=R*x-P*m,p[10]=A*x-M*m,p[11]=L*x-E*m,this},rotateY:function(c){var p=this.val,m=Math.sin(c),x=Math.cos(c),T=p[0],P=p[1],M=p[2],E=p[3],w=p[8],R=p[9],A=p[10],L=p[11];return p[0]=T*x-w*m,p[1]=P*x-R*m,p[2]=M*x-A*m,p[3]=E*x-L*m,p[8]=T*m+w*x,p[9]=P*m+R*x,p[10]=M*m+A*x,p[11]=E*m+L*x,this},rotateZ:function(c){var p=this.val,m=Math.sin(c),x=Math.cos(c),T=p[0],P=p[1],M=p[2],E=p[3],w=p[4],R=p[5],A=p[6],L=p[7];return p[0]=T*x+w*m,p[1]=P*x+R*m,p[2]=M*x+A*m,p[3]=E*x+L*m,p[4]=w*x-T*m,p[5]=R*x-P*m,p[6]=A*x-M*m,p[7]=L*x-E*m,this},fromRotationTranslation:function(c,p){var m=c.x,x=c.y,T=c.z,P=c.w,M=m+m,E=x+x,w=T+T,R=m*M,A=m*E,L=m*w,b=x*E,O=x*w,F=T*w,D=P*M,B=P*E,N=P*w;return this.setValues(1-(b+F),A+N,L-B,0,A-N,1-(R+F),O+D,0,L+B,O-D,1-(R+b),0,p.x,p.y,p.z,1)},fromQuat:function(c){var p=c.x,m=c.y,x=c.z,T=c.w,P=p+p,M=m+m,E=x+x,w=p*P,R=p*M,A=p*E,L=m*M,b=m*E,O=x*E,F=T*P,D=T*M,B=T*E;return this.setValues(1-(L+O),R+B,A-D,0,R-B,1-(w+O),b+F,0,A+D,b-F,1-(w+L),0,0,0,0,1)},frustum:function(c,p,m,x,T,P){var M=1/(p-c),E=1/(x-m),w=1/(T-P);return this.setValues(T*2*M,0,0,0,0,T*2*E,0,0,(p+c)*M,(x+m)*E,(P+T)*w,-1,0,0,P*T*2*w,0)},perspective:function(c,p,m,x){var T=1/Math.tan(c/2),P=1/(m-x);return this.setValues(T/p,0,0,0,0,T,0,0,0,0,(x+m)*P,-1,0,0,2*x*m*P,0)},perspectiveLH:function(c,p,m,x){return this.setValues(2*m/c,0,0,0,0,2*m/p,0,0,0,0,-x/(m-x),1,0,0,m*x/(m-x),0)},ortho:function(c,p,m,x,T,P){var M=c-p,E=m-x,w=T-P;return M=M===0?M:1/M,E=E===0?E:1/E,w=w===0?w:1/w,this.setValues(-2*M,0,0,0,0,-2*E,0,0,0,0,2*w,0,(c+p)*M,(x+m)*E,(P+T)*w,1)},lookAtRH:function(c,p,m){var x=this.val;return h.subVectors(c,p),h.lengthSq()===0&&(h.z=1),h.normalize(),d.crossVectors(m,h),d.lengthSq()===0&&(Math.abs(m.z)===1?h.x+=1e-4:h.z+=1e-4,h.normalize(),d.crossVectors(m,h)),d.normalize(),v.crossVectors(h,d),x[0]=d.x,x[1]=d.y,x[2]=d.z,x[4]=v.x,x[5]=v.y,x[6]=v.z,x[8]=h.x,x[9]=h.y,x[10]=h.z,this},lookAt:function(c,p,m){var x=c.x,T=c.y,P=c.z,M=m.x,E=m.y,w=m.z,R=p.x,A=p.y,L=p.z;if(Math.abs(x-R)<f&&Math.abs(T-A)<f&&Math.abs(P-L)<f)return this.identity();var b=x-R,O=T-A,F=P-L,D=1/Math.sqrt(b*b+O*O+F*F);b*=D,O*=D,F*=D;var B=E*F-w*O,N=w*b-M*F,z=M*O-E*b;D=Math.sqrt(B*B+N*N+z*z),D?(D=1/D,B*=D,N*=D,z*=D):(B=0,N=0,z=0);var W=O*z-F*N,X=F*B-b*z,k=b*N-O*B;return D=Math.sqrt(W*W+X*X+k*k),D?(D=1/D,W*=D,X*=D,k*=D):(W=0,X=0,k=0),this.setValues(B,W,b,0,N,X,O,0,z,k,F,0,-(B*x+N*T+z*P),-(W*x+X*T+k*P),-(b*x+O*T+F*P),1)},yawPitchRoll:function(c,p,m){this.zero(),l.zero(),a.zero();var x=this.val,T=l.val,P=a.val,M=Math.sin(m),E=Math.cos(m);return x[10]=1,x[15]=1,x[0]=E,x[1]=M,x[4]=-M,x[5]=E,M=Math.sin(p),E=Math.cos(p),T[0]=1,T[15]=1,T[5]=E,T[10]=E,T[9]=-M,T[6]=M,M=Math.sin(c),E=Math.cos(c),P[5]=1,P[15]=1,P[0]=E,P[2]=-M,P[8]=M,P[10]=E,this.multiplyLocal(l),this.multiplyLocal(a),this},setWorldMatrix:function(c,p,m,x,T){return this.yawPitchRoll(c.y,c.x,c.z),l.scaling(m.x,m.y,m.z),a.xyz(p.x,p.y,p.z),this.multiplyLocal(l),this.multiplyLocal(a),x&&this.multiplyLocal(x),T&&this.multiplyLocal(T),this},multiplyToMat4:function(c,p){var m=this.val,x=c.val,T=m[0],P=m[1],M=m[2],E=m[3],w=m[4],R=m[5],A=m[6],L=m[7],b=m[8],O=m[9],F=m[10],D=m[11],B=m[12],N=m[13],z=m[14],W=m[15],X=x[0],k=x[1],V=x[2],I=x[3],U=x[4],G=x[5],Y=x[6],H=x[7],$=x[8],K=x[9],Z=x[10],J=x[11],j=x[12],Q=x[13],_=x[14],it=x[15];return p.setValues(X*T+k*w+V*b+I*B,k*P+k*R+V*O+I*N,V*M+k*A+V*F+I*z,I*E+k*L+V*D+I*W,U*T+G*w+Y*b+H*B,U*P+G*R+Y*O+H*N,U*M+G*A+Y*F+H*z,U*E+G*L+Y*D+H*W,$*T+K*w+Z*b+J*B,$*P+K*R+Z*O+J*N,$*M+K*A+Z*F+J*z,$*E+K*L+Z*D+J*W,j*T+Q*w+_*b+it*B,j*P+Q*R+_*O+it*N,j*M+Q*A+_*F+it*z,j*E+Q*L+_*D+it*W)},fromRotationXYTranslation:function(c,p,m){var x=p.x,T=p.y,P=p.z,M=Math.sin(c.x),E=Math.cos(c.x),w=Math.sin(c.y),R=Math.cos(c.y),A=x,L=T,b=P,O=-M,F=0-O*w,D=0-E*w,B=O*R,N=E*R;return m||(A=R*x+w*P,L=F*x+E*T+B*P,b=D*x+M*T+N*P),this.setValues(R,F,D,0,0,E,M,0,w,B,N,0,A,L,b,1)},getMaxScaleOnAxis:function(){var c=this.val,p=c[0]*c[0]+c[1]*c[1]+c[2]*c[2],m=c[4]*c[4]+c[5]*c[5]+c[6]*c[6],x=c[8]*c[8]+c[9]*c[9]+c[10]*c[10];return Math.sqrt(Math.max(p,m,x))}}),l=new u,a=new u,d=new y,v=new y,h=new y;n.exports=u},86883:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){return Math.min(s+o,y)};n.exports=C},50040:n=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){var o=s.length;if(o===0)return 0;s.sort(function(f,u){return f-u});var y=Math.floor(o/2);return o%2===0?(s[y]+s[y-1])/2:s[y]};n.exports=C},37204:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){return Math.max(s-o,y)};n.exports=C},65201:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){y===void 0&&(y=o+1);var u=(s-o)/(y-o);return u>1?f!==void 0?(u=(f-s)/(f-y),u<0&&(u=0)):u=1:u<0&&(u=0),u};n.exports=C},15746:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(94434),f=s(29747),u=s(25836),l=1e-6,a=new Int8Array([1,2,0]),d=new Float32Array([0,0,0]),v=new u(1,0,0),h=new u(0,1,0),c=new u,p=new y,m=new o({initialize:function(T,P,M,E){this.onChangeCallback=f,this.set(T,P,M,E)},x:{get:function(){return this._x},set:function(x){this._x=x,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(x){this._y=x,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(x){this._z=x,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(x){this._w=x,this.onChangeCallback(this)}},copy:function(x){return this.set(x)},set:function(x,T,P,M,E){return E===void 0&&(E=!0),typeof x=="object"?(this._x=x.x||0,this._y=x.y||0,this._z=x.z||0,this._w=x.w||0):(this._x=x||0,this._y=T||0,this._z=P||0,this._w=M||0),E&&this.onChangeCallback(this),this},add:function(x){return this._x+=x.x,this._y+=x.y,this._z+=x.z,this._w+=x.w,this.onChangeCallback(this),this},subtract:function(x){return this._x-=x.x,this._y-=x.y,this._z-=x.z,this._w-=x.w,this.onChangeCallback(this),this},scale:function(x){return this._x*=x,this._y*=x,this._z*=x,this._w*=x,this.onChangeCallback(this),this},length:function(){var x=this.x,T=this.y,P=this.z,M=this.w;return Math.sqrt(x*x+T*T+P*P+M*M)},lengthSq:function(){var x=this.x,T=this.y,P=this.z,M=this.w;return x*x+T*T+P*P+M*M},normalize:function(){var x=this.x,T=this.y,P=this.z,M=this.w,E=x*x+T*T+P*P+M*M;return E>0&&(E=1/Math.sqrt(E),this._x=x*E,this._y=T*E,this._z=P*E,this._w=M*E),this.onChangeCallback(this),this},dot:function(x){return this.x*x.x+this.y*x.y+this.z*x.z+this.w*x.w},lerp:function(x,T){T===void 0&&(T=0);var P=this.x,M=this.y,E=this.z,w=this.w;return this.set(P+T*(x.x-P),M+T*(x.y-M),E+T*(x.z-E),w+T*(x.w-w))},rotationTo:function(x,T){var P=x.x*T.x+x.y*T.y+x.z*T.z;return P<-.999999?(c.copy(v).cross(x).length()<l&&c.copy(h).cross(x),c.normalize(),this.setAxisAngle(c,Math.PI)):P>.999999?this.set(0,0,0,1):(c.copy(x).cross(T),this._x=c.x,this._y=c.y,this._z=c.z,this._w=1+P,this.normalize())},setAxes:function(x,T,P){var M=p.val;return M[0]=T.x,M[3]=T.y,M[6]=T.z,M[1]=P.x,M[4]=P.y,M[7]=P.z,M[2]=-x.x,M[5]=-x.y,M[8]=-x.z,this.fromMat3(p).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(x,T){T=T*.5;var P=Math.sin(T);return this.set(P*x.x,P*x.y,P*x.z,Math.cos(T))},multiply:function(x){var T=this.x,P=this.y,M=this.z,E=this.w,w=x.x,R=x.y,A=x.z,L=x.w;return this.set(T*L+E*w+P*A-M*R,P*L+E*R+M*w-T*A,M*L+E*A+T*R-P*w,E*L-T*w-P*R-M*A)},slerp:function(x,T){var P=this.x,M=this.y,E=this.z,w=this.w,R=x.x,A=x.y,L=x.z,b=x.w,O=P*R+M*A+E*L+w*b;O<0&&(O=-O,R=-R,A=-A,L=-L,b=-b);var F=1-T,D=T;if(1-O>l){var B=Math.acos(O),N=Math.sin(B);F=Math.sin((1-T)*B)/N,D=Math.sin(T*B)/N}return this.set(F*P+D*R,F*M+D*A,F*E+D*L,F*w+D*b)},invert:function(){var x=this.x,T=this.y,P=this.z,M=this.w,E=x*x+T*T+P*P+M*M,w=E?1/E:0;return this.set(-x*w,-T*w,-P*w,M*w)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(x){x*=.5;var T=this.x,P=this.y,M=this.z,E=this.w,w=Math.sin(x),R=Math.cos(x);return this.set(T*R+E*w,P*R+M*w,M*R-P*w,E*R-T*w)},rotateY:function(x){x*=.5;var T=this.x,P=this.y,M=this.z,E=this.w,w=Math.sin(x),R=Math.cos(x);return this.set(T*R-M*w,P*R+E*w,M*R+T*w,E*R-P*w)},rotateZ:function(x){x*=.5;var T=this.x,P=this.y,M=this.z,E=this.w,w=Math.sin(x),R=Math.cos(x);return this.set(T*R+P*w,P*R-T*w,M*R+E*w,E*R-M*w)},calculateW:function(){var x=this.x,T=this.y,P=this.z;return this.w=-Math.sqrt(1-x*x-T*T-P*P),this},setFromEuler:function(x,T){var P=x.x/2,M=x.y/2,E=x.z/2,w=Math.cos(P),R=Math.cos(M),A=Math.cos(E),L=Math.sin(P),b=Math.sin(M),O=Math.sin(E);switch(x.order){case"XYZ":{this.set(L*R*A+w*b*O,w*b*A-L*R*O,w*R*O+L*b*A,w*R*A-L*b*O,T);break}case"YXZ":{this.set(L*R*A+w*b*O,w*b*A-L*R*O,w*R*O-L*b*A,w*R*A+L*b*O,T);break}case"ZXY":{this.set(L*R*A-w*b*O,w*b*A+L*R*O,w*R*O+L*b*A,w*R*A-L*b*O,T);break}case"ZYX":{this.set(L*R*A-w*b*O,w*b*A+L*R*O,w*R*O-L*b*A,w*R*A+L*b*O,T);break}case"YZX":{this.set(L*R*A+w*b*O,w*b*A+L*R*O,w*R*O-L*b*A,w*R*A-L*b*O,T);break}case"XZY":{this.set(L*R*A-w*b*O,w*b*A-L*R*O,w*R*O+L*b*A,w*R*A+L*b*O,T);break}}return this},setFromRotationMatrix:function(x){var T=x.val,P=T[0],M=T[4],E=T[8],w=T[1],R=T[5],A=T[9],L=T[2],b=T[6],O=T[10],F=P+R+O,D;return F>0?(D=.5/Math.sqrt(F+1),this.set((b-A)*D,(E-L)*D,(w-M)*D,.25/D)):P>R&&P>O?(D=2*Math.sqrt(1+P-R-O),this.set(.25*D,(M+w)/D,(E+L)/D,(b-A)/D)):R>O?(D=2*Math.sqrt(1+R-P-O),this.set((M+w)/D,.25*D,(A+b)/D,(E-L)/D)):(D=2*Math.sqrt(1+O-P-R),this.set((E+L)/D,(A+b)/D,.25*D,(w-M)/D)),this},fromMat3:function(x){var T=x.val,P=T[0]+T[4]+T[8],M;if(P>0)M=Math.sqrt(P+1),this.w=.5*M,M=.5/M,this._x=(T[7]-T[5])*M,this._y=(T[2]-T[6])*M,this._z=(T[3]-T[1])*M;else{var E=0;T[4]>T[0]&&(E=1),T[8]>T[E*3+E]&&(E=2);var w=a[E],R=a[w];M=Math.sqrt(T[E*3+E]-T[w*3+w]-T[R*3+R]+1),d[E]=.5*M,M=.5/M,d[w]=(T[w*3+E]+T[E*3+w])*M,d[R]=(T[R*3+E]+T[E*3+R])*M,this._x=d[0],this._y=d[1],this._z=d[2],this._w=(T[R*3+w]-T[w*3+R])*M}return this.onChangeCallback(this),this}});n.exports=m},43396:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),y=function(f){return f*o.RAD_TO_DEG};n.exports=y},74362:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){o===void 0&&(o=1);var y=Math.random()*2*Math.PI;return s.x=Math.cos(y)*o,s.y=Math.sin(y)*o,s};n.exports=C},60706:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){o===void 0&&(o=1);var y=Math.random()*2*Math.PI,f=Math.random()*2-1,u=Math.sqrt(1-f*f)*o;return s.x=Math.cos(y)*u,s.y=Math.sin(y)*u,s.z=f*o,s};n.exports=C},67421:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return o===void 0&&(o=1),s.x=(Math.random()*2-1)*o,s.y=(Math.random()*2-1)*o,s.z=(Math.random()*2-1)*o,s.w=(Math.random()*2-1)*o,s};n.exports=C},36305:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){var y=s.x,f=s.y;return s.x=y*Math.cos(o)-f*Math.sin(o),s.y=y*Math.sin(o)+f*Math.cos(o),s};n.exports=C},11520:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){var u=Math.cos(f),l=Math.sin(f),a=s.x-o,d=s.y-y;return s.x=a*u-d*l+o,s.y=a*l+d*u+y,s};n.exports=C},1163:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f,u){var l=f+Math.atan2(s.y-y,s.x-o);return s.x=o+u*Math.cos(l),s.y=y+u*Math.sin(l),s};n.exports=C},70336:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f,u){return s.x=o+u*Math.cos(f),s.y=y+u*Math.sin(f),s};n.exports=C},72678:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25836),y=s(37867),f=s(15746),u=new y,l=new f,a=new o,d=function(v,h,c){return l.setAxisAngle(h,c),u.fromRotationTranslation(l,a.set(0,0,0)),v.transformMat4(u)};n.exports=d},2284:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s>0?Math.ceil(s):Math.floor(s)};n.exports=C},41013:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){o===void 0&&(o=0),y===void 0&&(y=10);var f=Math.pow(y,-o);return Math.round(s*f)/f};n.exports=C},16922:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){o===void 0&&(o=1),y===void 0&&(y=1),f===void 0&&(f=1),f*=Math.PI/s;for(var u=[],l=[],a=0;a<s;a++)y-=o*f,o+=y*f,u[a]=y,l[a]=o;return{sin:l,cos:u,length:s}};n.exports=C},7602:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){return s<=o?0:s>=y?1:(s=(s-o)/(y-o),s*s*(3-2*s))};n.exports=C},54261:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){return s=Math.max(0,Math.min(1,(s-o)/(y-o))),s*s*s*(s*(s*6-15)+10)};n.exports=C},44408:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),y=function(f,u,l,a){a===void 0&&(a=new o);var d=0,v=0,h=u*l;return f>0&&f<=h&&(f>u-1?(v=Math.floor(f/u),d=f-v*u):d=f),a.set(d,v)};n.exports=y},85955:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),y=function(f,u,l,a,d,v,h,c){c===void 0&&(c=new o);var p=Math.sin(d),m=Math.cos(d),x=m*v,T=p*v,P=-p*h,M=m*h,E=1/(x*M+P*-T);return c.x=M*E*f+-P*E*u+(a*P-l*M)*E,c.y=x*E*u+-T*E*f+(-a*x+l*T)*E,c};n.exports=y},26099:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(43855),f=new o({initialize:function(l,a){this.x=0,this.y=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0):(a===void 0&&(a=l),this.x=l||0,this.y=a||0)},clone:function(){return new f(this.x,this.y)},copy:function(u){return this.x=u.x||0,this.y=u.y||0,this},setFromObject:function(u){return this.x=u.x||0,this.y=u.y||0,this},set:function(u,l){return l===void 0&&(l=u),this.x=u,this.y=l,this},setTo:function(u,l){return this.set(u,l)},setToPolar:function(u,l){return l==null&&(l=1),this.x=Math.cos(u)*l,this.y=Math.sin(u)*l,this},equals:function(u){return this.x===u.x&&this.y===u.y},fuzzyEquals:function(u,l){return y(this.x,u.x,l)&&y(this.y,u.y,l)},angle:function(){var u=Math.atan2(this.y,this.x);return u<0&&(u+=2*Math.PI),u},setAngle:function(u){return this.setToPolar(u,this.length())},add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.x-=u.x,this.y-=u.y,this},multiply:function(u){return this.x*=u.x,this.y*=u.y,this},scale:function(u){return isFinite(u)?(this.x*=u,this.y*=u):(this.x=0,this.y=0),this},divide:function(u){return this.x/=u.x,this.y/=u.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(u){var l=u.x-this.x,a=u.y-this.y;return Math.sqrt(l*l+a*a)},distanceSq:function(u){var l=u.x-this.x,a=u.y-this.y;return l*l+a*a},length:function(){var u=this.x,l=this.y;return Math.sqrt(u*u+l*l)},setLength:function(u){return this.normalize().scale(u)},lengthSq:function(){var u=this.x,l=this.y;return u*u+l*l},normalize:function(){var u=this.x,l=this.y,a=u*u+l*l;return a>0&&(a=1/Math.sqrt(a),this.x=u*a,this.y=l*a),this},normalizeRightHand:function(){var u=this.x;return this.x=this.y*-1,this.y=u,this},normalizeLeftHand:function(){var u=this.x;return this.x=this.y,this.y=u*-1,this},dot:function(u){return this.x*u.x+this.y*u.y},cross:function(u){return this.x*u.y-this.y*u.x},lerp:function(u,l){l===void 0&&(l=0);var a=this.x,d=this.y;return this.x=a+l*(u.x-a),this.y=d+l*(u.y-d),this},transformMat3:function(u){var l=this.x,a=this.y,d=u.val;return this.x=d[0]*l+d[3]*a+d[6],this.y=d[1]*l+d[4]*a+d[7],this},transformMat4:function(u){var l=this.x,a=this.y,d=u.val;return this.x=d[0]*l+d[4]*a+d[12],this.y=d[1]*l+d[5]*a+d[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(u){var l=this.length();return l&&l>u&&this.scale(u/l),this},reflect:function(u){return u=u.clone().normalize(),this.subtract(u.scale(2*this.dot(u)))},mirror:function(u){return this.reflect(u).negate()},rotate:function(u){var l=Math.cos(u),a=Math.sin(u);return this.set(l*this.x-a*this.y,a*this.x+l*this.y)},project:function(u){var l=this.dot(u)/u.dot(u);return this.copy(u).scale(l)}});f.ZERO=new f,f.RIGHT=new f(1,0),f.LEFT=new f(-1,0),f.UP=new f(0,-1),f.DOWN=new f(0,1),f.ONE=new f(1,1),n.exports=f},25836:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=new o({initialize:function(u,l,a){this.x=0,this.y=0,this.z=0,typeof u=="object"?(this.x=u.x||0,this.y=u.y||0,this.z=u.z||0):(this.x=u||0,this.y=l||0,this.z=a||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(f){return this.x=Math.min(this.x,f.x),this.y=Math.min(this.y,f.y),this.z=Math.min(this.z,f.z),this},max:function(f){return this.x=Math.max(this.x,f.x),this.y=Math.max(this.y,f.y),this.z=Math.max(this.z,f.z),this},clone:function(){return new y(this.x,this.y,this.z)},addVectors:function(f,u){return this.x=f.x+u.x,this.y=f.y+u.y,this.z=f.z+u.z,this},subVectors:function(f,u){return this.x=f.x-u.x,this.y=f.y-u.y,this.z=f.z-u.z,this},crossVectors:function(f,u){var l=f.x,a=f.y,d=f.z,v=u.x,h=u.y,c=u.z;return this.x=a*c-d*h,this.y=d*v-l*c,this.z=l*h-a*v,this},equals:function(f){return this.x===f.x&&this.y===f.y&&this.z===f.z},copy:function(f){return this.x=f.x,this.y=f.y,this.z=f.z||0,this},set:function(f,u,l){return typeof f=="object"?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0):(this.x=f||0,this.y=u||0,this.z=l||0),this},setFromMatrixPosition:function(f){return this.fromArray(f.val,12)},setFromMatrixColumn:function(f,u){return this.fromArray(f.val,u*4)},fromArray:function(f,u){return u===void 0&&(u=0),this.x=f[u],this.y=f[u+1],this.z=f[u+2],this},add:function(f){return this.x+=f.x,this.y+=f.y,this.z+=f.z||0,this},addScalar:function(f){return this.x+=f,this.y+=f,this.z+=f,this},addScale:function(f,u){return this.x+=f.x*u,this.y+=f.y*u,this.z+=f.z*u||0,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this.z-=f.z||0,this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this.z*=f.z||1,this},scale:function(f){return isFinite(f)?(this.x*=f,this.y*=f,this.z*=f):(this.x=0,this.y=0,this.z=0),this},divide:function(f){return this.x/=f.x,this.y/=f.y,this.z/=f.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(f){var u=f.x-this.x,l=f.y-this.y,a=f.z-this.z||0;return Math.sqrt(u*u+l*l+a*a)},distanceSq:function(f){var u=f.x-this.x,l=f.y-this.y,a=f.z-this.z||0;return u*u+l*l+a*a},length:function(){var f=this.x,u=this.y,l=this.z;return Math.sqrt(f*f+u*u+l*l)},lengthSq:function(){var f=this.x,u=this.y,l=this.z;return f*f+u*u+l*l},normalize:function(){var f=this.x,u=this.y,l=this.z,a=f*f+u*u+l*l;return a>0&&(a=1/Math.sqrt(a),this.x=f*a,this.y=u*a,this.z=l*a),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z},cross:function(f){var u=this.x,l=this.y,a=this.z,d=f.x,v=f.y,h=f.z;return this.x=l*h-a*v,this.y=a*d-u*h,this.z=u*v-l*d,this},lerp:function(f,u){u===void 0&&(u=0);var l=this.x,a=this.y,d=this.z;return this.x=l+u*(f.x-l),this.y=a+u*(f.y-a),this.z=d+u*(f.z-d),this},applyMatrix3:function(f){var u=this.x,l=this.y,a=this.z,d=f.val;return this.x=d[0]*u+d[3]*l+d[6]*a,this.y=d[1]*u+d[4]*l+d[7]*a,this.z=d[2]*u+d[5]*l+d[8]*a,this},applyMatrix4:function(f){var u=this.x,l=this.y,a=this.z,d=f.val,v=1/(d[3]*u+d[7]*l+d[11]*a+d[15]);return this.x=(d[0]*u+d[4]*l+d[8]*a+d[12])*v,this.y=(d[1]*u+d[5]*l+d[9]*a+d[13])*v,this.z=(d[2]*u+d[6]*l+d[10]*a+d[14])*v,this},transformMat3:function(f){var u=this.x,l=this.y,a=this.z,d=f.val;return this.x=u*d[0]+l*d[3]+a*d[6],this.y=u*d[1]+l*d[4]+a*d[7],this.z=u*d[2]+l*d[5]+a*d[8],this},transformMat4:function(f){var u=this.x,l=this.y,a=this.z,d=f.val;return this.x=d[0]*u+d[4]*l+d[8]*a+d[12],this.y=d[1]*u+d[5]*l+d[9]*a+d[13],this.z=d[2]*u+d[6]*l+d[10]*a+d[14],this},transformCoordinates:function(f){var u=this.x,l=this.y,a=this.z,d=f.val,v=u*d[0]+l*d[4]+a*d[8]+d[12],h=u*d[1]+l*d[5]+a*d[9]+d[13],c=u*d[2]+l*d[6]+a*d[10]+d[14],p=u*d[3]+l*d[7]+a*d[11]+d[15];return this.x=v/p,this.y=h/p,this.z=c/p,this},transformQuat:function(f){var u=this.x,l=this.y,a=this.z,d=f.x,v=f.y,h=f.z,c=f.w,p=c*u+v*a-h*l,m=c*l+h*u-d*a,x=c*a+d*l-v*u,T=-d*u-v*l-h*a;return this.x=p*c+T*-d+m*-h-x*-v,this.y=m*c+T*-v+x*-d-p*-h,this.z=x*c+T*-h+p*-v-m*-d,this},project:function(f){var u=this.x,l=this.y,a=this.z,d=f.val,v=d[0],h=d[1],c=d[2],p=d[3],m=d[4],x=d[5],T=d[6],P=d[7],M=d[8],E=d[9],w=d[10],R=d[11],A=d[12],L=d[13],b=d[14],O=d[15],F=1/(u*p+l*P+a*R+O);return this.x=(u*v+l*m+a*M+A)*F,this.y=(u*h+l*x+a*E+L)*F,this.z=(u*c+l*T+a*w+b)*F,this},projectViewMatrix:function(f,u){return this.applyMatrix4(f).applyMatrix4(u)},unprojectViewMatrix:function(f,u){return this.applyMatrix4(f).applyMatrix4(u)},unproject:function(f,u){var l=f.x,a=f.y,d=f.z,v=f.w,h=this.x-l,c=v-this.y-1-a,p=this.z;return this.x=2*h/d-1,this.y=2*c/v-1,this.z=2*p-1,this.project(u)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});y.ZERO=new y,y.RIGHT=new y(1,0,0),y.LEFT=new y(-1,0,0),y.UP=new y(0,-1,0),y.DOWN=new y(0,1,0),y.FORWARD=new y(0,0,1),y.BACK=new y(0,0,-1),y.ONE=new y(1,1,1),n.exports=y},61369:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=new o({initialize:function(u,l,a,d){this.x=0,this.y=0,this.z=0,this.w=0,typeof u=="object"?(this.x=u.x||0,this.y=u.y||0,this.z=u.z||0,this.w=u.w||0):(this.x=u||0,this.y=l||0,this.z=a||0,this.w=d||0)},clone:function(){return new y(this.x,this.y,this.z,this.w)},copy:function(f){return this.x=f.x,this.y=f.y,this.z=f.z||0,this.w=f.w||0,this},equals:function(f){return this.x===f.x&&this.y===f.y&&this.z===f.z&&this.w===f.w},set:function(f,u,l,a){return typeof f=="object"?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0,this.w=f.w||0):(this.x=f||0,this.y=u||0,this.z=l||0,this.w=a||0),this},add:function(f){return this.x+=f.x,this.y+=f.y,this.z+=f.z||0,this.w+=f.w||0,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this.z-=f.z||0,this.w-=f.w||0,this},scale:function(f){return this.x*=f,this.y*=f,this.z*=f,this.w*=f,this},length:function(){var f=this.x,u=this.y,l=this.z,a=this.w;return Math.sqrt(f*f+u*u+l*l+a*a)},lengthSq:function(){var f=this.x,u=this.y,l=this.z,a=this.w;return f*f+u*u+l*l+a*a},normalize:function(){var f=this.x,u=this.y,l=this.z,a=this.w,d=f*f+u*u+l*l+a*a;return d>0&&(d=1/Math.sqrt(d),this.x=f*d,this.y=u*d,this.z=l*d,this.w=a*d),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z+this.w*f.w},lerp:function(f,u){u===void 0&&(u=0);var l=this.x,a=this.y,d=this.z,v=this.w;return this.x=l+u*(f.x-l),this.y=a+u*(f.y-a),this.z=d+u*(f.z-d),this.w=v+u*(f.w-v),this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this.z*=f.z||1,this.w*=f.w||1,this},divide:function(f){return this.x/=f.x,this.y/=f.y,this.z/=f.z||1,this.w/=f.w||1,this},distance:function(f){var u=f.x-this.x,l=f.y-this.y,a=f.z-this.z||0,d=f.w-this.w||0;return Math.sqrt(u*u+l*l+a*a+d*d)},distanceSq:function(f){var u=f.x-this.x,l=f.y-this.y,a=f.z-this.z||0,d=f.w-this.w||0;return u*u+l*l+a*a+d*d},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(f){var u=this.x,l=this.y,a=this.z,d=this.w,v=f.val;return this.x=v[0]*u+v[4]*l+v[8]*a+v[12]*d,this.y=v[1]*u+v[5]*l+v[9]*a+v[13]*d,this.z=v[2]*u+v[6]*l+v[10]*a+v[14]*d,this.w=v[3]*u+v[7]*l+v[11]*a+v[15]*d,this},transformQuat:function(f){var u=this.x,l=this.y,a=this.z,d=f.x,v=f.y,h=f.z,c=f.w,p=c*u+v*a-h*l,m=c*l+h*u-d*a,x=c*a+d*l-v*u,T=-d*u-v*l-h*a;return this.x=p*c+T*-d+m*-h-x*-v,this.y=m*c+T*-v+x*-d-p*-h,this.z=x*c+T*-h+p*-v-m*-d,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});y.prototype.sub=y.prototype.subtract,y.prototype.mul=y.prototype.multiply,y.prototype.div=y.prototype.divide,y.prototype.dist=y.prototype.distance,y.prototype.distSq=y.prototype.distanceSq,y.prototype.len=y.prototype.length,y.prototype.lenSq=y.prototype.lengthSq,n.exports=y},60417:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){return Math.abs(s-o)<=y};n.exports=C},15994:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){var f=y-o;return o+((s-o)%f+f)%f};n.exports=C},31040:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){return Math.atan2(f-o,y-s)};n.exports=C},55495:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return Math.atan2(o.y-s.y,o.x-s.x)};n.exports=C},128:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return Math.atan2(o.x-s.x,o.y-s.y)};n.exports=C},41273:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){return Math.atan2(y-s,f-o)};n.exports=C},1432:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),y=function(f){return f>Math.PI&&(f-=o.PI2),Math.abs(((f+o.TAU)%o.PI2-o.PI2)%o.PI2)};n.exports=y},49127:(n,C,s)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(12407),y=function(f,u){return o(u-f)};n.exports=y},52285:(n,C,s)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(12407),y=2*Math.PI,f=function(u,l){var a=o(l-u);return a>0&&(a-=y),a};n.exports=f},67317:(n,C,s)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(86554),y=function(f,u){return o(u-f)};n.exports=y},12407:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s=s%(2*Math.PI),s>=0?s:s+2*Math.PI};n.exports=C},53993:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(99472),y=function(){return o(-Math.PI,Math.PI)};n.exports=y},86564:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(99472),y=function(){return o(-180,180)};n.exports=y},90154:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(12407),y=function(f){return o(f+Math.PI)};n.exports=y},48736:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),y=function(f,u,l){return l===void 0&&(l=.05),f===u||(Math.abs(u-f)<=l||Math.abs(u-f)>=o.PI2-l?f=u:(Math.abs(u-f)>Math.PI&&(u<f?u+=o.PI2:u-=o.PI2),u>f?f+=l:u<f&&(f-=l))),f};n.exports=y},61430:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){var y=o-s;if(y===0)return 0;var f=Math.floor((y- -180)/360);return y-f*360};n.exports=C},86554:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(15994),y=function(f){return o(f,-Math.PI,Math.PI)};n.exports=y},30954:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(15994),y=function(f){return o(f,-180,180)};n.exports=y},25588:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Between:s(31040),BetweenPoints:s(55495),BetweenPointsY:s(128),BetweenY:s(41273),CounterClockwise:s(1432),GetClockwiseDistance:s(49127),GetCounterClockwiseDistance:s(52285),GetShortestDistance:s(67317),Normalize:s(12407),Random:s(53993),RandomDegrees:s(86564),Reverse:s(90154),RotateTo:s(48736),ShortestBetween:s(61430),Wrap:s(86554),WrapDegrees:s(30954)}},36383:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};n.exports=C},20339:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){var u=s-y,l=o-f;return Math.sqrt(u*u+l*l)};n.exports=C},52816:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){var y=s.x-o.x,f=s.y-o.y;return Math.sqrt(y*y+f*f)};n.exports=C},64559:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){var y=s.x-o.x,f=s.y-o.y;return y*y+f*f};n.exports=C},82340:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){return Math.max(Math.abs(s-y),Math.abs(o-f))};n.exports=C},14390:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f,u){return u===void 0&&(u=2),Math.sqrt(Math.pow(y-s,u)+Math.pow(f-o,u))};n.exports=C},2243:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){return Math.abs(s-y)+Math.abs(o-f)};n.exports=C},89774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){var u=s-y,l=o-f;return u*u+l*l};n.exports=C},50994:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Between:s(20339),BetweenPoints:s(52816),BetweenPointsSquared:s(64559),Chebyshev:s(82340),Power:s(14390),Snake:s(2243),Squared:s(89774)}},62640:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(54178),y=s(41521),f=s(79980),u=s(85433),l=s(99140),a=s(48857),d=s(81596),v=s(59133),h=s(98516),c=s(35248),p=s(82500),m=s(49752);n.exports={Power0:d,Power1:v.Out,Power2:u.Out,Power3:h.Out,Power4:c.Out,Linear:d,Quad:v.Out,Cubic:u.Out,Quart:h.Out,Quint:c.Out,Sine:p.Out,Expo:a.Out,Circ:f.Out,Elastic:l.Out,Back:o.Out,Bounce:y.Out,Stepped:m,"Quad.easeIn":v.In,"Cubic.easeIn":u.In,"Quart.easeIn":h.In,"Quint.easeIn":c.In,"Sine.easeIn":p.In,"Expo.easeIn":a.In,"Circ.easeIn":f.In,"Elastic.easeIn":l.In,"Back.easeIn":o.In,"Bounce.easeIn":y.In,"Quad.easeOut":v.Out,"Cubic.easeOut":u.Out,"Quart.easeOut":h.Out,"Quint.easeOut":c.Out,"Sine.easeOut":p.Out,"Expo.easeOut":a.Out,"Circ.easeOut":f.Out,"Elastic.easeOut":l.Out,"Back.easeOut":o.Out,"Bounce.easeOut":y.Out,"Quad.easeInOut":v.InOut,"Cubic.easeInOut":u.InOut,"Quart.easeInOut":h.InOut,"Quint.easeInOut":c.InOut,"Sine.easeInOut":p.InOut,"Expo.easeInOut":a.InOut,"Circ.easeInOut":f.InOut,"Elastic.easeInOut":l.InOut,"Back.easeInOut":o.InOut,"Bounce.easeInOut":y.InOut}},1639:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return o===void 0&&(o=1.70158),s*s*((o+1)*s-o)};n.exports=C},50099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){o===void 0&&(o=1.70158);var y=o*1.525;return(s*=2)<1?.5*(s*s*((y+1)*s-y)):.5*((s-=2)*s*((y+1)*s+y)+2)};n.exports=C},41286:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return o===void 0&&(o=1.70158),--s*s*((o+1)*s+o)+1};n.exports=C},54178:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(1639),Out:s(41286),InOut:s(50099)}},59590:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s=1-s,s<.36363636363636365?1-7.5625*s*s:s<.7272727272727273?1-(7.5625*(s-=.5454545454545454)*s+.75):s<.9090909090909091?1-(7.5625*(s-=.8181818181818182)*s+.9375):1-(7.5625*(s-=.9545454545454546)*s+.984375)};n.exports=C},41788:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){var o=!1;return s<.5?(s=1-s*2,o=!0):s=s*2-1,s<.36363636363636365?s=7.5625*s*s:s<.7272727272727273?s=7.5625*(s-=.5454545454545454)*s+.75:s<.9090909090909091?s=7.5625*(s-=.8181818181818182)*s+.9375:s=7.5625*(s-=.9545454545454546)*s+.984375,o?(1-s)*.5:s*.5+.5};n.exports=C},69905:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s<.36363636363636365?7.5625*s*s:s<.7272727272727273?7.5625*(s-=.5454545454545454)*s+.75:s<.9090909090909091?7.5625*(s-=.8181818181818182)*s+.9375:7.5625*(s-=.9545454545454546)*s+.984375};n.exports=C},41521:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(59590),Out:s(69905),InOut:s(41788)}},91861:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return 1-Math.sqrt(1-s*s)};n.exports=C},4177:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return(s*=2)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1)};n.exports=C},57512:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return Math.sqrt(1- --s*s)};n.exports=C},79980:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(91861),Out:s(57512),InOut:s(4177)}},51150:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s*s*s};n.exports=C},82820:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return(s*=2)<1?.5*s*s*s:.5*((s-=2)*s*s+2)};n.exports=C},35033:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return--s*s*s+1};n.exports=C},85433:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(51150),Out:s(35033),InOut:s(82820)}},69965:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){if(o===void 0&&(o=.1),y===void 0&&(y=.1),s===0)return 0;if(s===1)return 1;var f=y/4;return o<1?o=1:f=y*Math.asin(1/o)/(2*Math.PI),-(o*Math.pow(2,10*(s-=1))*Math.sin((s-f)*(2*Math.PI)/y))};n.exports=C},50665:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){if(o===void 0&&(o=.1),y===void 0&&(y=.1),s===0)return 0;if(s===1)return 1;var f=y/4;return o<1?o=1:f=y*Math.asin(1/o)/(2*Math.PI),(s*=2)<1?-.5*(o*Math.pow(2,10*(s-=1))*Math.sin((s-f)*(2*Math.PI)/y)):o*Math.pow(2,-10*(s-=1))*Math.sin((s-f)*(2*Math.PI)/y)*.5+1};n.exports=C},7744:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){if(o===void 0&&(o=.1),y===void 0&&(y=.1),s===0)return 0;if(s===1)return 1;var f=y/4;return o<1?o=1:f=y*Math.asin(1/o)/(2*Math.PI),o*Math.pow(2,-10*s)*Math.sin((s-f)*(2*Math.PI)/y)+1};n.exports=C},99140:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(69965),Out:s(7744),InOut:s(50665)}},24590:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return Math.pow(2,10*(s-1))-.001};n.exports=C},87844:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return(s*=2)<1?.5*Math.pow(2,10*(s-1)):.5*(2-Math.pow(2,-10*(s-1)))};n.exports=C},89433:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return 1-Math.pow(2,-10*s)};n.exports=C},48857:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(24590),Out:s(89433),InOut:s(87844)}},48820:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Back:s(54178),Bounce:s(41521),Circular:s(79980),Cubic:s(85433),Elastic:s(99140),Expo:s(48857),Linear:s(81596),Quadratic:s(59133),Quartic:s(98516),Quintic:s(35248),Sine:s(82500),Stepped:s(49752)}},7147:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s};n.exports=C},81596:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=s(7147)},34826:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s*s};n.exports=C},20544:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return(s*=2)<1?.5*s*s:-.5*(--s*(s-2)-1)};n.exports=C},92029:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s*(2-s)};n.exports=C},59133:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(34826),Out:s(92029),InOut:s(20544)}},64413:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s*s*s*s};n.exports=C},78137:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return(s*=2)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2)};n.exports=C},45840:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return 1- --s*s*s*s};n.exports=C},98516:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(64413),Out:s(45840),InOut:s(78137)}},87745:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s*s*s*s*s};n.exports=C},16509:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return(s*=2)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2)};n.exports=C},17868:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return--s*s*s*s*s+1};n.exports=C},35248:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(87745),Out:s(17868),InOut:s(16509)}},80461:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s===0?0:s===1?1:1-Math.cos(s*Math.PI/2)};n.exports=C},34025:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s===0?0:s===1?1:.5*(1-Math.cos(Math.PI*s))};n.exports=C},52768:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s===0?0:s===1?1:Math.sin(s*Math.PI/2)};n.exports=C},82500:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(80461),Out:s(52768),InOut:s(34025)}},72251:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return o===void 0&&(o=1),s<=0?0:s>=1?1:((o*s|0)+1)*(1/o)};n.exports=C},49752:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=s(72251)},75698:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return o===void 0&&(o=1e-4),Math.ceil(s-o)};n.exports=C},43855:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){return y===void 0&&(y=1e-4),Math.abs(s-o)<y};n.exports=C},25777:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return o===void 0&&(o=1e-4),Math.floor(s+o)};n.exports=C},5470:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){return y===void 0&&(y=1e-4),s>o-y};n.exports=C},94977:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){return y===void 0&&(y=1e-4),s<o+y};n.exports=C},48379:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Ceil:s(75698),Equal:s(43855),Floor:s(25777),GreaterThan:s(5470),LessThan:s(94977)}},75508:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),y=s(79291),f={Angle:s(25588),Distance:s(50994),Easing:s(48820),Fuzzy:s(48379),Interpolation:s(38289),Pow2:s(49001),Snap:s(73697),RandomDataGenerator:s(28453),Average:s(53307),Bernstein:s(85710),Between:s(30976),CatmullRom:s(87842),CeilTo:s(26302),Clamp:s(45319),DegToRad:s(39506),Difference:s(61241),Euler:s(38857),Factorial:s(6411),FloatBetween:s(99472),FloorTo:s(77623),FromPercent:s(62945),GetSpeed:s(38265),IsEven:s(78702),IsEvenStrict:s(94883),Linear:s(28915),LinearXY:s(94908),MaxAdd:s(86883),Median:s(50040),MinSub:s(37204),Percent:s(65201),RadToDeg:s(43396),RandomXY:s(74362),RandomXYZ:s(60706),RandomXYZW:s(67421),Rotate:s(36305),RotateAround:s(11520),RotateAroundDistance:s(1163),RotateTo:s(70336),RoundAwayFromZero:s(2284),RoundTo:s(41013),SinCosTableGenerator:s(16922),SmootherStep:s(54261),SmoothStep:s(7602),ToXY:s(44408),TransformXY:s(85955),Within:s(60417),Wrap:s(15994),Vector2:s(26099),Vector3:s(25836),Vector4:s(61369),Matrix3:s(94434),Matrix4:s(37867),Quaternion:s(15746),RotateVec3:s(72678)};f=y(!1,f,o),n.exports=f},89318:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(85710),y=function(f,u){for(var l=0,a=f.length-1,d=0;d<=a;d++)l+=Math.pow(1-u,a-d)*Math.pow(u,d)*f[d]*o(a,d);return l};n.exports=y},77259:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87842),y=function(f,u){var l=f.length-1,a=l*u,d=Math.floor(a);return f[0]===f[l]?(u<0&&(d=Math.floor(a=l*(1+u))),o(a-d,f[(d-1+l)%l],f[d],f[(d+1)%l],f[(d+2)%l])):u<0?f[0]-(o(-a,f[0],f[0],f[1],f[1])-f[0]):u>1?f[l]-(o(a-l,f[l],f[l],f[l-1],f[l-1])-f[l]):o(a-d,f[d?d-1:0],f[d],f[l<d+1?l:d+1],f[l<d+2?l:d+2])};n.exports=y},36316:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(u,l){var a=1-u;return a*a*a*l}function s(u,l){var a=1-u;return 3*a*a*u*l}function o(u,l){return 3*(1-u)*u*u*l}function y(u,l){return u*u*u*l}var f=function(u,l,a,d,v){return C(u,l)+s(u,a)+o(u,d)+y(u,v)};n.exports=f},28392:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(28915),y=function(f,u){var l=f.length-1,a=l*u,d=Math.floor(a);return u<0?o(f[0],f[1],a):u>1?o(f[l],f[l-1],l-a):o(f[d],f[d+1>l?l:d+1],a-d)};n.exports=y},32112:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(f,u){var l=1-f;return l*l*u}function s(f,u){return 2*(1-f)*f*u}function o(f,u){return f*f*u}var y=function(f,u,l,a){return C(f,u)+s(f,l)+o(f,a)};n.exports=y},47235:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7602),y=function(f,u,l){return u+(l-u)*o(f,0,1)};n.exports=y},50178:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(54261),y=function(f,u,l){return u+(l-u)*o(f,0,1)};n.exports=y},38289:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Bezier:s(89318),CatmullRom:s(77259),CubicBezier:s(36316),Linear:s(28392),QuadraticBezier:s(32112),SmoothStep:s(47235),SmootherStep:s(50178)}},98439:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){var o=Math.log(s)/.6931471805599453;return 1<<Math.ceil(o)};n.exports=C},50030:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return s>0&&(s&s-1)===0&&o>0&&(o&o-1)===0};n.exports=C},81230:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s>0&&(s&s-1)===0};n.exports=C},49001:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GetNext:s(98439),IsSize:s(50030),IsValue:s(81230)}},28453:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=new o({initialize:function(u){u===void 0&&(u=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],u&&this.init(u)},rnd:function(){var f=2091639*this.s0+this.c*23283064365386963e-26;return this.c=f|0,this.s0=this.s1,this.s1=this.s2,this.s2=f-this.c,this.s2},hash:function(f){var u,l=this.n;f=f.toString();for(var a=0;a<f.length;a++)l+=f.charCodeAt(a),u=.02519603282416938*l,l=u>>>0,u-=l,u*=l,l=u>>>0,u-=l,l+=u*4294967296;return this.n=l,(l>>>0)*23283064365386963e-26},init:function(f){typeof f=="string"?this.state(f):this.sow(f)},sow:function(f){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!f)for(var u=0;u<f.length&&f[u]!=null;u++){var l=f[u];this.s0-=this.hash(l),this.s0+=~~(this.s0<0),this.s1-=this.hash(l),this.s1+=~~(this.s1<0),this.s2-=this.hash(l),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(f,u){return Math.floor(this.realInRange(0,u-f+1)+f)},between:function(f,u){return Math.floor(this.realInRange(0,u-f+1)+f)},realInRange:function(f,u){return this.frac()*(u-f)+f},normal:function(){return 1-2*this.frac()},uuid:function(){var f="",u="";for(u=f="";f++<36;u+=~f%5|f*3&4?(f^15?8^this.frac()*(f^20?16:4):4).toString(16):"-");return u},pick:function(f){return f[this.integerInRange(0,f.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(f){return f[~~(Math.pow(this.frac(),2)*(f.length-.5)+.5)]},timestamp:function(f,u){return this.realInRange(f||9466848e5,u||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(f){return typeof f=="string"&&f.match(/^!rnd/)&&(f=f.split(","),this.c=parseFloat(f[1]),this.s0=parseFloat(f[2]),this.s1=parseFloat(f[3]),this.s2=parseFloat(f[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(f){for(var u=f.length-1,l=u;l>0;l--){var a=Math.floor(this.frac()*(l+1)),d=f[a];f[a]=f[l],f[l]=d}return f}});n.exports=y},63448:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){return y===void 0&&(y=0),o===0?s:(s-=y,s=o*Math.ceil(s/o),f?(y+s)/o:y+s)};n.exports=C},56583:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){return y===void 0&&(y=0),o===0?s:(s-=y,s=o*Math.floor(s/o),f?(y+s)/o:y+s)};n.exports=C},77720:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){return y===void 0&&(y=0),o===0?s:(s-=y,s=o*Math.round(s/o),f?(y+s)/o:y+s)};n.exports=C},73697:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Ceil:s(63448),Floor:s(56583),To:s(77720)}},85454:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s(63595);var o=s(8054),y=s(79291),f={Actions:s(61061),Animations:s(60421),BlendModes:s(10312),Cache:s(83388),Cameras:s(26638),Core:s(42857),Class:s(83419),Create:s(15822),Curves:s(25410),Data:s(44965),Display:s(27460),DOM:s(84902),Events:s(93055),FX:s(66064),Game:s(50127),GameObjects:s(77856),Geom:s(55738),Input:s(14350),Loader:s(57777),Math:s(75508),Physics:s(44563),Plugins:s(18922),Renderer:s(36909),Scale:s(93364),ScaleModes:s(29795),Scene:s(97482),Scenes:s(62194),Structs:s(41392),Textures:s(27458),Tilemaps:s(62501),Time:s(90291),Tweens:s(43066),Utils:s(91799)};f.Sound=s(23717),f=y(!1,f,o),n.exports=f,s.g.Phaser=f},71289:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(92209),f=s(88571),u=new o({Extends:f,Mixins:[y.Acceleration,y.Angular,y.Bounce,y.Collision,y.Debug,y.Drag,y.Enable,y.Friction,y.Gravity,y.Immovable,y.Mass,y.Pushable,y.Size,y.Velocity],initialize:function(a,d,v,h,c){f.call(this,a,d,v,h,c),this.body=null}});n.exports=u},86689:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(39506),f=s(20339),u=s(89774),l=s(66022),a=s(95540),d=s(46975),v=s(72441),h=s(47956),c=s(37277),p=s(44594),m=s(26099),x=s(82248),T=new o({initialize:function(M){this.scene=M,this.systems=M.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,M.sys.events.once(p.BOOT,this.boot,this),M.sys.events.on(p.START,this.start,this)},boot:function(){this.world=new x(this.scene,this.config),this.add=new l(this.world),this.systems.events.once(p.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new x(this.scene,this.config),this.add=new l(this.world));var P=this.systems.events;a(this.config,"customUpdate",!1)||P.on(p.UPDATE,this.world.update,this.world),P.on(p.POST_UPDATE,this.world.postUpdate,this.world),P.once(p.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(p.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(p.UPDATE,this.world.update,this.world)},getConfig:function(){var P=this.systems.game.config.physics,M=this.systems.settings.physics,E=d(a(M,"arcade",{}),a(P,"arcade",{}));return E},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(P,M,E,w,R){return E===void 0&&(E=null),w===void 0&&(w=null),R===void 0&&(R=E),this.world.collideObjects(P,M,E,w,R,!0)},collide:function(P,M,E,w,R){return E===void 0&&(E=null),w===void 0&&(w=null),R===void 0&&(R=E),this.world.collideObjects(P,M,E,w,R,!1)},collideTiles:function(P,M,E,w,R){return this.world.collideTiles(P,M,E,w,R)},overlapTiles:function(P,M,E,w,R){return this.world.overlapTiles(P,M,E,w,R)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(P,M,E,w,R,A){w===void 0&&(w=60);var L=Math.atan2(E-P.y,M-P.x);return P.body.acceleration.setToPolar(L,w),R!==void 0&&A!==void 0&&P.body.maxVelocity.set(R,A),L},accelerateToObject:function(P,M,E,w,R){return this.accelerateTo(P,M.x,M.y,E,w,R)},closest:function(P,M){M||(M=this.world.bodies.entries);for(var E=Number.MAX_VALUE,w=null,R=P.x,A=P.y,L=M.length,b=0;b<L;b++){var O=M[b],F=O.body||O;if(!(P===O||P===F||P===F.gameObject||P===F.center)){var D=u(R,A,F.center.x,F.center.y);D<E&&(w=O,E=D)}}return w},furthest:function(P,M){M||(M=this.world.bodies.entries);for(var E=-1,w=null,R=P.x,A=P.y,L=M.length,b=0;b<L;b++){var O=M[b],F=O.body||O;if(!(P===O||P===F||P===F.gameObject||P===F.center)){var D=u(R,A,F.center.x,F.center.y);D>E&&(w=O,E=D)}}return w},moveTo:function(P,M,E,w,R){w===void 0&&(w=60),R===void 0&&(R=0);var A=Math.atan2(E-P.y,M-P.x);return R>0&&(w=f(P.x,P.y,M,E)/(R/1e3)),P.body.velocity.setToPolar(A,w),A},moveToObject:function(P,M,E,w){return this.moveTo(P,M.x,M.y,E,w)},velocityFromAngle:function(P,M,E){return M===void 0&&(M=60),E===void 0&&(E=new m),E.setToPolar(y(P),M)},velocityFromRotation:function(P,M,E){return M===void 0&&(M=60),E===void 0&&(E=new m),E.setToPolar(P,M)},overlapRect:function(P,M,E,w,R,A){return h(this.world,P,M,E,w,R,A)},overlapCirc:function(P,M,E,w,R){return v(this.world,P,M,E,w,R)},shutdown:function(){if(this.world){var P=this.systems.events;P.off(p.UPDATE,this.world.update,this.world),P.off(p.POST_UPDATE,this.world.postUpdate,this.world),P.off(p.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(p.START,this.start,this),this.scene=null,this.systems=null}});c.register("ArcadePhysics",T,"arcadePhysics"),n.exports=T},13759:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(92209),f=s(68287),u=new o({Extends:f,Mixins:[y.Acceleration,y.Angular,y.Bounce,y.Collision,y.Debug,y.Drag,y.Enable,y.Friction,y.Gravity,y.Immovable,y.Mass,y.Pushable,y.Size,y.Velocity],initialize:function(a,d,v,h,c){f.call(this,a,d,v,h,c),this.body=null}});n.exports=u},37742:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(78389),f=s(37747),u=s(63012),l=s(43396),a=s(87841),d=s(37303),v=s(95829),h=s(26099),c=new o({Mixins:[y],initialize:function(m,x){var T=64,P=64,M={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},E=x!==void 0;E&&x.displayWidth&&(T=x.displayWidth,P=x.displayHeight),E||(x=M),this.world=m,this.gameObject=E?x:void 0,this.isBody=!0,this.transform={x:x.x,y:x.y,rotation:x.angle,scaleX:x.scaleX,scaleY:x.scaleY,displayOriginX:x.displayOriginX,displayOriginY:x.displayOriginY},this.debugShowBody=m.defaults.debugShowBody,this.debugShowVelocity=m.defaults.debugShowVelocity,this.debugBodyColor=m.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new h,this.position=new h(x.x-x.scaleX*x.displayOriginX,x.y-x.scaleY*x.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=x.angle,this.preRotation=x.angle,this.width=T,this.height=P,this.sourceWidth=T,this.sourceHeight=P,x.frame&&(this.sourceWidth=x.frame.realWidth,this.sourceHeight=x.frame.realHeight),this.halfWidth=Math.abs(T/2),this.halfHeight=Math.abs(P/2),this.center=new h(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new h,this.newVelocity=new h,this.deltaMax=new h,this.acceleration=new h,this.allowDrag=!0,this.drag=new h,this.allowGravity=!0,this.gravity=new h,this.bounce=new h,this.worldBounce=null,this.customBoundsRectangle=m.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new h(1e4,1e4),this.maxSpeed=-1,this.friction=new h(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=f.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new h(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=v(!1),this.touching=v(!0),this.wasTouching=v(!0),this.blocked=v(!0),this.syncBounds=!1,this.physicsType=f.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=x.scaleX,this._sy=x.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new a,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var p=this.gameObject,m=this.transform;if(p.parentContainer){var x=p.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);m.x=x.tx,m.y=x.ty,m.rotation=l(x.rotation),m.scaleX=x.scaleX,m.scaleY=x.scaleY,m.displayOriginX=p.displayOriginX,m.displayOriginY=p.displayOriginY}else m.x=p.x,m.y=p.y,m.rotation=p.angle,m.scaleX=p.scaleX,m.scaleY=p.scaleY,m.displayOriginX=p.displayOriginX,m.displayOriginY=p.displayOriginY;var T=!1;if(this.syncBounds){var P=p.getBounds(this._bounds);this.width=P.width,this.height=P.height,T=!0}else{var M=Math.abs(m.scaleX),E=Math.abs(m.scaleY);(this._sx!==M||this._sy!==E)&&(this.width=this.sourceWidth*M,this.height=this.sourceHeight*E,this._sx=M,this._sy=E,T=!0)}T&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var p=this.transform;this.position.x=p.x+p.scaleX*(this.offset.x-p.displayOriginX),this.position.y=p.y+p.scaleY*(this.offset.y-p.displayOriginY),this.updateCenter()},resetFlags:function(p){p===void 0&&(p=!1);var m=this.wasTouching,x=this.touching,T=this.blocked;p?v(!0,m):(m.none=x.none,m.up=x.up,m.down=x.down,m.left=x.left,m.right=x.right),v(!0,x),v(!0,T),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(p,m){if(p&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var x=this.position;this.prev.x=x.x,this.prev.y=x.y,this.prevFrame.x=x.x,this.prevFrame.y=x.y}p&&this.update(m)},update:function(p){var m=this.prev,x=this.position,T=this.velocity;if(m.set(x.x,x.y),!this.moves){this._dx=x.x-m.x,this._dy=x.y-m.y;return}if(this.directControl){var P=this.autoFrame;T.set((x.x-P.x)/p,(x.y-P.y)/p),this.world.updateMotion(this,p),this._dx=x.x-P.x,this._dy=x.y-P.y}else this.world.updateMotion(this,p),this.newVelocity.set(T.x*p,T.y*p),x.add(this.newVelocity),this._dx=x.x-m.x,this._dy=x.y-m.y;var M=T.x,E=T.y;if(this.updateCenter(),this.angle=Math.atan2(E,M),this.speed=Math.sqrt(M*M+E*E),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var w=this.blocked;this.world.emit(u.WORLD_BOUNDS,this,w.up,w.down,w.left,w.right)}},postUpdate:function(){var p=this.position,m=p.x-this.prevFrame.x,x=p.y-this.prevFrame.y,T=this.gameObject;if(this.moves){var P=this.deltaMax.x,M=this.deltaMax.y;P!==0&&m!==0&&(m<0&&m<-P?m=-P:m>0&&m>P&&(m=P)),M!==0&&x!==0&&(x<0&&x<-M?x=-M:x>0&&x>M&&(x=M)),T&&(T.x+=m,T.y+=x)}m<0?this.facing=f.FACING_LEFT:m>0&&(this.facing=f.FACING_RIGHT),x<0?this.facing=f.FACING_UP:x>0&&(this.facing=f.FACING_DOWN),this.allowRotation&&T&&(T.angle+=this.deltaZ()),this._tx=m,this._ty=x,this.autoFrame.set(p.x,p.y)},setBoundsRectangle:function(p){return this.customBoundsRectangle=p||this.world.bounds,this},checkWorldBounds:function(){var p=this.position,m=this.velocity,x=this.blocked,T=this.customBoundsRectangle,P=this.world.checkCollision,M=this.worldBounce?-this.worldBounce.x:-this.bounce.x,E=this.worldBounce?-this.worldBounce.y:-this.bounce.y,w=!1;return p.x<T.x&&P.left?(p.x=T.x,m.x*=M,x.left=!0,w=!0):this.right>T.right&&P.right&&(p.x=T.right-this.width,m.x*=M,x.right=!0,w=!0),p.y<T.y&&P.up?(p.y=T.y,m.y*=E,x.up=!0,w=!0):this.bottom>T.bottom&&P.down&&(p.y=T.bottom-this.height,m.y*=E,x.down=!0,w=!0),w&&(this.blocked.none=!1,this.updateCenter()),w},setOffset:function(p,m){return m===void 0&&(m=p),this.offset.set(p,m),this},setGameObject:function(p,m){if(m===void 0&&(m=!0),!p||!p.hasTransformComponent)return this;var x=this.world;return this.gameObject&&this.gameObject.body&&(x.disable(this.gameObject),this.gameObject.body=null),p.body&&x.disable(p),this.gameObject=p,p.body=this,this.setSize(),this.enable=m,this},setSize:function(p,m,x){x===void 0&&(x=!0);var T=this.gameObject;if(T&&(!p&&T.frame&&(p=T.frame.realWidth),!m&&T.frame&&(m=T.frame.realHeight)),this.sourceWidth=p,this.sourceHeight=m,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),x&&T&&T.getCenter){var P=(T.width-p)/2,M=(T.height-m)/2;this.offset.set(P,M)}return this.isCircle=!1,this.radius=0,this},setCircle:function(p,m,x){return m===void 0&&(m=this.offset.x),x===void 0&&(x=this.offset.y),p>0?(this.isCircle=!0,this.radius=p,this.sourceWidth=p*2,this.sourceHeight=p*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(m,x),this.updateCenter()):this.isCircle=!1,this},reset:function(p,m){this.stop();var x=this.gameObject;x&&(x.setPosition(p,m),this.rotation=x.angle,this.preRotation=x.angle);var T=this.position;x&&x.getTopLeft?x.getTopLeft(T):T.set(p,m),this.prev.copy(T),this.prevFrame.copy(T),this.autoFrame.copy(T),x&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(p){return p.x=this.x,p.y=this.y,p.right=this.right,p.bottom=this.bottom,p},hitTest:function(p,m){if(!this.isCircle)return d(this,p,m);if(this.radius>0&&p>=this.left&&p<=this.right&&m>=this.top&&m<=this.bottom){var x=(this.center.x-p)*(this.center.x-p),T=(this.center.y-m)*(this.center.y-m);return x+T<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(p){var m=this.position,x=m.x+this.halfWidth,T=m.y+this.halfHeight;this.debugShowBody&&(p.lineStyle(p.defaultStrokeWidth,this.debugBodyColor),this.isCircle?p.strokeCircle(x,T,this.width/2):(this.checkCollision.up&&p.lineBetween(m.x,m.y,m.x+this.width,m.y),this.checkCollision.right&&p.lineBetween(m.x+this.width,m.y,m.x+this.width,m.y+this.height),this.checkCollision.down&&p.lineBetween(m.x,m.y+this.height,m.x+this.width,m.y+this.height),this.checkCollision.left&&p.lineBetween(m.x,m.y,m.x,m.y+this.height))),this.debugShowVelocity&&(p.lineStyle(p.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),p.lineBetween(x,T,x+this.velocity.x/2,T+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(p){return p===void 0&&(p=!0),this.directControl=p,this},setCollideWorldBounds:function(p,m,x,T){p===void 0&&(p=!0),this.collideWorldBounds=p;var P=m!==void 0,M=x!==void 0;return(P||M)&&(this.worldBounce||(this.worldBounce=new h),P&&(this.worldBounce.x=m),M&&(this.worldBounce.y=x)),T!==void 0&&(this.onWorldBounds=T),this},setVelocity:function(p,m){return this.velocity.set(p,m),p=this.velocity.x,m=this.velocity.y,this.speed=Math.sqrt(p*p+m*m),this},setVelocityX:function(p){return this.setVelocity(p,this.velocity.y)},setVelocityY:function(p){return this.setVelocity(this.velocity.x,p)},setMaxVelocity:function(p,m){return this.maxVelocity.set(p,m),this},setMaxVelocityX:function(p){return this.maxVelocity.x=p,this},setMaxVelocityY:function(p){return this.maxVelocity.y=p,this},setMaxSpeed:function(p){return this.maxSpeed=p,this},setSlideFactor:function(p,m){return this.slideFactor.set(p,m),this},setBounce:function(p,m){return this.bounce.set(p,m),this},setBounceX:function(p){return this.bounce.x=p,this},setBounceY:function(p){return this.bounce.y=p,this},setAcceleration:function(p,m){return this.acceleration.set(p,m),this},setAccelerationX:function(p){return this.acceleration.x=p,this},setAccelerationY:function(p){return this.acceleration.y=p,this},setAllowDrag:function(p){return p===void 0&&(p=!0),this.allowDrag=p,this},setAllowGravity:function(p){return p===void 0&&(p=!0),this.allowGravity=p,this},setAllowRotation:function(p){return p===void 0&&(p=!0),this.allowRotation=p,this},setDrag:function(p,m){return this.drag.set(p,m),this},setDamping:function(p){return this.useDamping=p,this},setDragX:function(p){return this.drag.x=p,this},setDragY:function(p){return this.drag.y=p,this},setGravity:function(p,m){return this.gravity.set(p,m),this},setGravityX:function(p){return this.gravity.x=p,this},setGravityY:function(p){return this.gravity.y=p,this},setFriction:function(p,m){return this.friction.set(p,m),this},setFrictionX:function(p){return this.friction.x=p,this},setFrictionY:function(p){return this.friction.y=p,this},setAngularVelocity:function(p){return this.angularVelocity=p,this},setAngularAcceleration:function(p){return this.angularAcceleration=p,this},setAngularDrag:function(p){return this.angularDrag=p,this},setMass:function(p){return this.mass=p,this},setImmovable:function(p){return p===void 0&&(p=!0),this.immovable=p,this},setEnable:function(p){return p===void 0&&(p=!0),this.enable=p,this},processX:function(p,m,x,T){this.x+=p,this.updateCenter(),m!==null&&(this.velocity.x=m*this.slideFactor.x);var P=this.blocked;x&&(P.left=!0,P.none=!1),T&&(P.right=!0,P.none=!1)},processY:function(p,m,x,T){this.y+=p,this.updateCenter(),m!==null&&(this.velocity.y=m*this.slideFactor.y);var P=this.blocked;x&&(P.up=!0,P.none=!1),T&&(P.down=!0,P.none=!1)},x:{get:function(){return this.position.x},set:function(p){this.position.x=p}},y:{get:function(){return this.position.y},set:function(p){this.position.y=p}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});n.exports=c},79342:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=new o({initialize:function(u,l,a,d,v,h,c){this.world=u,this.name="",this.active=!0,this.overlapOnly=l,this.object1=a,this.object2=d,this.collideCallback=v,this.processCallback=h,this.callbackContext=c},setName:function(f){return this.name=f,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});n.exports=y},66022:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(71289),y=s(13759),f=s(37742),u=s(83419),l=s(37747),a=s(60758),d=s(72624),v=s(71464),h=new u({initialize:function(p){this.world=p,this.scene=p.scene,this.sys=p.scene.sys},collider:function(c,p,m,x,T){return this.world.addCollider(c,p,m,x,T)},overlap:function(c,p,m,x,T){return this.world.addOverlap(c,p,m,x,T)},existing:function(c,p){var m=p?l.STATIC_BODY:l.DYNAMIC_BODY;return this.world.enableBody(c,m),c},staticImage:function(c,p,m,x){var T=new o(this.scene,c,p,m,x);return this.sys.displayList.add(T),this.world.enableBody(T,l.STATIC_BODY),T},image:function(c,p,m,x){var T=new o(this.scene,c,p,m,x);return this.sys.displayList.add(T),this.world.enableBody(T,l.DYNAMIC_BODY),T},staticSprite:function(c,p,m,x){var T=new y(this.scene,c,p,m,x);return this.sys.displayList.add(T),this.sys.updateList.add(T),this.world.enableBody(T,l.STATIC_BODY),T},sprite:function(c,p,m,x){var T=new y(this.scene,c,p,m,x);return this.sys.displayList.add(T),this.sys.updateList.add(T),this.world.enableBody(T,l.DYNAMIC_BODY),T},staticGroup:function(c,p){return this.sys.updateList.add(new v(this.world,this.world.scene,c,p))},group:function(c,p){return this.sys.updateList.add(new a(this.world,this.world.scene,c,p))},body:function(c,p,m,x){var T=new f(this.world);return T.position.set(c,p),m&&x&&T.setSize(m,x),this.world.add(T,l.DYNAMIC_BODY),T},staticBody:function(c,p,m,x){var T=new d(this.world);return T.position.set(c,p),m&&x&&T.setSize(m,x),this.world.add(T,l.STATIC_BODY),T},destroy:function(){this.world=null,this.scene=null,this.sys=null}});n.exports=h},79599:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){var o=0;if(!Array.isArray(s))o=s;else for(var y=0;y<s.length;y++)o|=s[y];return o};n.exports=C},64897:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37747),y=function(f,u,l,a){var d=0,v=f.deltaAbsX()+u.deltaAbsX()+a;return f._dx===0&&u._dx===0?(f.embedded=!0,u.embedded=!0):f._dx>u._dx?(d=f.right-u.x,d>v&&!l||f.checkCollision.right===!1||u.checkCollision.left===!1?d=0:(f.touching.none=!1,f.touching.right=!0,u.touching.none=!1,u.touching.left=!0,u.physicsType===o.STATIC_BODY&&!l&&(f.blocked.none=!1,f.blocked.right=!0),f.physicsType===o.STATIC_BODY&&!l&&(u.blocked.none=!1,u.blocked.left=!0))):f._dx<u._dx&&(d=f.x-u.width-u.x,-d>v&&!l||f.checkCollision.left===!1||u.checkCollision.right===!1?d=0:(f.touching.none=!1,f.touching.left=!0,u.touching.none=!1,u.touching.right=!0,u.physicsType===o.STATIC_BODY&&!l&&(f.blocked.none=!1,f.blocked.left=!0),f.physicsType===o.STATIC_BODY&&!l&&(u.blocked.none=!1,u.blocked.right=!0))),f.overlapX=d,u.overlapX=d,d};n.exports=y},45170:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37747),y=function(f,u,l,a){var d=0,v=f.deltaAbsY()+u.deltaAbsY()+a;return f._dy===0&&u._dy===0?(f.embedded=!0,u.embedded=!0):f._dy>u._dy?(d=f.bottom-u.y,d>v&&!l||f.checkCollision.down===!1||u.checkCollision.up===!1?d=0:(f.touching.none=!1,f.touching.down=!0,u.touching.none=!1,u.touching.up=!0,u.physicsType===o.STATIC_BODY&&!l&&(f.blocked.none=!1,f.blocked.down=!0),f.physicsType===o.STATIC_BODY&&!l&&(u.blocked.none=!1,u.blocked.up=!0))):f._dy<u._dy&&(d=f.y-u.bottom,-d>v&&!l||f.checkCollision.up===!1||u.checkCollision.down===!1?d=0:(f.touching.none=!1,f.touching.up=!0,u.touching.none=!1,u.touching.down=!0,u.physicsType===o.STATIC_BODY&&!l&&(f.blocked.none=!1,f.blocked.up=!0),f.physicsType===o.STATIC_BODY&&!l&&(u.blocked.none=!1,u.blocked.down=!0))),f.overlapY=d,u.overlapY=d,d};n.exports=y},60758:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(13759),y=s(83419),f=s(78389),u=s(37747),l=s(95540),a=s(26479),d=s(41212),v=new y({Extends:a,Mixins:[f],initialize:function(c,p,m,x){if(!m&&!x)x={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(d(m))x=m,m=null,x.internalCreateCallback=this.createCallbackHandler,x.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(m)&&d(m[0])){var T=this;m.forEach(function(P){P.internalCreateCallback=T.createCallbackHandler,P.internalRemoveCallback=T.removeCallbackHandler,P.classType=l(P,"classType",o)}),x=null}else x={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=c,x&&(x.classType=l(x,"classType",o)),this.physicsType=u.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:l(x,"collideWorldBounds",!1),setBoundsRectangle:l(x,"customBoundsRectangle",null),setAccelerationX:l(x,"accelerationX",0),setAccelerationY:l(x,"accelerationY",0),setAllowDrag:l(x,"allowDrag",!0),setAllowGravity:l(x,"allowGravity",!0),setAllowRotation:l(x,"allowRotation",!0),setDamping:l(x,"useDamping",!1),setBounceX:l(x,"bounceX",0),setBounceY:l(x,"bounceY",0),setDragX:l(x,"dragX",0),setDragY:l(x,"dragY",0),setEnable:l(x,"enable",!0),setGravityX:l(x,"gravityX",0),setGravityY:l(x,"gravityY",0),setFrictionX:l(x,"frictionX",0),setFrictionY:l(x,"frictionY",0),setMaxSpeed:l(x,"maxSpeed",-1),setMaxVelocityX:l(x,"maxVelocityX",1e4),setMaxVelocityY:l(x,"maxVelocityY",1e4),setVelocityX:l(x,"velocityX",0),setVelocityY:l(x,"velocityY",0),setAngularVelocity:l(x,"angularVelocity",0),setAngularAcceleration:l(x,"angularAcceleration",0),setAngularDrag:l(x,"angularDrag",0),setMass:l(x,"mass",1),setImmovable:l(x,"immovable",!1)},a.call(this,p,m,x),this.type="PhysicsGroup"},createCallbackHandler:function(h){h.body||this.world.enableBody(h,u.DYNAMIC_BODY);var c=h.body;for(var p in this.defaults)c[p](this.defaults[p])},removeCallbackHandler:function(h){h.body&&this.world.disableBody(h)},setVelocity:function(h,c,p){p===void 0&&(p=0);for(var m=this.getChildren(),x=0;x<m.length;x++)m[x].body.velocity.set(h+x*p,c+x*p);return this},setVelocityX:function(h,c){c===void 0&&(c=0);for(var p=this.getChildren(),m=0;m<p.length;m++)p[m].body.velocity.x=h+m*c;return this},setVelocityY:function(h,c){c===void 0&&(c=0);for(var p=this.getChildren(),m=0;m<p.length;m++)p[m].body.velocity.y=h+m*c;return this}});n.exports=v},3017:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C,s,o,y,f,u,l,a,d,v,h,c,p,m,x,T,P,M=function(b,O,F){C=b,s=O;var D=C.velocity.x,B=s.velocity.x;return o=C.pushable,d=C._dx<0,v=C._dx>0,h=C._dx===0,x=Math.abs(C.right-s.x)<=Math.abs(s.right-C.x),l=B-D*C.bounce.x,y=s.pushable,c=s._dx<0,p=s._dx>0,m=s._dx===0,T=!x,a=D-B*s.bounce.x,P=Math.abs(F),E()},E=function(){return v&&x&&s.blocked.right?(C.processX(-P,l,!1,!0),1):d&&T&&s.blocked.left?(C.processX(P,l,!0),1):p&&T&&C.blocked.right?(s.processX(-P,a,!1,!0),2):c&&x&&C.blocked.left?(s.processX(P,a,!0),2):0},w=function(){var b=C.velocity.x,O=s.velocity.x,F=Math.sqrt(O*O*s.mass/C.mass)*(O>0?1:-1),D=Math.sqrt(b*b*C.mass/s.mass)*(b>0?1:-1),B=(F+D)*.5;return F-=B,D-=B,f=B+F*C.bounce.x,u=B+D*s.bounce.x,d&&T?R(0):c&&x?R(1):v&&x?R(2):p&&T?R(3):!1},R=function(b){if(o&&y)P*=.5,b===0||b===3?(C.processX(P,f),s.processX(-P,u)):(C.processX(-P,f),s.processX(P,u));else if(o&&!y)b===0||b===3?C.processX(P,l,!0):C.processX(-P,l,!1,!0);else if(!o&&y)b===0||b===3?s.processX(-P,a,!1,!0):s.processX(P,a,!0);else{var O=P*.5;b===0?m?(C.processX(P,0,!0),s.processX(0,null,!1,!0)):p?(C.processX(O,0,!0),s.processX(-O,0,!1,!0)):(C.processX(O,s.velocity.x,!0),s.processX(-O,null,!1,!0)):b===1?h?(C.processX(0,null,!1,!0),s.processX(P,0,!0)):v?(C.processX(-O,0,!1,!0),s.processX(O,0,!0)):(C.processX(-O,null,!1,!0),s.processX(O,C.velocity.x,!0)):b===2?m?(C.processX(-P,0,!1,!0),s.processX(0,null,!0)):c?(C.processX(-O,0,!1,!0),s.processX(O,0,!0)):(C.processX(-O,s.velocity.x,!1,!0),s.processX(O,null,!0)):b===3&&(h?(C.processX(0,null,!0),s.processX(-P,0,!1,!0)):d?(C.processX(O,0,!0),s.processX(-O,0,!1,!0)):(C.processX(O,s.velocity.y,!0),s.processX(-O,null,!1,!0)))}return!0},A=function(b){if(b===1?s.velocity.x=0:x?s.processX(P,a,!0):s.processX(-P,a,!1,!0),C.moves){var O=C.directControl?C.y-C.autoFrame.y:C.y-C.prev.y;s.y+=O*C.friction.y,s._dy=s.y-s.prev.y}},L=function(b){if(b===2?C.velocity.x=0:T?C.processX(P,l,!0):C.processX(-P,l,!1,!0),s.moves){var O=s.directControl?s.y-s.autoFrame.y:s.y-s.prev.y;C.y+=O*s.friction.y,C._dy=C.y-C.prev.y}};n.exports={BlockCheck:E,Check:w,Set:M,Run:R,RunImmovableBody1:A,RunImmovableBody2:L}},47962:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C,s,o,y,f,u,l,a,d,v,h,c,p,m,x,T,P,M=function(b,O,F){C=b,s=O;var D=C.velocity.y,B=s.velocity.y;return o=C.pushable,d=C._dy<0,v=C._dy>0,h=C._dy===0,x=Math.abs(C.bottom-s.y)<=Math.abs(s.bottom-C.y),l=B-D*C.bounce.y,y=s.pushable,c=s._dy<0,p=s._dy>0,m=s._dy===0,T=!x,a=D-B*s.bounce.y,P=Math.abs(F),E()},E=function(){return v&&x&&s.blocked.down?(C.processY(-P,l,!1,!0),1):d&&T&&s.blocked.up?(C.processY(P,l,!0),1):p&&T&&C.blocked.down?(s.processY(-P,a,!1,!0),2):c&&x&&C.blocked.up?(s.processY(P,a,!0),2):0},w=function(){var b=C.velocity.y,O=s.velocity.y,F=Math.sqrt(O*O*s.mass/C.mass)*(O>0?1:-1),D=Math.sqrt(b*b*C.mass/s.mass)*(b>0?1:-1),B=(F+D)*.5;return F-=B,D-=B,f=B+F*C.bounce.y,u=B+D*s.bounce.y,d&&T?R(0):c&&x?R(1):v&&x?R(2):p&&T?R(3):!1},R=function(b){if(o&&y)P*=.5,b===0||b===3?(C.processY(P,f),s.processY(-P,u)):(C.processY(-P,f),s.processY(P,u));else if(o&&!y)b===0||b===3?C.processY(P,l,!0):C.processY(-P,l,!1,!0);else if(!o&&y)b===0||b===3?s.processY(-P,a,!1,!0):s.processY(P,a,!0);else{var O=P*.5;b===0?m?(C.processY(P,0,!0),s.processY(0,null,!1,!0)):p?(C.processY(O,0,!0),s.processY(-O,0,!1,!0)):(C.processY(O,s.velocity.y,!0),s.processY(-O,null,!1,!0)):b===1?h?(C.processY(0,null,!1,!0),s.processY(P,0,!0)):v?(C.processY(-O,0,!1,!0),s.processY(O,0,!0)):(C.processY(-O,null,!1,!0),s.processY(O,C.velocity.y,!0)):b===2?m?(C.processY(-P,0,!1,!0),s.processY(0,null,!0)):c?(C.processY(-O,0,!1,!0),s.processY(O,0,!0)):(C.processY(-O,s.velocity.y,!1,!0),s.processY(O,null,!0)):b===3&&(h?(C.processY(0,null,!0),s.processY(-P,0,!1,!0)):d?(C.processY(O,0,!0),s.processY(-O,0,!1,!0)):(C.processY(O,s.velocity.y,!0),s.processY(-O,null,!1,!0)))}return!0},A=function(b){if(b===1?s.velocity.y=0:x?s.processY(P,a,!0):s.processY(-P,a,!1,!0),C.moves){var O=C.directControl?C.x-C.autoFrame.x:C.x-C.prev.x;s.x+=O*C.friction.x,s._dx=s.x-s.prev.x}},L=function(b){if(b===2?C.velocity.y=0:T?C.processY(P,l,!0):C.processY(-P,l,!1,!0),s.moves){var O=s.directControl?s.x-s.autoFrame.x:s.x-s.prev.x;C.x+=O*s.friction.x,C._dx=C.x-C.prev.x}};n.exports={BlockCheck:E,Check:w,Set:M,Run:R,RunImmovableBody1:A,RunImmovableBody2:L}},14087:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(64897),y=s(3017),f=function(u,l,a,d,v){v===void 0&&(v=o(u,l,a,d));var h=u.immovable,c=l.immovable;if(a||v===0||h&&c||u.customSeparateX||l.customSeparateX)return v!==0||u.embedded&&l.embedded;var p=y.Set(u,l,v);return!h&&!c?p>0?!0:y.Check():(h?y.RunImmovableBody1(p):c&&y.RunImmovableBody2(p),!0)};n.exports=f},89936:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45170),y=s(47962),f=function(u,l,a,d,v){v===void 0&&(v=o(u,l,a,d));var h=u.immovable,c=l.immovable;if(a||v===0||h&&c||u.customSeparateY||l.customSeparateY)return v!==0||u.embedded&&l.embedded;var p=y.Set(u,l,v);return!h&&!c?p>0?!0:y.Check():(h?y.RunImmovableBody1(p):c&&y.RunImmovableBody2(p),!0)};n.exports=f},95829:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return o===void 0&&(o={}),o.none=s,o.up=!1,o.down=!1,o.left=!1,o.right=!1,s||(o.up=!0,o.down=!0,o.left=!0,o.right=!0),o};n.exports=C},72624:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87902),y=s(83419),f=s(78389),u=s(37747),l=s(37303),a=s(95829),d=s(26099),v=new y({Mixins:[f],initialize:function(c,p){var m=64,x=64,T={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},P=p!==void 0;P&&p.displayWidth&&(m=p.displayWidth,x=p.displayHeight),P||(p=T),this.world=c,this.gameObject=P?p:void 0,this.isBody=!0,this.debugShowBody=c.defaults.debugShowStaticBody,this.debugBodyColor=c.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new d,this.position=new d(p.x-m*p.originX,p.y-x*p.originY),this.width=m,this.height=x,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new d(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=d.ZERO,this.allowGravity=!1,this.gravity=d.ZERO,this.bounce=d.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=a(!1),this.touching=a(!0),this.wasTouching=a(!0),this.blocked=a(!0),this.physicsType=u.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(h,c,p){if(c===void 0&&(c=!0),p===void 0&&(p=!0),!h||!h.hasTransformComponent)return this;var m=this.world;return this.gameObject&&this.gameObject.body&&(m.disable(this.gameObject),this.gameObject.body=null),h.body&&m.disable(h),this.gameObject=h,h.body=this,this.setSize(),c&&this.updateFromGameObject(),this.enable=p,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var h=this.gameObject;return h.getTopLeft(this.position),this.width=h.displayWidth,this.height=h.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(h,c){return c===void 0&&(c=h),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(h,c),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(h,c,p){p===void 0&&(p=!0);var m=this.gameObject;if(m&&m.frame&&(h||(h=m.frame.realWidth),c||(c=m.frame.realHeight)),this.world.staticTree.remove(this),this.width=h,this.height=c,this.halfWidth=Math.floor(h/2),this.halfHeight=Math.floor(c/2),p&&m&&m.getCenter){var x=m.displayWidth/2,T=m.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(x-this.halfWidth,T-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(h,c,p){return c===void 0&&(c=this.offset.x),p===void 0&&(p=this.offset.y),h>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=h,this.width=h*2,this.height=h*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(c,p),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(h,c){var p=this.gameObject;h===void 0&&(h=p.x),c===void 0&&(c=p.y),this.world.staticTree.remove(this),p.setPosition(h,c),p.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(h){return h.x=this.x,h.y=this.y,h.right=this.right,h.bottom=this.bottom,h},hitTest:function(h,c){return this.isCircle?o(this,h,c):l(this,h,c)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(h){var c=this.position,p=c.x+this.halfWidth,m=c.y+this.halfHeight;this.debugShowBody&&(h.lineStyle(h.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?h.strokeCircle(p,m,this.width/2):h.strokeRect(c.x,c.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(h){return h<=0&&(h=.1),this.mass=h,this},x:{get:function(){return this.position.x},set:function(h){this.world.staticTree.remove(this),this.position.x=h,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(h){this.world.staticTree.remove(this),this.position.y=h,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});n.exports=v},71464:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(13759),y=s(83419),f=s(78389),u=s(37747),l=s(95540),a=s(26479),d=s(41212),v=new y({Extends:a,Mixins:[f],initialize:function(c,p,m,x){!m&&!x?x={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:o}:d(m)?(x=m,m=null,x.internalCreateCallback=this.createCallbackHandler,x.internalRemoveCallback=this.removeCallbackHandler,x.createMultipleCallback=this.createMultipleCallbackHandler,x.classType=l(x,"classType",o)):Array.isArray(m)&&d(m[0])?(x=m,m=null,x.forEach(function(T){T.internalCreateCallback=this.createCallbackHandler,T.internalRemoveCallback=this.removeCallbackHandler,T.createMultipleCallback=this.createMultipleCallbackHandler,T.classType=l(T,"classType",o)})):x={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=c,this.physicsType=u.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,a.call(this,p,m,x),this.type="StaticPhysicsGroup"},createCallbackHandler:function(h){h.body||this.world.enableBody(h,u.STATIC_BODY)},removeCallbackHandler:function(h){h.body&&this.world.disableBody(h)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var h=this.children.entries,c=0;c<h.length;c++)h[c].body.reset();return this}});n.exports=v},82248:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(55495),y=s(37742),f=s(45319),u=s(83419),l=s(79342),a=s(37747),d=s(20339),v=s(52816),h=s(50792),c=s(63012),p=s(43855),m=s(5470),x=s(94977),T=s(64897),P=s(45170),M=s(96523),E=s(35154),w=s(36383),R=s(25774),A=s(96602),L=s(87841),b=s(59542),O=s(40012),F=s(14087),D=s(89936),B=s(35072),N=s(72624),z=s(2483),W=s(61340),X=s(26099),k=s(15994),V=new u({Extends:h,initialize:function(U,G){h.call(this),this.scene=U,this.bodies=new B,this.staticBodies=new B,this.pendingDestroy=new B,this.colliders=new R,this.gravity=new X(E(G,"gravity.x",0),E(G,"gravity.y",0)),this.bounds=new L(E(G,"x",0),E(G,"y",0),E(G,"width",U.sys.scale.width),E(G,"height",U.sys.scale.height)),this.checkCollision={up:E(G,"checkCollision.up",!0),down:E(G,"checkCollision.down",!0),left:E(G,"checkCollision.left",!0),right:E(G,"checkCollision.right",!0)},this.fps=E(G,"fps",60),this.fixedStep=E(G,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=E(G,"timeScale",1),this.OVERLAP_BIAS=E(G,"overlapBias",4),this.TILE_BIAS=E(G,"tileBias",16),this.forceX=E(G,"forceX",!1),this.isPaused=E(G,"isPaused",!1),this._total=0,this.drawDebug=E(G,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:E(G,"debugShowBody",!0),debugShowStaticBody:E(G,"debugShowStaticBody",!0),debugShowVelocity:E(G,"debugShowVelocity",!0),bodyDebugColor:E(G,"debugBodyColor",16711935),staticBodyDebugColor:E(G,"debugStaticBodyColor",255),velocityDebugColor:E(G,"debugVelocityColor",65280)},this.maxEntries=E(G,"maxEntries",16),this.useTree=E(G,"useTree",!0),this.tree=new b(this.maxEntries),this.staticTree=new b(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new W,this._tempMatrix2=new W,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(I,U){U===void 0&&(U=a.DYNAMIC_BODY),Array.isArray(I)||(I=[I]);for(var G=0;G<I.length;G++){var Y=I[G];if(Y.isParent)for(var H=Y.getChildren(),$=0;$<H.length;$++){var K=H[$];K.isParent?this.enable(K,U):this.enableBody(K,U)}else this.enableBody(Y,U)}},enableBody:function(I,U){return U===void 0&&(U=a.DYNAMIC_BODY),I.hasTransformComponent&&(I.body||(U===a.DYNAMIC_BODY?I.body=new y(this,I):U===a.STATIC_BODY&&(I.body=new N(this,I))),this.add(I.body)),I},add:function(I){return I.physicsType===a.DYNAMIC_BODY?this.bodies.set(I):I.physicsType===a.STATIC_BODY&&(this.staticBodies.set(I),this.staticTree.insert(I)),I.enable=!0,I},disable:function(I){Array.isArray(I)||(I=[I]);for(var U=0;U<I.length;U++){var G=I[U];if(G.isParent)for(var Y=G.getChildren(),H=0;H<Y.length;H++){var $=Y[H];$.isParent?this.disable($):this.disableBody($.body)}else this.disableBody(G.body)}},disableBody:function(I){this.remove(I),I.enable=!1},remove:function(I){I.physicsType===a.DYNAMIC_BODY?(this.tree.remove(I),this.bodies.delete(I)):I.physicsType===a.STATIC_BODY&&(this.staticBodies.delete(I),this.staticTree.remove(I))},createDebugGraphic:function(){var I=this.scene.sys.add.graphics({x:0,y:0});return I.setDepth(Number.MAX_VALUE),this.debugGraphic=I,this.drawDebug=!0,I},setBounds:function(I,U,G,Y,H,$,K,Z){return this.bounds.setTo(I,U,G,Y),H!==void 0&&this.setBoundsCollision(H,$,K,Z),this},setBoundsCollision:function(I,U,G,Y){return I===void 0&&(I=!0),U===void 0&&(U=!0),G===void 0&&(G=!0),Y===void 0&&(Y=!0),this.checkCollision.left=I,this.checkCollision.right=U,this.checkCollision.up=G,this.checkCollision.down=Y,this},pause:function(){return this.isPaused=!0,this.emit(c.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(c.RESUME),this},addCollider:function(I,U,G,Y,H){G===void 0&&(G=null),Y===void 0&&(Y=null),H===void 0&&(H=G);var $=new l(this,!1,I,U,G,Y,H);return this.colliders.add($),$},addOverlap:function(I,U,G,Y,H){G===void 0&&(G=null),Y===void 0&&(Y=null),H===void 0&&(H=G);var $=new l(this,!0,I,U,G,Y,H);return this.colliders.add($),$},removeCollider:function(I){return this.colliders.remove(I),this},setFPS:function(I){return this.fps=I,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(I,U){if(!(this.isPaused||this.bodies.size===0)){var G,Y=this._frameTime,H=this._frameTimeMS*this.timeScale;this._elapsed+=U;var $,K=this.bodies.entries,Z=this._elapsed>=H;for(this.fixedStep||(Y=U*.001,Z=!0,this._elapsed=0),G=0;G<K.length;G++)$=K[G],$.enable&&$.preUpdate(Z,Y);if(Z){this._elapsed-=H,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(K));var J=this.colliders.update();for(G=0;G<J.length;G++){var j=J[G];j.active&&j.update()}this.emit(c.WORLD_STEP,Y)}for(;this._elapsed>=H;)this._elapsed-=H,this.step(Y)}},step:function(I){var U,G,Y=this.bodies.entries,H=Y.length;for(U=0;U<H;U++)G=Y[U],G.enable&&G.update(I);this.useTree&&(this.tree.clear(),this.tree.load(Y));var $=this.colliders.update();for(U=0;U<$.length;U++){var K=$[U];K.active&&K.update()}this.emit(c.WORLD_STEP,I),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var I,U,G=this.bodies.entries,Y=G.length,H=this.bodies,$=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,I=0;I<Y;I++)U=G[I],U.enable&&U.postUpdate();if(this.drawDebug){var K=this.debugGraphic;for(K.clear(),I=0;I<Y;I++)U=G[I],U.willDrawDebug()&&U.drawDebug(K);for(G=$.entries,Y=G.length,I=0;I<Y;I++)U=G[I],U.willDrawDebug()&&U.drawDebug(K)}var Z=this.pendingDestroy;if(Z.size>0){var J=this.tree,j=this.staticTree;for(G=Z.entries,Y=G.length,I=0;I<Y;I++)U=G[I],U.physicsType===a.DYNAMIC_BODY?(J.remove(U),H.delete(U)):U.physicsType===a.STATIC_BODY&&(j.remove(U),$.delete(U)),U.world=void 0,U.gameObject=void 0;Z.clear()}},updateMotion:function(I,U){I.allowRotation&&this.computeAngularVelocity(I,U),this.computeVelocity(I,U)},computeAngularVelocity:function(I,U){var G=I.angularVelocity,Y=I.angularAcceleration,H=I.angularDrag,$=I.maxAngular;Y?G+=Y*U:I.allowDrag&&H&&(H*=U,m(G-H,0,.1)?G-=H:x(G+H,0,.1)?G+=H:G=0),G=f(G,-$,$);var K=G-I.angularVelocity;I.angularVelocity+=K,I.rotation+=I.angularVelocity*U},computeVelocity:function(I,U){var G=I.velocity.x,Y=I.acceleration.x,H=I.drag.x,$=I.maxVelocity.x,K=I.velocity.y,Z=I.acceleration.y,J=I.drag.y,j=I.maxVelocity.y,Q=I.speed,_=I.maxSpeed,it=I.allowDrag,q=I.useDamping;I.allowGravity&&(G+=(this.gravity.x+I.gravity.x)*U,K+=(this.gravity.y+I.gravity.y)*U),Y?G+=Y*U:it&&H&&(q?(H=Math.pow(H,U),G*=H,Q=Math.sqrt(G*G+K*K),p(Q,0,.001)&&(G=0)):(H*=U,m(G-H,0,.01)?G-=H:x(G+H,0,.01)?G+=H:G=0)),Z?K+=Z*U:it&&J&&(q?(J=Math.pow(J,U),K*=J,Q=Math.sqrt(G*G+K*K),p(Q,0,.001)&&(K=0)):(J*=U,m(K-J,0,.01)?K-=J:x(K+J,0,.01)?K+=J:K=0)),G=f(G,-$,$),K=f(K,-j,j),I.velocity.set(G,K),_>-1&&I.velocity.length()>_&&(I.velocity.normalize().scale(_),Q=_),I.speed=Q},separate:function(I,U,G,Y,H){var $,K,Z=!1,J=!0;if(!I.enable||!U.enable||I.checkCollision.none||U.checkCollision.none||!this.intersects(I,U)||!(I.collisionMask&U.collisionCategory)||!(U.collisionMask&I.collisionCategory)||G&&G.call(Y,I.gameObject||I,U.gameObject||U)===!1)return Z;if(I.isCircle||U.isCircle){var j=this.separateCircle(I,U,H);j.result?(Z=!0,J=!1):($=j.x,K=j.y,J=!0)}if(J){var Q=!1,_=!1,it=this.OVERLAP_BIAS;H?(Q=F(I,U,H,it,$),_=D(I,U,H,it,K)):this.forceX||Math.abs(this.gravity.y+I.gravity.y)<Math.abs(this.gravity.x+I.gravity.x)?(Q=F(I,U,H,it,$),this.intersects(I,U)&&(_=D(I,U,H,it,K))):(_=D(I,U,H,it,K),this.intersects(I,U)&&(Q=F(I,U,H,it,$))),Z=Q||_}return Z&&(H?(I.onOverlap||U.onOverlap)&&this.emit(c.OVERLAP,I.gameObject,U.gameObject,I,U):(I.onCollide||U.onCollide)&&this.emit(c.COLLIDE,I.gameObject,U.gameObject,I,U)),Z},separateCircle:function(I,U,G){T(I,U,!1,0),P(I,U,!1,0);var Y=I.isCircle,H=U.isCircle,$=I.center,K=U.center,Z=I.immovable,J=U.immovable,j=I.velocity,Q=U.velocity,_=0,it=!0;if(Y!==H){it=!1;var q=$.x,ht=$.y,lt=I.halfWidth,ut=U.position.x,tt=U.position.y,at=U.right,ot=U.bottom;H&&(q=K.x,ht=K.y,lt=U.halfWidth,ut=I.position.x,tt=I.position.y,at=I.right,ot=I.bottom),ht<tt?q<ut?_=d(q,ht,ut,tt)-lt:q>at&&(_=d(q,ht,at,tt)-lt):ht>ot&&(q<ut?_=d(q,ht,ut,ot)-lt:q>at&&(_=d(q,ht,at,ot)-lt)),_*=-1}else _=I.halfWidth+U.halfWidth-v($,K);I.overlapR=_,U.overlapR=_;var pt=o($,K),Pt=(_+w.EPSILON)*Math.cos(pt),kt=(_+w.EPSILON)*Math.sin(pt),Ct={overlap:_,result:!1,x:Pt,y:kt};if(G&&(!it||it&&_!==0))return Ct.result=!0,Ct;if(!it&&_===0||Z&&J||I.customSeparateX||U.customSeparateX)return Ct.x=void 0,Ct.y=void 0,Ct;var Et=!I.pushable&&!U.pushable;if(it){var Ht=$.x-K.x,ye=$.y-K.y,Gt=Math.sqrt(Math.pow(Ht,2)+Math.pow(ye,2)),$t=(K.x-$.x)/Gt||0,se=(K.y-$.y)/Gt||0,We=2*(j.x*$t+j.y*se-Q.x*$t-Q.y*se)/(I.mass+U.mass);(Z||J||!I.pushable||!U.pushable)&&(We*=2),!Z&&I.pushable&&(j.x=j.x-We/I.mass*$t,j.y=j.y-We/I.mass*se,j.multiply(I.bounce)),!J&&U.pushable&&(Q.x=Q.x+We/U.mass*$t,Q.y=Q.y+We/U.mass*se,Q.multiply(U.bounce)),!Z&&!J&&(Pt*=.5,kt*=.5),(!Z||I.pushable||Et)&&(I.x-=Pt,I.y-=kt,I.updateCenter()),(!J||U.pushable||Et)&&(U.x+=Pt,U.y+=kt,U.updateCenter()),Ct.result=!0}else!Z&&(I.pushable||Et)&&(I.x-=Pt,I.y-=kt,I.updateCenter()),!J&&(U.pushable||Et)&&(U.x+=Pt,U.y+=kt,U.updateCenter()),Ct.x=void 0,Ct.y=void 0;return Ct},intersects:function(I,U){return I===U?!1:!I.isCircle&&!U.isCircle?!(I.right<=U.left||I.bottom<=U.top||I.left>=U.right||I.top>=U.bottom):I.isCircle?U.isCircle?v(I.center,U.center)<=I.halfWidth+U.halfWidth:this.circleBodyIntersects(I,U):this.circleBodyIntersects(U,I)},circleBodyIntersects:function(I,U){var G=f(I.center.x,U.left,U.right),Y=f(I.center.y,U.top,U.bottom),H=(I.center.x-G)*(I.center.x-G),$=(I.center.y-Y)*(I.center.y-Y);return H+$<=I.halfWidth*I.halfWidth},overlap:function(I,U,G,Y,H){return G===void 0&&(G=null),Y===void 0&&(Y=null),H===void 0&&(H=G),this.collideObjects(I,U,G,Y,H,!0)},collide:function(I,U,G,Y,H){return G===void 0&&(G=null),Y===void 0&&(Y=null),H===void 0&&(H=G),this.collideObjects(I,U,G,Y,H,!1)},collideObjects:function(I,U,G,Y,H,$){var K,Z;I.isParent&&(I.physicsType===void 0||U===void 0||I===U)&&(I=I.children.entries),U&&U.isParent&&U.physicsType===void 0&&(U=U.children.entries);var J=Array.isArray(I),j=Array.isArray(U);if(this._total=0,!J&&!j)this.collideHandler(I,U,G,Y,H,$);else if(!J&&j)for(K=0;K<U.length;K++)this.collideHandler(I,U[K],G,Y,H,$);else if(J&&!j)if(U)for(K=0;K<I.length;K++)this.collideHandler(I[K],U,G,Y,H,$);else for(K=0;K<I.length;K++){var Q=I[K];for(Z=K+1;Z<I.length;Z++)K!==Z&&this.collideHandler(Q,I[Z],G,Y,H,$)}else for(K=0;K<I.length;K++)for(Z=0;Z<U.length;Z++)this.collideHandler(I[K],U[Z],G,Y,H,$);return this._total>0},collideHandler:function(I,U,G,Y,H,$){if(U===void 0&&I.isParent)return this.collideGroupVsGroup(I,I,G,Y,H,$);if(!I||!U)return!1;if(I.body||I.isBody){if(U.body||U.isBody)return this.collideSpriteVsSprite(I,U,G,Y,H,$);if(U.isParent)return this.collideSpriteVsGroup(I,U,G,Y,H,$);if(U.isTilemap)return this.collideSpriteVsTilemapLayer(I,U,G,Y,H,$)}else if(I.isParent){if(U.body||U.isBody)return this.collideSpriteVsGroup(U,I,G,Y,H,$);if(U.isParent)return this.collideGroupVsGroup(I,U,G,Y,H,$);if(U.isTilemap)return this.collideGroupVsTilemapLayer(I,U,G,Y,H,$)}else if(I.isTilemap){if(U.body||U.isBody)return this.collideSpriteVsTilemapLayer(U,I,G,Y,H,$);if(U.isParent)return this.collideGroupVsTilemapLayer(U,I,G,Y,H,$)}},canCollide:function(I,U){return I&&U&&(I.collisionMask&U.collisionCategory)!==0&&(U.collisionMask&I.collisionCategory)!==0},collideSpriteVsSprite:function(I,U,G,Y,H,$){var K=I.isBody?I:I.body,Z=U.isBody?U:U.body;return this.canCollide(K,Z)?(this.separate(K,Z,Y,H,$)&&(G&&G.call(H,I,U),this._total++),!0):!1},collideSpriteVsGroup:function(I,U,G,Y,H,$){var K=I.isBody?I:I.body;if(!(U.getLength()===0||!K||!K.enable||K.checkCollision.none||!this.canCollide(K,U))){var Z,J,j;if(this.useTree||U.physicsType===a.STATIC_BODY){var Q=this.treeMinMax;Q.minX=K.left,Q.minY=K.top,Q.maxX=K.right,Q.maxY=K.bottom;var _=U.physicsType===a.DYNAMIC_BODY?this.tree.search(Q):this.staticTree.search(Q);for(J=_.length,Z=0;Z<J;Z++)j=_[Z],!(K===j||!j.enable||j.checkCollision.none||!U.contains(j.gameObject))&&this.separate(K,j,Y,H,$)&&(G&&G.call(H,K.gameObject,j.gameObject),this._total++)}else{var it=U.getChildren(),q=U.children.entries.indexOf(I);for(J=it.length,Z=0;Z<J;Z++)j=it[Z].body,!(!j||Z===q||!j.enable)&&this.separate(K,j,Y,H,$)&&(G&&G.call(H,K.gameObject,j.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(I,U,G,Y,H,$){if(!this.canCollide(I,U))return!1;var K=I.getChildren();if(K.length===0)return!1;for(var Z=!1,J=0;J<K.length;J++)(K[J].body||K[J].isBody)&&this.collideSpriteVsTilemapLayer(K[J],U,G,Y,H,$)&&(Z=!0);return Z},collideTiles:function(I,U,G,Y,H){return U.length===0||I.body&&!I.body.enable||I.isBody&&!I.enable?!1:this.collideSpriteVsTilesHandler(I,U,G,Y,H,!1,!1)},overlapTiles:function(I,U,G,Y,H){return U.length===0||I.body&&!I.body.enable||I.isBody&&!I.enable?!1:this.collideSpriteVsTilesHandler(I,U,G,Y,H,!0,!1)},collideSpriteVsTilemapLayer:function(I,U,G,Y,H,$){var K=I.isBody?I:I.body;if(!K.enable||K.checkCollision.none||!this.canCollide(K,U))return!1;var Z=U.layer,J=K.x-Z.tileWidth*U.scaleX,j=K.y-Z.tileHeight*U.scaleY,Q=K.width+Z.tileWidth*U.scaleX,_=K.height+Z.tileHeight*U.scaleY,it=$?null:this.tileFilterOptions,q=M(J,j,Q,_,it,U.scene.cameras.main,U.layer);return q.length===0?!1:this.collideSpriteVsTilesHandler(I,q,G,Y,H,$,!0)},collideSpriteVsTilesHandler:function(I,U,G,Y,H,$,K){for(var Z=I.isBody?I:I.body,J,j={left:0,right:0,top:0,bottom:0},Q,_=!1,it=0;it<U.length;it++){J=U[it],Q=J.tilemapLayer;var q=Q.tileToWorldXY(J.x,J.y);j.left=q.x,j.top=q.y,j.right=j.left+J.width*Q.scaleX,j.bottom=j.top+J.height*Q.scaleY,z(j,Z)&&(!Y||Y.call(H,I,J))&&A(J,I)&&($||O(it,Z,J,j,Q,this.TILE_BIAS,K))&&(this._total++,_=!0,G&&G.call(H,I,J),$&&Z.onOverlap?this.emit(c.TILE_OVERLAP,I,J,Z):Z.onCollide&&this.emit(c.TILE_COLLIDE,I,J,Z))}return _},collideGroupVsGroup:function(I,U,G,Y,H,$){if(!(I.getLength()===0||U.getLength()===0||!this.canCollide(I,U)))for(var K=I.getChildren(),Z=0;Z<K.length;Z++)this.collideSpriteVsGroup(K[Z],U,G,Y,H,$)},wrap:function(I,U){I.body?this.wrapObject(I,U):I.getChildren?this.wrapArray(I.getChildren(),U):Array.isArray(I)?this.wrapArray(I,U):this.wrapObject(I,U)},wrapArray:function(I,U){for(var G=0;G<I.length;G++)this.wrapObject(I[G],U)},wrapObject:function(I,U){U===void 0&&(U=0),I.x=k(I.x,this.bounds.left-U,this.bounds.right+U),I.y=k(I.y,this.bounds.top-U,this.bounds.bottom+U)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});n.exports=V},1093:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setAcceleration:function(s,o){return this.body.acceleration.set(s,o),this},setAccelerationX:function(s){return this.body.acceleration.x=s,this},setAccelerationY:function(s){return this.body.acceleration.y=s,this}};n.exports=C},59023:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setAngularVelocity:function(s){return this.body.angularVelocity=s,this},setAngularAcceleration:function(s){return this.body.angularAcceleration=s,this},setAngularDrag:function(s){return this.body.angularDrag=s,this}};n.exports=C},62069:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setBounce:function(s,o){return this.body.bounce.set(s,o),this},setBounceX:function(s){return this.body.bounce.x=s,this},setBounceY:function(s){return this.body.bounce.y=s,this},setCollideWorldBounds:function(s,o,y,f){return this.body.setCollideWorldBounds(s,o,y,f),this}};n.exports=C},78389:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(79599),y={setCollisionCategory:function(f){var u=this.body?this.body:this;return u.collisionCategory=f,this},willCollideWith:function(f){var u=this.body?this.body:this;return(u.collisionMask&f)!==0},addCollidesWith:function(f){var u=this.body?this.body:this;return u.collisionMask=u.collisionMask|f,this},removeCollidesWith:function(f){var u=this.body?this.body:this;return u.collisionMask=u.collisionMask&~f,this},setCollidesWith:function(f){var u=this.body?this.body:this;return u.collisionMask=o(f),this},resetCollisionCategory:function(){var f=this.body?this.body:this;return f.collisionCategory=1,f.collisionMask=2147483647,this}};n.exports=y},87118:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setDebug:function(s,o,y){return this.debugShowBody=s,this.debugShowVelocity=o,this.debugBodyColor=y,this},setDebugBodyColor:function(s){return this.body.debugBodyColor=s,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(s){this.body.debugShowBody=s}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(s){this.body.debugShowVelocity=s}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(s){this.body.debugBodyColor=s}}};n.exports=C},52819:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setDrag:function(s,o){return this.body.drag.set(s,o),this},setDragX:function(s){return this.body.drag.x=s,this},setDragY:function(s){return this.body.drag.y=s,this},setDamping:function(s){return this.body.useDamping=s,this}};n.exports=C},4074:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setDirectControl:function(s){return this.body.setDirectControl(s),this},enableBody:function(s,o,y,f,u){return s&&this.body.reset(o,y),f&&(this.body.gameObject.active=!0),u&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(s,o){return s===void 0&&(s=!1),o===void 0&&(o=!1),this.body.stop(),this.body.enable=!1,s&&(this.body.gameObject.active=!1),o&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};n.exports=C},40831:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setFriction:function(s,o){return this.body.friction.set(s,o),this},setFrictionX:function(s){return this.body.friction.x=s,this},setFrictionY:function(s){return this.body.friction.y=s,this}};n.exports=C},26775:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setGravity:function(s,o){return this.body.gravity.set(s,o),this},setGravityX:function(s){return this.body.gravity.x=s,this},setGravityY:function(s){return this.body.gravity.y=s,this}};n.exports=C},9437:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setImmovable:function(s){return s===void 0&&(s=!0),this.body.immovable=s,this}};n.exports=C},30621:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setMass:function(s){return this.body.mass=s,this}};n.exports=C},72441:(n,C,s)=>{var o=s(47956),y=s(96503),f=s(2044),u=s(81491),l=function(a,d,v,h,c,p){var m=o(a,d-h,v-h,2*h,2*h,c,p);if(m.length===0)return m;for(var x=new y(d,v,h),T=new y,P=[],M=0;M<m.length;M++){var E=m[M];E.isCircle?(T.setTo(E.center.x,E.center.y,E.halfWidth),f(x,T)&&P.push(E)):u(x,E)&&P.push(E)}return P};n.exports=l},47956:n=>{var C=function(s,o,y,f,u,l,a){l===void 0&&(l=!0),a===void 0&&(a=!1);var d=[],v=[],h=s.treeMinMax;if(h.minX=o,h.minY=y,h.maxX=o+f,h.maxY=y+u,a&&(v=s.staticTree.search(h)),l&&s.useTree)d=s.tree.search(h);else if(l){var c=s.bodies,p={position:{x:o,y},left:o,top:y,right:o+f,bottom:y+u,isCircle:!1},m=s.intersects;c.iterate(function(x){m(x,p)&&d.push(x)})}return v.concat(d)};n.exports=C},62121:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setPushable:function(s){return s===void 0&&(s=!0),this.body.pushable=s,this}};n.exports=C},29384:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setOffset:function(s,o){return this.body.setOffset(s,o),this},setSize:function(s,o,y){return this.body.setSize(s,o,y),this},setBodySize:function(s,o,y){return this.body.setSize(s,o,y),this},setCircle:function(s,o,y){return this.body.setCircle(s,o,y),this}};n.exports=C},15098:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setVelocity:function(s,o){return this.body.setVelocity(s,o),this},setVelocityX:function(s){return this.body.setVelocityX(s),this},setVelocityY:function(s){return this.body.setVelocityY(s),this},setMaxVelocity:function(s,o){return this.body.maxVelocity.set(s,o),this}};n.exports=C},92209:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Acceleration:s(1093),Angular:s(59023),Bounce:s(62069),Collision:s(78389),Debug:s(87118),Drag:s(52819),Enable:s(4074),Friction:s(40831),Gravity:s(26775),Immovable:s(9437),Mass:s(30621),OverlapCirc:s(72441),OverlapRect:s(47956),Pushable:s(62121),Size:s(29384),Velocity:s(15098)}},37747:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};n.exports=C},20009:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collide"},36768:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="overlap"},60473:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},89954:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},61804:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="tilecollide"},7161:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="tileoverlap"},34689:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="worldbounds"},16006:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="worldstep"},63012:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COLLIDE:s(20009),OVERLAP:s(36768),PAUSE:s(60473),RESUME:s(89954),TILE_COLLIDE:s(61804),TILE_OVERLAP:s(7161),WORLD_BOUNDS:s(34689),WORLD_STEP:s(16006)}},27064:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37747),y=s(79291),f={ArcadePhysics:s(86689),Body:s(37742),Collider:s(79342),Components:s(92209),Events:s(63012),Factory:s(66022),GetCollidesWith:s(79599),GetOverlapX:s(64897),GetOverlapY:s(45170),SeparateX:s(14087),SeparateY:s(89936),Group:s(60758),Image:s(71289),Sprite:s(13759),StaticBody:s(72624),StaticGroup:s(71464),Tilemap:s(55173),World:s(82248)};f=y(!1,f,o),n.exports=f},96602:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return s.collisionCallback?!s.collisionCallback.call(s.collisionCallbackContext,o,s):s.layer.callbacks[s.index]?!s.layer.callbacks[s.index].callback.call(s.layer.callbacks[s.index].callbackContext,o,s):!0};n.exports=C},36294:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){o<0?(s.blocked.none=!1,s.blocked.left=!0):o>0&&(s.blocked.none=!1,s.blocked.right=!0),s.position.x-=o,s.updateCenter(),s.bounce.x===0?s.velocity.x=0:s.velocity.x=-s.velocity.x*s.bounce.x};n.exports=C},67013:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){o<0?(s.blocked.none=!1,s.blocked.up=!0):o>0&&(s.blocked.none=!1,s.blocked.down=!0),s.position.y-=o,s.updateCenter(),s.bounce.y===0?s.velocity.y=0:s.velocity.y=-s.velocity.y*s.bounce.y};n.exports=C},40012:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(21329),y=s(53442),f=s(2483),u=function(l,a,d,v,h,c,p){var m=v.left,x=v.top,T=v.right,P=v.bottom,M=d.faceLeft||d.faceRight,E=d.faceTop||d.faceBottom;if(p||(M=!0,E=!0),!M&&!E)return!1;var w=0,R=0,A=0,L=1;if(a.deltaAbsX()>a.deltaAbsY()?A=-1:a.deltaAbsX()<a.deltaAbsY()&&(L=-1),a.deltaX()!==0&&a.deltaY()!==0&&M&&E&&(A=Math.min(Math.abs(a.position.x-T),Math.abs(a.right-m)),L=Math.min(Math.abs(a.position.y-P),Math.abs(a.bottom-x))),A<L){if(M&&(w=o(a,d,m,T,c,p),w!==0&&!f(v,a)))return!0;E&&(R=y(a,d,x,P,c,p))}else{if(E&&(R=y(a,d,x,P,c,p),R!==0&&!f(v,a)))return!0;M&&(w=o(a,d,m,T,c,p))}return w!==0||R!==0};n.exports=u},21329:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36294),y=function(f,u,l,a,d,v){var h=0,c=u.faceLeft,p=u.faceRight,m=u.collideLeft,x=u.collideRight;return v||(c=!0,p=!0,m=!0,x=!0),f.deltaX()<0&&x&&f.checkCollision.left?p&&f.x<a&&(h=f.x-a,h<-d&&(h=0)):f.deltaX()>0&&m&&f.checkCollision.right&&c&&f.right>l&&(h=f.right-l,h>d&&(h=0)),h!==0&&(f.customSeparateX?f.overlapX=h:o(f,h)),h};n.exports=y},53442:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(67013),y=function(f,u,l,a,d,v){var h=0,c=u.faceTop,p=u.faceBottom,m=u.collideUp,x=u.collideDown;return v||(c=!0,p=!0,m=!0,x=!0),f.deltaY()<0&&x&&f.checkCollision.up?p&&f.y<a&&(h=f.y-a,h<-d&&(h=0)):f.deltaY()>0&&m&&f.checkCollision.down&&c&&f.bottom>l&&(h=f.bottom-l,h>d&&(h=0)),h!==0&&(f.customSeparateY?f.overlapY=h:o(f,h)),h};n.exports=y},2483:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return!(o.right<=s.left||o.bottom<=s.top||o.position.x>=s.right||o.position.y>=s.bottom)};n.exports=C},55173:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={ProcessTileCallbacks:s(96602),ProcessTileSeparationX:s(36294),ProcessTileSeparationY:s(67013),SeparateTile:s(40012),TileCheckX:s(21329),TileCheckY:s(53442),TileIntersectsBody:s(2483)};n.exports=o},44563:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Arcade:s(27064),Matter:s(3875)}},68174:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(26099),f=new o({initialize:function(){this.boundsCenter=new y,this.centerDiff=new y},parseBody:function(u){if(u=u.hasOwnProperty("body")?u.body:u,!u.hasOwnProperty("bounds")||!u.hasOwnProperty("centerOfMass"))return!1;var l=this.boundsCenter,a=this.centerDiff,d=u.bounds.max.x-u.bounds.min.x,v=u.bounds.max.y-u.bounds.min.y,h=d*u.centerOfMass.x,c=v*u.centerOfMass.y;return l.set(d/2,v/2),a.set(h-l.x,c-l.y),!0},getTopLeft:function(u,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(u)){var d=this.boundsCenter,v=this.centerDiff;return new y(l+d.x+v.x,a+d.y+v.y)}return!1},getTopCenter:function(u,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(u)){var d=this.boundsCenter,v=this.centerDiff;return new y(l+v.x,a+d.y+v.y)}return!1},getTopRight:function(u,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(u)){var d=this.boundsCenter,v=this.centerDiff;return new y(l-(d.x-v.x),a+d.y+v.y)}return!1},getLeftCenter:function(u,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(u)){var d=this.boundsCenter,v=this.centerDiff;return new y(l+d.x+v.x,a+v.y)}return!1},getCenter:function(u,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(u)){var d=this.centerDiff;return new y(l+d.x,a+d.y)}return!1},getRightCenter:function(u,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(u)){var d=this.boundsCenter,v=this.centerDiff;return new y(l-(d.x-v.x),a+v.y)}return!1},getBottomLeft:function(u,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(u)){var d=this.boundsCenter,v=this.centerDiff;return new y(l+d.x+v.x,a-(d.y-v.y))}return!1},getBottomCenter:function(u,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(u)){var d=this.boundsCenter,v=this.centerDiff;return new y(l+v.x,a-(d.y-v.y))}return!1},getBottomRight:function(u,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(u)){var d=this.boundsCenter,v=this.centerDiff;return new y(l-(d.x-v.x),a-(d.y-v.y))}return!1}});n.exports=f},19933:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(6790);o.Body=s(22562),o.Composite=s(69351),o.World=s(4372),o.Collision=s(52284),o.Detector=s(81388),o.Pairs=s(99561),o.Pair=s(4506),o.Query=s(73296),o.Resolver=s(66272),o.Constraint=s(48140),o.Common=s(53402),o.Engine=s(48413),o.Events=s(35810),o.Sleeping=s(53614),o.Plugin=s(73832),o.Bodies=s(66280),o.Composites=s(74116),o.Axes=s(66615),o.Bounds=s(15647),o.Svg=s(74058),o.Vector=s(31725),o.Vertices=s(41598),o.World.add=o.Composite.add,o.World.remove=o.Composite.remove,o.World.addComposite=o.Composite.addComposite,o.World.addBody=o.Composite.addBody,o.World.addConstraint=o.Composite.addConstraint,o.World.clear=o.Composite.clear,n.exports=o},28137:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66280),y=s(83419),f=s(74116),u=s(48140),l=s(74058),a=s(75803),d=s(23181),v=s(34803),h=s(73834),c=s(19496),p=s(85791),m=s(98713),x=s(41598),T=new y({initialize:function(M){this.world=M,this.scene=M.scene,this.sys=M.scene.sys},rectangle:function(P,M,E,w,R){var A=o.rectangle(P,M,E,w,R);return this.world.add(A),A},trapezoid:function(P,M,E,w,R,A){var L=o.trapezoid(P,M,E,w,R,A);return this.world.add(L),L},circle:function(P,M,E,w,R){var A=o.circle(P,M,E,w,R);return this.world.add(A),A},polygon:function(P,M,E,w,R){var A=o.polygon(P,M,E,w,R);return this.world.add(A),A},fromVertices:function(P,M,E,w,R,A,L){typeof E=="string"&&(E=x.fromPath(E));var b=o.fromVertices(P,M,E,w,R,A,L);return this.world.add(b),b},fromPhysicsEditor:function(P,M,E,w,R){R===void 0&&(R=!0);var A=c.parseBody(P,M,E,w);return R&&!this.world.has(A)&&this.world.add(A),A},fromSVG:function(P,M,E,w,R,A){w===void 0&&(w=1),R===void 0&&(R={}),A===void 0&&(A=!0);for(var L=E.getElementsByTagName("path"),b=[],O=0;O<L.length;O++){var F=l.pathToVertices(L[O],30);w!==1&&x.scale(F,w,w),b.push(F)}var D=o.fromVertices(P,M,b,R);return A&&this.world.add(D),D},fromJSON:function(P,M,E,w,R){w===void 0&&(w={}),R===void 0&&(R=!0);var A=p.parseBody(P,M,E,w);return A&&R&&this.world.add(A),A},imageStack:function(P,M,E,w,R,A,L,b,O){L===void 0&&(L=0),b===void 0&&(b=0),O===void 0&&(O={});var F=this.world,D=this.sys.displayList;O.addToWorld=!1;var B=f.stack(E,w,R,A,L,b,function(N,z){var W=new d(F,N,z,P,M,O);return D.add(W),W.body});return F.add(B),B},stack:function(P,M,E,w,R,A,L){var b=f.stack(P,M,E,w,R,A,L);return this.world.add(b),b},pyramid:function(P,M,E,w,R,A,L){var b=f.pyramid(P,M,E,w,R,A,L);return this.world.add(b),b},chain:function(P,M,E,w,R,A){return f.chain(P,M,E,w,R,A)},mesh:function(P,M,E,w,R){return f.mesh(P,M,E,w,R)},newtonsCradle:function(P,M,E,w,R){var A=f.newtonsCradle(P,M,E,w,R);return this.world.add(A),A},car:function(P,M,E,w,R){var A=f.car(P,M,E,w,R);return this.world.add(A),A},softBody:function(P,M,E,w,R,A,L,b,O,F){var D=f.softBody(P,M,E,w,R,A,L,b,O,F);return this.world.add(D),D},joint:function(P,M,E,w,R){return this.constraint(P,M,E,w,R)},spring:function(P,M,E,w,R){return this.constraint(P,M,E,w,R)},constraint:function(P,M,E,w,R){w===void 0&&(w=1),R===void 0&&(R={}),R.bodyA=P.type==="body"?P:P.body,R.bodyB=M.type==="body"?M:M.body,isNaN(E)||(R.length=E),R.stiffness=w;var A=u.create(R);return this.world.add(A),A},worldConstraint:function(P,M,E,w){E===void 0&&(E=1),w===void 0&&(w={}),w.bodyB=P.type==="body"?P:P.body,isNaN(M)||(w.length=M),w.stiffness=E;var R=u.create(w);return this.world.add(R),R},mouseSpring:function(P){return this.pointerConstraint(P)},pointerConstraint:function(P){P===void 0&&(P={}),P.hasOwnProperty("render")||(P.render={visible:!1});var M=new m(this.scene,this.world,P);return this.world.add(M.constraint),M},image:function(P,M,E,w,R){var A=new d(this.world,P,M,E,w,R);return this.sys.displayList.add(A),A},tileBody:function(P,M){return new h(this.world,P,M)},sprite:function(P,M,E,w,R){var A=new v(this.world,P,M,E,w,R);return this.sys.displayList.add(A),this.sys.updateList.add(A),A},gameObject:function(P,M,E){return a(this.world,P,M,E)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});n.exports=T},75803:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(31884),y=s(95540),f=s(26099);function u(a){return!!a.get&&typeof a.get=="function"||!!a.set&&typeof a.set=="function"}var l=function(a,d,v,h){v===void 0&&(v={}),h===void 0&&(h=!0);var c=d.x,p=d.y;d.body={temp:!0,position:{x:c,y:p}};var m=[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity];if(m.forEach(function(T){for(var P in T)u(T[P])?Object.defineProperty(d,P,{get:T[P].get,set:T[P].set}):Object.defineProperty(d,P,{value:T[P]})}),d.world=a,d._tempVec2=new f(c,p),v.hasOwnProperty("type")&&v.type==="body")d.setExistingBody(v,h);else{var x=y(v,"shape",null);x||(x="rectangle"),v.addToWorld=h,d.setBody(x,v)}return d};n.exports=l},23181:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(31884),f=s(95643),u=s(95540),l=s(88571),a=s(72699),d=s(26099),v=new o({Extends:l,Mixins:[y.Bounce,y.Collision,y.Force,y.Friction,y.Gravity,y.Mass,y.Sensor,y.SetBody,y.Sleep,y.Static,y.Transform,y.Velocity,a],initialize:function(c,p,m,x,T,P){f.call(this,c.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(x,T),this.setSizeToFrame(),this.setOrigin(),this.world=c,this._tempVec2=new d(p,m);var M=u(P,"shape",null);M?this.setBody(M,P):this.setRectangle(this.width,this.height,P),this.setPosition(p,m),this.initPipeline(),this.initPostPipeline(!0)}});n.exports=v},42045:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(60461),y=s(66615),f=s(66280),u=s(22562),l=s(68174),a=s(15647),d=s(83419),v=s(52284),h=s(53402),c=s(69351),p=s(74116),m=s(48140),x=s(81388),T=s(20339),P=s(28137),M=s(95540),E=s(35154),w=s(46975),R=s(4506),A=s(99561),L=s(37277),b=s(73296),O=s(66272),F=s(44594),D=s(74058),B=s(31725),N=s(41598),z=s(68243);h.setDecomp(s(55973));var W=new d({initialize:function(k){this.scene=k,this.systems=k.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=u,this.composite=c,this.collision=v,this.detector=x,this.pair=R,this.pairs=A,this.query=b,this.resolver=O,this.constraint=m,this.bodies=f,this.composites=p,this.axes=y,this.bounds=a,this.svg=D,this.vector=B,this.vertices=N,this.verts=N,this._tempVec2=B.create(),O._restingThresh=E(this.config,"restingThresh",4),O._restingThreshTangent=E(this.config,"restingThreshTangent",6),O._positionDampen=E(this.config,"positionDampen",.9),O._positionWarming=E(this.config,"positionWarming",.8),O._frictionNormalMultiplier=E(this.config,"frictionNormalMultiplier",5),k.sys.events.once(F.BOOT,this.boot,this),k.sys.events.on(F.START,this.start,this)},boot:function(){this.world=new z(this.scene,this.config),this.add=new P(this.world),this.bodyBounds=new l,this.systems.events.once(F.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new z(this.scene,this.config),this.add=new P(this.world));var X=this.systems.events;X.on(F.UPDATE,this.world.update,this.world),X.on(F.POST_UPDATE,this.world.postUpdate,this.world),X.once(F.SHUTDOWN,this.shutdown,this)},getConfig:function(){var X=this.systems.game.config.physics,k=this.systems.settings.physics,V=w(M(k,"matter",{}),M(X,"matter",{}));return V},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(X,k){this.world.step(X,k)},containsPoint:function(X,k,V){X=this.getMatterBodies(X);var I=B.create(k,V),U=b.point(X,I);return U.length>0},intersectPoint:function(X,k,V){V=this.getMatterBodies(V);var I=B.create(X,k),U=[],G=b.point(V,I);return G.forEach(function(Y){U.indexOf(Y)===-1&&U.push(Y)}),U},intersectRect:function(X,k,V,I,U,G){U===void 0&&(U=!1),G=this.getMatterBodies(G);var Y={min:{x:X,y:k},max:{x:X+V,y:k+I}},H=[],$=b.region(G,Y,U);return $.forEach(function(K){H.indexOf(K)===-1&&H.push(K)}),H},intersectRay:function(X,k,V,I,U,G){U===void 0&&(U=1),G=this.getMatterBodies(G);for(var Y=[],H=b.ray(G,B.create(X,k),B.create(V,I),U),$=0;$<H.length;$++)Y.push(H[$].body);return Y},intersectBody:function(X,k){k=this.getMatterBodies(k);for(var V=[],I=b.collides(X,k),U=0;U<I.length;U++){var G=I[U];G.bodyA===X?V.push(G.bodyB):V.push(G.bodyA)}return V},overlap:function(X,k,V,I,U){V===void 0&&(V=null),I===void 0&&(I=null),U===void 0&&(U=V),Array.isArray(X)||(X=[X]),X=this.getMatterBodies(X),k=this.getMatterBodies(k);for(var G=!1,Y=0;Y<X.length;Y++)for(var H=X[Y],$=b.collides(H,k),K=0;K<$.length;K++){var Z=$[K],J=Z.bodyA.id===H.id?Z.bodyB:Z.bodyA;if(!I||I.call(U,H,J,Z)){if(G=!0,V)V.call(U,H,J,Z);else if(!I)return!0}}return G},setCollisionCategory:function(X,k){return X=this.getMatterBodies(X),X.forEach(function(V){V.collisionFilter.category=k}),this},setCollisionGroup:function(X,k){return X=this.getMatterBodies(X),X.forEach(function(V){V.collisionFilter.group=k}),this},setCollidesWith:function(X,k){X=this.getMatterBodies(X);var V=0;if(!Array.isArray(k))V=k;else for(var I=0;I<k.length;I++)V|=k[I];return X.forEach(function(U){U.collisionFilter.mask=V}),this},getMatterBodies:function(X){if(!X)return this.world.getAllBodies();Array.isArray(X)||(X=[X]);for(var k=[],V=0;V<X.length;V++){var I=X[V].hasOwnProperty("body")?X[V].body:X[V];k.push(I)}return k},setVelocity:function(X,k,V){X=this.getMatterBodies(X);var I=this._tempVec2;return I.x=k,I.y=V,X.forEach(function(U){u.setVelocity(U,I)}),this},setVelocityX:function(X,k){X=this.getMatterBodies(X);var V=this._tempVec2;return V.x=k,X.forEach(function(I){V.y=I.velocity.y,u.setVelocity(I,V)}),this},setVelocityY:function(X,k){X=this.getMatterBodies(X);var V=this._tempVec2;return V.y=k,X.forEach(function(I){V.x=I.velocity.x,u.setVelocity(I,V)}),this},setAngularVelocity:function(X,k){return X=this.getMatterBodies(X),X.forEach(function(V){u.setAngularVelocity(V,k)}),this},applyForce:function(X,k){X=this.getMatterBodies(X);var V=this._tempVec2;return X.forEach(function(I){V.x=I.position.x,V.y=I.position.y,u.applyForce(I,V,k)}),this},applyForceFromPosition:function(X,k,V,I){X=this.getMatterBodies(X);var U=this._tempVec2;return X.forEach(function(G){I===void 0&&(I=G.angle),U.x=V*Math.cos(I),U.y=V*Math.sin(I),u.applyForce(G,k,U)}),this},applyForceFromAngle:function(X,k,V){X=this.getMatterBodies(X);var I=this._tempVec2;return X.forEach(function(U){V===void 0&&(V=U.angle),I.x=k*Math.cos(V),I.y=k*Math.sin(V),u.applyForce(U,{x:U.position.x,y:U.position.y},I)}),this},getConstraintLength:function(X){var k=X.pointA.x,V=X.pointA.y,I=X.pointB.x,U=X.pointB.y;return X.bodyA&&(k+=X.bodyA.position.x,V+=X.bodyA.position.y),X.bodyB&&(I+=X.bodyB.position.x,U+=X.bodyB.position.y),T(k,V,I,U)},alignBody:function(X,k,V,I){X=X.hasOwnProperty("body")?X.body:X;var U;switch(I){case o.TOP_LEFT:case o.LEFT_TOP:U=this.bodyBounds.getTopLeft(X,k,V);break;case o.TOP_CENTER:U=this.bodyBounds.getTopCenter(X,k,V);break;case o.TOP_RIGHT:case o.RIGHT_TOP:U=this.bodyBounds.getTopRight(X,k,V);break;case o.LEFT_CENTER:U=this.bodyBounds.getLeftCenter(X,k,V);break;case o.CENTER:U=this.bodyBounds.getCenter(X,k,V);break;case o.RIGHT_CENTER:U=this.bodyBounds.getRightCenter(X,k,V);break;case o.LEFT_BOTTOM:case o.BOTTOM_LEFT:U=this.bodyBounds.getBottomLeft(X,k,V);break;case o.BOTTOM_CENTER:U=this.bodyBounds.getBottomCenter(X,k,V);break;case o.BOTTOM_RIGHT:case o.RIGHT_BOTTOM:U=this.bodyBounds.getBottomRight(X,k,V);break}return U&&u.setPosition(X,U),this},shutdown:function(){var X=this.systems.events;this.world&&(X.off(F.UPDATE,this.world.update,this.world),X.off(F.POST_UPDATE,this.world.postUpdate,this.world)),X.off(F.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(F.START,this.start,this),this.scene=null,this.systems=null}});L.register("MatterPhysics",W,"matterPhysics"),n.exports=W},34803:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(9674),y=s(83419),f=s(31884),u=s(95643),l=s(95540),a=s(72699),d=s(68287),v=s(26099),h=new y({Extends:d,Mixins:[f.Bounce,f.Collision,f.Force,f.Friction,f.Gravity,f.Mass,f.Sensor,f.SetBody,f.Sleep,f.Static,f.Transform,f.Velocity,a],initialize:function(p,m,x,T,P,M){u.call(this,p.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(T,P),this.setSizeToFrame(),this.setOrigin(),this.world=p,this._tempVec2=new v(m,x);var E=l(M,"shape",null);E?this.setBody(E,M):this.setRectangle(this.width,this.height,M),this.setPosition(m,x),this.initPipeline(),this.initPostPipeline(!0)}});n.exports=h},73834:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66280),y=s(22562),f=s(83419),u=s(31884),l=s(62644),a=s(50792),d=s(95540),v=s(97022),h=s(41598),c=new f({Extends:a,Mixins:[u.Bounce,u.Collision,u.Friction,u.Gravity,u.Mass,u.Sensor,u.Sleep,u.Static],initialize:function(m,x,T){a.call(this),this.tile=x,this.world=m,x.physics.matterBody&&x.physics.matterBody.destroy(),x.physics.matterBody=this;var P=d(T,"body",null),M=d(T,"addToWorld",!0);if(P)this.setBody(P,M);else{var E=x.getCollisionGroup(),w=d(E,"objects",[]);w.length>0?this.setFromTileCollision(T):this.setFromTileRectangle(T)}if(x.flipX||x.flipY){var R={x:x.getCenterX(),y:x.getCenterY()},A=x.flipX?-1:1,L=x.flipY?-1:1;y.scale(P,A,L,R)}},setFromTileRectangle:function(p){p===void 0&&(p={}),v(p,"isStatic")||(p.isStatic=!0),v(p,"addToWorld")||(p.addToWorld=!0);var m=this.tile.getBounds(),x=m.x+m.width/2,T=m.y+m.height/2,P=o.rectangle(x,T,m.width,m.height,p);return this.setBody(P,p.addToWorld),this},setFromTileCollision:function(p){p===void 0&&(p={}),v(p,"isStatic")||(p.isStatic=!0),v(p,"addToWorld")||(p.addToWorld=!0);for(var m=this.tile.tilemapLayer.scaleX,x=this.tile.tilemapLayer.scaleY,T=this.tile.getLeft(),P=this.tile.getTop(),M=this.tile.getCollisionGroup(),E=d(M,"objects",[]),w=[],R=0;R<E.length;R++){var A=E[R],L=T+A.x*m,b=P+A.y*x,O=A.width*m,F=A.height*x,D=null;if(A.rectangle)D=o.rectangle(L+O/2,b+F/2,O,F,p);else if(A.ellipse)D=o.circle(L+O/2,b+F/2,O/2,p);else if(A.polygon||A.polyline){var B=A.polygon?A.polygon:A.polyline,N=B.map(function(k){return{x:k.x*m,y:k.y*x}}),z=h.create(N),W=h.centre(z);L+=W.x,b+=W.y,D=o.fromVertices(L,b,z,p)}D&&w.push(D)}if(w.length===1)this.setBody(w[0],p.addToWorld);else if(w.length>1){var X=l(p);X.parts=w,this.setBody(y.create(X),X.addToWorld)}return this},setBody:function(p,m){return m===void 0&&(m=!0),this.body&&this.removeBody(),this.body=p,this.body.gameObject=this,m&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});n.exports=c},19496:(n,C,s)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66280),y=s(22562),f=s(53402),u=s(95540),l=s(41598),a={parseBody:function(d,v,h,c){c===void 0&&(c={});for(var p=u(h,"fixtures",[]),m=[],x=0;x<p.length;x++)for(var T=this.parseFixture(p[x]),P=0;P<T.length;P++)m.push(T[P]);var M=f.clone(h,!0);f.extend(M,c,!0),delete M.fixtures,delete M.type;var E=y.create(M);return y.setParts(E,m),y.setPosition(E,{x:d,y:v}),E},parseFixture:function(d){var v=f.extend({},!1,d);delete v.circle,delete v.vertices;var h;if(d.circle){var c=u(d.circle,"x"),p=u(d.circle,"y"),m=u(d.circle,"radius");h=[o.circle(c,p,m,v)]}else d.vertices&&(h=this.parseVertices(d.vertices,v));return h},parseVertices:function(d,v){v===void 0&&(v={});for(var h=[],c=0;c<d.length;c++)l.clockwiseSort(d[c]),h.push(y.create(f.extend({position:l.centre(d[c]),vertices:d[c]},v)));return o.flagCoincidentParts(h)}};n.exports=a},85791:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66280),y=s(22562),f={parseBody:function(u,l,a,d){d===void 0&&(d={});var v,h=a.vertices;if(h.length===1)d.vertices=h[0],v=y.create(d),o.flagCoincidentParts(v.parts);else{for(var c=[],p=0;p<h.length;p++){var m=y.create({vertices:h[p]});c.push(m)}o.flagCoincidentParts(c),d.parts=c,v=y.create(d)}return v.label=a.label,y.setPosition(v,{x:u,y:l}),v}};n.exports=f},98713:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(15647),y=s(83419),f=s(69351),u=s(48140),l=s(81388),a=s(1121),d=s(8214),v=s(46975),h=s(53614),c=s(26099),p=s(41598),m=new y({initialize:function(T,P,M){M===void 0&&(M={});var E={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=T,this.world=P,this.camera=null,this.pointer=null,this.active=!0,this.position=new c,this.body=null,this.part=null,this.constraint=u.create(v(M,E)),this.world.on(a.BEFORE_UPDATE,this.update,this),T.sys.input.on(d.POINTER_DOWN,this.onDown,this),T.sys.input.on(d.POINTER_UP,this.onUp,this)},onDown:function(x){this.pointer||(this.pointer=x,this.camera=x.camera)},onUp:function(x){x===this.pointer&&(this.pointer=null)},getBody:function(x){var T=this.position,P=this.constraint;this.camera.getWorldPoint(x.x,x.y,T);for(var M=f.allBodies(this.world.localWorld),E=0;E<M.length;E++){var w=M[E];if(!w.ignorePointer&&o.contains(w.bounds,T)&&l.canCollide(w.collisionFilter,P.collisionFilter)&&this.hitTestBody(w,T))return this.world.emit(a.DRAG_START,w,this.part,this),!0}return!1},hitTestBody:function(x,T){for(var P=this.constraint,M=x.parts.length,E=M>1?1:0,w=E;w<M;w++){var R=x.parts[w];if(p.contains(R.vertices,T))return P.pointA=T,P.pointB={x:T.x-x.position.x,y:T.y-x.position.y},P.bodyB=x,P.angleB=x.angle,h.set(x,!1),this.part=R,this.body=x,!0}return!1},update:function(){var x=this.pointer,T=this.body;if(!this.active||!x){T&&this.stopDrag();return}if(!x.isDown&&T){this.stopDrag();return}else if(x.isDown){if(!this.camera||!T&&!this.getBody(x))return;T=this.body;var P=this.position,M=this.constraint;this.camera.getWorldPoint(x.x,x.y,P),M.pointA.x=P.x,M.pointA.y=P.y,h.set(T,!1),this.world.emit(a.DRAG,T,this)}},stopDrag:function(){var x=this.body,T=this.constraint;T.bodyB=null,T.pointB=null,this.pointer=null,this.body=null,this.part=null,x&&this.world.emit(a.DRAG_END,x,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(a.BEFORE_UPDATE,this.update),this.scene.sys.input.off(d.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(d.POINTER_UP,this.onUp,this)}});n.exports=m},68243:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66280),y=s(22562),f=s(83419),u=s(53402),l=s(69351),a=s(48413),d=s(50792),v=s(1121),h=s(95540),c=s(35154),p=s(22562),m=s(35810),x=s(73834),T=s(4372),P=s(13037),M=s(31725),E=new f({Extends:d,initialize:function(R,A){d.call(this),this.scene=R,this.engine=a.create(A),this.localWorld=this.engine.world;var L=c(A,"gravity",null);L?this.setGravity(L.x,L.y,L.scale):L===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=c(A,"enabled",!0),this.getDelta=c(A,"getDelta",this.update60Hz);var b=h(A,"runner",{}),O=h(b,"fps",!1);O&&(b.delta=1e3/h(b,"fps",60)),this.runner=P.create(b),this.autoUpdate=c(A,"autoUpdate",!0);var F=c(A,"debug",!1);if(this.drawDebug=typeof F=="object"?!0:F,this.debugGraphic,this.debugConfig={showAxes:h(F,"showAxes",!1),showAngleIndicator:h(F,"showAngleIndicator",!1),angleColor:h(F,"angleColor",15208787),showBroadphase:h(F,"showBroadphase",!1),broadphaseColor:h(F,"broadphaseColor",16757760),showBounds:h(F,"showBounds",!1),boundsColor:h(F,"boundsColor",16777215),showVelocity:h(F,"showVelocity",!1),velocityColor:h(F,"velocityColor",44783),showCollisions:h(F,"showCollisions",!1),collisionColor:h(F,"collisionColor",16094476),showSeparations:h(F,"showSeparations",!1),separationColor:h(F,"separationColor",16753920),showBody:h(F,"showBody",!0),showStaticBody:h(F,"showStaticBody",!0),showInternalEdges:h(F,"showInternalEdges",!1),renderFill:h(F,"renderFill",!1),renderLine:h(F,"renderLine",!0),fillColor:h(F,"fillColor",1075465),fillOpacity:h(F,"fillOpacity",1),lineColor:h(F,"lineColor",2678297),lineOpacity:h(F,"lineOpacity",1),lineThickness:h(F,"lineThickness",1),staticFillColor:h(F,"staticFillColor",857979),staticLineColor:h(F,"staticLineColor",1255396),showSleeping:h(F,"showSleeping",!1),staticBodySleepOpacity:h(F,"staticBodySleepOpacity",.7),sleepFillColor:h(F,"sleepFillColor",4605510),sleepLineColor:h(F,"sleepLineColor",10066585),showSensors:h(F,"showSensors",!0),sensorFillColor:h(F,"sensorFillColor",857979),sensorLineColor:h(F,"sensorLineColor",1255396),showPositions:h(F,"showPositions",!0),positionSize:h(F,"positionSize",4),positionColor:h(F,"positionColor",14697178),showJoint:h(F,"showJoint",!0),jointColor:h(F,"jointColor",14737474),jointLineOpacity:h(F,"jointLineOpacity",1),jointLineThickness:h(F,"jointLineThickness",2),pinSize:h(F,"pinSize",4),pinColor:h(F,"pinColor",4382944),springColor:h(F,"springColor",14697184),anchorColor:h(F,"anchorColor",15724527),anchorSize:h(F,"anchorSize",4),showConvexHulls:h(F,"showConvexHulls",!1),hullColor:h(F,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),h(A,"setBounds",!1)){var D=A.setBounds;if(typeof D=="boolean")this.setBounds();else{var B=h(D,"x",0),N=h(D,"y",0),z=h(D,"width",R.sys.scale.width),W=h(D,"height",R.sys.scale.height),X=h(D,"thickness",64),k=h(D,"left",!0),V=h(D,"right",!0),I=h(D,"top",!0),U=h(D,"bottom",!0);this.setBounds(B,N,z,W,X,k,V,I,U)}}},setCompositeRenderStyle:function(w){var R=w.bodies,A=w.constraints,L=w.composites,b,O,F;for(b=0;b<R.length;b++)O=R[b],F=O.render,this.setBodyRenderStyle(O,F.lineColor,F.lineOpacity,F.lineThickness,F.fillColor,F.fillOpacity);for(b=0;b<A.length;b++)O=A[b],F=O.render,this.setConstraintRenderStyle(O,F.lineColor,F.lineOpacity,F.lineThickness,F.pinSize,F.anchorColor,F.anchorSize);for(b=0;b<L.length;b++)O=L[b],this.setCompositeRenderStyle(O);return this},setBodyRenderStyle:function(w,R,A,L,b,O){var F=w.render,D=this.debugConfig;return F?(R==null&&(R=w.isStatic?D.staticLineColor:D.lineColor),A==null&&(A=D.lineOpacity),L==null&&(L=D.lineThickness),b==null&&(b=w.isStatic?D.staticFillColor:D.fillColor),O==null&&(O=D.fillOpacity),R!==!1&&(F.lineColor=R),A!==!1&&(F.lineOpacity=A),L!==!1&&(F.lineThickness=L),b!==!1&&(F.fillColor=b),O!==!1&&(F.fillOpacity=O),this):this},setConstraintRenderStyle:function(w,R,A,L,b,O,F){var D=w.render,B=this.debugConfig;if(!D)return this;if(R==null){var N=D.type;N==="line"?R=B.jointColor:N==="pin"?R=B.pinColor:N==="spring"&&(R=B.springColor)}return A==null&&(A=B.jointLineOpacity),L==null&&(L=B.jointLineThickness),b==null&&(b=B.pinSize),O==null&&(O=B.anchorColor),F==null&&(F=B.anchorSize),R!==!1&&(D.lineColor=R),A!==!1&&(D.lineOpacity=A),L!==!1&&(D.lineThickness=L),b!==!1&&(D.pinSize=b),O!==!1&&(D.anchorColor=O),F!==!1&&(D.anchorSize=F),this},setEventsProxy:function(){var w=this,R=this.engine,A=this.localWorld;this.drawDebug&&(m.on(A,"compositeModified",function(L){w.setCompositeRenderStyle(L)}),m.on(A,"beforeAdd",function(L){for(var b=[].concat(L.object),O=0;O<b.length;O++){var F=b[O],D=F.render;F.type==="body"?w.setBodyRenderStyle(F,D.lineColor,D.lineOpacity,D.lineThickness,D.fillColor,D.fillOpacity):F.type==="composite"?w.setCompositeRenderStyle(F):F.type==="constraint"&&w.setConstraintRenderStyle(F,D.lineColor,D.lineOpacity,D.lineThickness,D.pinSize,D.anchorColor,D.anchorSize)}})),m.on(A,"beforeAdd",function(L){w.emit(v.BEFORE_ADD,L)}),m.on(A,"afterAdd",function(L){w.emit(v.AFTER_ADD,L)}),m.on(A,"beforeRemove",function(L){w.emit(v.BEFORE_REMOVE,L)}),m.on(A,"afterRemove",function(L){w.emit(v.AFTER_REMOVE,L)}),m.on(R,"beforeUpdate",function(L){w.emit(v.BEFORE_UPDATE,L)}),m.on(R,"afterUpdate",function(L){w.emit(v.AFTER_UPDATE,L)}),m.on(R,"collisionStart",function(L){var b=L.pairs,O,F;b.length>0&&b.map(function(D){O=D.bodyA,F=D.bodyB,O.gameObject&&O.gameObject.emit("collide",O,F,D),F.gameObject&&F.gameObject.emit("collide",F,O,D),m.trigger(O,"onCollide",{pair:D}),m.trigger(F,"onCollide",{pair:D}),O.onCollideCallback&&O.onCollideCallback(D),F.onCollideCallback&&F.onCollideCallback(D),O.onCollideWith[F.id]&&O.onCollideWith[F.id](F,D),F.onCollideWith[O.id]&&F.onCollideWith[O.id](O,D)}),w.emit(v.COLLISION_START,L,O,F)}),m.on(R,"collisionActive",function(L){var b=L.pairs,O,F;b.length>0&&b.map(function(D){O=D.bodyA,F=D.bodyB,O.gameObject&&O.gameObject.emit("collideActive",O,F,D),F.gameObject&&F.gameObject.emit("collideActive",F,O,D),m.trigger(O,"onCollideActive",{pair:D}),m.trigger(F,"onCollideActive",{pair:D}),O.onCollideActiveCallback&&O.onCollideActiveCallback(D),F.onCollideActiveCallback&&F.onCollideActiveCallback(D)}),w.emit(v.COLLISION_ACTIVE,L,O,F)}),m.on(R,"collisionEnd",function(L){var b=L.pairs,O,F;b.length>0&&b.map(function(D){O=D.bodyA,F=D.bodyB,O.gameObject&&O.gameObject.emit("collideEnd",O,F,D),F.gameObject&&F.gameObject.emit("collideEnd",F,O,D),m.trigger(O,"onCollideEnd",{pair:D}),m.trigger(F,"onCollideEnd",{pair:D}),O.onCollideEndCallback&&O.onCollideEndCallback(D),F.onCollideEndCallback&&F.onCollideEndCallback(D)}),w.emit(v.COLLISION_END,L,O,F)})},setBounds:function(w,R,A,L,b,O,F,D,B){return w===void 0&&(w=0),R===void 0&&(R=0),A===void 0&&(A=this.scene.sys.scale.width),L===void 0&&(L=this.scene.sys.scale.height),b===void 0&&(b=64),O===void 0&&(O=!0),F===void 0&&(F=!0),D===void 0&&(D=!0),B===void 0&&(B=!0),this.updateWall(O,"left",w-b,R-b,b,L+b*2),this.updateWall(F,"right",w+A,R-b,b,L+b*2),this.updateWall(D,"top",w,R-b,A,b),this.updateWall(B,"bottom",w,R+L,A,b),this},updateWall:function(w,R,A,L,b,O){var F=this.walls[R];w?(F&&T.remove(this.localWorld,F),A+=b/2,L+=O/2,this.walls[R]=this.create(A,L,b,O,{isStatic:!0,friction:0,frictionStatic:0})):(F&&T.remove(this.localWorld,F),this.walls[R]=null)},createDebugGraphic:function(){var w=this.scene.sys.add.graphics({x:0,y:0});return w.setDepth(Number.MAX_VALUE),this.debugGraphic=w,this.drawDebug=!0,w},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(w,R,A){return w===void 0&&(w=0),R===void 0&&(R=1),A===void 0&&(A=.001),this.localWorld.gravity.x=w,this.localWorld.gravity.y=R,this.localWorld.gravity.scale=A,this},create:function(w,R,A,L,b){var O=o.rectangle(w,R,A,L,b);return T.add(this.localWorld,O),O},add:function(w){return T.add(this.localWorld,w),this},remove:function(w,R){Array.isArray(w)||(w=[w]);for(var A=0;A<w.length;A++){var L=w[A],b=L.body?L.body:L;l.remove(this.localWorld,b,R)}return this},removeConstraint:function(w,R){return l.remove(this.localWorld,w,R),this},convertTilemapLayer:function(w,R){var A=w.layer,L=w.getTilesWithin(0,0,A.width,A.height,{isColliding:!0});return this.convertTiles(L,R),this},convertTiles:function(w,R){if(w.length===0)return this;for(var A=0;A<w.length;A++)new x(this,w[A],R);return this},nextGroup:function(w){return p.nextGroup(w)},nextCategory:function(){return p.nextCategory()},pause:function(){return this.enabled=!1,this.emit(v.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=u.now(),this.emit(v.RESUME),this},update:function(w){if(!(!this.enabled||!this.autoUpdate)){var R=this.engine,A=this.runner,L=u.now(),b=A.delta,O=0,F=w-A.timeLastTick;if((!F||!A.timeLastTick||F>Math.max(P._maxFrameDelta,A.maxFrameTime))&&(F=A.frameDelta||P._frameDeltaFallback),A.frameDeltaSmoothing){A.frameDeltaHistory.push(F),A.frameDeltaHistory=A.frameDeltaHistory.slice(-A.frameDeltaHistorySize);var D=A.frameDeltaHistory.slice(0).sort(),B=A.frameDeltaHistory.slice(D.length*P._smoothingLowerBound,D.length*P._smoothingUpperBound),N=P._mean(B);F=N||F}A.frameDeltaSnapping&&(F=1e3/Math.round(1e3/F)),A.frameDelta=F,A.timeLastTick=w,A.timeBuffer+=A.frameDelta,A.timeBuffer=u.clamp(A.timeBuffer,0,A.frameDelta+b*P._timeBufferMargin),A.lastUpdatesDeferred=0;for(var z=A.maxUpdates||Math.ceil(A.maxFrameTime/b),W=u.now();b>0&&A.timeBuffer>=b*P._timeBufferMargin;){a.update(R,b),A.timeBuffer-=b,O+=1;var X=u.now()-L,k=u.now()-W,V=X+P._elapsedNextEstimate*k/O;if(O>=z||V>A.maxFrameTime){A.lastUpdatesDeferred=Math.round(Math.max(0,A.timeBuffer/b-P._timeBufferMargin));break}}}},step:function(w){a.update(this.engine,w)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(w){var R=w.hasOwnProperty("body")?w.body:w;return l.get(this.localWorld,R.id,R.type)!==null},getAllBodies:function(){return l.allBodies(this.localWorld)},getAllConstraints:function(){return l.allConstraints(this.localWorld)},getAllComposites:function(){return l.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var w=this.debugConfig,R=this.engine,A=this.debugGraphic,L=l.allBodies(this.localWorld);this.debugGraphic.clear(),w.showBroadphase&&R.broadphase.controller&&this.renderGrid(R.broadphase,A,w.broadphaseColor,.5),w.showBounds&&this.renderBodyBounds(L,A,w.boundsColor,.5),(w.showBody||w.showStaticBody)&&this.renderBodies(L),w.showJoint&&this.renderJoints(),(w.showAxes||w.showAngleIndicator)&&this.renderBodyAxes(L,A,w.showAxes,w.angleColor,.5),w.showVelocity&&this.renderBodyVelocity(L,A,w.velocityColor,1,2),w.showSeparations&&this.renderSeparations(R.pairs.list,A,w.separationColor),w.showCollisions&&this.renderCollisions(R.pairs.list,A,w.collisionColor)}},renderGrid:function(w,R,A,L){R.lineStyle(1,A,L);for(var b=u.keys(w.buckets),O=0;O<b.length;O++){var F=b[O];if(!(w.buckets[F].length<2)){var D=F.split(/C|R/);R.strokeRect(parseInt(D[1],10)*w.bucketWidth,parseInt(D[2],10)*w.bucketHeight,w.bucketWidth,w.bucketHeight)}}return this},renderSeparations:function(w,R,A){R.lineStyle(1,A,1);for(var L=0;L<w.length;L++){var b=w[L];if(b.isActive){var O=b.collision,F=O.bodyA,D=O.bodyB,B=F.position,N=D.position,z=O.penetration,W=!F.isStatic&&!D.isStatic?4:1;D.isStatic&&(W=0),R.lineBetween(N.x,N.y,N.x-z.x*W,N.y-z.y*W),W=!F.isStatic&&!D.isStatic?4:1,F.isStatic&&(W=0),R.lineBetween(B.x,B.y,B.x-z.x*W,B.y-z.y*W)}}return this},renderCollisions:function(w,R,A){R.lineStyle(1,A,.5),R.fillStyle(A,1);var L,b;for(L=0;L<w.length;L++)if(b=w[L],!!b.isActive)for(var O=0;O<b.contactCount;O++){var F=b.contacts[O],D=F.vertex;D&&R.fillRect(D.x-2,D.y-2,5,5)}for(L=0;L<w.length;L++)if(b=w[L],!!b.isActive){var B=b.collision,N=b.contacts;if(b.contactCount>0){var z=N[0].vertex.x,W=N[0].vertex.y;b.contactCount===2&&(z=(N[0].vertex.x+N[1].vertex.x)/2,W=(N[0].vertex.y+N[1].vertex.y)/2),B.bodyB===B.supports[0].body||B.bodyA.isStatic?R.lineBetween(z-B.normal.x*8,W-B.normal.y*8,z,W):R.lineBetween(z+B.normal.x*8,W+B.normal.y*8,z,W)}}return this},renderBodyBounds:function(w,R,A,L){R.lineStyle(1,A,L);for(var b=0;b<w.length;b++){var O=w[b];if(O.render.visible){var F=O.bounds;if(F)R.strokeRect(F.min.x,F.min.y,F.max.x-F.min.x,F.max.y-F.min.y);else for(var D=O.parts,B=D.length>1?1:0;B<D.length;B++){var N=D[B];R.strokeRect(N.bounds.min.x,N.bounds.min.y,N.bounds.max.x-N.bounds.min.x,N.bounds.max.y-N.bounds.min.y)}}}return this},renderBodyAxes:function(w,R,A,L,b){R.lineStyle(1,L,b);for(var O=0;O<w.length;O++){var F=w[O],D=F.parts;if(F.render.visible){var B,N,z;if(A)for(N=D.length>1?1:0;N<D.length;N++)for(B=D[N],z=0;z<B.axes.length;z++){var W=B.axes[z];R.lineBetween(B.position.x,B.position.y,B.position.x+W.x*20,B.position.y+W.y*20)}else for(N=D.length>1?1:0;N<D.length;N++)for(B=D[N],z=0;z<B.axes.length;z++)R.lineBetween(B.position.x,B.position.y,(B.vertices[0].x+B.vertices[B.vertices.length-1].x)/2,(B.vertices[0].y+B.vertices[B.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(w,R,A,L,b){R.lineStyle(b,A,L);for(var O=0;O<w.length;O++){var F=w[O];F.render.visible&&R.lineBetween(F.position.x,F.position.y,F.position.x+(F.position.x-F.positionPrev.x)*2,F.position.y+(F.position.y-F.positionPrev.y)*2)}return this},renderBodies:function(w){for(var R=this.debugGraphic,A=this.debugConfig,L=A.showBody,b=A.showStaticBody,O=A.showSleeping,F=A.showInternalEdges,D=A.showConvexHulls,B=A.renderFill,N=A.renderLine,z=A.staticBodySleepOpacity,W=A.sleepFillColor,X=A.sleepLineColor,k=A.hullColor,V=0;V<w.length;V++){var I=w[V];if(I.render.visible&&!(!b&&I.isStatic||!L&&!I.isStatic)){var U=I.render.lineColor,G=I.render.lineOpacity,Y=I.render.lineThickness,H=I.render.fillColor,$=I.render.fillOpacity;O&&I.isSleeping&&(I.isStatic?(G*=z,$*=z):(U=X,H=W)),B||(H=null),N||(U=null),this.renderBody(I,R,F,U,G,Y,H,$);var K=I.parts.length;D&&K>1&&this.renderConvexHull(I,R,k,Y)}}},renderBody:function(w,R,A,L,b,O,F,D){L===void 0&&(L=null),b===void 0&&(b=null),O===void 0&&(O=1),F===void 0&&(F=null),D===void 0&&(D=null);for(var B=this.debugConfig,N=B.sensorFillColor,z=B.sensorLineColor,W=w.parts,X=W.length,k=X>1?1:0;k<X;k++){var V=W[k],I=V.render,U=I.opacity;if(!(!I.visible||U===0||V.isSensor&&!B.showSensors)){var G=V.circleRadius;if(R.beginPath(),V.isSensor?(F!==null&&R.fillStyle(N,D*U),L!==null&&R.lineStyle(O,z,b*U)):(F!==null&&R.fillStyle(F,D*U),L!==null&&R.lineStyle(O,L,b*U)),G)R.arc(V.position.x,V.position.y,G,0,2*Math.PI);else{var Y=V.vertices,H=Y.length;R.moveTo(Y[0].x,Y[0].y);for(var $=1;$<H;$++){var K=Y[$];if(!Y[$-1].isInternal||A?R.lineTo(K.x,K.y):R.moveTo(K.x,K.y),$<H&&K.isInternal&&!A){var Z=($+1)%H;R.moveTo(Y[Z].x,Y[Z].y)}}R.closePath()}F!==null&&R.fillPath(),L!==null&&R.strokePath()}}if(B.showPositions&&!w.isStatic){var J=w.position.x,j=w.position.y,Q=Math.ceil(B.positionSize/2);R.fillStyle(B.positionColor,1),R.fillRect(J-Q,j-Q,B.positionSize,B.positionSize)}return this},renderConvexHull:function(w,R,A,L){L===void 0&&(L=1);var b=w.parts,O=b.length;if(O>1){var F=w.vertices;R.lineStyle(L,A),R.beginPath(),R.moveTo(F[0].x,F[0].y);for(var D=1;D<F.length;D++)R.lineTo(F[D].x,F[D].y);R.lineTo(F[0].x,F[0].y),R.strokePath()}return this},renderJoints:function(){for(var w=this.debugGraphic,R=l.allConstraints(this.localWorld),A=0;A<R.length;A++){var L=R[A].render,b=L.lineColor,O=L.lineOpacity,F=L.lineThickness,D=L.pinSize,B=L.anchorColor,N=L.anchorSize;this.renderConstraint(R[A],w,b,O,F,D,B,N)}},renderConstraint:function(w,R,A,L,b,O,F,D){var B=w.render;if(!B.visible||!w.pointA||!w.pointB)return this;R.lineStyle(b,A,L);var N=w.bodyA,z=w.bodyB,W,X;if(N?W=M.add(N.position,w.pointA):W=w.pointA,B.type==="pin")R.strokeCircle(W.x,W.y,O);else{if(z?X=M.add(z.position,w.pointB):X=w.pointB,R.beginPath(),R.moveTo(W.x,W.y),B.type==="spring")for(var k=M.sub(X,W),V=M.perp(M.normalise(k)),I=Math.ceil(u.clamp(w.length/5,12,20)),U,G=1;G<I;G+=1)U=G%2===0?1:-1,R.lineTo(W.x+k.x*(G/I)+V.x*U*4,W.y+k.y*(G/I)+V.y*U*4);R.lineTo(X.x,X.y)}return R.strokePath(),B.anchors&&D>0&&(R.fillStyle(F),R.fillCircle(W.x,W.y,D),R.fillCircle(X.x,X.y,D)),this},resetCollisionIDs:function(){return y._nextCollidingGroupId=1,y._nextNonCollidingGroupId=-1,y._nextCategory=1,this},shutdown:function(){m.off(this.engine),this.removeAllListeners(),T.clear(this.localWorld,!1),a.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});n.exports=E},70410:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setBounce:function(s){return this.body.restitution=s,this}};n.exports=C},66968:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setCollisionCategory:function(s){return this.body.collisionFilter.category=s,this},setCollisionGroup:function(s){return this.body.collisionFilter.group=s,this},setCollidesWith:function(s){var o=0;if(!Array.isArray(s))o=s;else for(var y=0;y<s.length;y++)o|=s[y];return this.body.collisionFilter.mask=o,this},setOnCollide:function(s){return this.body.onCollideCallback=s,this},setOnCollideEnd:function(s){return this.body.onCollideEndCallback=s,this},setOnCollideActive:function(s){return this.body.onCollideActiveCallback=s,this},setOnCollideWith:function(s,o){Array.isArray(s)||(s=[s]);for(var y=0;y<s.length;y++){var f=s[y].hasOwnProperty("body")?s[y].body:s[y];this.body.setOnCollideWith(f,o)}return this}};n.exports=C},51607:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(22562),y={applyForce:function(f){return this._tempVec2.set(this.body.position.x,this.body.position.y),o.applyForce(this.body,this._tempVec2,f),this},applyForceFrom:function(f,u){return o.applyForce(this.body,f,u),this},thrust:function(f){var u=this.body.angle;return this._tempVec2.set(f*Math.cos(u),f*Math.sin(u)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(f){var u=this.body.angle-Math.PI/2;return this._tempVec2.set(f*Math.cos(u),f*Math.sin(u)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(f){var u=this.body.angle+Math.PI/2;return this._tempVec2.set(f*Math.cos(u),f*Math.sin(u)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(f){var u=this.body.angle-Math.PI;return this._tempVec2.set(f*Math.cos(u),f*Math.sin(u)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};n.exports=y},5436:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setFriction:function(s,o,y){return this.body.friction=s,o!==void 0&&(this.body.frictionAir=o),y!==void 0&&(this.body.frictionStatic=y),this},setFrictionAir:function(s){return this.body.frictionAir=s,this},setFrictionStatic:function(s){return this.body.frictionStatic=s,this}};n.exports=C},39858:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setIgnoreGravity:function(s){return this.body.ignoreGravity=s,this}};n.exports=C},37302:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(22562),y=s(26099),f={setMass:function(u){return o.setMass(this.body,u),this},setDensity:function(u){return o.setDensity(this.body,u),this},centerOfMass:{get:function(){return new y(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};n.exports=f},39132:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setSensor:function(s){return this.body.isSensor=s,this},isSensor:function(){return this.body.isSensor}};n.exports=C},57772:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66280),y=s(22562),f=s(43855),u=s(95540),l=s(19496),a=s(85791),d=s(41598),v={setRectangle:function(h,c,p){return this.setBody({type:"rectangle",width:h,height:c},p)},setCircle:function(h,c){return this.setBody({type:"circle",radius:h},c)},setPolygon:function(h,c,p){return this.setBody({type:"polygon",sides:c,radius:h},p)},setTrapezoid:function(h,c,p,m){return this.setBody({type:"trapezoid",width:h,height:c,slope:p},m)},setExistingBody:function(h,c){c===void 0&&(c=!0),this.body&&this.world.remove(this.body,!0),this.body=h;for(var p=0;p<h.parts.length;p++)h.parts[p].gameObject=this;var m=this;if(h.destroy=function(){m.world.remove(m.body,!0),m.body.gameObject=null},c&&(this.world.has(h)&&this.world.remove(h,!0),this.world.add(h)),this._originComponent){var x=h.render.sprite.xOffset,T=h.render.sprite.yOffset,P=h.centerOfMass.x,M=h.centerOfMass.y;if(f(P,.5)&&f(M,.5))this.setOrigin(x+.5,T+.5);else{var E=h.centerOffset.x,w=h.centerOffset.y;this.setOrigin(x+E/this.displayWidth,T+w/this.displayHeight)}}return this},setBody:function(h,c){if(!h)return this;var p;typeof h=="string"&&(h={type:h});var m=u(h,"type","rectangle"),x=u(h,"x",this._tempVec2.x),T=u(h,"y",this._tempVec2.y),P=u(h,"width",this.width),M=u(h,"height",this.height);switch(m){case"rectangle":p=o.rectangle(x,T,P,M,c);break;case"circle":var E=u(h,"radius",Math.max(P,M)/2),w=u(h,"maxSides",25);p=o.circle(x,T,E,c,w);break;case"trapezoid":var R=u(h,"slope",.5);p=o.trapezoid(x,T,P,M,R,c);break;case"polygon":var A=u(h,"sides",5),L=u(h,"radius",Math.max(P,M)/2);p=o.polygon(x,T,A,L,c);break;case"fromVertices":case"fromVerts":var b=u(h,"verts",null);if(b)if(typeof b=="string"&&(b=d.fromPath(b)),this.body&&!this.body.hasOwnProperty("temp"))y.setVertices(this.body,b),p=this.body;else{var O=u(h,"flagInternal",!1),F=u(h,"removeCollinear",.01),D=u(h,"minimumArea",10);p=o.fromVertices(x,T,b,c,O,F,D)}break;case"fromPhysicsEditor":p=l.parseBody(x,T,h,c);break;case"fromPhysicsTracer":p=a.parseBody(x,T,h,c);break}return p&&this.setExistingBody(p,h.addToWorld),this}};n.exports=v},38083:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(1121),y=s(53614),f=s(35810),u={setToSleep:function(){return y.set(this.body,!0),this},setAwake:function(){return y.set(this.body,!1),this},setSleepThreshold:function(l){return l===void 0&&(l=60),this.body.sleepThreshold=l,this},setSleepEvents:function(l,a){return this.setSleepStartEvent(l),this.setSleepEndEvent(a),this},setSleepStartEvent:function(l){if(l){var a=this.world;f.on(this.body,"sleepStart",function(d){a.emit(o.SLEEP_START,d,this)})}else f.off(this.body,"sleepStart");return this},setSleepEndEvent:function(l){if(l){var a=this.world;f.on(this.body,"sleepEnd",function(d){a.emit(o.SLEEP_END,d,this)})}else f.off(this.body,"sleepEnd");return this}};n.exports=u},90556:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(22562),y={setStatic:function(f){return o.setStatic(this.body,f),this},isStatic:function(){return this.body.isStatic}};n.exports=y},85436:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(22562),y=s(36383),f=s(86554),u=s(30954),l=4,a={x:{get:function(){return this.body.position.x},set:function(d){this._tempVec2.set(d,this.y),o.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(d){this._tempVec2.set(this.x,d),o.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(d){this.setScale(d,d)}},scaleX:{get:function(){return this._scaleX},set:function(d){var v=1/this._scaleX,h=1/this._scaleY;this._scaleX=d,this._scaleX===0?this.renderFlags&=-5:this.renderFlags|=l,o.scale(this.body,v,h),o.scale(this.body,d,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(d){var v=1/this._scaleX,h=1/this._scaleY;this._scaleY=d,this._scaleY===0?this.renderFlags&=-5:this.renderFlags|=l,o.scale(this.body,v,h),o.scale(this.body,this._scaleX,d)}},angle:{get:function(){return u(this.body.angle*y.RAD_TO_DEG)},set:function(d){this.rotation=u(d)*y.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(d){this._rotation=f(d),o.setAngle(this.body,this._rotation)}},setPosition:function(d,v){return d===void 0&&(d=0),v===void 0&&(v=d),this._tempVec2.set(d,v),o.setPosition(this.body,this._tempVec2),this},setRotation:function(d){return d===void 0&&(d=0),this._rotation=f(d),o.setAngle(this.body,d),this},setFixedRotation:function(){return o.setInertia(this.body,1/0),this},setAngle:function(d){return d===void 0&&(d=0),this.angle=d,o.setAngle(this.body,this.rotation),this},setScale:function(d,v,h){d===void 0&&(d=1),v===void 0&&(v=d);var c=1/this._scaleX,p=1/this._scaleY;return this._scaleX=d,this._scaleY=v,o.scale(this.body,c,p,h),o.scale(this.body,d,v,h),this}};n.exports=a},42081:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(22562),y={setVelocityX:function(f){return this._tempVec2.set(f,this.body.velocity.y),o.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(f){return this._tempVec2.set(this.body.velocity.x,f),o.setVelocity(this.body,this._tempVec2),this},setVelocity:function(f,u){return this._tempVec2.set(f,u),o.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return o.getVelocity(this.body)},setAngularVelocity:function(f){return o.setAngularVelocity(this.body,f),this},getAngularVelocity:function(){return o.getAngularVelocity(this.body)},setAngularSpeed:function(f){return o.setAngularSpeed(this.body,f),this},getAngularSpeed:function(){return o.getAngularSpeed(this.body)}};n.exports=y},31884:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Bounce:s(70410),Collision:s(66968),Force:s(51607),Friction:s(5436),Gravity:s(39858),Mass:s(37302),Sensor:s(39132),SetBody:s(57772),Sleep:s(38083),Static:s(90556),Transform:s(85436),Velocity:s(42081)}},85608:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afteradd"},1213:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afterremove"},25968:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afterupdate"},67205:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeadd"},39438:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeremove"},44823:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeupdate"},92593:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionactive"},60128:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionend"},76861:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionstart"},92362:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"},76408:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"},93971:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"},5656:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},47861:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},79099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleepend"},35906:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleepstart"},1121:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AFTER_ADD:s(85608),AFTER_REMOVE:s(1213),AFTER_UPDATE:s(25968),BEFORE_ADD:s(67205),BEFORE_REMOVE:s(39438),BEFORE_UPDATE:s(44823),COLLISION_ACTIVE:s(92593),COLLISION_END:s(60128),COLLISION_START:s(76861),DRAG_END:s(92362),DRAG:s(76408),DRAG_START:s(93971),PAUSE:s(5656),RESUME:s(47861),SLEEP_END:s(79099),SLEEP_START:s(35906)}},3875:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BodyBounds:s(68174),Components:s(31884),Events:s(1121),Factory:s(28137),MatterGameObject:s(75803),Image:s(23181),Matter:s(19933),MatterPhysics:s(42045),PolyDecomp:s(55973),Sprite:s(34803),TileBody:s(73834),PhysicsEditorParser:s(19496),PhysicsJSONParser:s(85791),PointerConstraint:s(98713),World:s(68243)}},22562:(n,C,s)=>{var o={};n.exports=o;var y=s(41598),f=s(31725),u=s(53614),l=s(53402),a=s(15647),d=s(66615);(function(){o._timeCorrection=!0,o._inertiaScale=4,o._nextCollidingGroupId=1,o._nextNonCollidingGroupId=-1,o._nextCategory=1,o._baseDelta=16.666666666666668,o.create=function(h){var c={id:l.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:h.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!h.hasOwnProperty("position")&&h.hasOwnProperty("vertices")?h.position=y.centre(h.vertices):h.hasOwnProperty("vertices")||(c.vertices=y.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var p=l.extend(c,h);return v(p,h),p.setOnCollideWith=function(m,x){return x?this.onCollideWith[m.id]=x:delete this.onCollideWith[m.id],this},p},o.nextGroup=function(h){return h?o._nextNonCollidingGroupId--:o._nextCollidingGroupId++},o.nextCategory=function(){return o._nextCategory=o._nextCategory<<1,o._nextCategory};var v=function(h,c){if(c=c||{},o.set(h,{bounds:h.bounds||a.create(h.vertices),positionPrev:h.positionPrev||f.clone(h.position),anglePrev:h.anglePrev||h.angle,vertices:h.vertices,parts:h.parts||[h],isStatic:h.isStatic,isSleeping:h.isSleeping,parent:h.parent||h}),y.rotate(h.vertices,h.angle,h.position),d.rotate(h.axes,h.angle),a.update(h.bounds,h.vertices,h.velocity),o.set(h,{axes:c.axes||h.axes,area:c.area||h.area,mass:c.mass||h.mass,inertia:c.inertia||h.inertia}),h.parts.length===1){var p=h.bounds,m=h.centerOfMass,x=h.centerOffset,T=p.max.x-p.min.x,P=p.max.y-p.min.y;m.x=-(p.min.x-h.position.x)/T,m.y=-(p.min.y-h.position.y)/P,x.x=T*m.x,x.y=P*m.y}};o.set=function(h,c,p){var m;typeof c=="string"&&(m=c,c={},c[m]=p);for(m in c)if(Object.prototype.hasOwnProperty.call(c,m))switch(p=c[m],m){case"isStatic":o.setStatic(h,p);break;case"isSleeping":u.set(h,p);break;case"mass":o.setMass(h,p);break;case"density":o.setDensity(h,p);break;case"inertia":o.setInertia(h,p);break;case"vertices":o.setVertices(h,p);break;case"position":o.setPosition(h,p);break;case"angle":o.setAngle(h,p);break;case"velocity":o.setVelocity(h,p);break;case"angularVelocity":o.setAngularVelocity(h,p);break;case"speed":o.setSpeed(h,p);break;case"angularSpeed":o.setAngularSpeed(h,p);break;case"parts":o.setParts(h,p);break;case"centre":o.setCentre(h,p);break;default:h[m]=p}},o.setStatic=function(h,c){for(var p=0;p<h.parts.length;p++){var m=h.parts[p];c?(m.isStatic||(m._original={restitution:m.restitution,friction:m.friction,mass:m.mass,inertia:m.inertia,density:m.density,inverseMass:m.inverseMass,inverseInertia:m.inverseInertia}),m.restitution=0,m.friction=1,m.mass=m.inertia=m.density=1/0,m.inverseMass=m.inverseInertia=0,m.positionPrev.x=m.position.x,m.positionPrev.y=m.position.y,m.anglePrev=m.angle,m.angularVelocity=0,m.speed=0,m.angularSpeed=0,m.motion=0):m._original&&(m.restitution=m._original.restitution,m.friction=m._original.friction,m.mass=m._original.mass,m.inertia=m._original.inertia,m.density=m._original.density,m.inverseMass=m._original.inverseMass,m.inverseInertia=m._original.inverseInertia,m._original=null),m.isStatic=c}},o.setMass=function(h,c){var p=h.inertia/(h.mass/6);h.inertia=p*(c/6),h.inverseInertia=1/h.inertia,h.mass=c,h.inverseMass=1/h.mass,h.density=h.mass/h.area},o.setDensity=function(h,c){o.setMass(h,c*h.area),h.density=c},o.setInertia=function(h,c){h.inertia=c,h.inverseInertia=1/h.inertia},o.setVertices=function(h,c){c[0].body===h?h.vertices=c:h.vertices=y.create(c,h),h.axes=d.fromVertices(h.vertices),h.area=y.area(h.vertices),o.setMass(h,h.density*h.area);var p=y.centre(h.vertices);y.translate(h.vertices,p,-1),o.setInertia(h,o._inertiaScale*y.inertia(h.vertices,h.mass)),y.translate(h.vertices,h.position),a.update(h.bounds,h.vertices,h.velocity)},o.setParts=function(h,c,p){var m;for(c=c.slice(0),h.parts.length=0,h.parts.push(h),h.parent=h,m=0;m<c.length;m++){var x=c[m];x!==h&&(x.parent=h,h.parts.push(x))}if(h.parts.length!==1){if(p=typeof p<"u"?p:!0,p){var T=[];for(m=0;m<c.length;m++)T=T.concat(c[m].vertices);y.clockwiseSort(T);var P=y.hull(T),M=y.centre(P);o.setVertices(h,P),y.translate(h.vertices,M)}var E=o._totalProperties(h),w=E.centre.x,R=E.centre.y,A=h.bounds,L=h.centerOfMass,b=h.centerOffset;a.update(A,h.vertices,h.velocity),L.x=-(A.min.x-w)/(A.max.x-A.min.x),L.y=-(A.min.y-R)/(A.max.y-A.min.y),b.x=w,b.y=R,h.area=E.area,h.parent=h,h.position.x=w,h.position.y=R,h.positionPrev.x=w,h.positionPrev.y=R,o.setMass(h,E.mass),o.setInertia(h,E.inertia),o.setPosition(h,E.centre)}},o.setCentre=function(h,c,p){p?(h.positionPrev.x+=c.x,h.positionPrev.y+=c.y,h.position.x+=c.x,h.position.y+=c.y):(h.positionPrev.x=c.x-(h.position.x-h.positionPrev.x),h.positionPrev.y=c.y-(h.position.y-h.positionPrev.y),h.position.x=c.x,h.position.y=c.y)},o.setPosition=function(h,c,p){var m=f.sub(c,h.position);p?(h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.velocity.x=m.x,h.velocity.y=m.y,h.speed=f.magnitude(m)):(h.positionPrev.x+=m.x,h.positionPrev.y+=m.y);for(var x=0;x<h.parts.length;x++){var T=h.parts[x];T.position.x+=m.x,T.position.y+=m.y,y.translate(T.vertices,m),a.update(T.bounds,T.vertices,h.velocity)}},o.setAngle=function(h,c,p){var m=c-h.angle;p?(h.anglePrev=h.angle,h.angularVelocity=m,h.angularSpeed=Math.abs(m)):h.anglePrev+=m;for(var x=0;x<h.parts.length;x++){var T=h.parts[x];T.angle+=m,y.rotate(T.vertices,m,h.position),d.rotate(T.axes,m),a.update(T.bounds,T.vertices,h.velocity),x>0&&f.rotateAbout(T.position,m,h.position,T.position)}},o.setVelocity=function(h,c){var p=h.deltaTime/o._baseDelta;h.positionPrev.x=h.position.x-c.x*p,h.positionPrev.y=h.position.y-c.y*p,h.velocity.x=(h.position.x-h.positionPrev.x)/p,h.velocity.y=(h.position.y-h.positionPrev.y)/p,h.speed=f.magnitude(h.velocity)},o.getVelocity=function(h){var c=o._baseDelta/h.deltaTime;return{x:(h.position.x-h.positionPrev.x)*c,y:(h.position.y-h.positionPrev.y)*c}},o.getSpeed=function(h){return f.magnitude(o.getVelocity(h))},o.setSpeed=function(h,c){o.setVelocity(h,f.mult(f.normalise(o.getVelocity(h)),c))},o.setAngularVelocity=function(h,c){var p=h.deltaTime/o._baseDelta;h.anglePrev=h.angle-c*p,h.angularVelocity=(h.angle-h.anglePrev)/p,h.angularSpeed=Math.abs(h.angularVelocity)},o.getAngularVelocity=function(h){return(h.angle-h.anglePrev)*o._baseDelta/h.deltaTime},o.getAngularSpeed=function(h){return Math.abs(o.getAngularVelocity(h))},o.setAngularSpeed=function(h,c){o.setAngularVelocity(h,l.sign(o.getAngularVelocity(h))*c)},o.translate=function(h,c,p){o.setPosition(h,f.add(h.position,c),p)},o.rotate=function(h,c,p,m){if(!p)o.setAngle(h,h.angle+c,m);else{var x=Math.cos(c),T=Math.sin(c),P=h.position.x-p.x,M=h.position.y-p.y;o.setPosition(h,{x:p.x+(P*x-M*T),y:p.y+(P*T+M*x)},m),o.setAngle(h,h.angle+c,m)}},o.scale=function(h,c,p,m){var x=0,T=0;m=m||h.position;for(var P=h.inertia===1/0,M=0;M<h.parts.length;M++){var E=h.parts[M];E.scale.x=c,E.scale.y=p,y.scale(E.vertices,c,p,m),E.axes=d.fromVertices(E.vertices),E.area=y.area(E.vertices),o.setMass(E,h.density*E.area),y.translate(E.vertices,{x:-E.position.x,y:-E.position.y}),o.setInertia(E,o._inertiaScale*y.inertia(E.vertices,E.mass)),y.translate(E.vertices,{x:E.position.x,y:E.position.y}),M>0&&(x+=E.area,T+=E.inertia),E.position.x=m.x+(E.position.x-m.x)*c,E.position.y=m.y+(E.position.y-m.y)*p,a.update(E.bounds,E.vertices,h.velocity)}h.parts.length>1&&(h.area=x,h.isStatic||(o.setMass(h,h.density*x),o.setInertia(h,T))),h.circleRadius&&(c===p?h.circleRadius*=c:h.circleRadius=null),P&&o.setInertia(h,1/0)},o.update=function(h,c){c=(typeof c<"u"?c:16.666666666666668)*h.timeScale;var p=c*c,m=o._timeCorrection?c/(h.deltaTime||c):1,x=1-h.frictionAir*(c/l._baseDelta),T=(h.position.x-h.positionPrev.x)*m,P=(h.position.y-h.positionPrev.y)*m;h.velocity.x=T*x+h.force.x/h.mass*p,h.velocity.y=P*x+h.force.y/h.mass*p,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.position.x+=h.velocity.x,h.position.y+=h.velocity.y,h.deltaTime=c,h.angularVelocity=(h.angle-h.anglePrev)*x*m+h.torque/h.inertia*p,h.anglePrev=h.angle,h.angle+=h.angularVelocity,h.speed=f.magnitude(h.velocity),h.angularSpeed=Math.abs(h.angularVelocity);for(var M=0;M<h.parts.length;M++){var E=h.parts[M];y.translate(E.vertices,h.velocity),M>0&&(E.position.x+=h.velocity.x,E.position.y+=h.velocity.y),h.angularVelocity!==0&&(y.rotate(E.vertices,h.angularVelocity,h.position),d.rotate(E.axes,h.angularVelocity),M>0&&f.rotateAbout(E.position,h.angularVelocity,h.position,E.position)),a.update(E.bounds,E.vertices,h.velocity)}},o.updateVelocities=function(h){var c=o._baseDelta/h.deltaTime,p=h.velocity;p.x=(h.position.x-h.positionPrev.x)*c,p.y=(h.position.y-h.positionPrev.y)*c,h.speed=Math.sqrt(p.x*p.x+p.y*p.y),h.angularVelocity=(h.angle-h.anglePrev)*c,h.angularSpeed=Math.abs(h.angularVelocity)},o.applyForce=function(h,c,p){var m={x:c.x-h.position.x,y:c.y-h.position.y};h.force.x+=p.x,h.force.y+=p.y,h.torque+=m.x*p.y-m.y*p.x},o._totalProperties=function(h){for(var c={mass:0,area:0,inertia:0,centre:{x:0,y:0}},p=h.parts.length===1?0:1;p<h.parts.length;p++){var m=h.parts[p],x=m.mass!==1/0?m.mass:1;c.mass+=x,c.area+=m.area,c.inertia+=m.inertia,c.centre=f.add(c.centre,f.mult(m.position,x))}return c.centre=f.div(c.centre,c.mass),c},o.wrap=function(h,c){var p=a.wrap(h.bounds,c);return p&&o.translate(h,p),p}})()},69351:(n,C,s)=>{var o={};n.exports=o;var y=s(35810),f=s(53402),u=s(15647),l=s(22562);(function(){o.create=function(a){return f.extend({id:f.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},a)},o.setModified=function(a,d,v,h){if(y.trigger(a,"compositeModified",a),a.isModified=d,d&&a.cache&&(a.cache.allBodies=null,a.cache.allConstraints=null,a.cache.allComposites=null),v&&a.parent&&o.setModified(a.parent,d,v,h),h)for(var c=0;c<a.composites.length;c++){var p=a.composites[c];o.setModified(p,d,v,h)}},o.add=function(a,d){var v=[].concat(d);y.trigger(a,"beforeAdd",{object:d});for(var h=0;h<v.length;h++){var c=v[h];switch(c.type){case"body":if(c.parent!==c){f.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}o.addBody(a,c);break;case"constraint":o.addConstraint(a,c);break;case"composite":o.addComposite(a,c);break;case"mouseConstraint":o.addConstraint(a,c.constraint);break}}return y.trigger(a,"afterAdd",{object:d}),a},o.remove=function(a,d,v){var h=[].concat(d);y.trigger(a,"beforeRemove",{object:d});for(var c=0;c<h.length;c++){var p=h[c];switch(p.type){case"body":o.removeBody(a,p,v);break;case"constraint":o.removeConstraint(a,p,v);break;case"composite":o.removeComposite(a,p,v);break;case"mouseConstraint":o.removeConstraint(a,p.constraint);break}}return y.trigger(a,"afterRemove",{object:d}),a},o.addComposite=function(a,d){return a.composites.push(d),d.parent=a,o.setModified(a,!0,!0,!1),a},o.removeComposite=function(a,d,v){var h=f.indexOf(a.composites,d);if(h!==-1){var c=o.allBodies(d);o.removeCompositeAt(a,h);for(var p=0;p<c.length;p++)c[p].sleepCounter=0}if(v)for(var p=0;p<a.composites.length;p++)o.removeComposite(a.composites[p],d,!0);return a},o.removeCompositeAt=function(a,d){return a.composites.splice(d,1),o.setModified(a,!0,!0,!1),a},o.addBody=function(a,d){return a.bodies.push(d),o.setModified(a,!0,!0,!1),a},o.removeBody=function(a,d,v){var h=f.indexOf(a.bodies,d);if(h!==-1&&(o.removeBodyAt(a,h),d.sleepCounter=0),v)for(var c=0;c<a.composites.length;c++)o.removeBody(a.composites[c],d,!0);return a},o.removeBodyAt=function(a,d){return a.bodies.splice(d,1),o.setModified(a,!0,!0,!1),a},o.addConstraint=function(a,d){return a.constraints.push(d),o.setModified(a,!0,!0,!1),a},o.removeConstraint=function(a,d,v){var h=f.indexOf(a.constraints,d);if(h!==-1&&o.removeConstraintAt(a,h),v)for(var c=0;c<a.composites.length;c++)o.removeConstraint(a.composites[c],d,!0);return a},o.removeConstraintAt=function(a,d){return a.constraints.splice(d,1),o.setModified(a,!0,!0,!1),a},o.clear=function(a,d,v){if(v)for(var h=0;h<a.composites.length;h++)o.clear(a.composites[h],d,!0);return d?a.bodies=a.bodies.filter(function(c){return c.isStatic}):a.bodies.length=0,a.constraints.length=0,a.composites.length=0,o.setModified(a,!0,!0,!1),a},o.allBodies=function(a){if(a.cache&&a.cache.allBodies)return a.cache.allBodies;for(var d=[].concat(a.bodies),v=0;v<a.composites.length;v++)d=d.concat(o.allBodies(a.composites[v]));return a.cache&&(a.cache.allBodies=d),d},o.allConstraints=function(a){if(a.cache&&a.cache.allConstraints)return a.cache.allConstraints;for(var d=[].concat(a.constraints),v=0;v<a.composites.length;v++)d=d.concat(o.allConstraints(a.composites[v]));return a.cache&&(a.cache.allConstraints=d),d},o.allComposites=function(a){if(a.cache&&a.cache.allComposites)return a.cache.allComposites;for(var d=[].concat(a.composites),v=0;v<a.composites.length;v++)d=d.concat(o.allComposites(a.composites[v]));return a.cache&&(a.cache.allComposites=d),d},o.get=function(a,d,v){var h,c;switch(v){case"body":h=o.allBodies(a);break;case"constraint":h=o.allConstraints(a);break;case"composite":h=o.allComposites(a).concat(a);break}return h?(c=h.filter(function(p){return p.id.toString()===d.toString()}),c.length===0?null:c[0]):null},o.move=function(a,d,v){return o.remove(a,d),o.add(v,d),a},o.rebase=function(a){for(var d=o.allBodies(a).concat(o.allConstraints(a)).concat(o.allComposites(a)),v=0;v<d.length;v++)d[v].id=f.nextId();return a},o.translate=function(a,d,v){for(var h=v?o.allBodies(a):a.bodies,c=0;c<h.length;c++)l.translate(h[c],d);return a},o.rotate=function(a,d,v,h){for(var c=Math.cos(d),p=Math.sin(d),m=h?o.allBodies(a):a.bodies,x=0;x<m.length;x++){var T=m[x],P=T.position.x-v.x,M=T.position.y-v.y;l.setPosition(T,{x:v.x+(P*c-M*p),y:v.y+(P*p+M*c)}),l.rotate(T,d)}return a},o.scale=function(a,d,v,h,c){for(var p=c?o.allBodies(a):a.bodies,m=0;m<p.length;m++){var x=p[m],T=x.position.x-h.x,P=x.position.y-h.y;l.setPosition(x,{x:h.x+T*d,y:h.y+P*v}),l.scale(x,d,v)}return a},o.bounds=function(a){for(var d=o.allBodies(a),v=[],h=0;h<d.length;h+=1){var c=d[h];v.push(c.bounds.min,c.bounds.max)}return u.create(v)},o.wrap=function(a,d){var v=u.wrap(o.bounds(a),d);return v&&o.translate(a,v),v}})()},4372:(n,C,s)=>{var o={};n.exports=o;var y=s(69351);(function(){o.create=y.create,o.add=y.add,o.remove=y.remove,o.clear=y.clear,o.addComposite=y.addComposite,o.addBody=y.addBody,o.addConstraint=y.addConstraint})()},52284:(n,C,s)=>{var o={};n.exports=o;var y=s(41598),f=s(4506);(function(){var u=[],l={overlap:0,axis:null},a={overlap:0,axis:null};o.create=function(d,v){return{pair:null,collided:!1,bodyA:d,bodyB:v,parentA:d.parent,parentB:v.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},o.collides=function(d,v,h){if(o._overlapAxes(l,d.vertices,v.vertices,d.axes),l.overlap<=0||(o._overlapAxes(a,v.vertices,d.vertices,v.axes),a.overlap<=0))return null;var c=h&&h.table[f.id(d,v)],p;c?p=c.collision:(p=o.create(d,v),p.collided=!0,p.bodyA=d.id<v.id?d:v,p.bodyB=d.id<v.id?v:d,p.parentA=p.bodyA.parent,p.parentB=p.bodyB.parent),d=p.bodyA,v=p.bodyB;var m;l.overlap<a.overlap?m=l:m=a;var x=p.normal,T=p.tangent,P=p.penetration,M=p.supports,E=m.overlap,w=m.axis,R=w.x,A=w.y,L=v.position.x-d.position.x,b=v.position.y-d.position.y;R*L+A*b>=0&&(R=-R,A=-A),x.x=R,x.y=A,T.x=-A,T.y=R,P.x=R*E,P.y=A*E,p.depth=E;var O=o._findSupports(d,v,x,1),F=0;if(y.contains(d.vertices,O[0])&&(M[F++]=O[0]),y.contains(d.vertices,O[1])&&(M[F++]=O[1]),F<2){var D=o._findSupports(v,d,x,-1);y.contains(v.vertices,D[0])&&(M[F++]=D[0]),F<2&&y.contains(v.vertices,D[1])&&(M[F++]=D[1])}return F===0&&(M[F++]=O[0]),p.supportCount=F,p},o._overlapAxes=function(d,v,h,c){var p=v.length,m=h.length,x=v[0].x,T=v[0].y,P=h[0].x,M=h[0].y,E=c.length,w=Number.MAX_VALUE,R=0,A,L,b,O,F,D;for(F=0;F<E;F++){var B=c[F],N=B.x,z=B.y,W=x*N+T*z,X=P*N+M*z,k=W,V=X;for(D=1;D<p;D+=1)O=v[D].x*N+v[D].y*z,O>k?k=O:O<W&&(W=O);for(D=1;D<m;D+=1)O=h[D].x*N+h[D].y*z,O>V?V=O:O<X&&(X=O);if(L=k-X,b=V-W,A=L<b?L:b,A<w&&(w=A,R=F,A<=0))break}d.axis=c[R],d.overlap=w},o._findSupports=function(d,v,h,c){var p=v.vertices,m=p.length,x=d.position.x,T=d.position.y,P=h.x*c,M=h.y*c,E=p[0],w=E,R=P*(x-w.x)+M*(T-w.y),A,L,b;for(b=1;b<m;b+=1)w=p[b],L=P*(x-w.x)+M*(T-w.y),L<R&&(R=L,E=w);return A=p[(m+E.index-1)%m],R=P*(x-A.x)+M*(T-A.y),w=p[(E.index+1)%m],P*(x-w.x)+M*(T-w.y)<R?(u[0]=E,u[1]=w,u):(u[0]=E,u[1]=A,u)}})()},43424:n=>{var C={};n.exports=C,function(){C.create=function(s){return{vertex:s,normalImpulse:0,tangentImpulse:0}}}()},81388:(n,C,s)=>{var o={};n.exports=o;var y=s(53402),f=s(52284);(function(){o.create=function(u){var l={bodies:[],collisions:[],pairs:null};return y.extend(l,u)},o.setBodies=function(u,l){u.bodies=l.slice(0)},o.clear=function(u){u.bodies=[],u.collisions=[]},o.collisions=function(u){var l=u.pairs,a=u.bodies,d=a.length,v=o.canCollide,h=f.collides,c=u.collisions,p=0,m,x;for(a.sort(o._compareBoundsX),m=0;m<d;m++){var T=a[m],P=T.bounds,M=T.bounds.max.x,E=T.bounds.max.y,w=T.bounds.min.y,R=T.isStatic||T.isSleeping,A=T.parts.length,L=A===1;for(x=m+1;x<d;x++){var b=a[x],O=b.bounds;if(O.min.x>M)break;if(!(E<O.min.y||w>O.max.y)&&!(R&&(b.isStatic||b.isSleeping))&&v(T.collisionFilter,b.collisionFilter)){var F=b.parts.length;if(L&&F===1){var D=h(T,b,l);D&&(c[p++]=D)}else for(var B=A>1?1:0,N=F>1?1:0,z=B;z<A;z++)for(var W=T.parts[z],P=W.bounds,X=N;X<F;X++){var k=b.parts[X],O=k.bounds;if(!(P.min.x>O.max.x||P.max.x<O.min.x||P.max.y<O.min.y||P.min.y>O.max.y)){var D=h(W,k,l);D&&(c[p++]=D)}}}}}return c.length!==p&&(c.length=p),c},o.canCollide=function(u,l){return u.group===l.group&&u.group!==0?u.group>0:(u.mask&l.category)!==0&&(l.mask&u.category)!==0},o._compareBoundsX=function(u,l){return u.bounds.min.x-l.bounds.min.x}})()},4506:(n,C,s)=>{var o={};n.exports=o;var y=s(43424);(function(){o.create=function(f,u){var l=f.bodyA,a=f.bodyB,d={id:o.id(l,a),bodyA:l,bodyB:a,collision:f,contacts:[y.create(),y.create()],contactCount:0,separation:0,isActive:!0,isSensor:l.isSensor||a.isSensor,timeCreated:u,timeUpdated:u,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return o.update(d,f,u),d},o.update=function(f,u,l){var a=u.supports,d=u.supportCount,v=f.contacts,h=u.parentA,c=u.parentB;f.isActive=!0,f.timeUpdated=l,f.collision=u,f.separation=u.depth,f.inverseMass=h.inverseMass+c.inverseMass,f.friction=h.friction<c.friction?h.friction:c.friction,f.frictionStatic=h.frictionStatic>c.frictionStatic?h.frictionStatic:c.frictionStatic,f.restitution=h.restitution>c.restitution?h.restitution:c.restitution,f.slop=h.slop>c.slop?h.slop:c.slop,f.contactCount=d,u.pair=f;var p=a[0],m=v[0],x=a[1],T=v[1];(T.vertex===p||m.vertex===x)&&(v[1]=m,v[0]=m=T,T=v[1]),m.vertex=p,T.vertex=x},o.setActive=function(f,u,l){u?(f.isActive=!0,f.timeUpdated=l):(f.isActive=!1,f.contactCount=0)},o.id=function(f,u){return f.id<u.id?f.id.toString(36)+":"+u.id.toString(36):u.id.toString(36)+":"+f.id.toString(36)}})()},99561:(n,C,s)=>{var o={};n.exports=o;var y=s(4506),f=s(53402);(function(){o.create=function(u){return f.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},u)},o.update=function(u,l,a){var d=y.update,v=y.create,h=y.setActive,c=u.table,p=u.list,m=p.length,x=m,T=u.collisionStart,P=u.collisionEnd,M=u.collisionActive,E=l.length,w=0,R=0,A=0,L,b,O;for(O=0;O<E;O++)L=l[O],b=L.pair,b?(b.isActive&&(M[A++]=b),d(b,L,a)):(b=v(L,a),c[b.id]=b,T[w++]=b,p[x++]=b);for(x=0,m=p.length,O=0;O<m;O++)b=p[O],b.timeUpdated>=a?p[x++]=b:(h(b,!1,a),b.collision.bodyA.sleepCounter>0&&b.collision.bodyB.sleepCounter>0?p[x++]=b:(P[R++]=b,delete c[b.id]));p.length!==x&&(p.length=x),T.length!==w&&(T.length=w),P.length!==R&&(P.length=R),M.length!==A&&(M.length=A)},o.clear=function(u){return u.table={},u.list.length=0,u.collisionStart.length=0,u.collisionActive.length=0,u.collisionEnd.length=0,u}})()},73296:(n,C,s)=>{var o={};n.exports=o;var y=s(31725),f=s(52284),u=s(15647),l=s(66280),a=s(41598);(function(){o.collides=function(d,v){for(var h=[],c=v.length,p=d.bounds,m=f.collides,x=u.overlaps,T=0;T<c;T++){var P=v[T],M=P.parts.length,E=M===1?0:1;if(d!==P&&x(P.bounds,p))for(var w=E;w<M;w++){var R=P.parts[w];if(x(R.bounds,p)){var A=m(R,d);if(A){h.push(A);break}}}}return h},o.ray=function(d,v,h,c){c=c||1e-100;for(var p=y.angle(v,h),m=y.magnitude(y.sub(v,h)),x=(h.x+v.x)*.5,T=(h.y+v.y)*.5,P=l.rectangle(x,T,m,c,{angle:p}),M=o.collides(P,d),E=0;E<M.length;E+=1){var w=M[E];w.body=w.bodyB=w.bodyA}return M},o.region=function(d,v,h){for(var c=[],p=0;p<d.length;p++){var m=d[p],x=u.overlaps(m.bounds,v);(x&&!h||!x&&h)&&c.push(m)}return c},o.point=function(d,v){for(var h=[],c=0;c<d.length;c++){var p=d[c];if(u.contains(p.bounds,v))for(var m=p.parts.length===1?0:1;m<p.parts.length;m++){var x=p.parts[m];if(u.contains(x.bounds,v)&&a.contains(x.vertices,v)){h.push(p);break}}}return h}})()},66272:(n,C,s)=>{var o={};n.exports=o;var y=s(41598),f=s(53402),u=s(15647);(function(){o._restingThresh=2,o._restingThreshTangent=Math.sqrt(6),o._positionDampen=.9,o._positionWarming=.8,o._frictionNormalMultiplier=5,o._frictionMaxStatic=Number.MAX_VALUE,o.preSolvePosition=function(l){var a,d,v,h=l.length;for(a=0;a<h;a++)d=l[a],d.isActive&&(v=d.contactCount,d.collision.parentA.totalContacts+=v,d.collision.parentB.totalContacts+=v)},o.solvePosition=function(l,a,d){var v,h,c,p,m,x,T,P,M=o._positionDampen*(d||1),E=f.clamp(a/f._baseDelta,0,1),w=l.length;for(v=0;v<w;v++)h=l[v],!(!h.isActive||h.isSensor)&&(c=h.collision,p=c.parentA,m=c.parentB,x=c.normal,h.separation=c.depth+x.x*(m.positionImpulse.x-p.positionImpulse.x)+x.y*(m.positionImpulse.y-p.positionImpulse.y));for(v=0;v<w;v++)h=l[v],!(!h.isActive||h.isSensor)&&(c=h.collision,p=c.parentA,m=c.parentB,x=c.normal,P=h.separation-h.slop*E,(p.isStatic||m.isStatic)&&(P*=2),p.isStatic||p.isSleeping||(T=M/p.totalContacts,p.positionImpulse.x+=x.x*P*T,p.positionImpulse.y+=x.y*P*T),m.isStatic||m.isSleeping||(T=M/m.totalContacts,m.positionImpulse.x-=x.x*P*T,m.positionImpulse.y-=x.y*P*T))},o.postSolvePosition=function(l){for(var a=o._positionWarming,d=l.length,v=y.translate,h=u.update,c=0;c<d;c++){var p=l[c],m=p.positionImpulse,x=m.x,T=m.y,P=p.velocity;if(p.totalContacts=0,x!==0||T!==0){for(var M=0;M<p.parts.length;M++){var E=p.parts[M];v(E.vertices,m),h(E.bounds,E.vertices,P),E.position.x+=x,E.position.y+=T}p.positionPrev.x+=x,p.positionPrev.y+=T,x*P.x+T*P.y<0?(m.x=0,m.y=0):(m.x*=a,m.y*=a)}}},o.preSolveVelocity=function(l){var a=l.length,d,v;for(d=0;d<a;d++){var h=l[d];if(!(!h.isActive||h.isSensor)){var c=h.contacts,p=h.contactCount,m=h.collision,x=m.parentA,T=m.parentB,P=m.normal,M=m.tangent;for(v=0;v<p;v++){var E=c[v],w=E.vertex,R=E.normalImpulse,A=E.tangentImpulse;if(R!==0||A!==0){var L=P.x*R+M.x*A,b=P.y*R+M.y*A;x.isStatic||x.isSleeping||(x.positionPrev.x+=L*x.inverseMass,x.positionPrev.y+=b*x.inverseMass,x.anglePrev+=x.inverseInertia*((w.x-x.position.x)*b-(w.y-x.position.y)*L)),T.isStatic||T.isSleeping||(T.positionPrev.x-=L*T.inverseMass,T.positionPrev.y-=b*T.inverseMass,T.anglePrev-=T.inverseInertia*((w.x-T.position.x)*b-(w.y-T.position.y)*L))}}}}},o.solveVelocity=function(l,a){var d=a/f._baseDelta,v=d*d,h=v*d,c=-o._restingThresh*d,p=o._restingThreshTangent,m=o._frictionNormalMultiplier*d,x=o._frictionMaxStatic,T=l.length,P,M,E,w;for(E=0;E<T;E++){var R=l[E];if(!(!R.isActive||R.isSensor)){var A=R.collision,L=A.parentA,b=A.parentB,O=A.normal.x,F=A.normal.y,D=A.tangent.x,B=A.tangent.y,N=R.inverseMass,z=R.friction*R.frictionStatic*m,W=R.contacts,X=R.contactCount,k=1/X,V=L.position.x-L.positionPrev.x,I=L.position.y-L.positionPrev.y,U=L.angle-L.anglePrev,G=b.position.x-b.positionPrev.x,Y=b.position.y-b.positionPrev.y,H=b.angle-b.anglePrev;for(w=0;w<X;w++){var $=W[w],K=$.vertex,Z=K.x-L.position.x,J=K.y-L.position.y,j=K.x-b.position.x,Q=K.y-b.position.y,_=V-J*U,it=I+Z*U,q=G-Q*H,ht=Y+j*H,lt=_-q,ut=it-ht,tt=O*lt+F*ut,at=D*lt+B*ut,ot=R.separation+tt,pt=Math.min(ot,1);pt=ot<0?0:pt;var Pt=pt*z;at<-Pt||at>Pt?(M=at>0?at:-at,P=R.friction*(at>0?1:-1)*h,P<-M?P=-M:P>M&&(P=M)):(P=at,M=x);var kt=Z*F-J*O,Ct=j*F-Q*O,Et=k/(N+L.inverseInertia*kt*kt+b.inverseInertia*Ct*Ct),Ht=(1+R.restitution)*tt*Et;if(P*=Et,tt<c)$.normalImpulse=0;else{var ye=$.normalImpulse;$.normalImpulse+=Ht,$.normalImpulse>0&&($.normalImpulse=0),Ht=$.normalImpulse-ye}if(at<-p||at>p)$.tangentImpulse=0;else{var Gt=$.tangentImpulse;$.tangentImpulse+=P,$.tangentImpulse<-M&&($.tangentImpulse=-M),$.tangentImpulse>M&&($.tangentImpulse=M),P=$.tangentImpulse-Gt}var $t=O*Ht+D*P,se=F*Ht+B*P;L.isStatic||L.isSleeping||(L.positionPrev.x+=$t*L.inverseMass,L.positionPrev.y+=se*L.inverseMass,L.anglePrev+=(Z*se-J*$t)*L.inverseInertia),b.isStatic||b.isSleeping||(b.positionPrev.x-=$t*b.inverseMass,b.positionPrev.y-=se*b.inverseMass,b.anglePrev-=(j*se-Q*$t)*b.inverseInertia)}}}}})()},48140:(n,C,s)=>{var o={};n.exports=o;var y=s(41598),f=s(31725),u=s(53614),l=s(15647),a=s(66615),d=s(53402);(function(){o._warming=.4,o._torqueDampen=1,o._minLength=1e-6,o.create=function(v){var h=v;h.bodyA&&!h.pointA&&(h.pointA={x:0,y:0}),h.bodyB&&!h.pointB&&(h.pointB={x:0,y:0});var c=h.bodyA?f.add(h.bodyA.position,h.pointA):h.pointA,p=h.bodyB?f.add(h.bodyB.position,h.pointB):h.pointB,m=f.magnitude(f.sub(c,p));h.length=typeof h.length<"u"?h.length:m,h.id=h.id||d.nextId(),h.label=h.label||"Constraint",h.type="constraint",h.stiffness=h.stiffness||(h.length>0?1:.7),h.damping=h.damping||0,h.angularStiffness=h.angularStiffness||0,h.angleA=h.bodyA?h.bodyA.angle:h.angleA,h.angleB=h.bodyB?h.bodyB.angle:h.angleB,h.plugin={};var x={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return h.length===0&&h.stiffness>.1?(x.type="pin",x.anchors=!1):h.stiffness<.9&&(x.type="spring"),h.render=d.extend(x,h.render),h},o.preSolveAll=function(v){for(var h=0;h<v.length;h+=1){var c=v[h],p=c.constraintImpulse;c.isStatic||p.x===0&&p.y===0&&p.angle===0||(c.position.x+=p.x,c.position.y+=p.y,c.angle+=p.angle)}},o.solveAll=function(v,h){for(var c=d.clamp(h/d._baseDelta,0,1),p=0;p<v.length;p+=1){var m=v[p],x=!m.bodyA||m.bodyA&&m.bodyA.isStatic,T=!m.bodyB||m.bodyB&&m.bodyB.isStatic;(x||T)&&o.solve(v[p],c)}for(p=0;p<v.length;p+=1)m=v[p],x=!m.bodyA||m.bodyA&&m.bodyA.isStatic,T=!m.bodyB||m.bodyB&&m.bodyB.isStatic,!x&&!T&&o.solve(v[p],c)},o.solve=function(v,h){var c=v.bodyA,p=v.bodyB,m=v.pointA,x=v.pointB;if(!(!c&&!p)){c&&!c.isStatic&&(f.rotate(m,c.angle-v.angleA,m),v.angleA=c.angle),p&&!p.isStatic&&(f.rotate(x,p.angle-v.angleB,x),v.angleB=p.angle);var T=m,P=x;if(c&&(T=f.add(c.position,m)),p&&(P=f.add(p.position,x)),!(!T||!P)){var M=f.sub(T,P),E=f.magnitude(M);E<o._minLength&&(E=o._minLength);var w=(E-v.length)/E,R=v.stiffness>=1||v.length===0,A=R?v.stiffness*h:v.stiffness*h*h,L=v.damping*h,b=f.mult(M,w*A),O=(c?c.inverseMass:0)+(p?p.inverseMass:0),F=(c?c.inverseInertia:0)+(p?p.inverseInertia:0),D=O+F,B,N,z,W,X;if(L>0){var k=f.create();z=f.div(M,E),X=f.sub(p&&f.sub(p.position,p.positionPrev)||k,c&&f.sub(c.position,c.positionPrev)||k),W=f.dot(z,X)}c&&!c.isStatic&&(N=c.inverseMass/O,c.constraintImpulse.x-=b.x*N,c.constraintImpulse.y-=b.y*N,c.position.x-=b.x*N,c.position.y-=b.y*N,L>0&&(c.positionPrev.x-=L*z.x*W*N,c.positionPrev.y-=L*z.y*W*N),B=f.cross(m,b)/D*o._torqueDampen*c.inverseInertia*(1-v.angularStiffness),c.constraintImpulse.angle-=B,c.angle-=B),p&&!p.isStatic&&(N=p.inverseMass/O,p.constraintImpulse.x+=b.x*N,p.constraintImpulse.y+=b.y*N,p.position.x+=b.x*N,p.position.y+=b.y*N,L>0&&(p.positionPrev.x+=L*z.x*W*N,p.positionPrev.y+=L*z.y*W*N),B=f.cross(x,b)/D*o._torqueDampen*p.inverseInertia*(1-v.angularStiffness),p.constraintImpulse.angle+=B,p.angle+=B)}}},o.postSolveAll=function(v){for(var h=0;h<v.length;h++){var c=v[h],p=c.constraintImpulse;if(!(c.isStatic||p.x===0&&p.y===0&&p.angle===0)){u.set(c,!1);for(var m=0;m<c.parts.length;m++){var x=c.parts[m];y.translate(x.vertices,p),m>0&&(x.position.x+=p.x,x.position.y+=p.y),p.angle!==0&&(y.rotate(x.vertices,p.angle,c.position),a.rotate(x.axes,p.angle),m>0&&f.rotateAbout(x.position,p.angle,c.position,x.position)),l.update(x.bounds,x.vertices,c.velocity)}p.angle*=o._warming,p.x*=o._warming,p.y*=o._warming}}},o.pointAWorld=function(v){return{x:(v.bodyA?v.bodyA.position.x:0)+(v.pointA?v.pointA.x:0),y:(v.bodyA?v.bodyA.position.y:0)+(v.pointA?v.pointA.y:0)}},o.pointBWorld=function(v){return{x:(v.bodyB?v.bodyB.position.x:0)+(v.pointB?v.pointB.x:0),y:(v.bodyB?v.bodyB.position.y:0)+(v.pointB?v.pointB.y:0)}},o.currentLength=function(v){var h=(v.bodyA?v.bodyA.position.x:0)+(v.pointA?v.pointA.x:0),c=(v.bodyA?v.bodyA.position.y:0)+(v.pointA?v.pointA.y:0),p=(v.bodyB?v.bodyB.position.x:0)+(v.pointB?v.pointB.x:0),m=(v.bodyB?v.bodyB.position.y:0)+(v.pointB?v.pointB.y:0),x=h-p,T=c-m;return Math.sqrt(x*x+T*T)}})()},53402:(n,C,s)=>{var o={};n.exports=o,function(){o._baseDelta=16.666666666666668,o._nextId=0,o._seed=0,o._nowStartTime=+new Date,o._warnedOnce={},o._decomp=null,o.extend=function(f,u){var l,a;typeof u=="boolean"?(l=2,a=u):(l=1,a=!0);for(var d=l;d<arguments.length;d++){var v=arguments[d];if(v)for(var h in v)a&&v[h]&&v[h].constructor===Object&&(!f[h]||f[h].constructor===Object)?(f[h]=f[h]||{},o.extend(f[h],a,v[h])):f[h]=v[h]}return f},o.clone=function(f,u){return o.extend({},u,f)},o.keys=function(f){if(Object.keys)return Object.keys(f);var u=[];for(var l in f)u.push(l);return u},o.values=function(f){var u=[];if(Object.keys){for(var l=Object.keys(f),a=0;a<l.length;a++)u.push(f[l[a]]);return u}for(var d in f)u.push(f[d]);return u},o.get=function(f,u,l,a){u=u.split(".").slice(l,a);for(var d=0;d<u.length;d+=1)f=f[u[d]];return f},o.set=function(f,u,l,a,d){var v=u.split(".").slice(a,d);return o.get(f,u,0,-1)[v[v.length-1]]=l,l},o.shuffle=function(f){for(var u=f.length-1;u>0;u--){var l=Math.floor(o.random()*(u+1)),a=f[u];f[u]=f[l],f[l]=a}return f},o.choose=function(f){return f[Math.floor(o.random()*f.length)]},o.isElement=function(f){return typeof HTMLElement<"u"?f instanceof HTMLElement:!!(f&&f.nodeType&&f.nodeName)},o.isArray=function(f){return Object.prototype.toString.call(f)==="[object Array]"},o.isFunction=function(f){return typeof f=="function"},o.isPlainObject=function(f){return typeof f=="object"&&f.constructor===Object},o.isString=function(f){return toString.call(f)==="[object String]"},o.clamp=function(f,u,l){return f<u?u:f>l?l:f},o.sign=function(f){return f<0?-1:1},o.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-o._nowStartTime},o.random=function(f,u){return f=typeof f<"u"?f:0,u=typeof u<"u"?u:1,f+y()*(u-f)};var y=function(){return o._seed=(o._seed*9301+49297)%233280,o._seed/233280};o.colorToNumber=function(f){return f=f.replace("#",""),f.length==3&&(f=f.charAt(0)+f.charAt(0)+f.charAt(1)+f.charAt(1)+f.charAt(2)+f.charAt(2)),parseInt(f,16)},o.logLevel=1,o.log=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.info=function(){console&&o.logLevel>0&&o.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warn=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warnOnce=function(){var f=Array.prototype.slice.call(arguments).join(" ");o._warnedOnce[f]||(o.warn(f),o._warnedOnce[f]=!0)},o.deprecated=function(f,u,l){f[u]=o.chain(function(){o.warnOnce(" deprecated ",l)},f[u])},o.nextId=function(){return o._nextId++},o.indexOf=function(f,u){if(f.indexOf)return f.indexOf(u);for(var l=0;l<f.length;l++)if(f[l]===u)return l;return-1},o.map=function(f,u){if(f.map)return f.map(u);for(var l=[],a=0;a<f.length;a+=1)l.push(u(f[a]));return l},o.topologicalSort=function(f){var u=[],l=[],a=[];for(var d in f)!l[d]&&!a[d]&&o._topologicalSort(d,l,a,f,u);return u},o._topologicalSort=function(f,u,l,a,d){var v=a[f]||[];l[f]=!0;for(var h=0;h<v.length;h+=1){var c=v[h];l[c]||u[c]||o._topologicalSort(c,u,l,a,d)}l[f]=!1,u[f]=!0,d.push(f)},o.chain=function(){for(var f=[],u=0;u<arguments.length;u+=1){var l=arguments[u];l._chained?f.push.apply(f,l._chained):f.push(l)}var a=function(){for(var d,v=new Array(arguments.length),h=0,c=arguments.length;h<c;h++)v[h]=arguments[h];for(h=0;h<f.length;h+=1){var p=f[h].apply(d,v);typeof p<"u"&&(d=p)}return d};return a._chained=f,a},o.chainPathBefore=function(f,u,l){return o.set(f,u,o.chain(l,o.get(f,u)))},o.chainPathAfter=function(f,u,l){return o.set(f,u,o.chain(o.get(f,u),l))},o.setDecomp=function(f){o._decomp=f},o.getDecomp=function(){var f=o._decomp;try{!f&&typeof window<"u"&&(f=window.decomp),!f&&typeof s.g<"u"&&(f=s.g.decomp)}catch{f=null}return f}}()},48413:(n,C,s)=>{var o={};n.exports=o;var y=s(53614),f=s(66272),u=s(81388),l=s(99561),a=s(35810),d=s(69351),v=s(48140),h=s(53402),c=s(22562);(function(){o._deltaMax=16.666666666666668,o.create=function(p){p=p||{};var m={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},x=h.extend(m,p);return x.world=p.world||d.create({label:"World"}),x.pairs=p.pairs||l.create(),x.detector=p.detector||u.create(),x.detector.pairs=x.pairs,x.grid={buckets:[]},x.world.gravity=x.gravity,x.broadphase=x.grid,x.metrics={},x},o.update=function(p,m){var x=h.now(),T=p.world,P=p.detector,M=p.pairs,E=p.timing,w=E.timestamp,R;m>o._deltaMax&&h.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",o._deltaMax.toFixed(3),"ms."),m=typeof m<"u"?m:h._baseDelta,m*=E.timeScale,E.timestamp+=m,E.lastDelta=m;var A={timestamp:E.timestamp,delta:m};a.trigger(p,"beforeUpdate",A);var L=d.allBodies(T),b=d.allConstraints(T),O=d.allComposites(T);for(T.isModified&&(u.setBodies(P,L),d.setModified(T,!1,!1,!0)),p.enableSleeping&&y.update(L,m),o._bodiesApplyGravity(L,p.gravity),o.wrap(L,O),o.attractors(L),m>0&&o._bodiesUpdate(L,m),a.trigger(p,"beforeSolve",A),v.preSolveAll(L),R=0;R<p.constraintIterations;R++)v.solveAll(b,m);v.postSolveAll(L);var F=u.collisions(P);l.update(M,F,w),p.enableSleeping&&y.afterCollisions(M.list),M.collisionStart.length>0&&a.trigger(p,"collisionStart",{pairs:M.collisionStart,timestamp:E.timestamp,delta:m});var D=h.clamp(20/p.positionIterations,0,1);for(f.preSolvePosition(M.list),R=0;R<p.positionIterations;R++)f.solvePosition(M.list,m,D);for(f.postSolvePosition(L),v.preSolveAll(L),R=0;R<p.constraintIterations;R++)v.solveAll(b,m);for(v.postSolveAll(L),f.preSolveVelocity(M.list),R=0;R<p.velocityIterations;R++)f.solveVelocity(M.list,m);return o._bodiesUpdateVelocities(L),M.collisionActive.length>0&&a.trigger(p,"collisionActive",{pairs:M.collisionActive,timestamp:E.timestamp,delta:m}),M.collisionEnd.length>0&&a.trigger(p,"collisionEnd",{pairs:M.collisionEnd,timestamp:E.timestamp,delta:m}),o._bodiesClearForces(L),a.trigger(p,"afterUpdate",A),p.timing.lastElapsed=h.now()-x,p},o.merge=function(p,m){if(h.extend(p,m),m.world){p.world=m.world,o.clear(p);for(var x=d.allBodies(p.world),T=0;T<x.length;T++){var P=x[T];y.set(P,!1),P.id=h.nextId()}}},o.clear=function(p){l.clear(p.pairs),u.clear(p.detector)},o._bodiesClearForces=function(p){for(var m=p.length,x=0;x<m;x++){var T=p[x];T.force.x=0,T.force.y=0,T.torque=0}},o._bodiesApplyGravity=function(p,m){var x=typeof m.scale<"u"?m.scale:.001,T=p.length;if(!(m.x===0&&m.y===0||x===0))for(var P=0;P<T;P++){var M=p[P];M.ignoreGravity||M.isStatic||M.isSleeping||(M.force.y+=M.mass*m.y*x,M.force.x+=M.mass*m.x*x)}},o._bodiesUpdate=function(p,m){for(var x=p.length,T=0;T<x;T++){var P=p[T];P.isStatic||P.isSleeping||c.update(P,m)}},o._bodiesUpdateVelocities=function(p){for(var m=p.length,x=0;x<m;x++)c.updateVelocities(p[x])},o.wrap=function(p,m){for(var x=0;x<p.length;x+=1){var T=p[x];T.wrapBounds!==null&&c.wrap(T,T.wrapBounds)}for(x=0;x<m.length;x+=1){var P=m[x];P.wrapBounds!==null&&d.wrap(P,P.wrapBounds)}},o.attractors=function(p){for(var m=0;m<p.length;m++){var x=p[m],T=x.attractors;if(T&&T.length>0)for(var P=0;P<p.length;P++){var M=p[P];if(m!==P)for(var E=0;E<T.length;E++){var w=T[E],R=w;h.isFunction(w)&&(R=w(x,M)),R&&c.applyForce(M,M.position,R)}}}}})()},35810:(n,C,s)=>{var o={};n.exports=o;var y=s(53402);(function(){o.on=function(f,u,l){for(var a=u.split(" "),d,v=0;v<a.length;v++)d=a[v],f.events=f.events||{},f.events[d]=f.events[d]||[],f.events[d].push(l);return l},o.off=function(f,u,l){if(!u){f.events={};return}typeof u=="function"&&(l=u,u=y.keys(f.events).join(" "));for(var a=u.split(" "),d=0;d<a.length;d++){var v=f.events[a[d]],h=[];if(l&&v)for(var c=0;c<v.length;c++)v[c]!==l&&h.push(v[c]);f.events[a[d]]=h}},o.trigger=function(f,u,l){var a,d,v,h,c=f.events;if(c&&y.keys(c).length>0){l||(l={}),a=u.split(" ");for(var p=0;p<a.length;p++)if(d=a[p],v=c[d],v){h=y.clone(l,!1),h.name=d,h.source=f;for(var m=0;m<v.length;m++)v[m].apply(f,[h])}}}})()},6790:(n,C,s)=>{var o={};n.exports=o;var y=s(73832),f=s(53402);(function(){o.name="matter-js",o.version="0.20.0",o.uses=[],o.used=[],o.use=function(){y.use(o,Array.prototype.slice.call(arguments))},o.before=function(u,l){return u=u.replace(/^Matter./,""),f.chainPathBefore(o,u,l)},o.after=function(u,l){return u=u.replace(/^Matter./,""),f.chainPathAfter(o,u,l)}})()},73832:(n,C,s)=>{var o={};n.exports=o;var y=s(53402);(function(){o._registry={},o.register=function(f){if(o.isPlugin(f)||y.warn("Plugin.register:",o.toString(f),"does not implement all required fields."),f.name in o._registry){var u=o._registry[f.name],l=o.versionParse(f.version).number,a=o.versionParse(u.version).number;l>a?(y.warn("Plugin.register:",o.toString(u),"was upgraded to",o.toString(f)),o._registry[f.name]=f):l<a?y.warn("Plugin.register:",o.toString(u),"can not be downgraded to",o.toString(f)):f!==u&&y.warn("Plugin.register:",o.toString(f),"is already registered to different plugin object")}else o._registry[f.name]=f;return f},o.resolve=function(f){return o._registry[o.dependencyParse(f).name]},o.toString=function(f){return typeof f=="string"?f:(f.name||"anonymous")+"@"+(f.version||f.range||"0.0.0")},o.isPlugin=function(f){return f&&f.name&&f.version&&f.install},o.isUsed=function(f,u){return f.used.indexOf(u)>-1},o.isFor=function(f,u){var l=f.for&&o.dependencyParse(f.for);return!f.for||u.name===l.name&&o.versionSatisfies(u.version,l.range)},o.use=function(f,u){if(f.uses=(f.uses||[]).concat(u||[]),f.uses.length===0){y.warn("Plugin.use:",o.toString(f),"does not specify any dependencies to install.");return}for(var l=o.dependencies(f),a=y.topologicalSort(l),d=[],v=0;v<a.length;v+=1)if(a[v]!==f.name){var h=o.resolve(a[v]);if(!h){d.push(" "+a[v]);continue}o.isUsed(f,h.name)||(o.isFor(h,f)||(y.warn("Plugin.use:",o.toString(h),"is for",h.for,"but installed on",o.toString(f)+"."),h._warned=!0),h.install?h.install(f):(y.warn("Plugin.use:",o.toString(h),"does not specify an install function."),h._warned=!0),h._warned?(d.push(" "+o.toString(h)),delete h._warned):d.push(" "+o.toString(h)),f.used.push(h.name))}d.length>0&&!h.silent&&y.info(d.join("  "))},o.dependencies=function(f,u){var l=o.dependencyParse(f),a=l.name;if(u=u||{},!(a in u)){f=o.resolve(f)||f,u[a]=y.map(f.uses||[],function(v){o.isPlugin(v)&&o.register(v);var h=o.dependencyParse(v),c=o.resolve(v);return c&&!o.versionSatisfies(c.version,h.range)?(y.warn("Plugin.dependencies:",o.toString(c),"does not satisfy",o.toString(h),"used by",o.toString(l)+"."),c._warned=!0,f._warned=!0):c||(y.warn("Plugin.dependencies:",o.toString(v),"used by",o.toString(l),"could not be resolved."),f._warned=!0),h.name});for(var d=0;d<u[a].length;d+=1)o.dependencies(u[a][d],u);return u}},o.dependencyParse=function(f){if(y.isString(f)){var u=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return u.test(f)||y.warn("Plugin.dependencyParse:",f,"is not a valid dependency string."),{name:f.split("@")[0],range:f.split("@")[1]||"*"}}return{name:f.name,range:f.range||f.version}},o.versionParse=function(f){var u=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;u.test(f)||y.warn("Plugin.versionParse:",f,"is not a valid version or range.");var l=u.exec(f),a=Number(l[4]),d=Number(l[5]),v=Number(l[6]);return{isRange:!!(l[1]||l[2]),version:l[3],range:f,operator:l[1]||l[2]||"",major:a,minor:d,patch:v,parts:[a,d,v],prerelease:l[7],number:a*1e8+d*1e4+v}},o.versionSatisfies=function(f,u){u=u||"*";var l=o.versionParse(u),a=o.versionParse(f);if(l.isRange){if(l.operator==="*"||f==="*")return!0;if(l.operator===">")return a.number>l.number;if(l.operator===">=")return a.number>=l.number;if(l.operator==="~")return a.major===l.major&&a.minor===l.minor&&a.patch>=l.patch;if(l.operator==="^")return l.major>0?a.major===l.major&&a.number>=l.number:l.minor>0?a.minor===l.minor&&a.patch>=l.patch:a.patch===l.patch}return f===u||f==="*"}})()},13037:(n,C,s)=>{var o={};n.exports=o;var y=s(35810),f=s(48413),u=s(53402);(function(){o._maxFrameDelta=66.66666666666667,o._frameDeltaFallback=16.666666666666668,o._timeBufferMargin=1.5,o._elapsedNextEstimate=1,o._smoothingLowerBound=.1,o._smoothingUpperBound=.9,o.create=function(a){var d={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},v=u.extend(d,a);return v.fps=0,v},o.run=function(a,d){return a.timeBuffer=o._frameDeltaFallback,function v(h){a.frameRequestId=o._onNextFrame(a,v),h&&a.enabled&&o.tick(a,d,h)}(),a},o.tick=function(a,d,v){var h=u.now(),c=a.delta,p=0,m=v-a.timeLastTick;if((!m||!a.timeLastTick||m>Math.max(o._maxFrameDelta,a.maxFrameTime))&&(m=a.frameDelta||o._frameDeltaFallback),a.frameDeltaSmoothing){a.frameDeltaHistory.push(m),a.frameDeltaHistory=a.frameDeltaHistory.slice(-a.frameDeltaHistorySize);var x=a.frameDeltaHistory.slice(0).sort(),T=a.frameDeltaHistory.slice(x.length*o._smoothingLowerBound,x.length*o._smoothingUpperBound),P=l(T);m=P||m}a.frameDeltaSnapping&&(m=1e3/Math.round(1e3/m)),a.frameDelta=m,a.timeLastTick=v,a.timeBuffer+=a.frameDelta,a.timeBuffer=u.clamp(a.timeBuffer,0,a.frameDelta+c*o._timeBufferMargin),a.lastUpdatesDeferred=0;var M=a.maxUpdates||Math.ceil(a.maxFrameTime/c),E={timestamp:d.timing.timestamp};y.trigger(a,"beforeTick",E),y.trigger(a,"tick",E);for(var w=u.now();c>0&&a.timeBuffer>=c*o._timeBufferMargin;){y.trigger(a,"beforeUpdate",E),f.update(d,c),y.trigger(a,"afterUpdate",E),a.timeBuffer-=c,p+=1;var R=u.now()-h,A=u.now()-w,L=R+o._elapsedNextEstimate*A/p;if(p>=M||L>a.maxFrameTime){a.lastUpdatesDeferred=Math.round(Math.max(0,a.timeBuffer/c-o._timeBufferMargin));break}}d.timing.lastUpdatesPerFrame=p,y.trigger(a,"afterTick",E),a.frameDeltaHistory.length>=100&&(a.lastUpdatesDeferred&&Math.round(a.frameDelta/c)>M?u.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):a.lastUpdatesDeferred&&u.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof a.isFixed<"u"&&u.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(a.deltaMin||a.deltaMax)&&u.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),a.fps!==0&&u.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},o.stop=function(a){o._cancelNextFrame(a)},o._onNextFrame=function(a,d){if(typeof window<"u"&&window.requestAnimationFrame)a.frameRequestId=window.requestAnimationFrame(d);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return a.frameRequestId},o._cancelNextFrame=function(a){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(a.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var l=function(a){for(var d=0,v=a.length,h=0;h<v;h+=1)d+=a[h];return d/v||0};o._mean=l})()},53614:(n,C,s)=>{var o={};n.exports=o;var y=s(22562),f=s(35810),u=s(53402);(function(){o._motionWakeThreshold=.18,o._motionSleepThreshold=.08,o._minBias=.9,o.update=function(l,a){for(var d=a/u._baseDelta,v=o._motionSleepThreshold,h=0;h<l.length;h++){var c=l[h],p=y.getSpeed(c),m=y.getAngularSpeed(c),x=p*p+m*m;if(c.force.x!==0||c.force.y!==0){o.set(c,!1);continue}var T=Math.min(c.motion,x),P=Math.max(c.motion,x);c.motion=o._minBias*T+(1-o._minBias)*P,c.sleepThreshold>0&&c.motion<v?(c.sleepCounter+=1,c.sleepCounter>=c.sleepThreshold/d&&o.set(c,!0)):c.sleepCounter>0&&(c.sleepCounter-=1)}},o.afterCollisions=function(l){for(var a=o._motionSleepThreshold,d=0;d<l.length;d++){var v=l[d];if(v.isActive){var h=v.collision,c=h.bodyA.parent,p=h.bodyB.parent;if(!(c.isSleeping&&p.isSleeping||c.isStatic||p.isStatic)&&(c.isSleeping||p.isSleeping)){var m=c.isSleeping&&!c.isStatic?c:p,x=m===c?p:c;!m.isStatic&&x.motion>a&&o.set(m,!1)}}}},o.set=function(l,a){var d=l.isSleeping;a?(l.isSleeping=!0,l.sleepCounter=l.sleepThreshold,l.positionImpulse.x=0,l.positionImpulse.y=0,l.positionPrev.x=l.position.x,l.positionPrev.y=l.position.y,l.anglePrev=l.angle,l.speed=0,l.angularSpeed=0,l.motion=0,d||f.trigger(l,"sleepStart")):(l.isSleeping=!1,l.sleepCounter=0,d&&f.trigger(l,"sleepEnd"))}})()},66280:(n,C,s)=>{var o={};n.exports=o;var y=s(41598),f=s(53402),u=s(22562),l=s(15647),a=s(31725);(function(){o.rectangle=function(d,v,h,c,p){p=p||{};var m={label:"Rectangle Body",position:{x:d,y:v},vertices:y.fromPath("L 0 0 L "+h+" 0 L "+h+" "+c+" L 0 "+c)};if(p.chamfer){var x=p.chamfer;m.vertices=y.chamfer(m.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete p.chamfer}return u.create(f.extend({},m,p))},o.trapezoid=function(d,v,h,c,p,m){m=m||{},p>=1&&f.warn("Bodies.trapezoid: slope parameter must be < 1."),p*=.5;var x=(1-p*2)*h,T=h*p,P=T+x,M=P+T,E;p<.5?E="L 0 0 L "+T+" "+-c+" L "+P+" "+-c+" L "+M+" 0":E="L 0 0 L "+P+" "+-c+" L "+M+" 0";var w={label:"Trapezoid Body",position:{x:d,y:v},vertices:y.fromPath(E)};if(m.chamfer){var R=m.chamfer;w.vertices=y.chamfer(w.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete m.chamfer}return u.create(f.extend({},w,m))},o.circle=function(d,v,h,c,p){c=c||{};var m={label:"Circle Body",circleRadius:h};p=p||25;var x=Math.ceil(Math.max(10,Math.min(p,h)));return x%2===1&&(x+=1),o.polygon(d,v,x,h,f.extend({},m,c))},o.polygon=function(d,v,h,c,p){if(p=p||{},h<3)return o.circle(d,v,c,p);for(var m=2*Math.PI/h,x="",T=m*.5,P=0;P<h;P+=1){var M=T+P*m,E=Math.cos(M)*c,w=Math.sin(M)*c;x+="L "+E.toFixed(3)+" "+w.toFixed(3)+" "}var R={label:"Polygon Body",position:{x:d,y:v},vertices:y.fromPath(x)};if(p.chamfer){var A=p.chamfer;R.vertices=y.chamfer(R.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete p.chamfer}return u.create(f.extend({},R,p))},o.fromVertices=function(d,v,h,c,p,m,x,T){var P=f.getDecomp(),M,E,w,R,A,L,b,O,F,D,B;for(M=!!(P&&P.quickDecomp),c=c||{},w=[],p=typeof p<"u"?p:!1,m=typeof m<"u"?m:.01,x=typeof x<"u"?x:10,T=typeof T<"u"?T:.01,f.isArray(h[0])||(h=[h]),D=0;D<h.length;D+=1)if(L=h[D],R=y.isConvex(L),A=!R,A&&!M&&f.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),R||!M)R?L=y.clockwiseSort(L):L=y.hull(L),w.push({position:{x:d,y:v},vertices:L});else{var N=L.map(function($){return[$.x,$.y]});P.makeCCW(N),m!==!1&&P.removeCollinearPoints(N,m),T!==!1&&P.removeDuplicatePoints&&P.removeDuplicatePoints(N,T);var z=P.quickDecomp(N);for(b=0;b<z.length;b++){var W=z[b],X=W.map(function($){return{x:$[0],y:$[1]}});x>0&&y.area(X)<x||w.push({position:y.centre(X),vertices:X})}}for(b=0;b<w.length;b++)w[b]=u.create(f.extend(w[b],c));if(p){var k=5;for(b=0;b<w.length;b++){var V=w[b];for(O=b+1;O<w.length;O++){var I=w[O];if(l.overlaps(V.bounds,I.bounds)){var U=V.vertices,G=I.vertices;for(F=0;F<V.vertices.length;F++)for(B=0;B<I.vertices.length;B++){var Y=a.magnitudeSquared(a.sub(U[(F+1)%U.length],G[B])),H=a.magnitudeSquared(a.sub(U[F],G[(B+1)%G.length]));Y<k&&H<k&&(U[F].isInternal=!0,G[B].isInternal=!0)}}}}}return w.length>1?(E=u.create(f.extend({parts:w.slice(0)},c)),u.setPosition(E,{x:d,y:v}),E):w[0]},o.flagCoincidentParts=function(d,v){v===void 0&&(v=5);for(var h=0;h<d.length;h++)for(var c=d[h],p=h+1;p<d.length;p++){var m=d[p];if(l.overlaps(c.bounds,m.bounds))for(var x=c.vertices,T=m.vertices,P=0;P<c.vertices.length;P++)for(var M=0;M<m.vertices.length;M++){var E=a.magnitudeSquared(a.sub(x[(P+1)%x.length],T[M])),w=a.magnitudeSquared(a.sub(x[P],T[(M+1)%T.length]));E<v&&w<v&&(x[P].isInternal=!0,T[M].isInternal=!0)}}return d}})()},74116:(n,C,s)=>{var o={};n.exports=o;var y=s(69351),f=s(48140),u=s(53402),l=s(22562),a=s(66280);(function(){o.stack=function(d,v,h,c,p,m,x){for(var T=y.create({label:"Stack"}),P=d,M=v,E,w=0,R=0;R<c;R++){for(var A=0,L=0;L<h;L++){var b=x(P,M,L,R,E,w);if(b){var O=b.bounds.max.y-b.bounds.min.y,F=b.bounds.max.x-b.bounds.min.x;O>A&&(A=O),l.translate(b,{x:F*.5,y:O*.5}),P=b.bounds.max.x+p,y.addBody(T,b),E=b,w+=1}else P+=p}M+=A+m,P=d}return T},o.chain=function(d,v,h,c,p,m){for(var x=d.bodies,T=1;T<x.length;T++){var P=x[T-1],M=x[T],E=P.bounds.max.y-P.bounds.min.y,w=P.bounds.max.x-P.bounds.min.x,R=M.bounds.max.y-M.bounds.min.y,A=M.bounds.max.x-M.bounds.min.x,L={bodyA:P,pointA:{x:w*v,y:E*h},bodyB:M,pointB:{x:A*c,y:R*p}},b=u.extend(L,m);y.addConstraint(d,f.create(b))}return d.label+=" Chain",d},o.mesh=function(d,v,h,c,p){var m=d.bodies,x,T,P,M,E;for(x=0;x<h;x++){for(T=1;T<v;T++)P=m[T-1+x*v],M=m[T+x*v],y.addConstraint(d,f.create(u.extend({bodyA:P,bodyB:M},p)));if(x>0)for(T=0;T<v;T++)P=m[T+(x-1)*v],M=m[T+x*v],y.addConstraint(d,f.create(u.extend({bodyA:P,bodyB:M},p))),c&&T>0&&(E=m[T-1+(x-1)*v],y.addConstraint(d,f.create(u.extend({bodyA:E,bodyB:M},p)))),c&&T<v-1&&(E=m[T+1+(x-1)*v],y.addConstraint(d,f.create(u.extend({bodyA:E,bodyB:M},p))))}return d.label+=" Mesh",d},o.pyramid=function(d,v,h,c,p,m,x){return o.stack(d,v,h,c,p,m,function(T,P,M,E,w,R){var A=Math.min(c,Math.ceil(h/2)),L=w?w.bounds.max.x-w.bounds.min.x:0;if(!(E>A)){E=A-E;var b=E,O=h-1-E;if(!(M<b||M>O)){R===1&&l.translate(w,{x:(M+(h%2===1?1:-1))*L,y:0});var F=w?M*L:0;return x(d+F+M*p,P,M,E,w,R)}}})},o.newtonsCradle=function(d,v,h,c,p){for(var m=y.create({label:"Newtons Cradle"}),x=0;x<h;x++){var T=1.9,P=a.circle(d+x*(c*T),v+p,c,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),M=f.create({pointA:{x:d+x*(c*T),y:v},bodyB:P});y.addBody(m,P),y.addConstraint(m,M)}return m},o.car=function(d,v,h,c,p){var m=l.nextGroup(!0),x=20,T=-h*.5+x,P=h*.5-x,M=0,E=y.create({label:"Car"}),w=a.rectangle(d,v,h,c,{collisionFilter:{group:m},chamfer:{radius:c*.5},density:2e-4}),R=a.circle(d+T,v+M,p,{collisionFilter:{group:m},friction:.8}),A=a.circle(d+P,v+M,p,{collisionFilter:{group:m},friction:.8}),L=f.create({bodyB:w,pointB:{x:T,y:M},bodyA:R,stiffness:1,length:0}),b=f.create({bodyB:w,pointB:{x:P,y:M},bodyA:A,stiffness:1,length:0});return y.addBody(E,w),y.addBody(E,R),y.addBody(E,A),y.addConstraint(E,L),y.addConstraint(E,b),E},o.softBody=function(d,v,h,c,p,m,x,T,P,M){P=u.extend({inertia:1/0},P),M=u.extend({stiffness:.2,render:{type:"line",anchors:!1}},M);var E=o.stack(d,v,h,c,p,m,function(w,R){return a.circle(w,R,T,P)});return o.mesh(E,h,c,x,M),E.label="Soft Body",E}})()},66615:(n,C,s)=>{var o={};n.exports=o;var y=s(31725),f=s(53402);(function(){o.fromVertices=function(u){for(var l={},a=0;a<u.length;a++){var d=(a+1)%u.length,v=y.normalise({x:u[d].y-u[a].y,y:u[a].x-u[d].x}),h=v.y===0?1/0:v.x/v.y;h=h.toFixed(3).toString(),l[h]=v}return f.values(l)},o.rotate=function(u,l){if(l!==0)for(var a=Math.cos(l),d=Math.sin(l),v=0;v<u.length;v++){var h=u[v],c;c=h.x*a-h.y*d,h.y=h.x*d+h.y*a,h.x=c}}})()},15647:n=>{var C={};n.exports=C,function(){C.create=function(s){var o={min:{x:0,y:0},max:{x:0,y:0}};return s&&C.update(o,s),o},C.update=function(s,o,y){s.min.x=1/0,s.max.x=-1/0,s.min.y=1/0,s.max.y=-1/0;for(var f=0;f<o.length;f++){var u=o[f];u.x>s.max.x&&(s.max.x=u.x),u.x<s.min.x&&(s.min.x=u.x),u.y>s.max.y&&(s.max.y=u.y),u.y<s.min.y&&(s.min.y=u.y)}y&&(y.x>0?s.max.x+=y.x:s.min.x+=y.x,y.y>0?s.max.y+=y.y:s.min.y+=y.y)},C.contains=function(s,o){return o.x>=s.min.x&&o.x<=s.max.x&&o.y>=s.min.y&&o.y<=s.max.y},C.overlaps=function(s,o){return s.min.x<=o.max.x&&s.max.x>=o.min.x&&s.max.y>=o.min.y&&s.min.y<=o.max.y},C.translate=function(s,o){s.min.x+=o.x,s.max.x+=o.x,s.min.y+=o.y,s.max.y+=o.y},C.shift=function(s,o){var y=s.max.x-s.min.x,f=s.max.y-s.min.y;s.min.x=o.x,s.max.x=o.x+y,s.min.y=o.y,s.max.y=o.y+f},C.wrap=function(s,o,y){var f=null,u=null;if(typeof o.min.x<"u"&&typeof o.max.x<"u"&&(s.min.x>o.max.x?f=o.min.x-s.max.x:s.max.x<o.min.x&&(f=o.max.x-s.min.x)),typeof o.min.y<"u"&&typeof o.max.y<"u"&&(s.min.y>o.max.y?u=o.min.y-s.max.y:s.max.y<o.min.y&&(u=o.max.y-s.min.y)),f!==null||u!==null)return{x:f||0,y:u||0}}}()},74058:(n,C,s)=>{var o={};n.exports=o,s(15647);var y=s(53402);(function(){o.pathToVertices=function(f,u){typeof window<"u"&&!("SVGPathSeg"in window)&&y.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var l,a,d,v,h,c,p,m,x,T,P=[],M,E,w=0,R=0,A=0;u=u||15;var L=function(O,F,D){var B=D%2===1&&D>1;if(!x||O!=x.x||F!=x.y){x&&B?(M=x.x,E=x.y):(M=0,E=0);var N={x:M+O,y:E+F};(B||!x)&&(x=N),P.push(N),R=M+O,A=E+F}},b=function(O){var F=O.pathSegTypeAsLetter.toUpperCase();if(F!=="Z"){switch(F){case"M":case"L":case"T":case"C":case"S":case"Q":R=O.x,A=O.y;break;case"H":R=O.x;break;case"V":A=O.y;break}L(R,A,O.pathSegType)}};for(o._svgPathToAbsolute(f),d=f.getTotalLength(),c=[],l=0;l<f.pathSegList.numberOfItems;l+=1)c.push(f.pathSegList.getItem(l));for(p=c.concat();w<d;){if(T=f.getPathSegAtLength(w),h=c[T],h!=m){for(;p.length&&p[0]!=h;)b(p.shift());m=h}switch(h.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":v=f.getPointAtLength(w),L(v.x,v.y,0);break}w+=u}for(l=0,a=p.length;l<a;++l)b(p[l]);return P},o._svgPathToAbsolute=function(f){for(var u,l,a,d,v,h,c=f.pathSegList,p=0,m=0,x=c.numberOfItems,T=0;T<x;++T){var P=c.getItem(T),M=P.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(M))"x"in P&&(p=P.x),"y"in P&&(m=P.y);else switch("x1"in P&&(a=p+P.x1),"x2"in P&&(v=p+P.x2),"y1"in P&&(d=m+P.y1),"y2"in P&&(h=m+P.y2),"x"in P&&(p+=P.x),"y"in P&&(m+=P.y),M){case"m":c.replaceItem(f.createSVGPathSegMovetoAbs(p,m),T);break;case"l":c.replaceItem(f.createSVGPathSegLinetoAbs(p,m),T);break;case"h":c.replaceItem(f.createSVGPathSegLinetoHorizontalAbs(p),T);break;case"v":c.replaceItem(f.createSVGPathSegLinetoVerticalAbs(m),T);break;case"c":c.replaceItem(f.createSVGPathSegCurvetoCubicAbs(p,m,a,d,v,h),T);break;case"s":c.replaceItem(f.createSVGPathSegCurvetoCubicSmoothAbs(p,m,v,h),T);break;case"q":c.replaceItem(f.createSVGPathSegCurvetoQuadraticAbs(p,m,a,d),T);break;case"t":c.replaceItem(f.createSVGPathSegCurvetoQuadraticSmoothAbs(p,m),T);break;case"a":c.replaceItem(f.createSVGPathSegArcAbs(p,m,P.r1,P.r2,P.angle,P.largeArcFlag,P.sweepFlag),T);break;case"z":case"Z":p=u,m=l;break}(M=="M"||M=="m")&&(u=p,l=m)}}})()},31725:n=>{var C={};n.exports=C,function(){C.create=function(s,o){return{x:s||0,y:o||0}},C.clone=function(s){return{x:s.x,y:s.y}},C.magnitude=function(s){return Math.sqrt(s.x*s.x+s.y*s.y)},C.magnitudeSquared=function(s){return s.x*s.x+s.y*s.y},C.rotate=function(s,o,y){var f=Math.cos(o),u=Math.sin(o);y||(y={});var l=s.x*f-s.y*u;return y.y=s.x*u+s.y*f,y.x=l,y},C.rotateAbout=function(s,o,y,f){var u=Math.cos(o),l=Math.sin(o);f||(f={});var a=y.x+((s.x-y.x)*u-(s.y-y.y)*l);return f.y=y.y+((s.x-y.x)*l+(s.y-y.y)*u),f.x=a,f},C.normalise=function(s){var o=C.magnitude(s);return o===0?{x:0,y:0}:{x:s.x/o,y:s.y/o}},C.dot=function(s,o){return s.x*o.x+s.y*o.y},C.cross=function(s,o){return s.x*o.y-s.y*o.x},C.cross3=function(s,o,y){return(o.x-s.x)*(y.y-s.y)-(o.y-s.y)*(y.x-s.x)},C.add=function(s,o,y){return y||(y={}),y.x=s.x+o.x,y.y=s.y+o.y,y},C.sub=function(s,o,y){return y||(y={}),y.x=s.x-o.x,y.y=s.y-o.y,y},C.mult=function(s,o){return{x:s.x*o,y:s.y*o}},C.div=function(s,o){return{x:s.x/o,y:s.y/o}},C.perp=function(s,o){return o=o===!0?-1:1,{x:o*-s.y,y:o*s.x}},C.neg=function(s){return{x:-s.x,y:-s.y}},C.angle=function(s,o){return Math.atan2(o.y-s.y,o.x-s.x)},C._temp=[C.create(),C.create(),C.create(),C.create(),C.create(),C.create()]}()},41598:(n,C,s)=>{var o={};n.exports=o;var y=s(31725),f=s(53402);(function(){o.create=function(u,l){for(var a=[],d=0;d<u.length;d++){var v=u[d],h={x:v.x,y:v.y,index:d,body:l,isInternal:!1};a.push(h)}return a},o.fromPath=function(u,l){var a=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,d=[];return u.replace(a,function(v,h,c){d.push({x:parseFloat(h),y:parseFloat(c)})}),o.create(d,l)},o.centre=function(u){for(var l=o.area(u,!0),a={x:0,y:0},d,v,h,c=0;c<u.length;c++)h=(c+1)%u.length,d=y.cross(u[c],u[h]),v=y.mult(y.add(u[c],u[h]),d),a=y.add(a,v);return y.div(a,6*l)},o.mean=function(u){for(var l={x:0,y:0},a=0;a<u.length;a++)l.x+=u[a].x,l.y+=u[a].y;return y.div(l,u.length)},o.area=function(u,l){for(var a=0,d=u.length-1,v=0;v<u.length;v++)a+=(u[d].x-u[v].x)*(u[d].y+u[v].y),d=v;return l?a/2:Math.abs(a)/2},o.inertia=function(u,l){for(var a=0,d=0,v=u,h,c,p=0;p<v.length;p++)c=(p+1)%v.length,h=Math.abs(y.cross(v[c],v[p])),a+=h*(y.dot(v[c],v[c])+y.dot(v[c],v[p])+y.dot(v[p],v[p])),d+=h;return l/6*(a/d)},o.translate=function(u,l,a){a=typeof a<"u"?a:1;var d=u.length,v=l.x*a,h=l.y*a,c;for(c=0;c<d;c++)u[c].x+=v,u[c].y+=h;return u},o.rotate=function(u,l,a){if(l!==0){var d=Math.cos(l),v=Math.sin(l),h=a.x,c=a.y,p=u.length,m,x,T,P;for(P=0;P<p;P++)m=u[P],x=m.x-h,T=m.y-c,m.x=h+(x*d-T*v),m.y=c+(x*v+T*d);return u}},o.contains=function(u,l){for(var a=l.x,d=l.y,v=u.length,h=u[v-1],c,p=0;p<v;p++){if(c=u[p],(a-h.x)*(c.y-h.y)+(d-h.y)*(h.x-c.x)>0)return!1;h=c}return!0},o.scale=function(u,l,a,d){if(l===1&&a===1)return u;d=d||o.centre(u);for(var v,h,c=0;c<u.length;c++)v=u[c],h=y.sub(v,d),u[c].x=d.x+h.x*l,u[c].y=d.y+h.y*a;return u},o.chamfer=function(u,l,a,d,v){typeof l=="number"?l=[l]:l=l||[8],a=typeof a<"u"?a:-1,d=d||2,v=v||14;for(var h=[],c=0;c<u.length;c++){var p=u[c-1>=0?c-1:u.length-1],m=u[c],x=u[(c+1)%u.length],T=l[c<l.length?c:l.length-1];if(T===0){h.push(m);continue}var P=y.normalise({x:m.y-p.y,y:p.x-m.x}),M=y.normalise({x:x.y-m.y,y:m.x-x.x}),E=Math.sqrt(2*Math.pow(T,2)),w=y.mult(f.clone(P),T),R=y.normalise(y.mult(y.add(P,M),.5)),A=y.sub(m,y.mult(R,E)),L=a;a===-1&&(L=Math.pow(T,.32)*1.75),L=f.clamp(L,d,v),L%2===1&&(L+=1);for(var b=Math.acos(y.dot(P,M)),O=b/L,F=0;F<L;F++)h.push(y.add(y.rotate(w,O*F),A))}return h},o.clockwiseSort=function(u){var l=o.mean(u);return u.sort(function(a,d){return y.angle(l,a)-y.angle(l,d)}),u},o.isConvex=function(u){var l=0,a=u.length,d,v,h,c;if(a<3)return null;for(d=0;d<a;d++)if(v=(d+1)%a,h=(d+2)%a,c=(u[v].x-u[d].x)*(u[h].y-u[v].y),c-=(u[v].y-u[d].y)*(u[h].x-u[v].x),c<0?l|=1:c>0&&(l|=2),l===3)return!1;return l!==0?!0:null},o.hull=function(u){var l=[],a=[],d,v;for(u=u.slice(0),u.sort(function(h,c){var p=h.x-c.x;return p!==0?p:h.y-c.y}),v=0;v<u.length;v+=1){for(d=u[v];a.length>=2&&y.cross3(a[a.length-2],a[a.length-1],d)<=0;)a.pop();a.push(d)}for(v=u.length-1;v>=0;v-=1){for(d=u[v];l.length>=2&&y.cross3(l[l.length-2],l[l.length-1],d)<=0;)l.pop();l.push(d)}return l.pop(),a.pop(),l.concat(a)}})()},55973:n=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={decomp:b,quickDecomp:B,isSimple:F,removeCollinearPoints:N,removeDuplicatePoints:z,makeCCW:x};function C(k,V,I){I=I||0;var U=[0,0],G,Y,H,$,K,Z,J;return G=k[1][1]-k[0][1],Y=k[0][0]-k[1][0],H=G*k[0][0]+Y*k[0][1],$=V[1][1]-V[0][1],K=V[0][0]-V[1][0],Z=$*V[0][0]+K*V[0][1],J=G*K-$*Y,W(J,0,I)||(U[0]=(K*H-Y*Z)/J,U[1]=(G*Z-$*H)/J),U}function s(k,V,I,U){var G=V[0]-k[0],Y=V[1]-k[1],H=U[0]-I[0],$=U[1]-I[1];if(H*Y-$*G===0)return!1;var K=(G*(I[1]-k[1])+Y*(k[0]-I[0]))/(H*Y-$*G),Z=(H*(k[1]-I[1])+$*(I[0]-k[0]))/($*G-H*Y);return K>=0&&K<=1&&Z>=0&&Z<=1}function o(k,V,I){return(V[0]-k[0])*(I[1]-k[1])-(I[0]-k[0])*(V[1]-k[1])}function y(k,V,I){return o(k,V,I)>0}function f(k,V,I){return o(k,V,I)>=0}function u(k,V,I){return o(k,V,I)<0}function l(k,V,I){return o(k,V,I)<=0}var a=[],d=[];function v(k,V,I,U){if(U){var G=a,Y=d;G[0]=V[0]-k[0],G[1]=V[1]-k[1],Y[0]=I[0]-V[0],Y[1]=I[1]-V[1];var H=G[0]*Y[0]+G[1]*Y[1],$=Math.sqrt(G[0]*G[0]+G[1]*G[1]),K=Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1]),Z=Math.acos(H/($*K));return Z<U}else return o(k,V,I)===0}function h(k,V){var I=V[0]-k[0],U=V[1]-k[1];return I*I+U*U}function c(k,V){var I=k.length;return k[V<0?V%I+I:V%I]}function p(k){k.length=0}function m(k,V,I,U){for(var G=I;G<U;G++)k.push(V[G])}function x(k){for(var V=0,I=k,U=1;U<k.length;++U)(I[U][1]<I[V][1]||I[U][1]===I[V][1]&&I[U][0]>I[V][0])&&(V=U);return y(c(k,V-1),c(k,V),c(k,V+1))?!1:(T(k),!0)}function T(k){for(var V=[],I=k.length,U=0;U!==I;U++)V.push(k.pop());for(var U=0;U!==I;U++)k[U]=V[U]}function P(k,V){return u(c(k,V-1),c(k,V),c(k,V+1))}var M=[],E=[];function w(k,V,I){var U,G,Y=M,H=E;if(f(c(k,V+1),c(k,V),c(k,I))&&l(c(k,V-1),c(k,V),c(k,I)))return!1;G=h(c(k,V),c(k,I));for(var $=0;$!==k.length;++$)if(!(($+1)%k.length===V||$===V)&&f(c(k,V),c(k,I),c(k,$+1))&&l(c(k,V),c(k,I),c(k,$))&&(Y[0]=c(k,V),Y[1]=c(k,I),H[0]=c(k,$),H[1]=c(k,$+1),U=C(Y,H),h(c(k,V),U)<G))return!1;return!0}function R(k,V,I){for(var U=0;U!==k.length;++U)if(!(U===V||U===I||(U+1)%k.length===V||(U+1)%k.length===I)&&s(c(k,V),c(k,I),c(k,U),c(k,U+1)))return!1;return!0}function A(k,V,I,U){var G=U||[];if(p(G),V<I)for(var Y=V;Y<=I;Y++)G.push(k[Y]);else{for(var Y=0;Y<=I;Y++)G.push(k[Y]);for(var Y=V;Y<k.length;Y++)G.push(k[Y])}return G}function L(k){for(var V=[],I=[],U=[],G=[],Y=Number.MAX_VALUE,H=0;H<k.length;++H)if(P(k,H)){for(var $=0;$<k.length;++$)if(w(k,H,$)){I=L(A(k,H,$,G)),U=L(A(k,$,H,G));for(var K=0;K<U.length;K++)I.push(U[K]);I.length<Y&&(V=I,Y=I.length,V.push([c(k,H),c(k,$)]))}}return V}function b(k){var V=L(k);return V.length>0?O(k,V):[k]}function O(k,V){if(V.length===0)return[k];if(V instanceof Array&&V.length&&V[0]instanceof Array&&V[0].length===2&&V[0][0]instanceof Array){for(var I=[k],U=0;U<V.length;U++)for(var G=V[U],Y=0;Y<I.length;Y++){var H=I[Y],$=O(H,G);if($){I.splice(Y,1),I.push($[0],$[1]);break}}return I}else{var G=V,U=k.indexOf(G[0]),Y=k.indexOf(G[1]);return U!==-1&&Y!==-1?[A(k,U,Y),A(k,Y,U)]:!1}}function F(k){var V=k,I;for(I=0;I<V.length-1;I++)for(var U=0;U<I-1;U++)if(s(V[I],V[I+1],V[U],V[U+1]))return!1;for(I=1;I<V.length-2;I++)if(s(V[0],V[V.length-1],V[I],V[I+1]))return!1;return!0}function D(k,V,I,U,G){G=G||0;var Y=V[1]-k[1],H=k[0]-V[0],$=Y*k[0]+H*k[1],K=U[1]-I[1],Z=I[0]-U[0],J=K*I[0]+Z*I[1],j=Y*Z-K*H;return W(j,0,G)?[0,0]:[(Z*$-H*J)/j,(Y*J-K*$)/j]}function B(k,V,I,U,G,Y,H){Y=Y||100,H=H||0,G=G||25,V=typeof V<"u"?V:[],I=I||[],U=U||[];var $=[0,0],K=[0,0],Z=[0,0],J=0,j=0,Q=0,_=0,it=0,q=0,ht=0,lt=[],ut=[],tt=k,at=k;if(at.length<3)return V;if(H++,H>Y)return console.warn("quickDecomp: max level ("+Y+") reached."),V;for(var ot=0;ot<k.length;++ot)if(P(tt,ot)){I.push(tt[ot]),J=j=Number.MAX_VALUE;for(var pt=0;pt<k.length;++pt)y(c(tt,ot-1),c(tt,ot),c(tt,pt))&&l(c(tt,ot-1),c(tt,ot),c(tt,pt-1))&&(Z=D(c(tt,ot-1),c(tt,ot),c(tt,pt),c(tt,pt-1)),u(c(tt,ot+1),c(tt,ot),Z)&&(Q=h(tt[ot],Z),Q<j&&(j=Q,K=Z,q=pt))),y(c(tt,ot+1),c(tt,ot),c(tt,pt+1))&&l(c(tt,ot+1),c(tt,ot),c(tt,pt))&&(Z=D(c(tt,ot+1),c(tt,ot),c(tt,pt),c(tt,pt+1)),y(c(tt,ot-1),c(tt,ot),Z)&&(Q=h(tt[ot],Z),Q<J&&(J=Q,$=Z,it=pt)));if(q===(it+1)%k.length)Z[0]=(K[0]+$[0])/2,Z[1]=(K[1]+$[1])/2,U.push(Z),ot<it?(m(lt,tt,ot,it+1),lt.push(Z),ut.push(Z),q!==0&&m(ut,tt,q,tt.length),m(ut,tt,0,ot+1)):(ot!==0&&m(lt,tt,ot,tt.length),m(lt,tt,0,it+1),lt.push(Z),ut.push(Z),m(ut,tt,q,ot+1));else{if(q>it&&(it+=k.length),_=Number.MAX_VALUE,it<q)return V;for(var pt=q;pt<=it;++pt)f(c(tt,ot-1),c(tt,ot),c(tt,pt))&&l(c(tt,ot+1),c(tt,ot),c(tt,pt))&&(Q=h(c(tt,ot),c(tt,pt)),Q<_&&R(tt,ot,pt)&&(_=Q,ht=pt%k.length));ot<ht?(m(lt,tt,ot,ht+1),ht!==0&&m(ut,tt,ht,at.length),m(ut,tt,0,ot+1)):(ot!==0&&m(lt,tt,ot,at.length),m(lt,tt,0,ht+1),m(ut,tt,ht,ot+1))}return lt.length<ut.length?(B(lt,V,I,U,G,Y,H),B(ut,V,I,U,G,Y,H)):(B(ut,V,I,U,G,Y,H),B(lt,V,I,U,G,Y,H)),V}return V.push(k),V}function N(k,V){for(var I=0,U=k.length-1;k.length>3&&U>=0;--U)v(c(k,U-1),c(k,U),c(k,U+1),V)&&(k.splice(U%k.length,1),I++);return I}function z(k,V){for(var I=k.length-1;I>=1;--I)for(var U=k[I],G=I-1;G>=0;--G)if(X(U,k[G],V)){k.splice(I,1);continue}}function W(k,V,I){return I=I||0,Math.abs(k-V)<=I}function X(k,V,I){return W(k[0],V[0],I)&&W(k[1],V[1],I)}},52018:(n,C,s)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var o=s(83419),y=new o({initialize:function(u){this.pluginManager=u,this.game=u.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});n.exports=y},42363:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};n.exports=C},37277:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={},s={},o={};o.register=function(y,f,u,l){l===void 0&&(l=!1),C[y]={plugin:f,mapping:u,custom:l}},o.registerCustom=function(y,f,u,l){s[y]={plugin:f,mapping:u,data:l}},o.hasCore=function(y){return C.hasOwnProperty(y)},o.hasCustom=function(y){return s.hasOwnProperty(y)},o.getCore=function(y){return C[y]},o.getCustom=function(y){return s[y]},o.getCustomClass=function(y){return s.hasOwnProperty(y)?s[y].plugin:null},o.remove=function(y){C.hasOwnProperty(y)&&delete C[y]},o.removeCustom=function(y){s.hasOwnProperty(y)&&delete s[y]},o.destroyCorePlugins=function(){for(var y in C)C.hasOwnProperty(y)&&delete C[y]},o.destroyCustomPlugins=function(){for(var y in s)s.hasOwnProperty(y)&&delete s[y]},n.exports=o},77332:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(8443),f=s(50792),u=s(74099),l=s(44603),a=s(39429),d=s(95540),v=s(37277),h=s(72905),c=s(8054),p=new o({Extends:f,initialize:function(x){f.call(this),this.game=x,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],x.isBooted||x.config.renderType===c.HEADLESS?this.boot():x.events.once(y.BOOT,this.boot,this)},boot:function(){var m,x,T,P,M,E,w,R=this.game.config,A=R.installGlobalPlugins;for(A=A.concat(this._pendingGlobal),m=0;m<A.length;m++)x=A[m],T=d(x,"key",null),P=d(x,"plugin",null),M=d(x,"start",!1),E=d(x,"mapping",null),w=d(x,"data",null),T&&(P?this.install(T,P,M,E,w):console.warn("Missing `plugin` for key: "+T));for(A=R.installScenePlugins,A=A.concat(this._pendingScene),m=0;m<A.length;m++)x=A[m],T=d(x,"key",null),P=d(x,"plugin",null),E=d(x,"mapping",null),T&&(P?this.installScenePlugin(T,P,E):console.warn("Missing `plugin` for key: "+T));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(y.DESTROY,this.destroy,this)},addToScene:function(m,x,T){var P,M,E,w=this.game,R=m.scene,A=m.settings.map,L=m.settings.isBooted;for(P=0;P<x.length;P++)M=x[P],w[M]?(m[M]=w[M],A.hasOwnProperty(M)&&(R[A[M]]=m[M])):M==="game"&&A.hasOwnProperty(M)&&(R[A[M]]=w);for(var b=0;b<T.length;b++)for(E=T[b],P=0;P<E.length;P++)if(M=E[P],!!v.hasCore(M)){var O=v.getCore(M),F=O.mapping,D=new O.plugin(R,this,F);m[F]=D,O.custom?R[F]=D:A.hasOwnProperty(F)&&(R[A[F]]=D),L&&D.boot()}for(E=this.plugins,P=0;P<E.length;P++){var B=E[P];B.mapping&&(R[B.mapping]=B.plugin)}},getDefaultScenePlugins:function(){var m=this.game.config.defaultPlugins;return m=m.concat(this.scenePlugins),m},installScenePlugin:function(m,x,T,P,M){if(M===void 0&&(M=!1),typeof x!="function"){console.warn("Invalid Scene Plugin: "+m);return}if(v.hasCore(m)||v.register(m,x,T,!0),this.scenePlugins.indexOf(m)===-1)this.scenePlugins.push(m);else if(!M&&v.hasCore(m)){console.warn("Scene Plugin key in use: "+m);return}if(P){var E=new x(P,this,m);P.sys[m]=E,T&&T!==""&&(P[T]=E),E.boot()}},install:function(m,x,T,P,M){if(T===void 0&&(T=!1),P===void 0&&(P=null),M===void 0&&(M=null),typeof x!="function")return console.warn("Invalid Plugin: "+m),null;if(v.hasCustom(m))return console.warn("Plugin key in use: "+m),null;if(P!==null&&(T=!0),!this.game.isBooted)this._pendingGlobal.push({key:m,plugin:x,start:T,mapping:P,data:M});else if(v.registerCustom(m,x,P,M),T)return this.start(m);return null},getIndex:function(m){for(var x=this.plugins,T=0;T<x.length;T++){var P=x[T];if(P.key===m)return T}return-1},getEntry:function(m){var x=this.getIndex(m);if(x!==-1)return this.plugins[x]},isActive:function(m){var x=this.getEntry(m);return x&&x.active},start:function(m,x){x===void 0&&(x=m);var T=this.getEntry(x);return T&&!T.active?(T.active=!0,T.plugin.start()):T||(T=this.createEntry(m,x)),T?T.plugin:null},createEntry:function(m,x){var T=v.getCustom(m);if(T){var P=new T.plugin(this);T={key:x,plugin:P,active:!0,mapping:T.mapping,data:T.data},this.plugins.push(T),P.init(T.data),P.start()}return T},stop:function(m){var x=this.getEntry(m);return x&&x.active&&(x.active=!1,x.plugin.stop()),this},get:function(m,x){x===void 0&&(x=!0);var T=this.getEntry(m);if(T)return T.plugin;var P=this.getClass(m);return P&&x?(T=this.createEntry(m,m),T?T.plugin:null):P||null},getClass:function(m){return v.getCustomClass(m)},removeGlobalPlugin:function(m){var x=this.getEntry(m);x&&h(this.plugins,x),v.removeCustom(m)},removeScenePlugin:function(m){h(this.scenePlugins,m),v.remove(m)},registerGameObject:function(m,x,T){return x&&a.register(m,x),T&&l.register(m,T),this},removeGameObject:function(m,x,T){return x===void 0&&(x=!0),T===void 0&&(T=!0),x&&a.remove(m),T&&l.remove(m),this},registerFileType:function(m,x,T){u.register(m,x),T&&T.sys.load&&(T.sys.load[m]=x)},destroy:function(){for(var m=0;m<this.plugins.length;m++)this.plugins[m].plugin.destroy();v.destroyCustomPlugins(),this.game.noReturn&&v.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});n.exports=p},45145:(n,C,s)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var o=s(52018),y=s(83419),f=s(44594),u=new y({Extends:o,initialize:function(a,d,v){o.call(this,d),this.scene=a,this.systems=a.sys,this.pluginKey=v,a.sys.events.once(f.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});n.exports=u},18922:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BasePlugin:s(52018),DefaultPlugins:s(42363),PluginCache:s(37277),PluginManager:s(77332),ScenePlugin:s(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(n){const C=performance.now(),s=this.getVideoPlaybackQuality(),o=this.mozPresentedFrames||this.mozPaintedFrames||s.totalVideoFrames-s.droppedVideoFrames,y=(f,u)=>{const l=this.getVideoPlaybackQuality(),a=this.mozPresentedFrames||this.mozPaintedFrames||l.totalVideoFrames-l.droppedVideoFrames;if(a>o){const d=this.mozFrameDelay||l.totalFrameDelay-s.totalFrameDelay||0,v=u-f;n(u,{presentationTime:u+d*1e3,expectedDisplayTime:u+v,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+v/1e3,presentedFrames:a,processingDuration:d}),delete this._rvfcpolyfillmap[C]}else this._rvfcpolyfillmap[C]=requestAnimationFrame(d=>y(u,d))};return this._rvfcpolyfillmap[C]=requestAnimationFrame(f=>y(C,f)),C},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(n){cancelAnimationFrame(this._rvfcpolyfillmap[n]),delete this._rvfcpolyfillmap[n]})},10312:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={DEFAULT:0,LINEAR:0,NEAREST:1};n.exports=C},68627:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(19715),y=s(32880),f=s(83419),u=s(8054),l=s(50792),a=s(92503),d=s(56373),v=s(97480),h=s(69442),c=s(8443),p=s(61340),m=new f({Extends:l,initialize:function(T){l.call(this);var P=T.config;this.config={clearBeforeRender:P.clearBeforeRender,backgroundColor:P.backgroundColor,antialias:P.antialias,roundPixels:P.roundPixels,transparent:P.transparent},this.game=T,this.type=u.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=T.canvas;var M={alpha:P.transparent,desynchronized:P.desynchronized,willReadFrequently:!1};this.gameContext=P.context?P.context:this.gameCanvas.getContext("2d",M),this.currentContext=this.gameContext,this.antialias=P.antialias,this.blendModes=d(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new p,this._tempMatrix2=new p,this._tempMatrix3=new p,this.isBooted=!1,this.init()},init:function(){var x=this.game;x.events.once(c.BOOT,function(){var T=this.config;if(!T.transparent){var P=this.gameContext,M=this.gameCanvas;P.fillStyle=T.backgroundColor.rgba,P.fillRect(0,0,M.width,M.height)}},this),x.textures.once(h.READY,this.boot,this)},boot:function(){var x=this.game,T=x.scale.baseSize;this.width=T.width,this.height=T.height,this.isBooted=!0,x.scale.on(v.RESIZE,this.onResize,this),this.resize(T.width,T.height)},onResize:function(x,T){(T.width!==this.width||T.height!==this.height)&&this.resize(T.width,T.height)},resize:function(x,T){this.width=x,this.height=T,this.emit(a.RESIZE,x,T)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(x){return this.currentContext.globalCompositeOperation=x,this},setContext:function(x){return this.currentContext=x||this.gameContext,this},setAlpha:function(x){return this.currentContext.globalAlpha=x,this},preRender:function(){var x=this.gameContext,T=this.config,P=this.width,M=this.height;x.globalAlpha=1,x.globalCompositeOperation="source-over",x.setTransform(1,0,0,1,0,0),this.emit(a.PRE_RENDER_CLEAR),T.clearBeforeRender&&(x.clearRect(0,0,P,M),T.transparent||(x.fillStyle=T.backgroundColor.rgba,x.fillRect(0,0,P,M))),x.save(),this.drawCount=0,this.emit(a.PRE_RENDER)},render:function(x,T,P){var M=T.length;this.emit(a.RENDER,x,P);var E=P.x,w=P.y,R=P.width,A=P.height,L=P.renderToTexture?P.context:x.sys.context;L.save(),this.game.scene.customViewports&&(L.beginPath(),L.rect(E,w,R,A),L.clip()),P.emit(o.PRE_RENDER,P),this.currentContext=L;var b=P.mask;b&&b.preRenderCanvas(this,null,P._maskCamera),P.transparent||(L.fillStyle=P.backgroundColor.rgba,L.fillRect(E,w,R,A)),L.globalAlpha=P.alpha,L.globalCompositeOperation="source-over",this.drawCount+=M,P.renderToTexture&&P.emit(o.PRE_RENDER,P),P.matrix.copyToContext(L);for(var O=0;O<M;O++){var F=T[O];F.mask&&F.mask.preRenderCanvas(this,F,P),F.renderCanvas(this,F,P),F.mask&&F.mask.postRenderCanvas(this,F,P)}L.setTransform(1,0,0,1,0,0),L.globalCompositeOperation="source-over",L.globalAlpha=1,P.flashEffect.postRenderCanvas(L),P.fadeEffect.postRenderCanvas(L),P.dirty=!1,b&&b.postRenderCanvas(this),L.restore(),P.renderToTexture&&(P.emit(o.POST_RENDER,P),P.renderToGame&&x.sys.context.drawImage(P.canvas,E,w)),P.emit(o.POST_RENDER,P)},postRender:function(){var x=this.gameContext;x.restore(),this.emit(a.POST_RENDER);var T=this.snapshotState;T.callback&&(y(this.gameCanvas,T),T.callback=null)},snapshotCanvas:function(x,T,P,M,E,w,R,A,L){P===void 0&&(P=!1),this.snapshotArea(M,E,w,R,T,A,L);var b=this.snapshotState;return b.getPixel=P,y(x,b),b.callback=null,this},snapshot:function(x,T,P){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,x,T,P)},snapshotArea:function(x,T,P,M,E,w,R){var A=this.snapshotState;return A.callback=E,A.type=w,A.encoder=R,A.getPixel=!1,A.x=x,A.y=T,A.width=Math.min(P,this.gameCanvas.width),A.height=Math.min(M,this.gameCanvas.height),this},snapshotPixel:function(x,T,P){return this.snapshotArea(x,T,1,1,P),this.snapshotState.getPixel=!0,this},batchSprite:function(x,T,P,M){var E=P.alpha*x.alpha;if(E!==0){var w=this.currentContext,R=this._tempMatrix1,A=this._tempMatrix2,L=T.canvasData,b=L.x,O=L.y,F=T.cutWidth,D=T.cutHeight,B=T.customPivot,N=T.source.resolution,z=x.displayOriginX,W=x.displayOriginY,X=-z+T.x,k=-W+T.y;if(x.isCropped){var V=x._crop;(V.flipX!==x.flipX||V.flipY!==x.flipY)&&T.updateCropUVs(V,x.flipX,x.flipY),F=V.cw,D=V.ch,b=V.cx,O=V.cy,X=-z+V.x,k=-W+V.y,x.flipX&&(X>=0?X=-(X+F):X<0&&(X=Math.abs(X)-F)),x.flipY&&(k>=0?k=-(k+D):k<0&&(k=Math.abs(k)-D))}var I=1,U=1;x.flipX&&(B||(X+=-T.realWidth+z*2),I=-1),x.flipY&&(B||(k+=-T.realHeight+W*2),U=-1);var G=x.x,Y=x.y;if(P.roundPixels&&(G=Math.floor(G),Y=Math.floor(Y)),A.applyITRS(G,Y,x.rotation,x.scaleX*I,x.scaleY*U),R.copyFrom(P.matrix),M?(R.multiplyWithOffset(M,-P.scrollX*x.scrollFactorX,-P.scrollY*x.scrollFactorY),A.e=G,A.f=Y):(A.e-=P.scrollX*x.scrollFactorX,A.f-=P.scrollY*x.scrollFactorY),R.multiply(A),P.renderRoundPixels&&(R.e=Math.floor(R.e+.5),R.f=Math.floor(R.f+.5)),w.save(),R.setToContext(w),w.globalCompositeOperation=this.blendModes[x.blendMode],w.globalAlpha=E,w.imageSmoothingEnabled=!T.source.scaleMode,x.mask&&x.mask.preRenderCanvas(this,x,P),F>0&&D>0){var H=F/N,$=D/N;P.roundPixels&&(X=Math.floor(X+.5),k=Math.floor(k+.5),H+=.5,$+=.5),w.drawImage(T.source.image,b,O,F,D,X,k,H,$)}x.mask&&x.mask.postRenderCanvas(this,x,P),w.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});n.exports=m},55830:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CanvasRenderer:s(68627),GetBlendModes:s(56373),SetTransform:s(20926)}},56373:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10312),y=s(89289),f=function(){var u=[],l=y.supportNewBlendModes,a="source-over";return u[o.NORMAL]=a,u[o.ADD]="lighter",u[o.MULTIPLY]=l?"multiply":a,u[o.SCREEN]=l?"screen":a,u[o.OVERLAY]=l?"overlay":a,u[o.DARKEN]=l?"darken":a,u[o.LIGHTEN]=l?"lighten":a,u[o.COLOR_DODGE]=l?"color-dodge":a,u[o.COLOR_BURN]=l?"color-burn":a,u[o.HARD_LIGHT]=l?"hard-light":a,u[o.SOFT_LIGHT]=l?"soft-light":a,u[o.DIFFERENCE]=l?"difference":a,u[o.EXCLUSION]=l?"exclusion":a,u[o.HUE]=l?"hue":a,u[o.SATURATION]=l?"saturation":a,u[o.COLOR]=l?"color":a,u[o.LUMINOSITY]=l?"luminosity":a,u[o.ERASE]="destination-out",u[o.SOURCE_IN]="source-in",u[o.SOURCE_OUT]="source-out",u[o.SOURCE_ATOP]="source-atop",u[o.DESTINATION_OVER]="destination-over",u[o.DESTINATION_IN]="destination-in",u[o.DESTINATION_OUT]="destination-out",u[o.DESTINATION_ATOP]="destination-atop",u[o.LIGHTER]="lighter",u[o.COPY]="copy",u[o.XOR]="xor",u};n.exports=f},20926:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),y=function(f,u,l,a,d){var v=a.alpha*l.alpha;if(v<=0)return!1;var h=o(l,a,d).calc;return u.globalCompositeOperation=f.blendModes[l.blendMode],u.globalAlpha=v,u.save(),h.setToContext(u),u.imageSmoothingEnabled=l.frame?!l.frame.source.scaleMode:f.antialias,!0};n.exports=y},63899:n=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="losewebgl"},6119:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"},48070:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},15640:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="render"},8912:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resize"},87124:n=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="restorewebgl"},92503:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={LOSE_WEBGL:s(63899),POST_RENDER:s(6119),PRE_RENDER:s(48070),RENDER:s(15640),RESIZE:s(8912),RESTORE_WEBGL:s(87124)}},36909:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:s(92503),Snapshot:s(89966)},n.exports.Canvas=s(55830),n.exports.WebGL=s(4159)},32880:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(27919),y=s(40987),f=s(95540),u=function(l,a){var d=f(a,"callback"),v=f(a,"type","image/png"),h=f(a,"encoder",.92),c=Math.abs(Math.round(f(a,"x",0))),p=Math.abs(Math.round(f(a,"y",0))),m=Math.floor(f(a,"width",l.width)),x=Math.floor(f(a,"height",l.height)),T=f(a,"getPixel",!1);if(T){var P=l.getContext("2d",{willReadFrequently:!1}),M=P.getImageData(c,p,1,1),E=M.data;d.call(null,new y(E[0],E[1],E[2],E[3]))}else if(c!==0||p!==0||m!==l.width||x!==l.height){var w=o.createWebGL(this,m,x),R=w.getContext("2d",{willReadFrequently:!0});m>0&&x>0&&R.drawImage(l,c,p,m,x,0,0,m,x);var A=new Image;A.onerror=function(){d.call(null),o.remove(w)},A.onload=function(){d.call(null,A),o.remove(w)},A.src=w.toDataURL(v,h)}else{var L=new Image;L.onerror=function(){d.call(null)},L.onload=function(){d.call(null,L)},L.src=l.toDataURL(v,h)}};n.exports=u},88815:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(27919),y=s(40987),f=s(95540),u=function(l,a){var d=l,v=f(a,"callback"),h=f(a,"type","image/png"),c=f(a,"encoder",.92),p=Math.abs(Math.round(f(a,"x",0))),m=Math.abs(Math.round(f(a,"y",0))),x=f(a,"getPixel",!1),T=f(a,"isFramebuffer",!1),P=T?f(a,"bufferWidth",1):d.drawingBufferWidth,M=T?f(a,"bufferHeight",1):d.drawingBufferHeight;if(x){var E=new Uint8Array(4),w=T?m:M-m;d.readPixels(p,w,1,1,d.RGBA,d.UNSIGNED_BYTE,E),v.call(null,new y(E[0],E[1],E[2],E[3]))}else{var R=Math.floor(f(a,"width",P)),A=Math.floor(f(a,"height",M)),L=R*A*4,b=new Uint8Array(L);d.readPixels(p,M-m-A,R,A,d.RGBA,d.UNSIGNED_BYTE,b);for(var O=o.createWebGL(this,R,A),F=O.getContext("2d",{willReadFrequently:!0}),D=F.getImageData(0,0,R,A),B=D.data,N=0;N<A;N++)for(var z=0;z<R;z++){var W=((A-N-1)*R+z)*4,X=T?L-(N*R+(R-z))*4:(N*R+z)*4;B[X+0]=b[W+0],B[X+1]=b[W+1],B[X+2]=b[W+2],B[X+3]=b[W+3]}F.putImageData(D,0,0);var k=new Image;k.onerror=function(){v.call(null),o.remove(O)},k.onload=function(){v.call(null,k),o.remove(O)},k.src=O.toDataURL(h,c)}};n.exports=u},89966:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Canvas:s(32880),WebGL:s(88815)}},7530:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(36060),f=s(90330),u=s(82264),l=s(95540),a=s(32302),d=s(63448),v=s(31302),h=s(58918),c=s(14811),p=s(92651),m=s(96569),x=s(56527),T=s(57516),P=s(43439),M=s(81041),E=s(12385),w=s(7589),R=s(95428),A=s(72905),L=new o({initialize:function(O){this.game=O.game,this.renderer=O,this.classes=new f([[y.UTILITY_PIPELINE,w],[y.MULTI_PIPELINE,T],[y.BITMAPMASK_PIPELINE,v],[y.SINGLE_PIPELINE,E],[y.ROPE_PIPELINE,M],[y.LIGHT_PIPELINE,m],[y.POINTLIGHT_PIPELINE,P],[y.MOBILE_PIPELINE,x]]),this.postPipelineClasses=new f,this.pipelines=new f,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(b,O,F){var D=this.renderer,B=this.renderTargets;this.frameInc=Math.floor(l(b,"frameInc",32));var N=D.width,z=D.height,W=this.game.config.disablePreFX,X=this.game.config.disablePostFX;if(X||this.postPipelineClasses.setAll([[String(c.BARREL),h.Barrel],[String(c.BLOOM),h.Bloom],[String(c.BLUR),h.Blur],[String(c.BOKEH),h.Bokeh],[String(c.CIRCLE),h.Circle],[String(c.COLOR_MATRIX),h.ColorMatrix],[String(c.DISPLACEMENT),h.Displacement],[String(c.GLOW),h.Glow],[String(c.GRADIENT),h.Gradient],[String(c.PIXELATE),h.Pixelate],[String(c.SHADOW),h.Shadow],[String(c.SHINE),h.Shine],[String(c.VIGNETTE),h.Vignette],[String(c.WIPE),h.Wipe]]),!W){this.classes.set(y.FX_PIPELINE,p);for(var k=Math.min(N,z),V=Math.ceil(k/this.frameInc),I=1;I<V;I++){var U=I*this.frameInc;B.push(new a(D,U,U)),B.push(new a(D,U,U)),B.push(new a(D,U,U)),this.maxDimension=U}B.push(new a(D,N,z,1,0,!0,!0)),B.push(new a(D,N,z,1,0,!0,!0)),B.push(new a(D,N,z,1,0,!0,!0))}var G,Y,H=this,$=this.game;if(this.classes.each(function(Z,J){G=H.add(Z,new J({game:$})),Z===y.UTILITY_PIPELINE&&(H.UTILITY_PIPELINE=G,H.fullFrame1=G.fullFrame1,H.fullFrame2=G.fullFrame2,H.halfFrame1=G.halfFrame1,H.halfFrame2=G.halfFrame2)}),this.MULTI_PIPELINE=this.get(y.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(y.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(y.MOBILE_PIPELINE),W||(this.FX_PIPELINE=this.get(y.FX_PIPELINE)),b)for(Y in b){var K=b[Y];G=new K($),G.name=Y,G.isPostFX?this.postPipelineClasses.set(Y,K):this.has(Y)||(this.classes.set(Y,K),this.add(Y,G))}this.default=this.get(O),F&&!u.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(b){var O=this.get(b);return O&&(this.default=O),O},add:function(b,O){if(O.isPostFX){console.warn(b+" is a Post Pipeline. Use `addPostPipeline` instead");return}var F=this.pipelines,D=this.renderer;return F.has(b)?console.warn("Pipeline exists: "+b):(O.name=b,O.manager=this,F.set(b,O)),O.hasBooted||O.boot(),D.width!==0&&D.height!==0&&!O.isPreFX&&O.resize(D.width,D.height),O},addPostPipeline:function(b,O){this.postPipelineClasses.has(b)||this.postPipelineClasses.set(b,O)},flush:function(){this.current&&this.current.flush()},has:function(b){var O=this.pipelines;return typeof b=="string"?O.has(b):!!O.contains(b)},get:function(b){var O=this.pipelines;if(typeof b=="string")return O.get(b);if(O.contains(b))return b},getPostPipeline:function(b,O,F){var D=this.postPipelineClasses,B,N="",z=typeof b;if(z==="string"||z==="number"?(B=D.get(b),N=b):z==="function"?(D.contains(b)&&(B=b),N=b.name):z==="object"&&(B=D.get(b.name),N=b.name),B){var W=new B(this.game,F);return W.name=N,O&&(W.gameObject=O),this.postPipelineInstances.push(W),W}},removePostPipeline:function(b){A(this.postPipelineInstances,b)},remove:function(b,O,F){O===void 0&&(O=!0),F===void 0&&(F=!0),this.pipelines.delete(b),O&&this.classes.delete(b),F&&this.postPipelineClasses.delete(b)},set:function(b,O,F){if(!b.isPostFX)return this.isCurrent(b,F)||(this.flush(),this.current&&this.current.unbind(),this.current=b,b.bind(F)),b.updateProjectionMatrix(),b.onBind(O),b},preBatch:function(b){if(b.hasPostPipeline){this.flush();for(var O=b.postPipelines,F=O.length-1;F>=0;F--){var D=O[F];D.active&&D.preBatch(b)}}},postBatch:function(b){if(b.hasPostPipeline){this.flush();for(var O=b.postPipelines,F=0;F<O.length;F++){var D=O[F];D.active&&D.postBatch(b)}}},preBatchCamera:function(b){if(b.hasPostPipeline){this.flush();for(var O=b.postPipelines,F=O.length-1;F>=0;F--){var D=O[F];D.active&&D.preBatch(b)}}},postBatchCamera:function(b){if(b.hasPostPipeline){this.flush();for(var O=b.postPipelines,F=0;F<O.length;F++){var D=O[F];D.active&&D.postBatch(b)}}},isCurrent:function(b,O){var F=this.renderer,D=this.current;return D&&!O&&(O=D.currentShader),!(D!==b||O.program!==F.currentProgram)},copyFrame:function(b,O,F,D,B){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(b,O,F,D,B),this},copyToGame:function(b){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(b),this},drawFrame:function(b,O,F,D){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(b,O,F,D),this},blendFrames:function(b,O,F,D,B){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(b,O,F,D,B),this},blendFramesAdditive:function(b,O,F,D,B){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(b,O,F,D,B),this},clearFrame:function(b,O){return this.UTILITY_PIPELINE.clearFrame(b,O),this},blitFrame:function(b,O,F,D,B,N){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(b,O,F,D,B,N),this},copyFrameRect:function(b,O,F,D,B,N,z,W){return this.UTILITY_PIPELINE.copyFrameRect(b,O,F,D,B,N,z,W),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(b){return this.UTILITY_PIPELINE.bind(b)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(b,O){O.restoreContext()}),R(this.postPipelineInstances,function(b){b.restoreContext()})},rebind:function(b){b===void 0&&this.previous&&(b=this.previous);var O=this.renderer,F=O.gl;F.disable(F.DEPTH_TEST),F.disable(F.CULL_FACE),O.hasActiveStencilMask()?F.clear(F.DEPTH_BUFFER_BIT):(F.disable(F.STENCIL_TEST),F.clear(F.DEPTH_BUFFER_BIT|F.STENCIL_BUFFER_BIT)),F.viewport(0,0,O.width,O.height),O.currentProgram=null,O.setBlendMode(0,!0);var D=O.vaoExtension;D&&D.bindVertexArrayOES(null);var B=this.pipelines.entries;for(var N in B)B[N].glReset=!0;b&&(this.current=b,b.rebind())},clear:function(){var b=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,b.currentProgram=null,b.setBlendMode(0,!0);var O=b.vaoExtension;O&&O.bindVertexArrayOES(null)},getRenderTarget:function(b){var O=this.renderTargets,F=3;if(b>this.maxDimension)return this.targetIndex=O.length-F,O[this.targetIndex];var D=(d(b,this.frameInc,0,!0)-1)*F;return this.targetIndex=D,O[D]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});n.exports=L},32302:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(92503),f=new o({initialize:function(l,a,d,v,h,c,p,m,x){v===void 0&&(v=1),h===void 0&&(h=0),c===void 0&&(c=!0),p===void 0&&(p=!1),m===void 0&&(m=!0),x===void 0&&(x=!0),this.renderer=l,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=v,this.minFilter=h,this.autoClear=c,this.autoResize=!0,this.hasDepthBuffer=m,this.forceClamp=x,this.init(a,d),p?this.renderer.on(y.RESIZE,this.resize,this):this.autoResize=!1},init:function(u,l){var a=this.renderer;this.texture=a.createTextureFromSource(null,u,l,this.minFilter,this.forceClamp),this.framebuffer=a.createFramebuffer(u,l,this.texture,this.hasDepthBuffer),this.width=u,this.height=l},setAutoResize:function(u){return u&&!this.autoResize?(this.renderer.on(y.RESIZE,this.resize,this),this.autoResize=!0):!u&&this.autoResize&&(this.renderer.off(y.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(u,l){if(this.autoResize&&this.willResize(u,l)){var a=this.renderer;a.deleteFramebuffer(this.framebuffer),a.deleteTexture(this.texture),this.texture=a.createTextureFromSource(null,u,l,this.minFilter,this.forceClamp),this.framebuffer=a.createFramebuffer(u,l,this.texture,this.hasDepthBuffer),this.width=u,this.height=l}return this},willResize:function(u,l){return typeof u!="number"||typeof l!="number"?!1:(u=Math.round(u*this.scale),l=Math.round(l*this.scale),u=Math.max(u,1),l=Math.max(l,1),u!==this.width||l!==this.height)},bind:function(u,l,a){u===void 0&&(u=!1);var d=this.renderer;if(u&&d.flush(),l&&a&&this.resize(l,a),d.pushFramebuffer(this.framebuffer,!1,!1),u&&this.adjustViewport(),this.autoClear){var v=this.renderer.gl;v.clearColor(0,0,0,0),v.clear(v.COLOR_BUFFER_BIT)}d.clearStencilMask()},adjustViewport:function(){var u=this.renderer.gl;u.viewport(0,0,this.width,this.height),u.disable(u.SCISSOR_TEST)},clear:function(u,l,a,d){var v=this.renderer,h=v.gl;v.pushFramebuffer(this.framebuffer),u!==void 0&&l!==void 0&&a!==void 0&&d!==void 0?(h.enable(h.SCISSOR_TEST),h.scissor(u,l,a,d)):h.disable(h.SCISSOR_TEST),h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT),v.popFramebuffer(),v.resetScissor()},unbind:function(u){u===void 0&&(u=!1);var l=this.renderer;return u&&l.flush(),l.popFramebuffer()},destroy:function(){var u=this.renderer;u.off(y.RESIZE,this.resize,this),u.deleteFramebuffer(this.framebuffer),u.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});n.exports=f},70554:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={getTintFromFloats:function(C,s,o,y){var f=(C*255|0)&255,u=(s*255|0)&255,l=(o*255|0)&255,a=(y*255|0)&255;return(a<<24|f<<16|u<<8|l)>>>0},getTintAppendFloatAlpha:function(C,s){var o=(s*255|0)&255;return(o<<24|C)>>>0},getTintAppendFloatAlphaAndSwap:function(C,s){var o=(C>>16|0)&255,y=(C>>8|0)&255,f=(C|0)&255,u=(s*255|0)&255;return(u<<24|f<<16|y<<8|o)>>>0},getFloatsFromUintRGB:function(C){var s=(C>>16|0)&255,o=(C>>8|0)&255,y=(C|0)&255;return[s/255,o/255,y/255]},checkShaderMax:function(C,s){var o=Math.min(16,C.getParameter(C.MAX_TEXTURE_IMAGE_UNITS));return!s||s===-1?o:Math.min(o,s)},parseFragmentShaderMaxTextures:function(C,s){if(!C)return"";for(var o="",y=0;y<s;y++)y>0&&(o+=`
	else `),y<s-1&&(o+="if (outTexId < "+y+".5)"),o+=`
	{`,o+=`
		texture = texture2D(uMainSampler[`+y+"], outTexCoord);",o+=`
	}`;return C=C.replace(/%count%/gi,s.toString()),C.replace(/%forloop%/gi,o)},setGlowQuality:function(C,s,o,y){return o===void 0&&(o=s.config.glowFXQuality),y===void 0&&(y=s.config.glowFXDistance),C=C.replace(/__SIZE__/gi,(1/o/y).toFixed(7)),C=C.replace(/__DIST__/gi,y.toFixed(0)+".0"),C}}},29100:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(62644),f=s(50792),u=s(77085),l=s(95540),a=s(37867),d=s(92503),v=s(32302),h=s(70554),c=s(38683),p=new o({Extends:f,initialize:function(x){f.call(this);var T=x.game,P=T.renderer,M=P.gl;this.name=l(x,"name","WebGLPipeline"),this.game=T,this.renderer=P,this.manager,this.gl=M,this.view=T.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=l(x,"topology",M.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=l(x,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=x,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=l(x,"resizeUniform","")},boot:function(){var m,x=this.gl,T=this.config,P=this.renderer;this.isPostFX||(this.projectionMatrix=new a().identity());var M=this.renderTargets,E=l(T,"renderTarget",!1);typeof E=="boolean"&&E&&(E=1);var w=P.width,R=P.height;if(typeof E=="number")for(m=0;m<E;m++)M.push(new v(P,w,R,1,0,!0));else if(Array.isArray(E))for(m=0;m<E.length;m++){var A=l(E[m],"scale",1),L=l(E[m],"minFilter",0),b=l(E[m],"autoClear",1),O=l(E[m],"autoResize",!1),F=l(E[m],"width",null),D=l(E[m],"height",F);F?M.push(new v(P,F,D,1,L,b,O)):M.push(new v(P,w,R,A,L,b,O))}M.length&&(this.currentRenderTarget=M[0]),this.setShadersFromConfig(T);var B=this.shaders,N=0;for(m=0;m<B.length;m++)B[m].vertexSize>N&&(N=B[m].vertexSize);var z=l(T,"batchSize",P.config.batchSize);this.vertexCapacity=z*6;var W=new ArrayBuffer(this.vertexCapacity*N);this.vertexData=W,this.bytes=new Uint8Array(W),this.vertexViewF32=new Float32Array(W),this.vertexViewU32=new Uint32Array(W);var X=l(T,"vertices",null);for(X?(this.vertexViewF32.set(X),this.vertexBuffer=P.createVertexBuffer(W,x.STATIC_DRAW)):this.vertexBuffer=P.createVertexBuffer(W.byteLength,x.DYNAMIC_DRAW),this.setVertexBuffer(),m=B.length-1;m>=0;m--)B[m].rebind();this.hasBooted=!0,P.on(d.RESIZE,this.resize,this),P.on(d.PRE_RENDER,this.onPreRender,this),P.on(d.RENDER,this.onRender,this),P.on(d.POST_RENDER,this.onPostRender,this),this.emit(u.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(m,x,T){var P=this.renderer;if(m!==this.currentShader||P.currentProgram!==this.currentShader.program){this.flush();var M=this.setVertexBuffer(T);M&&!x&&(x=!0),m.bind(x,!1),this.currentShader=m}return this},getShaderByName:function(m){for(var x=this.shaders,T=0;T<x.length;T++)if(x[T].name===m)return x[T]},setShadersFromConfig:function(m){var x,T=this.shaders,P=this.renderer;for(x=0;x<T.length;x++)T[x].destroy();var M="vertShader",E="fragShader",w="attributes",R=l(m,M,null),A=h.parseFragmentShaderMaxTextures(l(m,E,null),P.maxTextures),L=l(m,w,null),b=l(m,"shaders",[]),O=b.length;if(O===0)R&&A&&(this.shaders=[new c(this,"default",R,A,y(L))]);else{var F=[];for(x=0;x<O;x++){var D=b[x],B,N,z,W;if(typeof D=="string"?(B="default",N=R,z=h.parseFragmentShaderMaxTextures(D,P.maxTextures),W=L):(B=l(D,"name","default"),N=l(D,M,R),z=h.parseFragmentShaderMaxTextures(l(D,E,A),P.maxTextures),W=l(D,w,L)),B==="default"){var X=z.split(`
`),k=X[0].trim();k.indexOf("#define SHADER_NAME")>-1&&(B=k.substring(20))}N&&z&&F.push(new c(this,B,N,z,y(W)))}this.shaders=F}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(m){return this.currentBatch={start:this.vertexCount,count:0,texture:[m],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=m,this.batch.push(this.currentBatch),0},addTextureToBatch:function(m){var x=this.currentBatch;x&&(x.texture.push(m),x.unit++,x.maxUnit++)},pushBatch:function(m){if(!this.currentBatch||this.forceZero&&m!==this.currentTexture)return this.createBatch(m);if(m===this.currentTexture)return this.currentUnit;var x=this.currentBatch,T=x.texture.indexOf(m);return T===-1?x.texture.length===this.renderer.maxTextures?this.createBatch(m):(x.unit++,x.maxUnit++,x.texture.push(m),this.currentUnit=x.unit,this.currentTexture=m,x.unit):(this.currentUnit=T,this.currentTexture=m,T)},setGameObject:function(m,x){return x===void 0&&(x=m.frame),this.pushBatch(x.source.glTexture)},shouldFlush:function(m){return m===void 0&&(m=0),this.vertexCount+m>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(m,x){(m!==this.width||x!==this.height)&&this.flush(),this.width=m,this.height=x;for(var T=this.renderTargets,P=0;P<T.length;P++)T[P].resize(m,x);return this.setProjectionMatrix(m,x),this.resizeUniform&&this.set2f(this.resizeUniform,m,x),this.emit(u.RESIZE,m,x,this),this.onResize(m,x),this},setProjectionMatrix:function(m,x){var T=this.projectionMatrix;if(!T)return this;this.projectionWidth=m,this.projectionHeight=x,T.ortho(0,m,x,0,-1e3,1e3);for(var P=this.shaders,M="uProjectionMatrix",E=0;E<P.length;E++){var w=P[E];w.hasUniform(M)&&(w.resetUniform(M),w.setMatrix4fv(M,!1,T.val,w))}return this},flipProjectionMatrix:function(m){m===void 0&&(m=!0);var x=this.projectionMatrix;if(!x)return this;var T=this.projectionWidth,P=this.projectionHeight;m?x.ortho(0,T,0,P,-1e3,1e3):x.ortho(0,T,P,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,x.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var m=this.renderer.projectionWidth,x=this.renderer.projectionHeight;(this.projectionWidth!==m||this.projectionHeight!==x)&&this.setProjectionMatrix(m,x)}},bind:function(m){if(m===void 0&&(m=this.currentShader),this.glReset)return this.rebind(m);var x=!1,T=this.gl;return T.getParameter(T.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(T.bindBuffer(T.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,x=!0),m.bind(x),this.currentShader=m,this.activeTextures.length=0,this.emit(u.BIND,this,m),this.onActive(m),this},rebind:function(m){this.activeBuffer=null,this.setVertexBuffer();for(var x=this.shaders,T=x.length-1;T>=0;T--){var P=x[T].rebind();(!m||P===m)&&(this.currentShader=P)}return this.activeTextures.length=0,this.emit(u.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var m=this.shaders,x=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,x&&this.setVertexBuffer();for(var T=0;T<m.length;T++){var P=m[T];P.syncUniforms(),x&&P.rebind()}},setVertexBuffer:function(m){if(m===void 0&&(m=this.vertexBuffer),m!==this.activeBuffer){var x=this.gl;return this.gl.bindBuffer(x.ARRAY_BUFFER,m.webGLBuffer),this.activeBuffer=m,!0}return!1},preBatch:function(m){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(m),this},postBatch:function(m){return this.onDraw(this.currentRenderTarget),this.onPostBatch(m),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(m){if(m===void 0&&(m=!1),this.vertexCount>0){this.emit(u.BEFORE_FLUSH,this,m),this.onBeforeFlush(m);var x=this.gl,T=this.vertexCount,P=this.currentShader.vertexSize,M=this.topology;if(this.active){this.setVertexBuffer(),T===this.vertexCapacity?x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.DYNAMIC_DRAW):x.bufferSubData(x.ARRAY_BUFFER,0,this.bytes.subarray(0,T*P));var E,w,R,A=this.batch,L=this.activeTextures;if(this.forceZero)for(L[0]||x.activeTexture(x.TEXTURE0),E=0;E<A.length;E++)w=A[E],R=w.texture[0],L[0]!==R&&(x.bindTexture(x.TEXTURE_2D,R.webGLTexture),L[0]=R),x.drawArrays(M,w.start,w.count);else for(E=0;E<A.length;E++){w=A[E];for(var b=0;b<=w.maxUnit;b++)R=w.texture[b],L[b]!==R&&(x.activeTexture(x.TEXTURE0+b),x.bindTexture(x.TEXTURE_2D,R.webGLTexture),L[b]=R);x.drawArrays(M,w.start,w.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(u.AFTER_FLUSH,this,m),this.onAfterFlush(m)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(m,x,T,P,M,E,w){var R=this.vertexViewF32,A=this.vertexViewU32,L=this.vertexCount*this.currentShader.vertexComponentCount-1;R[++L]=m,R[++L]=x,R[++L]=T,R[++L]=P,R[++L]=M,R[++L]=E,A[++L]=w,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(m,x,T,P,M,E,w,R,A,L,b,O,F,D,B,N,z,W,X,k){k===void 0&&(k=this.currentUnit);var V=!1;this.shouldFlush(6)&&(this.flush(),V=!0),this.currentBatch||(k=this.setTexture2D(X));var I=this.vertexViewF32,U=this.vertexViewU32,G=this.vertexCount*this.currentShader.vertexComponentCount-1;return I[++G]=x,I[++G]=T,I[++G]=L,I[++G]=b,I[++G]=k,I[++G]=W,U[++G]=D,I[++G]=P,I[++G]=M,I[++G]=L,I[++G]=F,I[++G]=k,I[++G]=W,U[++G]=N,I[++G]=E,I[++G]=w,I[++G]=O,I[++G]=F,I[++G]=k,I[++G]=W,U[++G]=z,I[++G]=x,I[++G]=T,I[++G]=L,I[++G]=b,I[++G]=k,I[++G]=W,U[++G]=D,I[++G]=E,I[++G]=w,I[++G]=O,I[++G]=F,I[++G]=k,I[++G]=W,U[++G]=z,I[++G]=R,I[++G]=A,I[++G]=O,I[++G]=b,I[++G]=k,I[++G]=W,U[++G]=B,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(m),V},batchTri:function(m,x,T,P,M,E,w,R,A,L,b,O,F,D,B,N,z){z===void 0&&(z=this.currentUnit);var W=!1;this.shouldFlush(3)&&(this.flush(),W=!0),this.currentBatch||(z=this.setTexture2D(N));var X=this.vertexViewF32,k=this.vertexViewU32,V=this.vertexCount*this.currentShader.vertexComponentCount-1;return X[++V]=x,X[++V]=T,X[++V]=R,X[++V]=A,X[++V]=z,X[++V]=B,k[++V]=O,X[++V]=P,X[++V]=M,X[++V]=R,X[++V]=b,X[++V]=z,X[++V]=B,k[++V]=F,X[++V]=E,X[++V]=w,X[++V]=L,X[++V]=b,X[++V]=z,X[++V]=B,k[++V]=D,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(m),W},drawFillRect:function(m,x,T,P,M,E,w,R){w===void 0&&(w=this.renderer.whiteTexture),R===void 0&&(R=!0),m=Math.floor(m),x=Math.floor(x);var A=Math.floor(m+T),L=Math.floor(x+P),b=this.setTexture2D(w),O=h.getTintAppendFloatAlphaAndSwap(M,E),F=0,D=0,B=1,N=1;R&&(D=1,N=0),this.batchQuad(null,m,x,m,L,A,L,A,x,F,D,B,N,O,O,O,O,0,w,b)},setTexture2D:function(m){return m===void 0&&(m=this.renderer.whiteTexture),this.pushBatch(m)},bindTexture:function(m,x){x===void 0&&(x=0);var T=this.gl;return T.activeTexture(T.TEXTURE0+x),T.bindTexture(T.TEXTURE_2D,m.webGLTexture),this},bindRenderTarget:function(m,x){return this.bindTexture(m.texture,x)},setTime:function(m,x){return this.set1f(m,this.game.loop.getDuration(),x),this},setBoolean:function(m,x,T){return T===void 0&&(T=this.currentShader),T.setBoolean(m,x),this},set1f:function(m,x,T){return T===void 0&&(T=this.currentShader),T.set1f(m,x),this},set2f:function(m,x,T,P){return P===void 0&&(P=this.currentShader),P.set2f(m,x,T),this},set3f:function(m,x,T,P,M){return M===void 0&&(M=this.currentShader),M.set3f(m,x,T,P),this},set4f:function(m,x,T,P,M,E){return E===void 0&&(E=this.currentShader),E.set4f(m,x,T,P,M),this},set1fv:function(m,x,T){return T===void 0&&(T=this.currentShader),T.set1fv(m,x),this},set2fv:function(m,x,T){return T===void 0&&(T=this.currentShader),T.set2fv(m,x),this},set3fv:function(m,x,T){return T===void 0&&(T=this.currentShader),T.set3fv(m,x),this},set4fv:function(m,x,T){return T===void 0&&(T=this.currentShader),T.set4fv(m,x),this},set1iv:function(m,x,T){return T===void 0&&(T=this.currentShader),T.set1iv(m,x),this},set2iv:function(m,x,T){return T===void 0&&(T=this.currentShader),T.set2iv(m,x),this},set3iv:function(m,x,T){return T===void 0&&(T=this.currentShader),T.set3iv(m,x),this},set4iv:function(m,x,T){return T===void 0&&(T=this.currentShader),T.set4iv(m,x),this},set1i:function(m,x,T){return T===void 0&&(T=this.currentShader),T.set1i(m,x),this},set2i:function(m,x,T,P){return P===void 0&&(P=this.currentShader),P.set2i(m,x,T),this},set3i:function(m,x,T,P,M){return M===void 0&&(M=this.currentShader),M.set3i(m,x,T,P),this},set4i:function(m,x,T,P,M,E){return E===void 0&&(E=this.currentShader),E.set4i(m,x,T,P,M),this},setMatrix2fv:function(m,x,T,P){return P===void 0&&(P=this.currentShader),P.setMatrix2fv(m,x,T),this},setMatrix3fv:function(m,x,T,P){return P===void 0&&(P=this.currentShader),P.setMatrix3fv(m,x,T),this},setMatrix4fv:function(m,x,T,P){return P===void 0&&(P=this.currentShader),P.setMatrix4fv(m,x,T),this},destroy:function(){this.emit(u.DESTROY,this);var m,x=this.shaders;for(m=0;m<x.length;m++)x[m].destroy();var T=this.renderTargets;for(m=0;m<T.length;m++)T[m].destroy();var P=this.renderer;return P.deleteBuffer(this.vertexBuffer),P.off(d.RESIZE,this.resize,this),P.off(d.PRE_RENDER,this.onPreRender,this),P.off(d.RENDER,this.onRender,this),P.off(d.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});n.exports=p},74797:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95428),y=s(72905),f=s(19715),u=s(83419),l=s(8054),a=s(50792),d=s(92503),v=s(50030),h=s(37867),c=s(29747),p=s(7530),m=s(32302),x=s(97480),T=s(69442),P=s(70554),M=s(88815),E=s(26128),w=s(1482),R=s(82751),A=s(84387),L=s(93567),b=s(57183),O=new u({Extends:a,initialize:function(D){a.call(this);var B=D.config,N={alpha:B.transparent,desynchronized:B.desynchronized,depth:!0,antialias:B.antialiasGL,premultipliedAlpha:B.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:B.failIfMajorPerformanceCaveat,powerPreference:B.powerPreference,preserveDrawingBuffer:B.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:B.clearBeforeRender,antialias:B.antialias,backgroundColor:B.backgroundColor,contextCreation:N,roundPixels:B.roundPixels,maxTextures:B.maxTextures,maxTextureSize:B.maxTextureSize,batchSize:B.batchSize,maxLights:B.maxLights,mipmapFilter:B.mipmapFilter},this.game=D,this.type=l.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=D.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=c,this.contextRestoredHandler=c,this.previousContextLostHandler=c,this.previousContextRestoredHandler=c,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(F){var D,B=this.game,N=this.canvas,z=F.backgroundColor;if(B.config.context?D=B.config.context:D=N.getContext("webgl",F.contextCreation)||N.getContext("experimental-webgl",F.contextCreation),!D||D.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=D,this.setExtensions(),this.setContextHandlers(),B.context=D;for(var W=0;W<=27;W++)this.blendModes.push({func:[D.ONE,D.ONE_MINUS_SRC_ALPHA],equation:D.FUNC_ADD});this.blendModes[1].func=[D.ONE,D.DST_ALPHA],this.blendModes[2].func=[D.DST_COLOR,D.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[D.ONE,D.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[D.ZERO,D.ONE_MINUS_SRC_ALPHA],equation:D.FUNC_REVERSE_SUBTRACT},this.glFormats=[D.BYTE,D.SHORT,D.UNSIGNED_BYTE,D.UNSIGNED_SHORT,D.FLOAT],this.glFuncMap={mat2:{func:D.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:D.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:D.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:D.uniform1f,length:1},"1fv":{func:D.uniform1fv,length:1},"1i":{func:D.uniform1i,length:1},"1iv":{func:D.uniform1iv,length:1},"2f":{func:D.uniform2f,length:2},"2fv":{func:D.uniform2fv,length:1},"2i":{func:D.uniform2i,length:2},"2iv":{func:D.uniform2iv,length:1},"3f":{func:D.uniform3f,length:3},"3fv":{func:D.uniform3fv,length:1},"3i":{func:D.uniform3i,length:3},"3iv":{func:D.uniform3iv,length:1},"4f":{func:D.uniform4f,length:4},"4fv":{func:D.uniform4fv,length:1},"4i":{func:D.uniform4i,length:4},"4iv":{func:D.uniform4iv,length:1}},(!F.maxTextures||F.maxTextures===-1)&&(F.maxTextures=D.getParameter(D.MAX_TEXTURE_IMAGE_UNITS)),F.maxTextureSize||(F.maxTextureSize=D.getParameter(D.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),D.disable(D.DEPTH_TEST),D.disable(D.CULL_FACE),D.enable(D.BLEND),D.clearColor(z.redGL,z.greenGL,z.blueGL,z.alphaGL),D.clear(D.COLOR_BUFFER_BIT);var X=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return X.indexOf(F.mipmapFilter)!==-1&&(this.mipmapFilter=D[F.mipmapFilter]),this.maxTextures=P.checkShaderMax(D,F.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new p(this),this.setBlendMode(l.BlendModes.NORMAL),this.projectionMatrix=new h().identity(),B.textures.once(T.READY,this.boot,this),this},boot:function(){var F=this.game,D=this.pipelines,B=F.scale.baseSize,N=B.width,z=B.height;this.width=N,this.height=z,this.isBooted=!0,this.renderTarget=new m(this,N,z,1,0,!0,!0),this.maskTarget=new m(this,N,z,1,0,!0,!0),this.maskSource=new m(this,N,z,1,0,!0,!0);var W=F.config;D.boot(W.pipeline,W.defaultPipeline,W.autoMobilePipeline),this.blankTexture=F.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=F.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=F.textures.getFrame("__WHITE").glTexture;var X=this.gl;X.bindFramebuffer(X.FRAMEBUFFER,null),X.enable(X.SCISSOR_TEST),F.scale.on(x.RESIZE,this.onResize,this),this.resize(N,z)},setExtensions:function(){var F=this.gl,D=F.getSupportedExtensions();this.supportedExtensions=D;var B="ANGLE_instanced_arrays";this.instancedArraysExtension=D.indexOf(B)>-1?F.getExtension(B):null;var N="OES_vertex_array_object";this.vaoExtension=D.indexOf(N)>-1?F.getExtension(N):null},setContextHandlers:function(F,D){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof F=="function"?this.contextLostHandler=F.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof D=="function"?this.contextRestoredHandler=D.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(F){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(d.LOSE_WEBGL,this),F.preventDefault()},dispatchContextRestored:function(F){var D=this.gl;if(D.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(l.BlendModes.NORMAL),D.disable(D.BLEND),D.disable(D.DEPTH_TEST),D.enable(D.CULL_FACE),this.compression=this.getCompressedTextures();var B=function(N){N.createResource()};o(this.glTextureWrappers,B),o(this.glBufferWrappers,B),o(this.glFramebufferWrappers,B),o(this.glProgramWrappers,B),o(this.glAttribLocationWrappers,B),o(this.glUniformLocationWrappers,B),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(d.RESTORE_WEBGL,this),F.preventDefault()},createTemporaryTextures:function(){for(var F=this.gl,D=0;D<this.maxTextures;D++){var B=F.createTexture();F.activeTexture(F.TEXTURE0+D),F.bindTexture(F.TEXTURE_2D,B),F.texImage2D(F.TEXTURE_2D,0,F.RGBA,1,1,0,F.RGBA,F.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(D)}},captureFrame:function(F,D){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(F,D,B){},stopCapture:function(){},onCapture:function(F){},onResize:function(F,D){(D.width!==this.width||D.height!==this.height)&&this.resize(D.width,D.height)},beginCapture:function(F,D){F===void 0&&(F=this.width),D===void 0&&(D=this.height),this.renderTarget.bind(!0,F,D),this.setProjectionMatrix(F,D)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(F,D){var B=this.gl;return this.width=F,this.height=D,this.setProjectionMatrix(F,D),B.viewport(0,0,F,D),this.drawingBufferHeight=B.drawingBufferHeight,B.scissor(0,B.drawingBufferHeight-D,F,D),this.defaultScissor[2]=F,this.defaultScissor[3]=D,this.emit(d.RESIZE,F,D),this},getCompressedTextures:function(){var F="WEBGL_compressed_texture_",D="WEBKIT_"+F,B="EXT_texture_compression_",N=function(W,X){var k=W.getExtension(F+X)||W.getExtension(D+X)||W.getExtension(B+X);if(k){var V={};for(var I in k)V[k[I]]=I;return V}},z=this.gl;return{ETC:N(z,"etc"),ETC1:N(z,"etc1"),ATC:N(z,"atc"),ASTC:N(z,"astc"),BPTC:N(z,"bptc"),RGTC:N(z,"rgtc"),PVRTC:N(z,"pvrtc"),S3TC:N(z,"s3tc"),S3TCSRGB:N(z,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(F,D){var B=this.compression[F.toUpperCase()];if(D in B)return B[D]},supportsCompressedTexture:function(F,D){var B=this.compression[F.toUpperCase()];return B?D?D in B:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(F,D){return(F!==this.projectionWidth||D!==this.projectionHeight)&&(this.projectionWidth=F,this.projectionHeight=D,this.projectionMatrix.ortho(0,F,D,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(F){return this.supportedExtensions?this.supportedExtensions.indexOf(F):!1},getExtension:function(F){return this.hasExtension(F)?(F in this.extensions||(this.extensions[F]=this.gl.getExtension(F)),this.extensions[F]):null},flush:function(){this.pipelines.flush()},pushScissor:function(F,D,B,N,z){z===void 0&&(z=this.drawingBufferHeight);var W=this.scissorStack,X=[F,D,B,N];return W.push(X),this.setScissor(F,D,B,N,z),this.currentScissor=X,X},setScissor:function(F,D,B,N,z){z===void 0&&(z=this.drawingBufferHeight);var W=this.gl,X=this.currentScissor,k=B>0&&N>0;if(X&&k){var V=X[0],I=X[1],U=X[2],G=X[3];k=V!==F||I!==D||U!==B||G!==N}k&&(this.flush(),W.scissor(F,z-D-N,B,N))},resetScissor:function(){var F=this.gl;F.enable(F.SCISSOR_TEST);var D=this.currentScissor;if(D){var B=D[0],N=D[1],z=D[2],W=D[3];z>0&&W>0&&F.scissor(B,this.drawingBufferHeight-N-W,z,W)}},popScissor:function(){var F=this.scissorStack;F.pop();var D=F[F.length-1];D&&this.setScissor(D[0],D[1],D[2],D[3]),this.currentScissor=D},hasActiveStencilMask:function(){var F=this.currentMask.mask,D=this.currentCameraMask.mask;return F&&F.isStencil||D&&D.isStencil},resetViewport:function(){var F=this.gl;F.viewport(0,0,this.width,this.height),this.drawingBufferHeight=F.drawingBufferHeight},setBlendMode:function(F,D){D===void 0&&(D=!1);var B=this.gl,N=this.blendModes[F];return D||F!==l.BlendModes.SKIP_CHECK&&this.currentBlendMode!==F?(this.flush(),B.enable(B.BLEND),B.blendEquation(N.equation),N.func.length>2?B.blendFuncSeparate(N.func[0],N.func[1],N.func[2],N.func[3]):B.blendFunc(N.func[0],N.func[1]),this.currentBlendMode=F,!0):!1},addBlendMode:function(F,D){var B=this.blendModes.push({func:F,equation:D});return B-1},updateBlendMode:function(F,D,B){return this.blendModes[F]&&(this.blendModes[F].func=D,B&&(this.blendModes[F].equation=B)),this},removeBlendMode:function(F){return F>17&&this.blendModes[F]&&this.blendModes.splice(F,1),this},pushFramebuffer:function(F,D,B,N,z){return F===this.currentFramebuffer?this:(this.fboStack.push(F),this.setFramebuffer(F,D,B,N,z))},setFramebuffer:function(F,D,B,N,z){if(D===void 0&&(D=!1),B===void 0&&(B=!0),N===void 0&&(N=null),z===void 0&&(z=!1),F===this.currentFramebuffer)return this;var W=this.gl,X=this.width,k=this.height;return F&&F.renderTexture&&B?(X=F.renderTexture.width,k=F.renderTexture.height):this.flush(),F?W.bindFramebuffer(W.FRAMEBUFFER,F.webGLFramebuffer):W.bindFramebuffer(W.FRAMEBUFFER,null),B&&W.viewport(0,0,X,k),N&&W.framebufferTexture2D(W.FRAMEBUFFER,W.COLOR_ATTACHMENT0,W.TEXTURE_2D,N.webGLTexture,0),z&&(W.clearColor(0,0,0,0),W.clear(W.COLOR_BUFFER_BIT)),D&&(F?(this.drawingBufferHeight=k,this.pushScissor(0,0,X,k)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=F,this},popFramebuffer:function(F,D){F===void 0&&(F=!1),D===void 0&&(D=!0);var B=this.fboStack;B.pop();var N=B[B.length-1];return N||(N=null),this.setFramebuffer(N,F,D),N},restoreFramebuffer:function(F,D){F===void 0&&(F=!1),D===void 0&&(D=!0);var B=this.fboStack,N=B[B.length-1];N||(N=null),this.currentFramebuffer=null,this.setFramebuffer(N,F,D)},setProgram:function(F){return F!==this.currentProgram?(this.flush(),this.gl.useProgram(F.webGLProgram),this.currentProgram=F,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(F,D,B,N,z){z===void 0&&(z=!1);var W=this.gl,X=W.NEAREST,k=W.NEAREST,V=W.CLAMP_TO_EDGE,I=null;D=F?F.width:D,B=F?F.height:B;var U=v(D,B);if(U&&!z&&(V=W.REPEAT),N===l.ScaleModes.LINEAR&&this.config.antialias){var G=F&&F.compressed,Y=!G&&U||G&&F.mipmaps.length>1;X=this.mipmapFilter&&Y?this.mipmapFilter:W.LINEAR,k=W.LINEAR}return!F&&typeof D=="number"&&typeof B=="number"?I=this.createTexture2D(0,X,k,V,V,W.RGBA,null,D,B):I=this.createTexture2D(0,X,k,V,V,W.RGBA,F),I},createTexture2D:function(F,D,B,N,z,W,X,k,V,I,U,G){typeof k!="number"&&(k=X?X.width:1),typeof V!="number"&&(V=X?X.height:1);var Y=new R(this.gl,F,D,B,N,z,W,X,k,V,I,U,G);return this.glTextureWrappers.push(Y),Y},createFramebuffer:function(F,D,B,N){this.currentFramebuffer=null;var z=new A(this.gl,F,D,B,N);return this.glFramebufferWrappers.push(z),z},beginBitmapMask:function(F,D){var B=this.gl;B&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==F&&(this.currentMask.mask=F,this.currentMask.camera=D))},drawBitmapMask:function(F,D,B){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),F.renderWebGL(this,F,D),this.maskSource.unbind(!0),this.maskTarget.unbind();var N=this.gl,z=this.getCurrentStencilMask();z?(N.enable(N.STENCIL_TEST),z.mask.applyStencil(this,z.camera,!0)):this.currentMask.mask=null,this.pipelines.set(B),N.activeTexture(N.TEXTURE0),N.bindTexture(N.TEXTURE_2D,this.maskTarget.texture.webGLTexture),N.activeTexture(N.TEXTURE1),N.bindTexture(N.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(F,D){var B=new w(this.gl,F,D);return this.glProgramWrappers.push(B),B},createVertexBuffer:function(F,D){var B=this.gl,N=new E(B,F,B.ARRAY_BUFFER,D);return this.glBufferWrappers.push(N),N},createAttribLocation:function(F,D){var B=new L(this.gl,F,D);return this.glAttribLocationWrappers.push(B),B},createUniformLocation:function(F,D){var B=new b(this.gl,F,D);return this.glUniformLocationWrappers.push(B),B},createIndexBuffer:function(F,D){var B=this.gl,N=new E(B,F,B.ELEMENT_ARRAY_BUFFER,D);return this.glBufferWrappers.push(N),N},deleteTexture:function(F){if(F)return y(this.glTextureWrappers,F),F.destroy(),this},deleteFramebuffer:function(F){return F?(y(this.fboStack,F),y(this.glFramebufferWrappers,F),F.destroy(),this):this},deleteProgram:function(F){return F&&(y(this.glProgramWrappers,F),F.destroy()),this},deleteAttribLocation:function(F){return F&&(y(this.glAttribLocationWrappers,F),F.destroy()),this},deleteUniformLocation:function(F){return F&&(y(this.glUniformLocationWrappers,F),F.destroy()),this},deleteBuffer:function(F){return F?(y(this.glBufferWrappers,F),F.destroy(),this):this},preRenderCamera:function(F){var D=F.x,B=F.y,N=F.width,z=F.height,W=F.backgroundColor;if(F.emit(f.PRE_RENDER,F),this.pipelines.preBatchCamera(F),this.pushScissor(D,B,N,z),F.mask&&(this.currentCameraMask.mask=F.mask,this.currentCameraMask.camera=F._maskCamera,F.mask.preRenderWebGL(this,F,F._maskCamera)),W.alphaGL>0){var X=this.pipelines.setMulti();X.drawFillRect(D,B,N,z,P.getTintFromFloats(W.blueGL,W.greenGL,W.redGL,1),W.alphaGL)}},getCurrentStencilMask:function(){var F=null,D=this.maskStack,B=this.currentCameraMask;return D.length>0?F=D[D.length-1]:B.mask&&B.mask.isStencil&&(F=B),F},postRenderCamera:function(F){var D=F.flashEffect,B=F.fadeEffect;if(D.isRunning||B.isRunning||B.isComplete){var N=this.pipelines.setMulti();D.postRenderWebGL(N,P.getTintFromFloats),B.postRenderWebGL(N,P.getTintFromFloats)}F.dirty=!1,this.popScissor(),F.mask&&(this.currentCameraMask.mask=null,F.mask.postRenderWebGL(this,F._maskCamera)),this.pipelines.postBatchCamera(F),F.emit(f.POST_RENDER,F)},preRender:function(){if(!this.contextLost){var F=this.gl;if(F.bindFramebuffer(F.FRAMEBUFFER,null),this.emit(d.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var D=this.config.backgroundColor;F.clearColor(D.redGL,D.greenGL,D.blueGL,D.alphaGL),F.clear(F.COLOR_BUFFER_BIT|F.DEPTH_BUFFER_BIT|F.STENCIL_BUFFER_BIT)}F.enable(F.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&F.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(d.PRE_RENDER)}},render:function(F,D,B){if(!this.contextLost){var N=D.length;if(this.emit(d.RENDER,F,B),this.preRenderCamera(B),N===0){this.setBlendMode(l.BlendModes.NORMAL),this.postRenderCamera(B);return}this.currentType="";for(var z=this.currentMask,W=0;W<N;W++){this.finalType=W===N-1;var X=D[W],k=X.mask;z=this.currentMask,z.mask&&z.mask!==k&&z.mask.postRenderWebGL(this,z.camera),k&&z.mask!==k&&k.preRenderWebGL(this,X,B),X.blendMode!==this.currentBlendMode&&this.setBlendMode(X.blendMode);var V=X.type;V!==this.currentType&&(this.newType=!0,this.currentType=V),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=D[W+1].type===this.currentType,X.renderWebGL(this,X,B),this.newType=!1}z=this.currentMask,z.mask&&z.mask.postRenderWebGL(this,z.camera),this.setBlendMode(l.BlendModes.NORMAL),this.postRenderCamera(B)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(d.POST_RENDER);var F=this.snapshotState;F.callback&&(M(this.gl,F),F.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var F=this.gl,D=this.getCurrentStencilMask();if(D){var B=D.mask;F.enable(F.STENCIL_TEST),B.invertAlpha?F.stencilFunc(F.NOTEQUAL,B.level,255):F.stencilFunc(F.EQUAL,B.level,255)}},snapshot:function(F,D,B){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,F,D,B)},snapshotArea:function(F,D,B,N,z,W,X){var k=this.snapshotState;return k.callback=z,k.type=W,k.encoder=X,k.getPixel=!1,k.x=F,k.y=D,k.width=B,k.height=N,this},snapshotPixel:function(F,D,B){return this.snapshotArea(F,D,1,1,B),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(F,D,B,N,z,W,X,k,V,I,U){z===void 0&&(z=!1),W===void 0&&(W=0),X===void 0&&(X=0),k===void 0&&(k=D),V===void 0&&(V=B),I==="pixel"&&(z=!0,I="image/png");var G=this.currentFramebuffer;this.snapshotArea(W,X,k,V,N,I,U);var Y=this.snapshotState;return Y.getPixel=z,Y.isFramebuffer=!0,Y.bufferWidth=D,Y.bufferHeight=B,Y.width=Math.min(Y.width,D),Y.height=Math.min(Y.height,B),this.setFramebuffer(F),M(this.gl,Y),this.setFramebuffer(G),Y.callback=null,Y.isFramebuffer=!1,this},canvasToTexture:function(F,D,B,N){B===void 0&&(B=!1),N===void 0&&(N=!1);var z=this.gl,W=z.NEAREST,X=z.NEAREST,k=F.width,V=F.height,I=z.CLAMP_TO_EDGE,U=v(k,V);return!B&&U&&(I=z.REPEAT),this.config.antialias&&(W=U&&this.mipmapFilter?this.mipmapFilter:z.LINEAR,X=z.LINEAR),D?(D.update(F,k,V,N,I,I,W,X,D.format),D):this.createTexture2D(0,W,X,I,I,z.RGBA,F,k,V,!0,!1,N)},createCanvasTexture:function(F,D,B){return D===void 0&&(D=!1),B===void 0&&(B=!1),this.canvasToTexture(F,null,D,B)},updateCanvasTexture:function(F,D,B,N){return B===void 0&&(B=!1),N===void 0&&(N=!1),this.canvasToTexture(F,D,N,B)},videoToTexture:function(F,D,B,N){B===void 0&&(B=!1),N===void 0&&(N=!1);var z=this.gl,W=z.NEAREST,X=z.NEAREST,k=F.videoWidth,V=F.videoHeight,I=z.CLAMP_TO_EDGE,U=v(k,V);return!B&&U&&(I=z.REPEAT),this.config.antialias&&(W=U&&this.mipmapFilter?this.mipmapFilter:z.LINEAR,X=z.LINEAR),D?(D.update(F,k,V,N,I,I,W,X,D.format),D):this.createTexture2D(0,W,X,I,I,z.RGBA,F,k,V,!0,!0,N)},createVideoTexture:function(F,D,B){return D===void 0&&(D=!1),B===void 0&&(B=!1),this.videoToTexture(F,null,D,B)},updateVideoTexture:function(F,D,B,N){return B===void 0&&(B=!1),N===void 0&&(N=!1),this.videoToTexture(F,D,N,B)},createUint8ArrayTexture:function(F,D,B){var N=this.gl,z=N.NEAREST,W=N.NEAREST,X=N.CLAMP_TO_EDGE,k=v(D,B);return k&&(X=N.REPEAT),this.createTexture2D(0,z,W,X,X,N.RGBA,F,D,B)},setTextureFilter:function(F,D){var B=this.gl,N=D===0?B.LINEAR:B.NEAREST;B.activeTexture(B.TEXTURE0);var z=B.getParameter(B.TEXTURE_BINDING_2D);return B.bindTexture(B.TEXTURE_2D,F.webGLTexture),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,N),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,N),F.minFilter=N,F.magFilter=N,z&&B.bindTexture(B.TEXTURE_2D,z),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var F=function(D){D.destroy()};o(this.glAttribLocationWrappers,F),o(this.glBufferWrappers,F),o(this.glFramebufferWrappers,F),o(this.glProgramWrappers,F),o(this.glTextureWrappers,F),o(this.glUniformLocationWrappers,F),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});n.exports=O},38683:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(95428),f=s(95540),u=s(14500),l=new o({initialize:function(d,v,h,c,p){this.pipeline=d,this.name=v,this.renderer=d.renderer,this.gl=this.renderer.gl,this.fragSrc=c,this.vertSrc=h,this.program=this.renderer.createProgram(h,c),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(p),this.createUniforms()},createAttributes:function(a){var d=0,v=0,h=[];this.vertexComponentCount=0;for(var c=0;c<a.length;c++){var p=a[c],m=p.name,x=f(p,"size",1),T=f(p,"type",u.FLOAT),P=T.enum,M=T.size,E=!!p.normalized;h.push({name:m,size:x,type:P,normalized:E,offset:v,enabled:!1,location:-1}),M===4?d+=x:d++,v+=x*M}this.vertexSize=v,this.vertexComponentCount=d,this.attributes=h},bind:function(a,d){return a===void 0&&(a=!1),d===void 0&&(d=!1),d&&this.pipeline.flush(),this.renderer.setProgram(this.program),a&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(a){a===void 0&&(a=!1);for(var d=this.gl,v=this.renderer,h=this.vertexSize,c=this.attributes,p=this.program,m=0;m<c.length;m++){var x=c[m],T=x.size,P=x.type,M=x.offset,E=x.enabled,w=x.location,R=!!x.normalized;if(a){w!==-1&&v.deleteAttribLocation(w);var A=this.renderer.createAttribLocation(p,x.name);A.webGLAttribLocation>=0?(d.enableVertexAttribArray(A.webGLAttribLocation),d.vertexAttribPointer(A.webGLAttribLocation,T,P,R,h,M),x.enabled=!0,x.location=A):A.webGLAttribLocation!==-1&&d.disableVertexAttribArray(A.webGLAttribLocation)}else E?d.vertexAttribPointer(w.webGLAttribLocation,T,P,R,h,M):!E&&w!==-1&&w.webGLAttribLocation>-1&&(d.disableVertexAttribArray(w.webGLAttribLocation),x.location=-1)}return this},createUniforms:function(){var a=this.gl,d=this.program,v=this.uniforms,h,c,p,m=a.getProgramParameter(d.webGLProgram,a.ACTIVE_UNIFORMS);for(h=0;h<m;h++){var x=a.getActiveUniform(d.webGLProgram,h);if(x){c=x.name,p=this.renderer.createUniformLocation(d,c),p!==null&&(v[c]={name:c,location:p,setter:null,value1:null,value2:null,value3:null,value4:null});var T=c.indexOf("[");T>0&&(c=c.substr(0,T),v.hasOwnProperty(c)||(p=this.renderer.createUniformLocation(d,c),p!==null&&(v[c]={name:c,location:p,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var a=this.gl;this.renderer.setProgram(this.program);for(var d in this.uniforms){var v=this.uniforms[d];v.setter&&v.setter.call(a,v.location.webGLUniformLocation,v.value1,v.value2,v.value3,v.value4)}},hasUniform:function(a){return this.uniforms.hasOwnProperty(a)},resetUniform:function(a){var d=this.uniforms[a];return d&&(d.value1=null,d.value2=null,d.value3=null,d.value4=null),this},setUniform1:function(a,d,v,h){var c=this.uniforms[d];return c?((h||c.value1!==v)&&(c.setter||(c.setter=a),c.value1=v,this.renderer.setProgram(this.program),a.call(this.gl,c.location.webGLUniformLocation,v),this.pipeline.currentShader=this),this):this},setUniform2:function(a,d,v,h,c){var p=this.uniforms[d];return p?((c||p.value1!==v||p.value2!==h)&&(p.setter||(p.setter=a),p.value1=v,p.value2=h,this.renderer.setProgram(this.program),a.call(this.gl,p.location.webGLUniformLocation,v,h),this.pipeline.currentShader=this),this):this},setUniform3:function(a,d,v,h,c,p){var m=this.uniforms[d];return m?((p||m.value1!==v||m.value2!==h||m.value3!==c)&&(m.setter||(m.setter=a),m.value1=v,m.value2=h,m.value3=c,this.renderer.setProgram(this.program),a.call(this.gl,m.location.webGLUniformLocation,v,h,c),this.pipeline.currentShader=this),this):this},setUniform4:function(a,d,v,h,c,p,m){var x=this.uniforms[d];return x?((m||x.value1!==v||x.value2!==h||x.value3!==c||x.value4!==p)&&(x.setter||(x.setter=a),x.value1=v,x.value2=h,x.value3=c,x.value4=p,this.renderer.setProgram(this.program),a.call(this.gl,x.location.webGLUniformLocation,v,h,c,p),this.pipeline.currentShader=this),this):this},setBoolean:function(a,d){return this.setUniform1(this.gl.uniform1i,a,Number(d))},set1f:function(a,d){return this.setUniform1(this.gl.uniform1f,a,d)},set2f:function(a,d,v){return this.setUniform2(this.gl.uniform2f,a,d,v)},set3f:function(a,d,v,h){return this.setUniform3(this.gl.uniform3f,a,d,v,h)},set4f:function(a,d,v,h,c){return this.setUniform4(this.gl.uniform4f,a,d,v,h,c)},set1fv:function(a,d){return this.setUniform1(this.gl.uniform1fv,a,d,!0)},set2fv:function(a,d){return this.setUniform1(this.gl.uniform2fv,a,d,!0)},set3fv:function(a,d){return this.setUniform1(this.gl.uniform3fv,a,d,!0)},set4fv:function(a,d){return this.setUniform1(this.gl.uniform4fv,a,d,!0)},set1iv:function(a,d){return this.setUniform1(this.gl.uniform1iv,a,d,!0)},set2iv:function(a,d){return this.setUniform1(this.gl.uniform2iv,a,d,!0)},set3iv:function(a,d){return this.setUniform1(this.gl.uniform3iv,a,d,!0)},set4iv:function(a,d){return this.setUniform1(this.gl.uniform4iv,a,d,!0)},set1i:function(a,d){return this.setUniform1(this.gl.uniform1i,a,d)},set2i:function(a,d,v){return this.setUniform2(this.gl.uniform2i,a,d,v)},set3i:function(a,d,v,h){return this.setUniform3(this.gl.uniform3i,a,d,v,h)},set4i:function(a,d,v,h,c){return this.setUniform4(this.gl.uniform4i,a,d,v,h,c)},setMatrix2fv:function(a,d,v){return this.setUniform2(this.gl.uniformMatrix2fv,a,d,v,!0)},setMatrix3fv:function(a,d,v){return this.setUniform2(this.gl.uniformMatrix3fv,a,d,v,!0)},setMatrix4fv:function(a,d,v){return this.setUniform2(this.gl.uniformMatrix4fv,a,d,v,!0)},createProgram:function(a,d){return a===void 0&&(a=this.vertSrc),d===void 0&&(d=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=a,this.fragSrc=d,this.program=this.renderer.createProgram(a,d),this.createUniforms(),this.rebind()},destroy:function(){var a=this.renderer;y(this.uniforms,function(d){a.deleteUniformLocation(d.location)}),this.uniforms=null,y(this.attributes,function(d){a.deleteAttribLocation(d.location)}),this.attributes=null,a.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});n.exports=l},14500:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};n.exports=C},4159:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(14500),y=s(79291),f={PipelineManager:s(7530),Pipelines:s(96615),RenderTarget:s(32302),Utils:s(70554),WebGLPipeline:s(29100),WebGLRenderer:s(74797),WebGLShader:s(38683),Wrappers:s(9503)};f=y(!1,f,o),n.exports=f},31302:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(95540),f=s(78908),u=s(85191),l=s(14500),a=s(29100),d=new o({Extends:a,initialize:function(h){h.fragShader=y(h,"fragShader",f),h.vertShader=y(h,"vertShader",u),h.batchSize=y(h,"batchSize",1),h.vertices=y(h,"vertices",[-1,1,-1,-7,7,1]),h.attributes=y(h,"attributes",[{name:"inPosition",size:2,type:l.FLOAT}]),a.call(this,h)},boot:function(){a.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(v,h){a.prototype.resize.call(this,v,h),this.set2f("uResolution",v,h)},beginMask:function(v,h,c){this.renderer.beginBitmapMask(v,c)},endMask:function(v,h,c){var p=this.gl,m=this.renderer,x=v.bitmapMask;x&&p&&(m.drawBitmapMask(x,h,this),c&&this.set2f("uResolution",c.width,c.height),this.set1i("uInvertMaskAlpha",v.invertAlpha),p.drawArrays(this.topology,0,3),c&&this.set2f("uResolution",this.width,this.height),p.bindTexture(p.TEXTURE_2D,null))}});n.exports=d},92651:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(58918),f=s(14811),u=s(95540),l=s(43558),a=s(89350),d=s(70554),v=new o({Extends:l,initialize:function(c){c.shaders=[d.setGlowQuality(a.FXGlowFrag,c.game),a.FXShadowFrag,a.FXPixelateFrag,a.FXVignetteFrag,a.FXShineFrag,a.FXBlurLowFrag,a.FXBlurMedFrag,a.FXBlurHighFrag,a.FXGradientFrag,a.FXBloomFrag,a.ColorMatrixFrag,a.FXCircleFrag,a.FXBarrelFrag,a.FXDisplacementFrag,a.FXWipeFrag,a.FXBokehFrag],l.call(this,c);var p=this.game;this.glow=new y.Glow(p),this.shadow=new y.Shadow(p),this.pixelate=new y.Pixelate(p),this.vignette=new y.Vignette(p),this.shine=new y.Shine(p),this.gradient=new y.Gradient(p),this.circle=new y.Circle(p),this.barrel=new y.Barrel(p),this.wipe=new y.Wipe(p),this.bokeh=new y.Bokeh(p);var m=[];m[f.GLOW]=this.onGlow,m[f.SHADOW]=this.onShadow,m[f.PIXELATE]=this.onPixelate,m[f.VIGNETTE]=this.onVignette,m[f.SHINE]=this.onShine,m[f.BLUR]=this.onBlur,m[f.GRADIENT]=this.onGradient,m[f.BLOOM]=this.onBloom,m[f.COLOR_MATRIX]=this.onColorMatrix,m[f.CIRCLE]=this.onCircle,m[f.BARREL]=this.onBarrel,m[f.DISPLACEMENT]=this.onDisplacement,m[f.WIPE]=this.onWipe,m[f.BOKEH]=this.onBokeh,this.fxHandlers=m,this.source,this.target,this.swap},onDraw:function(h,c,p){this.source=h,this.target=c,this.swap=p;var m=h.width,x=h.height,T=this.tempSprite,P=this.fxHandlers;if(T&&T.preFX)for(var M=T.preFX.list,E=0;E<M.length;E++){var w=M[E];w.active&&P[w.type].call(this,w,m,x)}this.drawToGame(this.source)},runDraw:function(){var h=this.source,c=this.target;this.copy(h,c),this.source=c,this.target=h},onGlow:function(h,c,p){var m=this.shaders[f.GLOW];this.setShader(m),this.glow.onPreRender(h,m,c,p),this.runDraw()},onShadow:function(h){var c=this.shaders[f.SHADOW];this.setShader(c),this.shadow.onPreRender(h,c),this.runDraw()},onPixelate:function(h,c,p){var m=this.shaders[f.PIXELATE];this.setShader(m),this.pixelate.onPreRender(h,m,c,p),this.runDraw()},onVignette:function(h){var c=this.shaders[f.VIGNETTE];this.setShader(c),this.vignette.onPreRender(h,c),this.runDraw()},onShine:function(h,c,p){var m=this.shaders[f.SHINE];this.setShader(m),this.shine.onPreRender(h,m,c,p),this.runDraw()},onBlur:function(h,c,p){var m=u(h,"quality"),x=this.shaders[f.BLUR+m];this.setShader(x),this.set1i("uMainSampler",0),this.set2f("resolution",c,p),this.set1f("strength",u(h,"strength")),this.set3fv("color",u(h,"glcolor"));for(var T=u(h,"x"),P=u(h,"y"),M=u(h,"steps"),E=0;E<M;E++)this.set2f("offset",T,0),this.runDraw(),this.set2f("offset",0,P),this.runDraw()},onGradient:function(h){var c=this.shaders[f.GRADIENT];this.setShader(c),this.gradient.onPreRender(h,c),this.runDraw()},onBloom:function(h,c,p){var m=this.shaders[f.BLOOM];this.copySprite(this.source,this.swap),this.setShader(m),this.set1i("uMainSampler",0),this.set1f("strength",u(h,"blurStrength")),this.set3fv("color",u(h,"glcolor"));for(var x=2/c*u(h,"offsetX"),T=2/p*u(h,"offsetY"),P=u(h,"steps"),M=0;M<P;M++)this.set2f("offset",x,0),this.runDraw(),this.set2f("offset",0,T),this.runDraw();this.blendFrames(this.swap,this.source,this.target,u(h,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(h){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",h.getData()),this.set1f("uAlpha",h.alpha),this.runDraw()},onCircle:function(h,c,p){var m=this.shaders[f.CIRCLE];this.setShader(m),this.circle.onPreRender(h,m,c,p),this.runDraw()},onBarrel:function(h){var c=this.shaders[f.BARREL];this.setShader(c),this.barrel.onPreRender(h,c),this.runDraw()},onDisplacement:function(h){this.setShader(this.shaders[f.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",h.x,h.y),this.bindTexture(h.glTexture,1),this.runDraw()},onWipe:function(h){var c=this.shaders[f.WIPE];this.setShader(c),this.wipe.onPreRender(h,c),this.runDraw()},onBokeh:function(h,c,p){var m=this.shaders[f.BOKEH];this.setShader(m),this.bokeh.onPreRender(h,m,c,p),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,l.prototype.destroy.call(this),this}});n.exports=v},96569:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(95540),f=s(31063),u=s(57516),l=s(61340),a=s(26099),d=s(29100),v=new o({Extends:u,initialize:function(c){var p=y(c,"fragShader",f);c.fragShader=p.replace("%LIGHT_COUNT%",c.game.renderer.config.maxLights),u.call(this,c),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new a,this._tempMatrix=new l,this._tempMatrix2=new l},boot:function(){d.prototype.boot.call(this)},onRender:function(h,c){var p=h.sys.lights;if(this.lightsActive=!1,!(!p||!p.active)){var m=p.getLights(c),x=m.length;this.lightsActive=!0;var T,P=this.renderer,M=P.height,E=c.matrix,w=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",c.x,c.y,c.rotation,c.zoom),this.set3f("uAmbientLightColor",p.ambientColor.r,p.ambientColor.g,p.ambientColor.b),this.set1i("uLightCount",x),T=0;T<x;T++){var R=m[T].light,A=R.color,L="uLights["+T+"].";E.transformPoint(R.x,R.y,w),this.set2f(L+"position",w.x-c.scrollX*R.scrollFactorX*c.zoom,M-(w.y-c.scrollY*R.scrollFactorY*c.zoom)),this.set3f(L+"color",A.r,A.g,A.b),this.set1f(L+"intensity",R.intensity),this.set1f(L+"radius",R.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(h){if(h!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var c=this.inverseRotationMatrix;if(h){var p=-h,m=Math.cos(p),x=Math.sin(p);c[1]=x,c[3]=-x,c[0]=c[4]=m}else c[0]=c[4]=1,c[1]=c[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,c),this.currentNormalMapRotation=h}},setTexture2D:function(h,c){var p=this.renderer;h===void 0&&(h=p.whiteTexture);var m=this.getNormalMap(c);this.isNewNormalMap(h,m)&&(this.flush(),this.createBatch(h),this.addTextureToBatch(m),this.currentNormalMap=m);var x=0;if(c&&c.parentContainer){var T=c.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);x=T.rotationNormalized}else c&&(x=c.rotation);return this.currentBatch===null&&(this.createBatch(h),this.addTextureToBatch(m)),this.setNormalMapRotation(x),0},setGameObject:function(h,c){c===void 0&&(c=h.frame);var p=c.glTexture,m=this.getNormalMap(h);if(this.isNewNormalMap(p,m)&&(this.flush(),this.createBatch(p),this.addTextureToBatch(m),this.currentNormalMap=m),h.parentContainer){var x=h.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(x.rotationNormalized)}else this.setNormalMapRotation(h.rotation);return this.currentBatch===null&&(this.createBatch(p),this.addTextureToBatch(m)),0},isNewNormalMap:function(h,c){return this.currentTexture!==h||this.currentNormalMap!==c},getNormalMap:function(h){var c;if(h)h.displayTexture?c=h.displayTexture.dataSource[h.displayFrame.sourceIndex]:h.texture?c=h.texture.dataSource[h.frame.sourceIndex]:h.tileset&&(Array.isArray(h.tileset)?c=h.tileset[0].image.dataSource[0]:c=h.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return c?c.glTexture:this.renderer.normalTexture},batchSprite:function(h,c,p){this.lightsActive&&u.prototype.batchSprite.call(this,h,c,p)},batchTexture:function(h,c,p,m,x,T,P,M,E,w,R,A,L,b,O,F,D,B,N,z,W,X,k,V,I,U,G,Y,H,$,K,Z){this.lightsActive&&u.prototype.batchTexture.call(this,h,c,p,m,x,T,P,M,E,w,R,A,L,b,O,F,D,B,N,z,W,X,k,V,I,U,G,Y,H,$,K,Z)},batchTextureFrame:function(h,c,p,m,x,T,P){this.lightsActive&&u.prototype.batchTextureFrame.call(this,h,c,p,m,x,T,P)}});n.exports=v},56527:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(95540),f=s(57516),u=s(45561),l=s(60722),a=s(14500),d=s(29100),v=new o({Extends:f,initialize:function(c){c.fragShader=y(c,"fragShader",u),c.vertShader=y(c,"vertShader",l),c.attributes=y(c,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:a.UNSIGNED_BYTE,normalized:!0}]),c.forceZero=!0,c.resizeUniform="uResolution",f.call(this,c)},boot:function(){d.prototype.boot.call(this);var h=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",h.width,h.height)}});n.exports=v},57516:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(94811),f=s(95540),u=s(98840),l=s(44667),a=s(61340),d=s(70554),v=s(14500),h=s(29100),c=new o({Extends:h,initialize:function(m){var x=m.game.renderer,T=f(m,"fragShader",u);m.fragShader=d.parseFragmentShaderMaxTextures(T,x.maxTextures),m.vertShader=f(m,"vertShader",l),m.attributes=f(m,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:v.UNSIGNED_BYTE,normalized:!0}]),m.resizeUniform="uResolution",h.call(this,m),this._tempMatrix1=new a,this._tempMatrix2=new a,this._tempMatrix3=new a,this.calcMatrix=new a,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){h.prototype.boot.call(this);var p=this.renderer;this.set1iv("uMainSampler",p.textureIndexes),this.set2f("uResolution",p.width,p.height)},batchSprite:function(p,m,x){this.manager.set(this,p);var T=this._tempMatrix1,P=this._tempMatrix2,M=this._tempMatrix3,E=p.frame,w=E.glTexture,R=E.u0,A=E.v0,L=E.u1,b=E.v1,O=E.x,F=E.y,D=E.cutWidth,B=E.cutHeight,N=E.customPivot,z=p.displayOriginX,W=p.displayOriginY,X=-z+O,k=-W+F;if(p.isCropped){var V=p._crop;(V.flipX!==p.flipX||V.flipY!==p.flipY)&&E.updateCropUVs(V,p.flipX,p.flipY),R=V.u0,A=V.v0,L=V.u1,b=V.v1,D=V.width,B=V.height,O=V.x,F=V.y,X=-z+O,k=-W+F}var I=1,U=1;p.flipX&&(N||(X+=-E.realWidth+z*2),I=-1),p.flipY&&(N||(k+=-E.realHeight+W*2),U=-1);var G=p.x,Y=p.y;m.roundPixels&&(G=Math.floor(G),Y=Math.floor(Y)),P.applyITRS(G,Y,p.rotation,p.scaleX*I,p.scaleY*U),T.copyFrom(m.matrix),x?(T.multiplyWithOffset(x,-m.scrollX*p.scrollFactorX,-m.scrollY*p.scrollFactorY),P.e=G,P.f=Y):(P.e-=m.scrollX*p.scrollFactorX,P.f-=m.scrollY*p.scrollFactorY),T.multiply(P,M);var H=M.setQuad(X,k,X+D,k+B,m.renderRoundPixels),$=d.getTintAppendFloatAlpha,K=m.alpha,Z=$(p.tintTopLeft,K*p._alphaTL),J=$(p.tintTopRight,K*p._alphaTR),j=$(p.tintBottomLeft,K*p._alphaBL),Q=$(p.tintBottomRight,K*p._alphaBR);this.shouldFlush(6)&&this.flush();var _=this.setGameObject(p,E);this.manager.preBatch(p),this.batchQuad(p,H[0],H[1],H[2],H[3],H[4],H[5],H[6],H[7],R,A,L,b,Z,J,j,Q,p.tintFill,w,_),this.manager.postBatch(p)},batchTexture:function(p,m,x,T,P,M,E,w,R,A,L,b,O,F,D,B,N,z,W,X,k,V,I,U,G,Y,H,$,K,Z,J,j,Q){Q===void 0&&(Q=!1),this.manager.set(this,p);var _=this._tempMatrix1,it=this._tempMatrix2,q=this._tempMatrix3,ht=z/x+H,lt=W/T+$,ut=(z+X)/x+H,tt=(W+k)/T+$,at=E,ot=w,pt=-B,Pt=-N;if(p.isCropped){var kt=p._crop,Ct=kt.width,Et=kt.height;at=Ct,ot=Et,E=Ct,w=Et,z=kt.x,W=kt.y;var Ht=z,ye=W;b&&(Ht=X-kt.x-Ct),O&&(ye=k-kt.y-Et),ht=Ht/x+H,lt=ye/T+$,ut=(Ht+Ct)/x+H,tt=(ye+Et)/T+$,pt=-B+z,Pt=-N+W}O=O^(!J&&m.isRenderTexture?1:0),b&&(at*=-1,pt+=E),O&&(ot*=-1,Pt+=w),K.roundPixels&&(P=Math.floor(P),M=Math.floor(M)),it.applyITRS(P,M,L,R,A),_.copyFrom(K.matrix),Z?(_.multiplyWithOffset(Z,-K.scrollX*F,-K.scrollY*D),it.e=P,it.f=M):(it.e-=K.scrollX*F,it.f-=K.scrollY*D),_.multiply(it,q);var Gt=q.setQuad(pt,Pt,pt+at,Pt+ot,K.renderRoundPixels);j==null&&(j=this.setTexture2D(m)),p&&!Q&&this.manager.preBatch(p),this.batchQuad(p,Gt[0],Gt[1],Gt[2],Gt[3],Gt[4],Gt[5],Gt[6],Gt[7],ht,lt,ut,tt,V,I,U,G,Y,m,j),p&&!Q&&this.manager.postBatch(p)},batchTextureFrame:function(p,m,x,T,P,M,E){this.manager.set(this);var w=this._tempMatrix1.copyFrom(M),R=this._tempMatrix2;E?w.multiply(E,R):R=w;var A=R.setQuad(m,x,m+p.width,x+p.height),L=this.setTexture2D(p.source.glTexture);T=d.getTintAppendFloatAlpha(T,P),this.batchQuad(null,A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],p.u0,p.v0,p.u1,p.v1,T,T,T,T,0,p.glTexture,L)},batchFillRect:function(p,m,x,T,P,M){this.renderer.pipelines.set(this);var E=this.calcMatrix;M&&M.multiply(P,E);var w=E.setQuad(p,m,p+x,m+T),R=this.fillTint;this.batchQuad(null,w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],0,0,1,1,R.TL,R.TR,R.BL,R.BR,2)},batchFillTriangle:function(p,m,x,T,P,M,E,w){this.renderer.pipelines.set(this);var R=this.calcMatrix;w&&w.multiply(E,R);var A=R.getX(p,m),L=R.getY(p,m),b=R.getX(x,T),O=R.getY(x,T),F=R.getX(P,M),D=R.getY(P,M),B=this.fillTint;this.batchTri(null,A,L,b,O,F,D,0,0,1,1,B.TL,B.TR,B.BL,2)},batchStrokeTriangle:function(p,m,x,T,P,M,E,w,R){var A=this.tempTriangle;A[0].x=p,A[0].y=m,A[0].width=E,A[1].x=x,A[1].y=T,A[1].width=E,A[2].x=P,A[2].y=M,A[2].width=E,A[3].x=p,A[3].y=m,A[3].width=E,this.batchStrokePath(A,E,!1,w,R)},batchFillPath:function(p,m,x){this.renderer.pipelines.set(this);var T=this.calcMatrix;x&&x.multiply(m,T);for(var P=p.length,M=this.polygonCache,E,w,R=this.fillTint.TL,A=this.fillTint.TR,L=this.fillTint.BL,b=0;b<P;++b)w=p[b],M.push(w.x,w.y);E=y(M),P=E.length;for(var O=0;O<P;O+=3){var F=E[O+0]*2,D=E[O+1]*2,B=E[O+2]*2,N=M[F+0],z=M[F+1],W=M[D+0],X=M[D+1],k=M[B+0],V=M[B+1],I=T.getX(N,z),U=T.getY(N,z),G=T.getX(W,X),Y=T.getY(W,X),H=T.getX(k,V),$=T.getY(k,V);this.batchTri(null,I,U,G,Y,H,$,0,0,1,1,R,A,L,2)}M.length=0},batchStrokePath:function(p,m,x,T,P){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var M=p.length-1,E=0;E<M;E++){var w=p[E],R=p[E+1];this.batchLine(w.x,w.y,R.x,R.y,w.width/2,R.width/2,m,E,!x&&E===M-1,T,P)}},batchLine:function(p,m,x,T,P,M,E,w,R,A,L){this.renderer.pipelines.set(this);var b=this.calcMatrix;L&&L.multiply(A,b);var O=x-p,F=T-m,D=Math.sqrt(O*O+F*F);if(D!==0){var B=P*(T-m)/D,N=P*(p-x)/D,z=M*(T-m)/D,W=M*(p-x)/D,X=x-z,k=T-W,V=p-B,I=m-N,U=x+z,G=T+W,Y=p+B,H=m+N,$=b.getX(X,k),K=b.getY(X,k),Z=b.getX(V,I),J=b.getY(V,I),j=b.getX(U,G),Q=b.getY(U,G),_=b.getX(Y,H),it=b.getY(Y,H),q=this.strokeTint,ht=q.TL,lt=q.TR,ut=q.BL,tt=q.BR;if(this.batchQuad(null,_,it,Z,J,$,K,j,Q,0,0,1,1,ht,lt,ut,tt,2),!(E<=2)){var at=this.prevQuad,ot=this.firstQuad;w>0&&at[4]?this.batchQuad(null,_,it,Z,J,at[0],at[1],at[2],at[3],0,0,1,1,ht,lt,ut,tt,2):(ot[0]=_,ot[1]=it,ot[2]=Z,ot[3]=J,ot[4]=1),R&&ot[4]?this.batchQuad(null,$,K,j,Q,ot[0],ot[1],ot[2],ot[3],0,0,1,1,ht,lt,ut,tt,2):(at[0]=$,at[1]=K,at[2]=j,at[3]=Q,at[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,h.prototype.destroy.call(this),this}});n.exports=c},43439:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(95540),f=s(4127),u=s(89924),l=s(29100),a=new o({Extends:l,initialize:function(v){v.vertShader=y(v,"vertShader",u),v.fragShader=y(v,"fragShader",f),v.attributes=y(v,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),l.call(this,v)},onRender:function(d,v){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",v.zoom)},batchPointLight:function(d,v,h,c,p,m,x,T,P,M,E,w){var R=d.color,A=d.intensity,L=d.radius,b=d.attenuation,O=R.r*A,F=R.g*A,D=R.b*A,B=v.alpha*d.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(h,c,E,w,L,b,O,F,D,B),this.batchLightVert(p,m,E,w,L,b,O,F,D,B),this.batchLightVert(x,T,E,w,L,b,O,F,D,B),this.batchLightVert(h,c,E,w,L,b,O,F,D,B),this.batchLightVert(x,T,E,w,L,b,O,F,D,B),this.batchLightVert(P,M,E,w,L,b,O,F,D,B),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(d,v,h,c,p,m,x,T,P,M){var E=this.vertexViewF32,w=this.vertexCount*this.currentShader.vertexComponentCount-1;E[++w]=d,E[++w]=v,E[++w]=h,E[++w]=c,E[++w]=p,E[++w]=m,E[++w]=x,E[++w]=T,E[++w]=P,E[++w]=M,this.vertexCount++}});n.exports=a},84057:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(89422),f=s(95540),u=s(27681),l=s(49627),a=s(29100),d=new o({Extends:a,initialize:function(h){h.renderTarget=f(h,"renderTarget",1),h.fragShader=f(h,"fragShader",u),h.vertShader=f(h,"vertShader",l),h.attributes=f(h,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),h.batchSize=1,h.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],a.call(this,h),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new y,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){a.prototype.boot.call(this);var v=this.manager.UTILITY_PIPELINE;this.fullFrame1=v.fullFrame1,this.fullFrame2=v.fullFrame2,this.halfFrame1=v.halfFrame1,this.halfFrame2=v.halfFrame2;var h=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",h.width,h.height);for(var c=this.renderTargets,p=0;p<c.length;p++)c[p].autoResize=!0},postBatch:function(v){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(v),this},onDraw:function(v){this.bindAndDraw(v)},getController:function(v){return v!==void 0?v:this.controller?this.controller:this},copySprite:function(v,h,c){c===void 0&&(c=!1);var p=this.gl;p.activeTexture(p.TEXTURE0),p.bindTexture(p.TEXTURE_2D,v.texture.webGLTexture);var m=p.getParameter(p.FRAMEBUFFER_BINDING);p.bindFramebuffer(p.FRAMEBUFFER,h.framebuffer.webGLFramebuffer),p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,h.texture.webGLTexture,0),p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT),p.bufferData(p.ARRAY_BUFFER,this.vertexData,p.STATIC_DRAW),p.drawArrays(p.TRIANGLES,0,6),c&&(p.bindTexture(p.TEXTURE_2D,null),p.bindFramebuffer(p.FRAMEBUFFER,m))},copyFrame:function(v,h,c,p,m){this.manager.copyFrame(v,h,c,p,m)},copyToGame:function(v){this.manager.copyToGame(v)},drawFrame:function(v,h,c){this.manager.drawFrame(v,h,c,this.colorMatrix)},blendFrames:function(v,h,c,p,m){this.manager.blendFrames(v,h,c,p,m)},blendFramesAdditive:function(v,h,c,p,m){this.manager.blendFramesAdditive(v,h,c,p,m)},clearFrame:function(v,h){this.manager.clearFrame(v,h)},blitFrame:function(v,h,c,p,m,x){this.manager.blitFrame(v,h,c,p,m,x)},copyFrameRect:function(v,h,c,p,m,x,T,P){this.manager.copyFrameRect(v,h,c,p,m,x,T,P)},bindAndDraw:function(v,h,c,p,m){c===void 0&&(c=!0),p===void 0&&(p=!0);var x=this.gl,T=this.renderer;this.bind(m),this.set1i("uMainSampler",0),h?(x.viewport(0,0,h.width,h.height),x.bindFramebuffer(x.FRAMEBUFFER,h.framebuffer.webGLFramebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,h.texture.webGLTexture,0),c&&(p?x.clearColor(0,0,0,0):x.clearColor(0,0,0,1),x.clear(x.COLOR_BUFFER_BIT))):(T.popFramebuffer(!1,!1),T.currentFramebuffer||x.viewport(0,0,T.width,T.height)),T.restoreStencilMask(),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,v.texture.webGLTexture),x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6),h&&(x.bindTexture(x.TEXTURE_2D,null),x.bindFramebuffer(x.FRAMEBUFFER,T.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),a.prototype.destroy.call(this),this}});n.exports=d},43558:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10312),y=s(67502),f=s(83419),u=s(96293),l=s(95540),a=s(57516),d=s(27681),v=s(87841),h=s(32302),c=s(45561),p=s(60722),m=s(29100),x=new f({Extends:a,initialize:function(P){var M=l(P,"fragShader",d),E=l(P,"vertShader",p),w=l(P,"drawShader",d),R=[{name:"DrawSprite",fragShader:c,vertShader:p},{name:"CopySprite",fragShader:M,vertShader:E},{name:"DrawGame",fragShader:w,vertShader:p},{name:"ColorMatrix",fragShader:u}],A=l(P,"shaders",[]);P.shaders=R.concat(A),P.vertShader||(P.vertShader=E),P.batchSize=1,a.call(this,P),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new v,this.targetBounds=new v,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){m.prototype.boot.call(this);var T=this.shaders,P=this.renderer;this.drawSpriteShader=T[0],this.copyShader=T[1],this.gameShader=T[2],this.colorMatrixShader=T[3],this.fsTarget=new h(P,P.width,P.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var M=new ArrayBuffer(168);this.quadVertexData=M,this.quadVertexViewF32=new Float32Array(M),this.quadVertexBuffer=P.createVertexBuffer(M,this.gl.STATIC_DRAW),this.onResize(P.width,P.height),this.currentShader=this.copyShader,this.set2f("uResolution",P.width,P.height)},onResize:function(T,P){var M=this.quadVertexViewF32;M[1]=P,M[22]=P,M[14]=T,M[28]=T,M[35]=T,M[36]=P},batchQuad:function(T,P,M,E,w,R,A,L,b,O,F,D,B,N,z,W,X,k,V){var I=Math.min(P,E,R,L),U=Math.min(M,w,A,b),G=Math.max(P,E,R,L),Y=Math.max(M,w,A,b),H=G-I,$=Y-U,K=this.spriteBounds.setTo(I,U,H,$),Z=T?T.preFX.padding:0,J=H+Z*2,j=$+Z*2,Q=Math.abs(Math.max(J,j)),_=this.manager.getRenderTarget(Q),it=this.targetBounds.setTo(0,0,_.width,_.height);y(it,Math.round(K.centerX),Math.round(K.centerY)),this.tempSprite=T;var q=this.gl,ht=this.renderer;ht.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",ht.width,ht.height),this.flipProjectionMatrix(!0),T&&(this.onDrawSprite(T,_),T.preFX.onFX(this));var lt=this.fsTarget;return this.flush(),q.viewport(0,0,ht.width,ht.height),q.bindFramebuffer(q.FRAMEBUFFER,lt.framebuffer.webGLFramebuffer),q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,lt.texture.webGLTexture,0),q.clearColor(0,0,0,0),q.clear(q.COLOR_BUFFER_BIT),this.setTexture2D(V),this.batchVert(P,M,O,F,0,k,N),this.batchVert(E,w,O,B,0,k,W),this.batchVert(R,A,D,B,0,k,X),this.batchVert(P,M,O,F,0,k,N),this.batchVert(R,A,D,B,0,k,X),this.batchVert(L,b,D,F,0,k,z),this.flush(),this.flipProjectionMatrix(!1),q.activeTexture(q.TEXTURE0),q.bindTexture(q.TEXTURE_2D,_.texture.webGLTexture),q.copyTexSubImage2D(q.TEXTURE_2D,0,0,0,it.x,it.y,it.width,it.height),q.bindFramebuffer(q.FRAMEBUFFER,null),q.bindTexture(q.TEXTURE_2D,null),this.onBatch(T),this.currentShader=this.copyShader,this.onDraw(_,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(T,P,M,E,w,R,A){M===void 0&&(M=!0),E===void 0&&(E=!0),w===void 0&&(w=!1),A===void 0&&(A=this.copyShader);var L=this.gl,b=this.tempSprite;R&&(A=this.colorMatrixShader),this.currentShader=A;var O=this.setVertexBuffer(this.quadVertexBuffer);A.bind(O,!1);var F=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",F.width,F.height),b.preFX.onFXCopy(this),this.onCopySprite(T,P,b),R&&(this.set1fv("uColorMatrix",R.getData()),this.set1f("uAlpha",R.alpha)),L.activeTexture(L.TEXTURE0),L.bindTexture(L.TEXTURE_2D,T.texture.webGLTexture),T.height>P.height)L.viewport(0,0,T.width,T.height),this.setTargetUVs(T,P);else{var D=P.height-T.height;L.viewport(0,D,T.width,T.height),this.resetUVs()}if(L.bindFramebuffer(L.FRAMEBUFFER,P.framebuffer.webGLFramebuffer),L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,P.texture.webGLTexture,0),M&&(L.clearColor(0,0,0,+!E),L.clear(L.COLOR_BUFFER_BIT)),w){var B=this.renderer.currentBlendMode;this.renderer.setBlendMode(o.ERASE)}L.bufferData(L.ARRAY_BUFFER,this.quadVertexData,L.STATIC_DRAW),L.drawArrays(L.TRIANGLES,0,6),w&&this.renderer.setBlendMode(B),L.bindFramebuffer(L.FRAMEBUFFER,null)},copy:function(T,P){var M=this.gl;this.set1i("uMainSampler",0),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,T.texture.webGLTexture),M.viewport(0,0,T.width,T.height),this.setUVs(0,0,0,1,1,1,1,0),M.bindFramebuffer(M.FRAMEBUFFER,P.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,P.texture.webGLTexture,0),M.clearColor(0,0,0,0),M.clear(M.COLOR_BUFFER_BIT),M.bufferData(M.ARRAY_BUFFER,this.quadVertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),M.bindFramebuffer(M.FRAMEBUFFER,null)},blendFrames:function(T,P,M,E,w){this.manager.blendFrames(T,P,M,E,w)},blendFramesAdditive:function(T,P,M,E,w){this.manager.blendFramesAdditive(T,P,M,E,w)},drawToGame:function(T){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(T)},copyToGame:function(T){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(T)},bindAndDraw:function(T){var P=this.gl,M=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(T.texture);var E=this._tempMatrix1.loadIdentity(),w=this.targetBounds.x,R=this.targetBounds.y,A=w+T.width,L=R+T.height,b=E.getX(w,R),O=E.getX(w,L),F=E.getX(A,L),D=E.getX(A,R),B=E.getY(w,R),N=E.getY(w,L),z=E.getY(A,L),W=E.getY(A,R),X=16777215;this.batchVert(b,B,0,0,0,0,X),this.batchVert(O,N,0,1,0,0,X),this.batchVert(F,z,1,1,0,0,X),this.batchVert(b,B,0,0,0,0,X),this.batchVert(F,z,1,1,0,0,X),this.batchVert(D,W,1,0,0,0,X),M.restoreFramebuffer(!1,!0),M.currentFramebuffer||P.viewport(0,0,M.width,M.height),M.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(T){this.drawToGame(T)},setUVs:function(T,P,M,E,w,R,A,L){var b=this.quadVertexViewF32;b[2]=T,b[3]=P,b[9]=M,b[10]=E,b[16]=w,b[17]=R,b[23]=T,b[24]=P,b[30]=w,b[31]=R,b[37]=A,b[38]=L},setTargetUVs:function(T,P){var M=P.height/T.height;M>.5?M=.5-(M-.5):M=.5+(.5-M),this.setUVs(0,M,0,1+M,1,1+M,1,M)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,a.prototype.destroy.call(this),this}});n.exports=x},81041:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(95540),f=s(57516),u=new o({Extends:f,initialize:function(a){a.topology=5,a.batchSize=y(a,"batchSize",256),f.call(this,a)}});n.exports=u},12385:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(95540),f=s(57516),u=s(45561),l=s(60722),a=s(29100),d=new o({Extends:f,initialize:function(h){h.fragShader=y(h,"fragShader",u),h.vertShader=y(h,"vertShader",l),h.forceZero=!0,f.call(this,h)},boot:function(){a.prototype.boot.call(this);var v=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",v.width,v.height)}});n.exports=d},7589:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35407),y=s(10312),f=s(83419),u=s(89422),l=s(96293),a=s(36682),d=s(95540),v=s(48247),h=s(49627),c=s(29100),p=new f({Extends:c,initialize:function(x){x.renderTarget=d(x,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),x.vertShader=d(x,"vertShader",h),x.shaders=d(x,"shaders",[{name:"Copy",fragShader:a},{name:"AddBlend",fragShader:o},{name:"LinearBlend",fragShader:v},{name:"ColorMatrix",fragShader:l}]),x.attributes=d(x,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),x.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],x.batchSize=1,c.call(this,x),this.colorMatrix=new u,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){c.prototype.boot.call(this);var m=this.shaders,x=this.renderTargets;this.copyShader=m[0],this.addShader=m[1],this.linearShader=m[2],this.colorMatrixShader=m[3],this.fullFrame1=x[0],this.fullFrame2=x[1],this.halfFrame1=x[2],this.halfFrame2=x[3]},copyFrame:function(m,x,T,P,M){T===void 0&&(T=1),P===void 0&&(P=!0),M===void 0&&(M=!0);var E=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",T),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,m.texture.webGLTexture),x?(E.viewport(0,0,x.width,x.height),E.bindFramebuffer(E.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,x.texture.webGLTexture,0)):E.viewport(0,0,m.width,m.height),P&&(M?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT)),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},blitFrame:function(m,x,T,P,M,E,w){T===void 0&&(T=1),P===void 0&&(P=!0),M===void 0&&(M=!0),E===void 0&&(E=!1),w===void 0&&(w=!1);var R=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",T),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,m.texture.webGLTexture),m.height>x.height)R.viewport(0,0,m.width,m.height),this.setTargetUVs(m,x);else{var A=x.height-m.height;R.viewport(0,A,m.width,m.height)}if(R.bindFramebuffer(R.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,x.texture.webGLTexture,0),P&&(M?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT)),E){var L=this.renderer.currentBlendMode;this.renderer.setBlendMode(y.ERASE)}w&&this.flipY(),R.bufferData(R.ARRAY_BUFFER,this.vertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),E&&this.renderer.setBlendMode(L),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(m,x,T,P,M,E,w,R){w===void 0&&(w=!0),R===void 0&&(R=!0);var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,m.texture.webGLTexture,0),w&&(R?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT)),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,x.texture.webGLTexture),A.copyTexSubImage2D(A.TEXTURE_2D,0,0,0,T,P,M,E),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null)},copyToGame:function(m){var x=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,m.texture.webGLTexture),x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6)},drawFrame:function(m,x,T,P){T===void 0&&(T=!0),P===void 0&&(P=this.colorMatrix);var M=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",P.getData()),this.set1f("uAlpha",P.alpha),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,m.texture.webGLTexture),x?(M.viewport(0,0,x.width,x.height),M.bindFramebuffer(M.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,x.texture.webGLTexture,0)):M.viewport(0,0,m.width,m.height),T?M.clearColor(0,0,0,0):M.clearColor(0,0,0,1),M.clear(M.COLOR_BUFFER_BIT),M.bufferData(M.ARRAY_BUFFER,this.vertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),M.bindFramebuffer(M.FRAMEBUFFER,null),M.bindTexture(M.TEXTURE_2D,null)},blendFrames:function(m,x,T,P,M,E){P===void 0&&(P=1),M===void 0&&(M=!0),E===void 0&&(E=this.linearShader);var w=this.gl;this.setShader(E),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",P),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,m.texture.webGLTexture),w.activeTexture(w.TEXTURE1),w.bindTexture(w.TEXTURE_2D,x.texture.webGLTexture),T?(w.bindFramebuffer(w.FRAMEBUFFER,T.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,T.texture.webGLTexture,0),w.viewport(0,0,T.width,T.height)):w.viewport(0,0,m.width,m.height),M?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT),w.bufferData(w.ARRAY_BUFFER,this.vertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},blendFramesAdditive:function(m,x,T,P,M){this.blendFrames(m,x,T,P,M,this.addShader)},clearFrame:function(m,x){x===void 0&&(x=!0);var T=this.gl;T.viewport(0,0,m.width,m.height),T.bindFramebuffer(T.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),x?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT);var P=this.renderer.currentFramebuffer;T.bindFramebuffer(T.FRAMEBUFFER,P.webGLFramebuffer)},setUVs:function(m,x,T,P,M,E,w,R){var A=this.vertexViewF32;A[2]=m,A[3]=x,A[6]=T,A[7]=P,A[10]=M,A[11]=E,A[14]=m,A[15]=x,A[18]=M,A[19]=E,A[22]=w,A[23]=R},setTargetUVs:function(m,x){var T=x.height/m.height;T>.5?T=.5-(T-.5):T=.5+(.5-T),this.setUVs(0,T,0,1+T,1,1+T,1,T)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});n.exports=p},36060:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};n.exports=C},84817:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineafterflush"},36712:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinebeforeflush"},40285:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinebind"},65918:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineboot"},92852:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinedestroy"},56072:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinerebind"},57566:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineresize"},77085:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AFTER_FLUSH:s(84817),BEFORE_FLUSH:s(36712),BIND:s(40285),BOOT:s(65918),DESTROY:s(92852),REBIND:s(56072),RESIZE:s(57566)}},54812:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(99155),f=s(84057),u=new o({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:y}),this.amount=1},onPreRender:function(l,a){l=this.getController(l),this.set1f("amount",l.amount,a)}});n.exports=u},67329:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(24400),f=s(84057),u=new o({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:y}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(l){l=this.getController(l),this.set1f("strength",l.blurStrength),this.set3fv("color",l.glcolor)},onDraw:function(l){var a=this.getController(),d=this.fullFrame1,v=this.fullFrame2;this.copyFrame(l,v);for(var h=2/l.width*a.offsetX,c=2/l.height*a.offsetY,p=0;p<a.steps;p++)this.set2f("offset",h,0),this.copySprite(l,d),this.set2f("offset",0,c),this.copySprite(d,l);this.blendFrames(v,l,d,a.strength),this.copyToGame(d)}});n.exports=u},8861:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(41514),f=s(51078),u=s(94328),l=s(84057),a=new o({Extends:l,initialize:function(v){l.call(this,{game:v,shaders:[{name:"Gaussian5",fragShader:y},{name:"Gaussian9",fragShader:f},{name:"Gaussian13",fragShader:u}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(d){var v=this.getController(),h=this.gl,c=this.fullFrame1,p=h.getParameter(h.FRAMEBUFFER_BINDING);this.bind(this.shaders[v.quality]),h.activeTexture(h.TEXTURE0),h.viewport(0,0,d.width,d.height),this.set1i("uMainSampler",0),this.set2f("resolution",d.width,d.height),this.set1f("strength",v.strength),this.set3fv("color",v.glcolor);for(var m=0;m<v.steps;m++)this.set2f("offset",v.x,0),this.copySprite(d,c),this.set2f("offset",0,v.y),this.copySprite(c,d);h.bindFramebuffer(h.FRAMEBUFFER,p),h.bindTexture(h.TEXTURE_2D,null),this.copyToGame(d)}});n.exports=a},51051:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(90610),f=s(84057),u=new o({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:y}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(l,a,d,v){l=this.getController(l),this.set1f("radius",l.radius,a),this.set1f("amount",l.amount,a),this.set1f("contrast",l.contrast,a),this.set1f("strength",l.strength,a),this.set2f("blur",l.blurX,l.blurY,a),this.setBoolean("isTiltShift",l.isTiltShift,a),d&&v&&this.set2f("resolution",d,v,a)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});n.exports=u},89428:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(91899),f=s(84057),u=new o({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:y}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(l,a,d,v){l=this.getController(l),this.set1f("scale",l.scale,a),this.set1f("feather",l.feather,a),this.set1f("thickness",l.thickness,a),this.set3fv("color",l.glcolor,a),this.set4fv("backgroundColor",l.glcolor2,a),d&&v&&this.set2f("resolution",d,v,a)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});n.exports=u},88904:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(84057),f=new o({Extends:y,initialize:function(l){y.call(this,{game:l})},onDraw:function(u){var l=this.fullFrame1;this.controller?this.manager.drawFrame(u,l,!0,this.controller):this.drawFrame(u,l),this.copyToGame(l)}});n.exports=f},63563:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(47838),f=s(84057),u=new o({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:y}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(l){var a=this.game.textures.getFrame(l);a&&(this.glTexture=a.glTexture)},onDraw:function(l){var a=this.getController(),d=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",a.x,a.y),this.bindTexture(a.glTexture,1),this.copySprite(l,d),this.copyToGame(d)}});n.exports=u},94045:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(95540),f=s(98656),u=s(84057),l=s(70554),a=new o({Extends:u,initialize:function(v,h){var c=y(h,"quality",.1),p=y(h,"distance",10);u.call(this,{game:v,fragShader:l.setGlowQuality(f,v,c,p)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(d,v,h,c){d=this.getController(d),this.set1f("outerStrength",d.outerStrength,v),this.set1f("innerStrength",d.innerStrength,v),this.set4fv("glowColor",d.glcolor,v),this.setBoolean("knockout",d.knockout,v),h&&c&&this.set2f("resolution",h,c,v)},onDraw:function(d){this.set2f("resolution",d.width,d.height),this.bindAndDraw(d)}});n.exports=a},74088:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(70463),f=s(84057),u=new o({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:y}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(l,a){l=this.getController(l),this.set1f("alpha",l.alpha,a),this.set1i("size",l.size,a),this.set3fv("color1",l.glcolor1,a),this.set3fv("color2",l.glcolor2,a),this.set2f("positionFrom",l.fromX,l.fromY,a),this.set2f("positionTo",l.toX,l.toY,a)}});n.exports=u},99636:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(50831),f=s(84057),u=new o({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:y}),this.amount=1},onPreRender:function(l,a,d,v){l=this.getController(l),this.set1f("amount",l.amount,a),d&&v&&this.set2f("resolution",d,v,a)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});n.exports=u},34700:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(92595),f=s(84057),u=new o({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:y}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(l,a){l=this.getController(l);var d=l.samples;this.set1i("samples",d,a),this.set1f("intensity",l.intensity,a),this.set1f("decay",l.decay,a),this.set1f("power",l.power/d,a),this.set2f("lightPosition",l.x,l.y,a),this.set4fv("color",l.glcolor,a)}});n.exports=u},91157:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(72464),f=s(84057),u=new o({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:y}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(l,a,d,v){l=this.getController(l),this.setTime("time",a),this.set1f("speed",l.speed,a),this.set1f("lineWidth",l.lineWidth,a),this.set1f("gradient",l.gradient,a),this.setBoolean("reveal",l.reveal,a),d&&v&&this.set2f("resolution",d,v,a)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});n.exports=u},27797:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(39249),f=s(84057),u=new o({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:y}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(l,a){l=this.getController(l),this.set1f("radius",l.radius,a),this.set1f("strength",l.strength,a),this.set2f("position",l.x,l.y,a)}});n.exports=u},67603:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(2878),f=s(84057),u=new o({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:y}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(l,a){l=this.getController(l);var d=l.progress,v=l.wipeWidth,h=l.direction,c=l.axis;this.set4f("config",d,v,h,c,a),this.setBoolean("reveal",l.reveal,a)}});n.exports=u},58918:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Barrel:s(54812),Bloom:s(67329),Blur:s(8861),Bokeh:s(51051),Circle:s(89428),ColorMatrix:s(88904),Displacement:s(63563),Glow:s(94045),Gradient:s(74088),Pixelate:s(99636),Shadow:s(34700),Shine:s(91157),Vignette:s(27797),Wipe:s(67603)};n.exports=o},96615:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36060),y=s(79291),f={FX:s(58918),BitmapMaskPipeline:s(31302),Events:s(77085),FXPipeline:s(92651),LightPipeline:s(96569),MobilePipeline:s(56527),MultiPipeline:s(57516),PointLightPipeline:s(43439),PostFXPipeline:s(84057),PreFXPipeline:s(43558),RopePipeline:s(81041),SinglePipeline:s(12385),UtilityPipeline:s(7589)};f=y(!1,f,o),n.exports=f},35407:n=>{n.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:n=>{n.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:n=>{n.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:n=>{n.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:n=>{n.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:n=>{n.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:n=>{n.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:n=>{n.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:n=>{n.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:n=>{n.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:n=>{n.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:n=>{n.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:n=>{n.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:n=>{n.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:n=>{n.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:n=>{n.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:n=>{n.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:n=>{n.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:n=>{n.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:n=>{n.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:n=>{n.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:n=>{n.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:n=>{n.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:n=>{n.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:n=>{n.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:n=>{n.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:n=>{n.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:n=>{n.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:n=>{n.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:n=>{n.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:n=>{n.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:n=>{n.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:n=>{n.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:n=>{n.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(n,C,s)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AddBlendFrag:s(35407),BitmapMaskFrag:s(78908),BitmapMaskVert:s(85191),ColorMatrixFrag:s(96293),CopyFrag:s(36682),FXBarrelFrag:s(99155),FXBloomFrag:s(24400),FXBlurHighFrag:s(94328),FXBlurLowFrag:s(41514),FXBlurMedFrag:s(51078),FXBokehFrag:s(90610),FXCircleFrag:s(91899),FXDisplacementFrag:s(47838),FXGlowFrag:s(98656),FXGradientFrag:s(70463),FXPixelateFrag:s(50831),FXShadowFrag:s(92595),FXShineFrag:s(72464),FXVignetteFrag:s(39249),FXWipeFrag:s(2878),LightFrag:s(31063),LinearBlendFrag:s(48247),MeshFrag:s(41214),MeshVert:s(39653),MobileFrag:s(62143),MobileVert:s(47940),MultiFrag:s(98840),MultiVert:s(44667),PointLightFrag:s(4127),PointLightVert:s(89924),PostFXFrag:s(27681),QuadVert:s(49627),SingleFrag:s(45561),SingleVert:s(60722)}},93567:(n,C,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=new o({initialize:function(u,l,a){this.webGLAttribLocation=-1,this.gl=u,this.program=l,this.name=a,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var f=this.gl;f.isContextLost()||(this.webGLAttribLocation=f.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});n.exports=y},26128:(n,C,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=new o({initialize:function(u,l,a,d){this.webGLBuffer=null,this.gl=u,this.initialDataOrSize=l,this.bufferType=a,this.bufferUsage=d,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var f=this.gl;if(!f.isContextLost()){var u=this.bufferType,l=f.createBuffer();this.webGLBuffer=l,f.bindBuffer(u,this.webGLBuffer),f.bufferData(u,this.initialDataOrSize,this.bufferUsage),f.bindBuffer(u,null)}}},destroy:function(){var f=this.gl;f.isContextLost()||f.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});n.exports=y},84387:(n,C,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},f=new o({initialize:function(l,a,d,v,h){this.webGLFramebuffer=null,this.gl=l,this.width=a,this.height=d,this.renderTexture=v,this.addDepthStencilBuffer=!!h,this.createResource()},createResource:function(){var u=this.gl;if(!u.isContextLost()){var l=this.renderTexture,a=0,d=u.createFramebuffer();if(this.webGLFramebuffer=d,u.bindFramebuffer(u.FRAMEBUFFER,d),l.isRenderTexture=!0,l.isAlphaPremultiplied=!1,u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,l.webGLTexture,0),a=u.checkFramebufferStatus(u.FRAMEBUFFER),a!==u.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(y[a]||a));if(this.addDepthStencilBuffer){var v=u.createRenderbuffer();u.bindRenderbuffer(u.RENDERBUFFER,v),u.renderbufferStorage(u.RENDERBUFFER,u.DEPTH_STENCIL,this.width,this.height),u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.RENDERBUFFER,v)}u.bindFramebuffer(u.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var u=this.gl;if(!u.isContextLost()){u.bindFramebuffer(u.FRAMEBUFFER,this.webGLFramebuffer);var l=u.getFramebufferAttachmentParameter(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);l!==null&&(u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,null,0),u.deleteTexture(l));var a=u.getFramebufferAttachmentParameter(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);a!==null&&u.deleteRenderbuffer(a),u.bindFramebuffer(u.FRAMEBUFFER,null),u.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});n.exports=f},1482:(n,C,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=new o({initialize:function(u,l,a){this.webGLProgram=null,this.gl=u,this.vertexSource=l,this.fragmentSource=a,this.createResource()},createResource:function(){var f=this.gl;if(!f.isContextLost()){var u=f.createProgram(),l=f.createShader(f.VERTEX_SHADER),a=f.createShader(f.FRAGMENT_SHADER);f.shaderSource(l,this.vertexSource),f.shaderSource(a,this.fragmentSource),f.compileShader(l),f.compileShader(a);var d=`Shader failed:
`;if(!f.getShaderParameter(l,f.COMPILE_STATUS))throw new Error("Vertex "+d+f.getShaderInfoLog(l));if(!f.getShaderParameter(a,f.COMPILE_STATUS))throw new Error("Fragment "+d+f.getShaderInfoLog(a));if(f.attachShader(u,l),f.attachShader(u,a),f.linkProgram(u),!f.getProgramParameter(u,f.LINK_STATUS))throw new Error("Link "+d+f.getProgramInfoLog(u));f.useProgram(u),this.webGLProgram=u}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});n.exports=y},82751:(n,C,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(50030),f=new o({initialize:function(l,a,d,v,h,c,p,m,x,T,P,M,E){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=l,this.mipLevel=a,this.minFilter=d,this.magFilter=v,this.wrapT=h,this.wrapS=c,this.format=p,this.pixels=m,this.width=x,this.height=T,this.pma=P??!0,this.forceSize=!!M,this.flipY=!!E,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var u=this.gl;if(!u.isContextLost()){if(this.pixels instanceof f){this.webGLTexture=this.pixels.webGLTexture;return}var l=u.createTexture();l.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=l,this._processTexture()}},update:function(u,l,a,d,v,h,c,p,m){if(!(l===0||a===0)){this.pixels=u,this.width=l,this.height=a,this.flipY=d,this.wrapS=v,this.wrapT=h,this.minFilter=c,this.magFilter=p,this.format=m;var x=this.gl;x.isContextLost()||this._processTexture()}},_processTexture:function(){var u=this.gl;u.activeTexture(u.TEXTURE0);var l=u.getParameter(u.TEXTURE_BINDING_2D);u.bindTexture(u.TEXTURE_2D,this.webGLTexture),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,this.minFilter),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,this.magFilter),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,this.wrapS),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,this.wrapT),u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,this.flipY);var a=this.pixels,d=this.mipLevel,v=this.width,h=this.height,c=this.format,p=!1;if(a==null)u.texImage2D(u.TEXTURE_2D,d,c,v,h,0,c,u.UNSIGNED_BYTE,null),p=y(v,h);else if(a.compressed){v=a.width,h=a.height,p=a.generateMipmap;for(var m=0;m<a.mipmaps.length;m++)u.compressedTexImage2D(u.TEXTURE_2D,m,a.internalFormat,a.mipmaps[m].width,a.mipmaps[m].height,0,a.mipmaps[m].data)}else a instanceof Uint8Array?(u.texImage2D(u.TEXTURE_2D,d,c,v,h,0,c,u.UNSIGNED_BYTE,a),p=y(v,h)):(this.forceSize||(v=a.width,h=a.height),u.texImage2D(u.TEXTURE_2D,d,c,c,u.UNSIGNED_BYTE,a),p=y(v,h));p&&u.generateMipmap(u.TEXTURE_2D),l?u.bindTexture(u.TEXTURE_2D,l):u.bindTexture(u.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(u){this.__SPECTOR_Metadata=u,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=u)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof f||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});n.exports=f},57183:(n,C,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=new o({initialize:function(u,l,a){this.webGLUniformLocation=null,this.gl=u,this.program=l,this.name=a,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var f=this.gl;f.isContextLost()||(this.webGLUniformLocation=f.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});n.exports=y},9503:(n,C,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={WebGLAttribLocationWrapper:s(93567),WebGLBufferWrapper:s(26128),WebGLProgramWrapper:s(1482),WebGLTextureWrapper:s(82751),WebGLFramebufferWrapper:s(84387),WebGLUniformLocationWrapper:s(57183)};n.exports=o},76531:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(13560),y=s(83419),f=s(45319),u=s(50792),l=s(97480),a=s(8443),d=s(57811),v=s(74403),h=s(45818),c=s(29747),p=s(87841),m=s(86555),x=s(56583),T=s(26099),P=s(38058),M=new y({Extends:u,initialize:function(w){u.call(this),this.game=w,this.canvas,this.canvasBounds=new p,this.parent=null,this.parentIsWindow=!1,this.parentSize=new m,this.gameSize=new m,this.baseSize=new m,this.displaySize=new m,this.scaleMode=o.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new T(1,1),this.autoRound=!1,this.autoCenter=o.CENTER.NO_CENTER,this.orientation=o.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:c,windowResize:c,fullScreenChange:c,fullScreenError:c}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(a.BOOT,this.boot,this)},boot:function(){var E=this.game;this.canvas=E.canvas,this.fullscreen=E.device.fullscreen;var w=this.scaleMode;w!==o.SCALE_MODE.RESIZE&&w!==o.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(w),w===o.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),E.events.on(a.PRE_STEP,this.step,this),E.events.once(a.READY,this.refresh,this),E.events.once(a.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(E){this.getParent(E),this.getParentBounds();var w=E.width,R=E.height,A=E.scaleMode,L=E.zoom,b=E.autoRound;if(typeof w=="string")if(w.substr(-1)!=="%")w=parseInt(w,10);else{var O=this.parentSize.width;O===0&&(O=window.innerWidth);var F=parseInt(w,10)/100;w=Math.floor(O*F)}if(typeof R=="string")if(R.substr(-1)!=="%")R=parseInt(R,10);else{var D=this.parentSize.height;D===0&&(D=window.innerHeight);var B=parseInt(R,10)/100;R=Math.floor(D*B)}this.scaleMode=A,this.autoRound=b,this.autoCenter=E.autoCenter,this.resizeInterval=E.resizeInterval,b&&(w=Math.floor(w),R=Math.floor(R)),this.gameSize.setSize(w,R),L===o.ZOOM.MAX_ZOOM&&(L=this.getMaxZoom()),this.zoom=L,L!==1&&(this._resetZoom=!0),this.baseSize.setSize(w,R),b&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),E.minWidth>0&&this.displaySize.setMin(E.minWidth*L,E.minHeight*L),E.maxWidth>0&&this.displaySize.setMax(E.maxWidth*L,E.maxHeight*L),this.displaySize.setSize(w,R),(E.snapWidth>0||E.snapHeight>0)&&this.displaySize.setSnap(E.snapWidth,E.snapHeight),this.orientation=h(w,R)},getParent:function(E){var w=E.parent;if(w!==null){if(this.parent=v(w),this.parentIsWindow=this.parent===document.body,E.expandParent&&E.scaleMode!==o.SCALE_MODE.NONE){var R=this.parent.getBoundingClientRect();(this.parentIsWindow||R.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",R=this.parent.getBoundingClientRect(),!this.parentIsWindow&&R.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}E.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=v(E.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var E=this.parentSize,w=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(w.height=d(!0));var R=w.width,A=w.height;if(E.width!==R||E.height!==A)return E.setSize(R,A),!0;if(this.canvas){var L=this.canvasBounds,b=this.canvas.getBoundingClientRect();if(b.x!==L.x||b.y!==L.y)return!0}return!1},lockOrientation:function(E){var w=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return w?w.call(screen,E):!1},setParentSize:function(E,w){return this.parentSize.setSize(E,w),this.refresh()},setGameSize:function(E,w){var R=this.autoRound;R&&(E=Math.floor(E),w=Math.floor(w));var A=this.width,L=this.height;return this.gameSize.resize(E,w),this.baseSize.resize(E,w),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(E/w),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(A,L)},resize:function(E,w){var R=this.zoom,A=this.autoRound;A&&(E=Math.floor(E),w=Math.floor(w));var L=this.width,b=this.height;this.gameSize.resize(E,w),this.baseSize.resize(E,w),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(E*R,w*R),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var O=this.canvas.style,F=E*R,D=w*R;return A&&(F=Math.floor(F),D=Math.floor(D)),(F!==E||D!==w)&&(O.width=F+"px",O.height=D+"px"),this.refresh(L,b)},setZoom:function(E){return this.zoom=E,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(E,w){return E===void 0&&(E=0),w===void 0&&(w=E),this.displaySize.setSnap(E,w),this.refresh()},refresh:function(E,w){E===void 0&&(E=this.width),w===void 0&&(w=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var R=this.game.domContainer;if(R){this.baseSize.setCSS(R);var A=this.canvas.style,L=R.style;L.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",L.marginLeft=A.marginLeft,L.marginTop=A.marginTop}return this.emit(l.RESIZE,this.gameSize,this.baseSize,this.displaySize,E,w),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var E=h(this.width,this.height);E!==this.orientation&&(this.orientation=E,this.emit(l.ORIENTATION_CHANGE,E))}},updateScale:function(){var E=this.canvas.style,w=this.gameSize.width,R=this.gameSize.height,A,L,b=this.zoom,O=this.autoRound;if(this.scaleMode===o.SCALE_MODE.NONE)this.displaySize.setSize(w*b,R*b),A=this.displaySize.width,L=this.displaySize.height,O&&(A=Math.floor(A),L=Math.floor(L)),this._resetZoom&&(E.width=A+"px",E.height=L+"px",this._resetZoom=!1);else if(this.scaleMode===o.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),A=this.displaySize.width,L=this.displaySize.height,O&&(A=Math.floor(A),L=Math.floor(L)),this.canvas.width=A,this.canvas.height=L;else if(this.scaleMode===o.SCALE_MODE.EXPAND){var F=this.game.config.width,D=this.game.config.height,B=this.parentSize.width,N=this.parentSize.height,z=B/F,W=N/D,X,k;z<W?(X=F,k=z!==0?N/z:D):(X=W!==0?B/W:F,k=D);var V=f(X,this.displaySize.minWidth,this.displaySize.maxWidth),I=f(k,this.displaySize.minHeight,this.displaySize.maxHeight);this.baseSize.setSize(V,I),this.gameSize.setSize(V,I),O&&(V=Math.floor(V),I=Math.floor(I)),this.canvas.width=V,this.canvas.height=I;var U=B*(V/X),G=N*(I/k);this.displaySize.setSize(U,G),A=this.displaySize.width,L=this.displaySize.height,O&&(A=Math.floor(A),L=Math.floor(L)),E.width=A+"px",E.height=L+"px"}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,L=this.displaySize.height,O&&(A=Math.floor(A),L=Math.floor(L)),E.width=A+"px",E.height=L+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var E=x(this.parentSize.width,this.gameSize.width,0,!0),w=x(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(E,w),1)},updateCenter:function(){var E=this.autoCenter;if(E!==o.CENTER.NO_CENTER){var w=this.canvas,R=w.style,A=w.getBoundingClientRect(),L=A.width,b=A.height,O=Math.floor((this.parentSize.width-L)/2),F=Math.floor((this.parentSize.height-b)/2);E===o.CENTER.CENTER_HORIZONTALLY?F=0:E===o.CENTER.CENTER_VERTICALLY&&(O=0),R.marginLeft=O+"px",R.marginTop=F+"px"}},updateBounds:function(){var E=this.canvasBounds,w=this.canvas.getBoundingClientRect();E.x=w.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),E.y=w.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),E.width=w.width,E.height=w.height},transformX:function(E){return(E-this.canvasBounds.left)*this.displayScale.x},transformY:function(E){return(E-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(E){E===void 0&&(E={navigationUI:"hide"});var w=this.fullscreen;if(!w.available){this.emit(l.FULLSCREEN_UNSUPPORTED);return}if(!w.active){var R=this.getFullscreenTarget();w.keyboard?R[w.request](Element.ALLOW_KEYBOARD_INPUT):R[w.request](E)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(l.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(E){this.removeFullscreenTarget(),this.emit(l.FULLSCREEN_FAILED,E)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var E=document.createElement("div");E.style.margin="0",E.style.padding="0",E.style.width="100%",E.style.height="100%",this.fullscreenTarget=E,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var w=this.canvas.parentNode;w.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var E=this.fullscreenTarget;if(E&&E.parentNode){var w=E.parentNode;w.insertBefore(this.canvas,E),w.removeChild(E)}}},stopFullscreen:function(){var E=this.fullscreen;if(!E.available)return this.emit(l.FULLSCREEN_UNSUPPORTED),!1;E.active&&document[E.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(l.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(E){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(E)},startListeners:function(){var E=this,w=this.domlisteners;if(w.orientationChange=function(){E.updateBounds(),E._checkOrientation=!0,E.dirty=!0,E.refresh()},w.windowResize=function(){E.updateBounds(),E.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",w.orientationChange,!1):window.addEventListener("orientationchange",w.orientationChange,!1),window.addEventListener("resize",w.windowResize,!1),this.fullscreen.available){w.fullScreenChange=function(A){return E.onFullScreenChange(A)},w.fullScreenError=function(A){return E.onFullScreenError(A)};var R=["webkit","moz",""];R.forEach(function(A){document.addEventListener(A+"fullscreenchange",w.fullScreenChange,!1),document.addEventListener(A+"fullscreenerror",w.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",w.fullScreenChange,!1),document.addEventListener("MSFullscreenError",w.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(E,w){E instanceof P||(w=E,E=void 0),w===void 0&&(w=new p);var R=this.baseSize,A=this.parentSize,L=this.canvasBounds,b=this.displayScale,O=L.x>=0?0:-(L.x*b.x),F=L.y>=0?0:-(L.y*b.y),D;A.width>=L.width?D=R.width:D=R.width-(L.width-A.width)*b.x;var B;return A.height>=L.height?B=R.height:B=R.height-(L.height-A.height)*b.y,w.setTo(O,F,D,B),E&&(w.width/=E.zoomX,w.height/=E.zoomY,w.centerX=E.centerX+E.scrollX,w.centerY=E.centerY+E.scrollY),w},step:function(E,w){this.parent&&(this._lastCheck+=w,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var E=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",E.orientationChange,!1):window.removeEventListener("orientationchange",E.orientationChange,!1),window.removeEventListener("resize",E.windowResize,!1);var w=["webkit","moz",""];w.forEach(function(R){document.removeEventListener(R+"fullscreenchange",E.fullScreenChange,!1),document.removeEventListener(R+"fullscreenerror",E.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",E.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",E.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===o.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===o.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});n.exports=M},64743:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={CENTER:s(64743),ORIENTATION:s(39218),SCALE_MODE:s(81050),ZOOM:s(80805)};n.exports=o},56139:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="enterfullscreen"},2336:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fullscreenfailed"},47412:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fullscreenunsupported"},51452:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="leavefullscreen"},20666:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="orientationchange"},47945:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resize"},97480:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ENTER_FULLSCREEN:s(56139),FULLSCREEN_FAILED:s(2336),FULLSCREEN_UNSUPPORTED:s(47412),LEAVE_FULLSCREEN:s(51452),ORIENTATION_CHANGE:s(20666),RESIZE:s(47945)}},93364:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(79291),y=s(13560),f={Center:s(64743),Events:s(97480),Orientation:s(39218),ScaleManager:s(76531),ScaleModes:s(81050),Zoom:s(80805)};f=o(!1,f,y.CENTER),f=o(!1,f,y.ORIENTATION),f=o(!1,f,y.SCALE_MODE),f=o(!1,f,y.ZOOM),n.exports=f},27397:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95540),y=s(35355),f=function(u){var l=u.game.config.defaultPhysicsSystem,a=o(u.settings,"physics",!1);if(!(!l&&!a)){var d=[];if(l&&d.push(y(l+"Physics")),a)for(var v in a)v=y(v.concat("Physics")),d.indexOf(v)===-1&&d.push(v);return d}};n.exports=f},52106:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95540),y=function(f){var u=f.plugins.getDefaultScenePlugins(),l=o(f.settings,"plugins",!1);return Array.isArray(l)?l:u||[]};n.exports=y},87033:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};n.exports=C},97482:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(2368),f=new o({initialize:function(l){this.sys=new y(this,l),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});n.exports=f},60903:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(89993),f=s(44594),u=s(8443),l=s(35154),a=s(54899),d=s(29747),v=s(97482),h=s(2368),c=new o({initialize:function(m,x){if(this.game=m,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,x){Array.isArray(x)||(x=[x]);for(var T=0;T<x.length;T++)this._pending.push({key:"default",scene:x[T],autoStart:T===0,data:{}})}m.events.once(u.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new v),this.game.events.emit(u.SYSTEM_READY,this.systemScene,this);var p,m,x,T;for(p=0;p<this._pending.length;p++){m=this._pending[p],x=m.key,T=m.scene;var P;T instanceof v?P=this.createSceneFromInstance(x,T):typeof T=="object"?P=this.createSceneFromObject(x,T):typeof T=="function"&&(P=this.createSceneFromFunction(x,T)),x=P.sys.settings.key,this.keys[x]=P,this.scenes.push(P),this._data[x]&&(P.sys.settings.data=this._data[x].data,this._data[x].autoStart&&(m.autoStart=!0)),(m.autoStart||P.sys.settings.active)&&this._start.push(x)}for(this._pending.length=0,this._data={},this.isBooted=!0,p=0;p<this._start.length;p++)m=this._start[p],this.start(m);this._start.length=0}},processQueue:function(){var p=this._pending.length,m=this._queue.length;if(!(p===0&&m===0)){var x,T;if(p){for(x=0;x<p;x++)T=this._pending[x],this.add(T.key,T.scene,T.autoStart,T.data);for(x=0;x<this._start.length;x++)T=this._start[x],this.start(T);this._start.length=0,this._pending.length=0}for(x=0;x<this._queue.length;x++)T=this._queue[x],this[T.op](T.keyA,T.keyB,T.data);this._queue.length=0}},add:function(p,m,x,T){if(x===void 0&&(x=!1),T===void 0&&(T={}),this.isProcessing||!this.isBooted)return this._pending.push({key:p,scene:m,autoStart:x,data:T}),this.isBooted||(this._data[p]={data:T}),null;p=this.getKey(p,m);var P;return m instanceof v?P=this.createSceneFromInstance(p,m):typeof m=="object"?(m.key=p,P=this.createSceneFromObject(p,m)):typeof m=="function"&&(P=this.createSceneFromFunction(p,m)),P.sys.settings.data=T,p=P.sys.settings.key,this.keys[p]=P,this.scenes.push(P),(x||P.sys.settings.active)&&(this._pending.length?this._start.push(p):this.start(p)),P},remove:function(p){if(this.isProcessing)return this.queueOp("remove",p);var m=this.getScene(p);if(!m||m.sys.isTransitioning())return this;var x=this.scenes.indexOf(m),T=m.sys.settings.key;return x>-1&&(delete this.keys[T],this.scenes.splice(x,1),this._start.indexOf(T)>-1&&(x=this._start.indexOf(T),this._start.splice(x,1)),m.sys.destroy()),this},bootScene:function(p){var m=p.sys,x=m.settings;m.sceneUpdate=d,p.init&&(p.init.call(p,x.data),x.status=y.INIT,x.isTransition&&m.events.emit(f.TRANSITION_INIT,x.transitionFrom,x.transitionDuration));var T;m.load&&(T=m.load,T.reset()),T&&p.preload?(p.preload.call(p),x.status=y.LOADING,T.once(a.COMPLETE,this.loadComplete,this),T.start()):this.create(p)},loadComplete:function(p){this.create(p.scene)},payloadComplete:function(p){this.bootScene(p.scene)},update:function(p,m){this.processQueue(),this.isProcessing=!0;for(var x=this.scenes.length-1;x>=0;x--){var T=this.scenes[x].sys;T.settings.status>y.START&&T.settings.status<=y.RUNNING&&T.step(p,m),T.scenePlugin&&T.scenePlugin._target&&T.scenePlugin.step(p,m)}},render:function(p){for(var m=0;m<this.scenes.length;m++){var x=this.scenes[m].sys;x.settings.visible&&x.settings.status>=y.LOADING&&x.settings.status<y.SLEEPING&&x.render(p)}this.isProcessing=!1},create:function(p){var m=p.sys,x=m.settings;p.create&&(x.status=y.CREATING,p.create.call(p,x.data),x.status===y.DESTROYED)||(x.isTransition&&m.events.emit(f.TRANSITION_START,x.transitionFrom,x.transitionDuration),p.update&&(m.sceneUpdate=p.update),x.status=y.RUNNING,m.events.emit(f.CREATE,p))},createSceneFromFunction:function(p,m){var x=new m;if(x instanceof v){var T=x.sys.settings.key;if(T!==""&&(p=T),this.keys.hasOwnProperty(p))throw new Error("Cannot add Scene with duplicate key: "+p);return this.createSceneFromInstance(p,x)}else return x.sys=new h(x),x.sys.settings.key=p,x.sys.init(this.game),x},createSceneFromInstance:function(p,m){var x=m.sys.settings.key;return x===""&&(m.sys.settings.key=p),m.sys.init(this.game),m},createSceneFromObject:function(p,m){var x=new v(m),T=x.sys.settings.key;T!==""?p=T:x.sys.settings.key=p,x.sys.init(this.game);for(var P=["init","preload","create","update","render"],M=0;M<P.length;M++){var E=l(m,P[M],null);E&&(x[P[M]]=E)}if(m.hasOwnProperty("extend")){for(var w in m.extend)if(m.extend.hasOwnProperty(w)){var R=m.extend[w];w==="data"&&x.hasOwnProperty("data")&&typeof R=="object"?x.data.merge(R):w!=="sys"&&(x[w]=R)}}return x},getKey:function(p,m){if(p||(p="default"),typeof m=="function")return p;if(m instanceof v?p=m.sys.settings.key:typeof m=="object"&&m.hasOwnProperty("key")&&(p=m.key),this.keys.hasOwnProperty(p))throw new Error("Cannot add Scene with duplicate key: "+p);return p},getScenes:function(p,m){p===void 0&&(p=!0),m===void 0&&(m=!1);for(var x=[],T=this.scenes,P=0;P<T.length;P++){var M=T[P];M&&(!p||p&&M.sys.isActive())&&x.push(M)}return m?x.reverse():x},getScene:function(p){if(typeof p=="string"){if(this.keys[p])return this.keys[p]}else for(var m=0;m<this.scenes.length;m++)if(p===this.scenes[m])return p;return null},isActive:function(p){var m=this.getScene(p);return m?m.sys.isActive():null},isPaused:function(p){var m=this.getScene(p);return m?m.sys.isPaused():null},isVisible:function(p){var m=this.getScene(p);return m?m.sys.isVisible():null},isSleeping:function(p){var m=this.getScene(p);return m?m.sys.isSleeping():null},pause:function(p,m){var x=this.getScene(p);return x&&x.sys.pause(m),this},resume:function(p,m){var x=this.getScene(p);return x&&x.sys.resume(m),this},sleep:function(p,m){var x=this.getScene(p);return x&&!x.sys.isTransitioning()&&x.sys.sleep(m),this},wake:function(p,m){var x=this.getScene(p);return x&&x.sys.wake(m),this},run:function(p,m){var x=this.getScene(p);if(!x){for(var T=0;T<this._pending.length;T++)if(this._pending[T].key===p){this.queueOp("start",p,m);break}return this}x.sys.isSleeping()?x.sys.wake(m):x.sys.isPaused()?x.sys.resume(m):this.start(p,m)},start:function(p,m){if(!this.isBooted)return this._data[p]={autoStart:!0,data:m},this;var x=this.getScene(p);if(!x)return console.warn("Scene key not found: "+p),this;var T=x.sys,P=T.settings.status;if(P>=y.START&&P<=y.CREATING)return this;if(P>=y.RUNNING&&P<=y.SLEEPING)T.shutdown(),T.sceneUpdate=d,T.start(m);else{T.sceneUpdate=d,T.start(m);var M;if(T.load&&(M=T.load),M&&T.settings.hasOwnProperty("pack")&&(M.reset(),M.addPack({payload:T.settings.pack})))return T.settings.status=y.LOADING,M.once(a.COMPLETE,this.payloadComplete,this),M.start(),this}return this.bootScene(x),this},stop:function(p,m){var x=this.getScene(p);if(x&&!x.sys.isTransitioning()&&x.sys.settings.status!==y.SHUTDOWN){var T=x.sys.load;T&&(T.off(a.COMPLETE,this.loadComplete,this),T.off(a.COMPLETE,this.payloadComplete,this)),x.sys.shutdown(m)}return this},switch:function(p,m,x){var T=this.getScene(p),P=this.getScene(m);return T&&P&&T!==P&&(this.sleep(p),this.isSleeping(m)?this.wake(m,x):this.start(m,x)),this},getAt:function(p){return this.scenes[p]},getIndex:function(p){var m=this.getScene(p);return this.scenes.indexOf(m)},bringToTop:function(p){if(this.isProcessing)return this.queueOp("bringToTop",p);var m=this.getIndex(p),x=this.scenes;if(m!==-1&&m<x.length){var T=this.getScene(p);x.splice(m,1),x.push(T)}return this},sendToBack:function(p){if(this.isProcessing)return this.queueOp("sendToBack",p);var m=this.getIndex(p);if(m!==-1&&m>0){var x=this.getScene(p);this.scenes.splice(m,1),this.scenes.unshift(x)}return this},moveDown:function(p){if(this.isProcessing)return this.queueOp("moveDown",p);var m=this.getIndex(p);if(m>0){var x=m-1,T=this.getScene(p),P=this.getAt(x);this.scenes[m]=P,this.scenes[x]=T}return this},moveUp:function(p){if(this.isProcessing)return this.queueOp("moveUp",p);var m=this.getIndex(p);if(m<this.scenes.length-1){var x=m+1,T=this.getScene(p),P=this.getAt(x);this.scenes[m]=P,this.scenes[x]=T}return this},moveAbove:function(p,m){if(p===m)return this;if(this.isProcessing)return this.queueOp("moveAbove",p,m);var x=this.getIndex(p),T=this.getIndex(m);if(x!==-1&&T!==-1&&T<x){var P=this.getAt(T);this.scenes.splice(T,1),this.scenes.splice(x+(T>x),0,P)}return this},moveBelow:function(p,m){if(p===m)return this;if(this.isProcessing)return this.queueOp("moveBelow",p,m);var x=this.getIndex(p),T=this.getIndex(m);if(x!==-1&&T!==-1&&T>x){var P=this.getAt(T);this.scenes.splice(T,1),x===0?this.scenes.unshift(P):this.scenes.splice(x-(T<x),0,P)}return this},queueOp:function(p,m,x,T){return this._queue.push({op:p,keyA:m,keyB:x,data:T}),this},swapPosition:function(p,m){if(p===m)return this;if(this.isProcessing)return this.queueOp("swapPosition",p,m);var x=this.getIndex(p),T=this.getIndex(m);if(x!==T&&x!==-1&&T!==-1){var P=this.getAt(x);this.scenes[x]=this.scenes[T],this.scenes[T]=P}return this},dump:function(){for(var p=[],m=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],x=0;x<this.scenes.length;x++){var T=this.scenes[x].sys,P=T.settings.visible&&(T.settings.status===y.RUNNING||T.settings.status===y.PAUSED)?"[*] ":"[-] ";P+=T.settings.key+" ("+m[T.settings.status]+")",p.push(P)}console.log(p.join(`
`))},destroy:function(){for(var p=0;p<this.scenes.length;p++){var m=this.scenes[p].sys;m.destroy()}this.systemScene.sys.destroy(),this.update=d,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});n.exports=c},52209:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),y=s(83419),f=s(44594),u=s(95540),l=s(37277),a=new y({initialize:function(v){this.scene=v,this.systems=v.sys,this.settings=v.sys.settings,this.key=v.sys.settings.key,this.manager=v.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,v.sys.events.once(f.BOOT,this.boot,this),v.sys.events.on(f.START,this.pluginStart,this)},boot:function(){this.systems.events.once(f.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(f.SHUTDOWN,this.shutdown,this)},start:function(d,v){return d===void 0&&(d=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",d,v),this},restart:function(d){var v=this.key;return this.manager.queueOp("stop",v),this.manager.queueOp("start",v,d),this},transition:function(d){d===void 0&&(d={});var v=u(d,"target",!1),h=this.manager.getScene(v);if(!v||!this.checkValidTransition(h))return!1;var c=u(d,"duration",1e3);this._elapsed=0,this._target=h,this._duration=c,this._willSleep=u(d,"sleep",!1),this._willRemove=u(d,"remove",!1);var p=u(d,"onUpdate",null);p&&(this._onUpdate=p,this._onUpdateScope=u(d,"onUpdateScope",this.scene));var m=u(d,"allowInput",!1);this.settings.transitionAllowInput=m;var x=h.sys.settings;x.isTransition=!0,x.transitionFrom=this.scene,x.transitionDuration=c,x.transitionAllowInput=m,u(d,"moveAbove",!1)?this.manager.moveAbove(this.key,v):u(d,"moveBelow",!1)&&this.manager.moveBelow(this.key,v),h.sys.isSleeping()?h.sys.wake(u(d,"data")):this.manager.start(v,u(d,"data"));var T=u(d,"onStart",null),P=u(d,"onStartScope",this.scene);return T&&T.call(P,this.scene,h,c),this.systems.events.emit(f.TRANSITION_OUT,h,c),!0},checkValidTransition:function(d){return!(!d||d.sys.isActive()||d.sys.isTransitioning()||d===this.scene||this.systems.isTransitioning())},step:function(d,v){this._elapsed+=v,this.transitionProgress=o(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var d=this._target.sys,v=this._target.sys.settings;d.events.emit(f.TRANSITION_COMPLETE,this.scene),v.isTransition=!1,v.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(d,v,h,c){return this.manager.add(d,v,h,c)},launch:function(d,v){return d&&d!==this.key&&this.manager.queueOp("start",d,v),this},run:function(d,v){return d&&d!==this.key&&this.manager.queueOp("run",d,v),this},pause:function(d,v){return d===void 0&&(d=this.key),this.manager.queueOp("pause",d,v),this},resume:function(d,v){return d===void 0&&(d=this.key),this.manager.queueOp("resume",d,v),this},sleep:function(d,v){return d===void 0&&(d=this.key),this.manager.queueOp("sleep",d,v),this},wake:function(d,v){return d===void 0&&(d=this.key),this.manager.queueOp("wake",d,v),this},switch:function(d,v){return d!==this.key&&this.manager.queueOp("switch",this.key,d,v),this},stop:function(d,v){return d===void 0&&(d=this.key),this.manager.queueOp("stop",d,v),this},setActive:function(d,v,h){v===void 0&&(v=this.key);var c=this.manager.getScene(v);return c&&c.sys.setActive(d,h),this},setVisible:function(d,v){v===void 0&&(v=this.key);var h=this.manager.getScene(v);return h&&h.sys.setVisible(d),this},isSleeping:function(d){return d===void 0&&(d=this.key),this.manager.isSleeping(d)},isActive:function(d){return d===void 0&&(d=this.key),this.manager.isActive(d)},isPaused:function(d){return d===void 0&&(d=this.key),this.manager.isPaused(d)},isVisible:function(d){return d===void 0&&(d=this.key),this.manager.isVisible(d)},swapPosition:function(d,v){return v===void 0&&(v=this.key),d!==v&&this.manager.swapPosition(d,v),this},moveAbove:function(d,v){return v===void 0&&(v=this.key),d!==v&&this.manager.moveAbove(d,v),this},moveBelow:function(d,v){return v===void 0&&(v=this.key),d!==v&&this.manager.moveBelow(d,v),this},remove:function(d){return d===void 0&&(d=this.key),this.manager.remove(d),this},moveUp:function(d){return d===void 0&&(d=this.key),this.manager.moveUp(d),this},moveDown:function(d){return d===void 0&&(d=this.key),this.manager.moveDown(d),this},bringToTop:function(d){return d===void 0&&(d=this.key),this.manager.bringToTop(d),this},sendToBack:function(d){return d===void 0&&(d=this.key),this.manager.sendToBack(d),this},get:function(d){return this.manager.getScene(d)},getStatus:function(d){var v=this.manager.getScene(d);if(v)return v.sys.getStatus()},getIndex:function(d){return d===void 0&&(d=this.key),this.manager.getIndex(d)},shutdown:function(){var d=this.systems.events;d.off(f.SHUTDOWN,this.shutdown,this),d.off(f.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});l.register("ScenePlugin",a,"scenePlugin"),n.exports=a},55681:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(89993),y=s(35154),f=s(46975),u=s(87033),l={create:function(a){return typeof a=="string"?a={key:a}:a===void 0&&(a={}),{status:o.PENDING,key:y(a,"key",""),active:y(a,"active",!1),visible:y(a,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:y(a,"pack",!1),cameras:y(a,"cameras",null),map:y(a,"map",f(u,y(a,"mapAdd",{}))),physics:y(a,"physics",{}),loader:y(a,"loader",{}),plugins:y(a,"plugins",!1),input:y(a,"input",{})}}};n.exports=l},2368:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(89993),f=s(42363),u=s(44594),l=s(27397),a=s(52106),d=s(29747),v=s(55681),h=new o({initialize:function(p,m){this.scene=p,this.game,this.renderer,this.config=m,this.settings=v.create(m),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=d},init:function(c){this.settings.status=y.INIT,this.sceneUpdate=d,this.game=c,this.renderer=c.renderer,this.canvas=c.canvas,this.context=c.context;var p=c.plugins;this.plugins=p,p.addToScene(this,f.Global,[f.CoreScene,a(this),l(this)]),this.events.emit(u.BOOT,this),this.settings.isBooted=!0},step:function(c,p){var m=this.events;m.emit(u.PRE_UPDATE,c,p),m.emit(u.UPDATE,c,p),this.sceneUpdate.call(this.scene,c,p),m.emit(u.POST_UPDATE,c,p)},render:function(c){var p=this.displayList;p.depthSort(),this.events.emit(u.PRE_RENDER,c),this.cameras.render(c,p),this.events.emit(u.RENDER,c)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(c){var p=this.settings,m=this.getStatus();return m!==y.CREATING&&m!==y.RUNNING?console.warn("Cannot pause non-running Scene",p.key):this.settings.active&&(p.status=y.PAUSED,p.active=!1,this.events.emit(u.PAUSE,this,c)),this},resume:function(c){var p=this.events,m=this.settings;return this.settings.active||(m.status=y.RUNNING,m.active=!0,p.emit(u.RESUME,this,c)),this},sleep:function(c){var p=this.settings,m=this.getStatus();return m!==y.CREATING&&m!==y.RUNNING?console.warn("Cannot sleep non-running Scene",p.key):(p.status=y.SLEEPING,p.active=!1,p.visible=!1,this.events.emit(u.SLEEP,this,c)),this},wake:function(c){var p=this.events,m=this.settings;return m.status=y.RUNNING,m.active=!0,m.visible=!0,p.emit(u.WAKE,this,c),m.isTransition&&p.emit(u.TRANSITION_WAKE,m.transitionFrom,m.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var c=this.settings.status;return c>y.PENDING&&c<=y.RUNNING},isSleeping:function(){return this.settings.status===y.SLEEPING},isActive:function(){return this.settings.status===y.RUNNING},isPaused:function(){return this.settings.status===y.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(c){return this.settings.visible=c,this},setActive:function(c,p){return c?this.resume(p):this.pause(p)},start:function(c){var p=this.events,m=this.settings;c&&(m.data=c),m.status=y.START,m.active=!0,m.visible=!0,p.emit(u.START,this),p.emit(u.READY,this,c)},shutdown:function(c){var p=this.events,m=this.settings;p.off(u.TRANSITION_INIT),p.off(u.TRANSITION_START),p.off(u.TRANSITION_COMPLETE),p.off(u.TRANSITION_OUT),m.status=y.SHUTDOWN,m.active=!1,m.visible=!1,p.emit(u.SHUTDOWN,this,c)},destroy:function(){var c=this.events,p=this.settings;p.status=y.DESTROYED,p.active=!1,p.visible=!1,c.emit(u.DESTROY,this),c.removeAllListeners();for(var m=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],x=0;x<m.length;x++)this[m[x]]=null}});n.exports=h},89993:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};n.exports=C},69830:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addedtoscene"},7919:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},46763:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="create"},11763:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},71555:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},36735:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postupdate"},3809:n=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},90716:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="preupdate"},58262:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"},91633:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedfromscene"},10319:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="render"},87132:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},81961:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="shutdown"},90194:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleep"},6265:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},33178:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitioncomplete"},43063:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitioninit"},11259:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionout"},61611:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionstart"},45209:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionwake"},22966:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},21747:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wake"},44594:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADDED_TO_SCENE:s(69830),BOOT:s(7919),CREATE:s(46763),DESTROY:s(11763),PAUSE:s(71555),POST_UPDATE:s(36735),PRE_RENDER:s(3809),PRE_UPDATE:s(90716),READY:s(58262),REMOVED_FROM_SCENE:s(91633),RENDER:s(10319),RESUME:s(87132),SHUTDOWN:s(81961),SLEEP:s(90194),START:s(6265),TRANSITION_COMPLETE:s(33178),TRANSITION_INIT:s(43063),TRANSITION_OUT:s(11259),TRANSITION_START:s(61611),TRANSITION_WAKE:s(45209),UPDATE:s(22966),WAKE:s(21747)}},62194:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(89993),y=s(79291),f={Events:s(44594),GetPhysicsPlugins:s(27397),GetScenePlugins:s(52106),SceneManager:s(60903),ScenePlugin:s(52209),Settings:s(55681),Systems:s(2368)};f=y(!1,f,o),n.exports=f},30341:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(50792),f=s(14463),u=s(79291),l=s(29747),a=new o({Extends:y,initialize:function(v,h,c){y.call(this),this.manager=v,this.key=h,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=u(this.config,c),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(d){return!d||!d.name||typeof d.name!="string"?!1:this.markers[d.name]?(console.error("addMarker "+d.name+" already exists in Sound"),!1):(d=u(!0,{name:"",start:0,duration:this.totalDuration-(d.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},d),this.markers[d.name]=d,!0)},updateMarker:function(d){return!d||!d.name||typeof d.name!="string"?!1:this.markers[d.name]?(this.markers[d.name]=u(!0,this.markers[d.name],d),!0):(console.warn("Audio Marker: "+d.name+" missing in Sound: "+this.key),!1)},removeMarker:function(d){var v=this.markers[d];return v?(this.markers[d]=null,v):null},play:function(d,v){if(d===void 0&&(d=""),typeof d=="object"&&(v=d,d=""),typeof d!="string")return!1;if(!d)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[d])return console.warn("Marker: "+d+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[d],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=u(this.currentConfig,v),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:l,calculateRate:function(){var d=1.0005777895065548,v=this.currentConfig.detune+this.manager.detune,h=Math.pow(d,v);this.totalRate=this.currentConfig.rate*this.manager.rate*h},destroy:function(){this.pendingRemove||(this.stop(),this.emit(f.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});n.exports=a},85034:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(41786),f=s(50792),u=s(14463),l=s(8443),a=s(46710),d=s(58731),v=s(29747),h=s(26099),c=new o({Extends:f,initialize:function(m){f.call(this),this.game=m,this.jsonCache=m.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new h;var x=m.events;x.on(l.BLUR,this.onGameBlur,this),x.on(l.FOCUS,this.onGameFocus,this),x.on(l.PRE_STEP,this.update,this),x.once(l.DESTROY,this.destroy,this)},add:v,addAudioSprite:function(p,m){m===void 0&&(m={});var x=this.add(p,m);x.spritemap=this.jsonCache.get(p).spritemap;for(var T in x.spritemap)if(x.spritemap.hasOwnProperty(T)){var P=y(m),M=x.spritemap[T];P.loop=M.hasOwnProperty("loop")?M.loop:!1,x.addMarker({name:T,start:M.start,duration:M.end-M.start,config:P})}return x},get:function(p){return d(this.sounds,"key",p)},getAll:function(p){return p?a(this.sounds,"key",p):a(this.sounds)},getAllPlaying:function(){return a(this.sounds,"isPlaying",!0)},play:function(p,m){var x=this.add(p);return x.once(u.COMPLETE,x.destroy,x),m?m.name?(x.addMarker(m),x.play(m.name)):x.play(m):x.play()},playAudioSprite:function(p,m,x){var T=this.addAudioSprite(p);return T.once(u.COMPLETE,T.destroy,T),T.play(m,x)},remove:function(p){var m=this.sounds.indexOf(p);return m!==-1?(p.destroy(),this.sounds.splice(m,1),!0):!1},removeAll:function(){this.sounds.forEach(function(p){p.destroy()}),this.sounds.length=0},removeByKey:function(p){for(var m=0,x=this.sounds.length-1;x>=0;x--){var T=this.sounds[x];T.key===p&&(T.destroy(),this.sounds.splice(x,1),m++)}return m},pauseAll:function(){this.forEachActiveSound(function(p){p.pause()}),this.emit(u.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(p){p.resume()}),this.emit(u.RESUME_ALL,this)},setListenerPosition:v,stopAll:function(){this.forEachActiveSound(function(p){p.stop()}),this.emit(u.STOP_ALL,this)},stopByKey:function(p){var m=0;return this.getAll(p).forEach(function(x){x.stop()&&m++}),m},isPlaying:function(p){var m=this.sounds,x=m.length-1,T;if(p===void 0){for(;x>=0;x--)if(T=this.sounds[x],T.isPlaying)return!0}else for(;x>=0;x--)if(T=this.sounds[x],T.key===p&&T.isPlaying)return!0;return!1},unlock:v,onBlur:v,onFocus:v,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(p,m){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(u.UNLOCKED,this));for(var x=this.sounds.length-1;x>=0;x--)this.sounds[x].pendingRemove&&this.sounds.splice(x,1);this.sounds.forEach(function(T){T.update(p,m)})},destroy:function(){this.game.events.off(l.BLUR,this.onGameBlur,this),this.game.events.off(l.FOCUS,this.onGameFocus,this),this.game.events.off(l.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(p,m){var x=this;this.sounds.forEach(function(T,P){T&&!T.pendingRemove&&p.call(m||x,T,P,x.sounds)})},setRate:function(p){return this.rate=p,this},rate:{get:function(){return this._rate},set:function(p){this._rate=p,this.forEachActiveSound(function(m){m.calculateRate()}),this.emit(u.GLOBAL_RATE,this,p)}},setDetune:function(p){return this.detune=p,this},detune:{get:function(){return this._detune},set:function(p){this._detune=p,this.forEachActiveSound(function(m){m.calculateRate()}),this.emit(u.GLOBAL_DETUNE,this,p)}}});n.exports=c},14747:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(33684),y=s(25960),f=s(57490),u={create:function(l){var a=l.config.audio,d=l.device.audio;return a.noAudio||!d.webAudio&&!d.audioData?new y(l):d.webAudio&&!a.disableWebAudio?new f(l):new o(l)}};n.exports=u},19723:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},98882:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="decodedall"},57506:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="decoded"},73146:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},11305:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="detune"},40577:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="detune"},30333:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="mute"},20394:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="rate"},21802:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="volume"},1299:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="looped"},99190:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"},97125:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="mute"},89259:n=>{/**
 * @author       pi-kei
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pan"},79986:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pauseall"},17586:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},19618:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="play"},42306:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="rate"},10387:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resumeall"},48959:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},9960:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seek"},19180:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stopall"},98328:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},50401:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unlocked"},52498:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="volume"},14463:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:s(19723),DECODED:s(57506),DECODED_ALL:s(98882),DESTROY:s(73146),DETUNE:s(11305),GLOBAL_DETUNE:s(40577),GLOBAL_MUTE:s(30333),GLOBAL_RATE:s(20394),GLOBAL_VOLUME:s(21802),LOOP:s(99190),LOOPED:s(1299),MUTE:s(97125),PAN:s(89259),PAUSE_ALL:s(79986),PAUSE:s(17586),PLAY:s(19618),RATE:s(42306),RESUME_ALL:s(10387),RESUME:s(48959),SEEK:s(9960),STOP_ALL:s(19180),STOP:s(98328),UNLOCKED:s(50401),VOLUME:s(52498)}},64895:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(30341),y=s(83419),f=s(14463),u=s(45319),l=new y({Extends:o,initialize:function(d,v,h){if(h===void 0&&(h={}),this.tags=d.game.cache.audio.get(v),!this.tags)throw new Error('No cached audio asset with key "'+v);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,o.call(this,d,v,h)},play:function(a,d){return this.manager.isLocked(this,"play",[a,d])||!o.prototype.play.call(this,a,d)||!this.pickAndPlayAudioTag()?!1:(this.emit(f.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(f.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!o.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(f.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!o.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(f.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var a=this.currentConfig.seek,d=this.currentConfig.delay,v=(this.currentMarker?this.currentMarker.start:0)+a;return this.previousTime=v,this.audio.currentTime=v,this.applyConfig(),d===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+d*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var a=0;a<this.tags.length;a++){var d=this.tags[a];if(d.dataset.used==="false")return d.dataset.used="true",this.audio=d,!0}if(!this.manager.override)return!1;var v=[];this.manager.forEachActiveSound(function(c){c.key===this.key&&c.audio&&v.push(c)},this),v.sort(function(c,p){return c.loop===p.loop?p.seek/p.duration-c.seek/c.duration:c.loop?1:-1});var h=v[0];return this.audio=h.audio,h.reset(),h.audio=null,h.startTime=0,h.previousTime=0,!0},playCatchPromise:function(){var a=this.audio.play();a&&a.catch(function(d){console.warn(d)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){o.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(a){if(this.isPlaying){if(this.startTime>0){this.startTime<a-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,a-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var d=this.currentMarker?this.currentMarker.start:0,v=d+this.duration,h=this.audio.currentTime;if(this.currentConfig.loop)h>=v-this.manager.loopEndOffset?(this.audio.currentTime=d+Math.max(0,h-v),h=this.audio.currentTime):h<d&&(this.audio.currentTime+=d,h=this.audio.currentTime),h<this.previousTime&&this.emit(f.LOOPED,this);else if(h>=v){this.reset(),this.stopAndReleaseAudioTag(),this.emit(f.COMPLETE,this);return}this.previousTime=h}},destroy:function(){o.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=u(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){o.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(a){this.currentConfig.mute=a,!this.manager.isLocked(this,"mute",a)&&(this.updateMute(),this.emit(f.MUTE,this,a))}},setMute:function(a){return this.mute=a,this},volume:{get:function(){return this.currentConfig.volume},set:function(a){this.currentConfig.volume=a,!this.manager.isLocked(this,"volume",a)&&(this.updateVolume(),this.emit(f.VOLUME,this,a))}},setVolume:function(a){return this.volume=a,this},rate:{get:function(){return this.currentConfig.rate},set:function(a){this.currentConfig.rate=a,!this.manager.isLocked(this,f.RATE,a)&&(this.calculateRate(),this.emit(f.RATE,this,a))}},setRate:function(a){return this.rate=a,this},detune:{get:function(){return this.currentConfig.detune},set:function(a){this.currentConfig.detune=a,!this.manager.isLocked(this,f.DETUNE,a)&&(this.calculateRate(),this.emit(f.DETUNE,this,a))}},setDetune:function(a){return this.detune=a,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(a){this.manager.isLocked(this,"seek",a)||this.startTime>0||(this.isPlaying||this.isPaused)&&(a=Math.min(Math.max(0,a),this.duration),this.isPlaying?(this.previousTime=a,this.audio.currentTime=a):this.isPaused&&(this.currentConfig.seek=a),this.emit(f.SEEK,this,a))}},setSeek:function(a){return this.seek=a,this},loop:{get:function(){return this.currentConfig.loop},set:function(a){this.currentConfig.loop=a,!this.manager.isLocked(this,"loop",a)&&(this.audio&&(this.audio.loop=a),this.emit(f.LOOP,this,a))}},setLoop:function(a){return this.loop=a,this},pan:{get:function(){return this.currentConfig.pan},set:function(a){this.currentConfig.pan=a,this.emit(f.PAN,this,a)}},setPan:function(a){return this.pan=a,this}});n.exports=l},33684:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(85034),y=s(83419),f=s(14463),u=s(64895),l=new y({Extends:o,initialize:function(d){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,o.call(this,d)},add:function(a,d){var v=new u(this,a,d);return this.sounds.push(v),v},unlock:function(){this.locked=!1;var a=this;if(this.game.cache.audio.entries.each(function(c,p){for(var m=0;m<p.length;m++)if(p[m].dataset.locked==="true")return a.locked=!0,!1;return!0}),!!this.locked){var d=!1,v=function(){d=!0},h=function(){if(d){d=!1;return}document.body.removeEventListener("touchmove",v),document.body.removeEventListener("touchend",h);var c=[];if(a.game.cache.audio.entries.each(function(m,x){for(var T=0;T<x.length;T++){var P=x[T];P.dataset.locked==="true"&&c.push(P)}return!0}),c.length!==0){var p=c[c.length-1];p.oncanplaythrough=function(){p.oncanplaythrough=null,c.forEach(function(m){m.dataset.locked="false"}),a.unlocked=!0},c.forEach(function(m){m.load()})}};this.once(f.UNLOCKED,function(){for(this.forEachActiveSound(function(p){p.currentMarker===null&&p.duration===0&&(p.duration=p.tags[0].duration),p.totalDuration=p.tags[0].duration});this.lockedActionsQueue.length;){var c=this.lockedActionsQueue.shift();c.sound[c.prop].apply?c.sound[c.prop].apply(c.sound,c.value||[]):c.sound[c.prop]=c.value}},this),document.body.addEventListener("touchmove",v,!1),document.body.addEventListener("touchend",h,!1)}},onBlur:function(){this.forEachActiveSound(function(a){a.isPlaying&&(this.onBlurPausedSounds.push(a),a.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(a){a.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){o.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(a,d,v){return a.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:a,prop:d,value:v}),!0):!1},setMute:function(a){return this.mute=a,this},mute:{get:function(){return this._mute},set:function(a){this._mute=a,this.forEachActiveSound(function(d){d.updateMute()}),this.emit(f.GLOBAL_MUTE,this,a)}},setVolume:function(a){return this.volume=a,this},volume:{get:function(){return this._volume},set:function(a){this._volume=a,this.forEachActiveSound(function(d){d.updateVolume()}),this.emit(f.GLOBAL_VOLUME,this,a)}}});n.exports=l},23717:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={SoundManagerCreator:s(14747),Events:s(14463),BaseSound:s(30341),BaseSoundManager:s(85034),WebAudioSound:s(71741),WebAudioSoundManager:s(57490),HTML5AudioSound:s(64895),HTML5AudioSoundManager:s(33684),NoAudioSound:s(4603),NoAudioSoundManager:s(25960)}},4603:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(30341),y=s(83419),f=s(50792),u=s(79291),l=s(29747),a=function(){return!1},d=function(){return null},v=function(){return this},h=new y({Extends:f,initialize:function(p,m,x){x===void 0&&(x={}),f.call(this),this.manager=p,this.key=m,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=u({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},x),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:a,updateMarker:a,removeMarker:d,play:a,pause:a,resume:a,stop:a,setMute:v,setVolume:v,setRate:v,setDetune:v,setSeek:v,setLoop:v,setPan:v,applyConfig:d,resetConfig:d,update:l,calculateRate:d,destroy:function(){o.prototype.destroy.call(this)}});n.exports=h},25960:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(85034),y=s(83419),f=s(50792),u=s(4603),l=s(29747),a=new y({Extends:f,initialize:function(v){f.call(this),this.game=v,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(d,v){var h=new u(this,d,v);return this.sounds.push(h),h},addAudioSprite:function(d,v){var h=this.add(d,v);return h.spritemap={},h},get:function(d){return o.prototype.get.call(this,d)},getAll:function(d){return o.prototype.getAll.call(this,d)},play:function(d,v){return!1},playAudioSprite:function(d,v,h){return!1},remove:function(d){return o.prototype.remove.call(this,d)},removeAll:function(){return o.prototype.removeAll.call(this)},removeByKey:function(d){return o.prototype.removeByKey.call(this,d)},stopByKey:function(d){return o.prototype.stopByKey.call(this,d)},onBlur:l,onFocus:l,onGameBlur:l,onGameFocus:l,pauseAll:l,resumeAll:l,stopAll:l,update:l,setRate:l,setDetune:l,setMute:l,setVolume:l,unlock:l,forEachActiveSound:function(d,v){o.prototype.forEachActiveSound.call(this,d,v)},destroy:function(){o.prototype.destroy.call(this)}});n.exports=a},71741:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(30341),y=s(83419),f=s(14463),u=s(95540),l=new y({Extends:o,initialize:function(d,v,h){if(h===void 0&&(h={}),this.audioBuffer=d.game.cache.audio.get(v),!this.audioBuffer)throw new Error('Audio key "'+v+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=d.context.createGain(),this.volumeNode=d.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),d.context.createPanner&&(this.spatialNode=d.context.createPanner(),this.volumeNode.connect(this.spatialNode)),d.context.createStereoPanner?(this.pannerNode=d.context.createStereoPanner(),d.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(d.destination)):d.context.createPanner?this.spatialNode.connect(d.destination):this.volumeNode.connect(d.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,o.call(this,d,v,h)},play:function(a,d){return o.prototype.play.call(this,a,d)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(f.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(f.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(f.RESUME,this),!0)},stop:function(){return o.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(f.STOP,this),!0):!1},createAndStartBufferSource:function(){var a=this.currentConfig.seek,d=this.currentConfig.delay,v=this.manager.context.currentTime+d,h=(this.currentMarker?this.currentMarker.start:0)+a,c=this.duration-a;this.playTime=v-a,this.startTime=v,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,v),Math.max(0,h),Math.max(0,c)),this.resetConfig()},createAndStartLoopBufferSource:function(){var a=this.getLoopTime(),d=this.currentMarker?this.currentMarker.start:0,v=this.duration;this.loopTime=a,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,a),Math.max(0,d),Math.max(0,v))},createBufferSource:function(){var a=this,d=this.manager.context.createBufferSource();return d.buffer=this.audioBuffer,d.connect(this.muteNode),d.onended=function(v){var h=v.target;(h===a.source||h===a.loopSource)&&(a.currentConfig.loop?a.hasLooped=!0:a.hasEnded=!0)},d},stopAndRemoveBufferSource:function(){if(this.source){var a=this.source;this.source=null,a.stop(),a.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var a=this.currentConfig.source;if(a&&this.manager.context.createPanner){var d=this.spatialNode;d.panningModel=u(a,"panningModel","equalpower"),d.distanceModel=u(a,"distanceModel","inverse"),d.orientationX.value=u(a,"orientationX",0),d.orientationY.value=u(a,"orientationY",0),d.orientationZ.value=u(a,"orientationZ",-1),d.refDistance=u(a,"refDistance",1),d.maxDistance=u(a,"maxDistance",1e4),d.rolloffFactor=u(a,"rolloffFactor",1),d.coneInnerAngle=u(a,"coneInnerAngle",360),d.coneOuterAngle=u(a,"coneOuterAngle",0),d.coneOuterGain=u(a,"coneOuterGain",0),this.spatialSource=u(a,"follow",null),this.spatialSource||(d.positionX.value=u(a,"x",0),d.positionY.value=u(a,"y",0),d.positionZ.value=u(a,"z",0))}o.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(a){this.spatialNode&&(this.spatialNode.positionX.value=a)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(a){this.spatialNode&&(this.spatialNode.positionY.value=a)}},update:function(){if(this.isPlaying&&this.spatialSource){var a=u(this.spatialSource,"x",null),d=u(this.spatialSource,"y",null);a&&a!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=a),d&&d!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=d)}this.hasEnded?(o.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(f.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(f.LOOPED,this))},destroy:function(){this.pendingRemove||(o.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){o.prototype.calculateRate.call(this);var a=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,a),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,a)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var a=0,d=0;d<this.rateUpdates.length;d++){var v=0;d<this.rateUpdates.length-1?v=this.rateUpdates[d+1].time:v=this.manager.context.currentTime-this.playTime,a+=(v-this.rateUpdates[d].time)*this.rateUpdates[d].rate}return a},getLoopTime:function(){for(var a=0,d=0;d<this.rateUpdates.length-1;d++)a+=(this.rateUpdates[d+1].time-this.rateUpdates[d].time)*this.rateUpdates[d].rate;var v=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+v.time+(this.duration-a)/v.rate},rate:{get:function(){return this.currentConfig.rate},set:function(a){this.currentConfig.rate=a,this.calculateRate(),this.emit(f.RATE,this,a)}},setRate:function(a){return this.rate=a,this},detune:{get:function(){return this.currentConfig.detune},set:function(a){this.currentConfig.detune=a,this.calculateRate(),this.emit(f.DETUNE,this,a)}},setDetune:function(a){return this.detune=a,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(a){this.currentConfig.mute=a,this.muteNode.gain.setValueAtTime(a?0:1,0),this.emit(f.MUTE,this,a)}},setMute:function(a){return this.mute=a,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(a){this.currentConfig.volume=a,this.volumeNode.gain.setValueAtTime(a,0),this.emit(f.VOLUME,this,a)}},setVolume:function(a){return this.volume=a,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(a){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(a=Math.min(Math.max(0,a),this.duration),this.currentConfig.seek=a,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(f.SEEK,this,a))}},setSeek:function(a){return this.seek=a,this},loop:{get:function(){return this.currentConfig.loop},set:function(a){this.currentConfig.loop=a,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),a&&this.createAndStartLoopBufferSource()),this.emit(f.LOOP,this,a)}},setLoop:function(a){return this.loop=a,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(a){this.currentConfig.pan=a,this.pannerNode&&this.pannerNode.pan.setValueAtTime(a,this.manager.context.currentTime),this.emit(f.PAN,this,a)}},setPan:function(a){return this.pan=a,this}});n.exports=l},57490:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(53134),y=s(85034),f=s(83419),u=s(14463),l=s(8443),a=s(71741),d=s(95540),v=new f({Extends:y,initialize:function(c){this.context=this.createAudioContext(c),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",y.call(this,c),this.locked&&(c.isBooted?this.unlock():c.events.once(l.BOOT,this.unlock,this)),c.events.on(l.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var h=this.context;window.setTimeout(function(){h&&(h.suspend(),h.resume())},100)},createAudioContext:function(h){var c=h.config.audio;if(c.context)return c.context.resume(),c.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(h){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=h,this.masterMuteNode=h.createGain(),this.masterVolumeNode=h.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(h.destination),this.destination=this.masterMuteNode,this},add:function(h,c){var p=new a(this,h,c);return this.sounds.push(p),p},decodeAudio:function(h,c){var p;Array.isArray(h)?p=h:p=[{key:h,data:c}];for(var m=this.game.cache.audio,x=p.length,T=0;T<p.length;T++){var P=p[T],M=P.key,E=P.data;typeof E=="string"&&(E=o(E));var w=(function(A,L){m.add(A,L),this.emit(u.DECODED,A),x--,x===0&&this.emit(u.DECODED_ALL)}).bind(this,M),R=(function(A,L){console.error("Error decoding audio: "+A+" - ",L?L.message:""),x--,x===0&&this.emit(u.DECODED_ALL)}).bind(this,M);this.context.decodeAudioData(E,w,R)}},setListenerPosition:function(h,c){return h===void 0&&(h=this.game.scale.width/2),c===void 0&&(c=this.game.scale.height/2),this.listenerPosition.set(h,c),this},unlock:function(){var h=this,c=document.body,p=function m(){if(h.context&&c){var x=c.removeEventListener.bind(c);h.context.resume().then(function(){x("touchstart",m),x("touchend",m),x("mousedown",m),x("mouseup",m),x("keydown",m),h.unlocked=!0},function(){x("touchstart",m),x("touchend",m),x("mousedown",m),x("mouseup",m),x("keydown",m)})}};c&&(c.addEventListener("touchstart",p,!1),c.addEventListener("touchend",p,!1),c.addEventListener("mousedown",p,!1),c.addEventListener("mouseup",p,!1),c.addEventListener("keydown",p,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var h=this.context;h&&!this.locked&&(h.state==="suspended"||h.state==="interrupted")&&h.resume()},update:function(h,c){var p=this.context.listener,m=d(this.listenerPosition,"x",null),x=d(this.listenerPosition,"y",null);if(p&&p.positionX!==void 0)m&&m!==this._spatialx&&(this._spatialx=p.positionX.value=m),x&&x!==this._spatialy&&(this._spatialy=p.positionY.value=x);else if(p){m&&m!==this._spatialx&&(this._spatialx=m),x&&x!==this._spatialy&&(this._spatialy=x);var T=d(p,"z",0);p.setPosition(this._spatialx||0,this._spatialy||0,T)}y.prototype.update.call(this,h,c),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var h=this;this.context.close().then(function(){h.context=null})}this.game.events.off(l.VISIBLE,this.onGameVisible,this),y.prototype.destroy.call(this)},setMute:function(h){return this.mute=h,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(h){this.masterMuteNode.gain.setValueAtTime(h?0:1,0),this.emit(u.GLOBAL_MUTE,this,h)}},setVolume:function(h){return this.volume=h,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(h){this.masterVolumeNode.gain.setValueAtTime(h,0),this.emit(u.GLOBAL_VOLUME,this,h)}}});n.exports=v},73162:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37105),y=s(83419),f=s(29747),u=s(19186),l=new y({initialize:function(d){this.parent=d,this.list=[],this.position=0,this.addCallback=f,this.removeCallback=f,this._sortKey=""},add:function(a,d){return d?o.Add(this.list,a):o.Add(this.list,a,0,this.addCallback,this)},addAt:function(a,d,v){return v?o.AddAt(this.list,a,d):o.AddAt(this.list,a,d,0,this.addCallback,this)},getAt:function(a){return this.list[a]},getIndex:function(a){return this.list.indexOf(a)},sort:function(a,d){return a?(d===void 0&&(d=function(v,h){return v[a]-h[a]}),u(this.list,d),this):this},getByName:function(a){return o.GetFirst(this.list,"name",a)},getRandom:function(a,d){return o.GetRandom(this.list,a,d)},getFirst:function(a,d,v,h){return o.GetFirst(this.list,a,d,v,h)},getAll:function(a,d,v,h){return o.GetAll(this.list,a,d,v,h)},count:function(a,d){return o.CountAllMatching(this.list,a,d)},swap:function(a,d){o.Swap(this.list,a,d)},moveTo:function(a,d){return o.MoveTo(this.list,a,d)},moveAbove:function(a,d){return o.MoveAbove(this.list,a,d)},moveBelow:function(a,d){return o.MoveBelow(this.list,a,d)},remove:function(a,d){return d?o.Remove(this.list,a):o.Remove(this.list,a,this.removeCallback,this)},removeAt:function(a,d){return d?o.RemoveAt(this.list,a):o.RemoveAt(this.list,a,this.removeCallback,this)},removeBetween:function(a,d,v){return v?o.RemoveBetween(this.list,a,d):o.RemoveBetween(this.list,a,d,this.removeCallback,this)},removeAll:function(a){for(var d=this.list.length;d--;)this.remove(this.list[d],a);return this},bringToTop:function(a){return o.BringToTop(this.list,a)},sendToBack:function(a){return o.SendToBack(this.list,a)},moveUp:function(a){return o.MoveUp(this.list,a),a},moveDown:function(a){return o.MoveDown(this.list,a),a},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(a,d){return o.Replace(this.list,a,d)},exists:function(a){return this.list.indexOf(a)>-1},setAll:function(a,d,v,h){return o.SetAll(this.list,a,d,v,h),this},each:function(a,d){for(var v=[null],h=2;h<arguments.length;h++)v.push(arguments[h]);for(h=0;h<this.list.length;h++)v[0]=this.list[h],a.apply(d,v)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});n.exports=l},90330:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=new o({initialize:function(u){this.entries={},this.size=0,this.setAll(u)},setAll:function(f){if(Array.isArray(f))for(var u=0;u<f.length;u++)this.set(f[u][0],f[u][1]);return this},set:function(f,u){return this.has(f)||this.size++,this.entries[f]=u,this},get:function(f){if(this.has(f))return this.entries[f]},getArray:function(){var f=[],u=this.entries;for(var l in u)f.push(u[l]);return f},has:function(f){return this.entries.hasOwnProperty(f)},delete:function(f){return this.has(f)&&(delete this.entries[f],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(f){delete this.entries[f]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var f=[],u=this.entries;for(var l in u)f.push(u[l]);return f},dump:function(){var f=this.entries;console.group("Map");for(var u in f)console.log(u,f[u]);console.groupEnd()},each:function(f){var u=this.entries;for(var l in u)if(f(l,u[l])===!1)break;return this},contains:function(f){var u=this.entries;for(var l in u)if(u[l]===f)return!0;return!1},merge:function(f,u){u===void 0&&(u=!1);var l=this.entries,a=f.entries;for(var d in a)l.hasOwnProperty(d)&&u?l[d]=a[d]:this.set(d,a[d]);return this}});n.exports=y},25774:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(50792),f=s(82348),u=new o({Extends:y,initialize:function(){y.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(l){return this._active.indexOf(l)>-1},isPending:function(l){return this._toProcess>0&&this._pending.indexOf(l)>-1},isDestroying:function(l){return this._destroy.indexOf(l)>-1},add:function(l){return this.checkQueue&&this.isActive(l)&&!this.isDestroying(l)||this.isPending(l)||(this._pending.push(l),this._toProcess++),l},remove:function(l){if(this.isPending(l)){var a=this._pending,d=a.indexOf(l);d!==-1&&a.splice(d,1)}else this.isActive(l)&&(this._destroy.push(l),this._toProcess++);return l},removeAll:function(){for(var l=this._active,a=this._destroy,d=l.length;d--;)a.push(l[d]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var l=this._destroy,a=this._active,d,v;for(d=0;d<l.length;d++){v=l[d];var h=a.indexOf(v);h!==-1&&(a.splice(h,1),this.emit(f.PROCESS_QUEUE_REMOVE,v))}for(l.length=0,l=this._pending,d=0;d<l.length;d++)v=l[d],(!this.checkQueue||this.checkQueue&&a.indexOf(v)===-1)&&(a.push(v),this.emit(f.PROCESS_QUEUE_ADD,v));return l.length=0,this._toProcess=0,a},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});n.exports=u},59542:(n,C,s)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43886);function y(E){if(!(this instanceof y))return new y(E);this._maxEntries=Math.max(4,E||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}y.prototype={all:function(){return this._all(this.data,[])},search:function(E){var w=this.data,R=[],A=this.toBBox;if(!T(E,w))return R;for(var L=[],b,O,F,D;w;){for(b=0,O=w.children.length;b<O;b++)F=w.children[b],D=w.leaf?A(F):F,T(E,D)&&(w.leaf?R.push(F):x(E,D)?this._all(F,R):L.push(F));w=L.pop()}return R},collides:function(E){var w=this.data,R=this.toBBox;if(!T(E,w))return!1;for(var A=[],L,b,O,F;w;){for(L=0,b=w.children.length;L<b;L++)if(O=w.children[L],F=w.leaf?R(O):O,T(E,F)){if(w.leaf||x(E,F))return!0;A.push(O)}w=A.pop()}return!1},load:function(E){if(!(E&&E.length))return this;if(E.length<this._minEntries){for(var w=0,R=E.length;w<R;w++)this.insert(E[w]);return this}var A=this._build(E.slice(),0,E.length-1,0);if(!this.data.children.length)this.data=A;else if(this.data.height===A.height)this._splitRoot(this.data,A);else{if(this.data.height<A.height){var L=this.data;this.data=A,A=L}this._insert(A,this.data.height-A.height-1,!0)}return this},insert:function(E){return E&&this._insert(E,this.data.height-1),this},clear:function(){return this.data=P([]),this},remove:function(E,w){if(!E)return this;for(var R=this.data,A=this.toBBox(E),L=[],b=[],O,F,D,B;R||L.length;){if(R||(R=L.pop(),F=L[L.length-1],O=b.pop(),B=!0),R.leaf&&(D=f(E,R.children,w),D!==-1))return R.children.splice(D,1),L.push(R),this._condense(L),this;!B&&!R.leaf&&x(R,A)?(L.push(R),b.push(O),O=0,F=R,R=R.children[0]):F?(O++,R=F.children[O],B=!1):R=null}return this},toBBox:function(E){return E},compareMinX:d,compareMinY:v,toJSON:function(){return this.data},fromJSON:function(E){return this.data=E,this},_all:function(E,w){for(var R=[];E;)E.leaf?w.push.apply(w,E.children):R.push.apply(R,E.children),E=R.pop();return w},_build:function(E,w,R,A){var L=R-w+1,b=this._maxEntries,O;if(L<=b)return O=P(E.slice(w,R+1)),u(O,this.toBBox),O;A||(A=Math.ceil(Math.log(L)/Math.log(b)),b=Math.ceil(L/Math.pow(b,A-1))),O=P([]),O.leaf=!1,O.height=A;var F=Math.ceil(L/b),D=F*Math.ceil(Math.sqrt(b)),B,N,z,W;for(M(E,w,R,D,this.compareMinX),B=w;B<=R;B+=D)for(z=Math.min(B+D-1,R),M(E,B,z,F,this.compareMinY),N=B;N<=z;N+=F)W=Math.min(N+F-1,z),O.children.push(this._build(E,N,W,A-1));return u(O,this.toBBox),O},_chooseSubtree:function(E,w,R,A){for(var L,b,O,F,D,B,N,z;A.push(w),!(w.leaf||A.length-1===R);){for(N=z=1/0,L=0,b=w.children.length;L<b;L++)O=w.children[L],D=h(O),B=p(E,O)-D,B<z?(z=B,N=D<N?D:N,F=O):B===z&&D<N&&(N=D,F=O);w=F||w.children[0]}return w},_insert:function(E,w,R){var A=this.toBBox,L=R?E:A(E),b=[],O=this._chooseSubtree(L,this.data,w,b);for(O.children.push(E),a(O,L);w>=0&&b[w].children.length>this._maxEntries;)this._split(b,w),w--;this._adjustParentBBoxes(L,b,w)},_split:function(E,w){var R=E[w],A=R.children.length,L=this._minEntries;this._chooseSplitAxis(R,L,A);var b=this._chooseSplitIndex(R,L,A),O=P(R.children.splice(b,R.children.length-b));O.height=R.height,O.leaf=R.leaf,u(R,this.toBBox),u(O,this.toBBox),w?E[w-1].children.push(O):this._splitRoot(R,O)},_splitRoot:function(E,w){this.data=P([E,w]),this.data.height=E.height+1,this.data.leaf=!1,u(this.data,this.toBBox)},_chooseSplitIndex:function(E,w,R){var A,L,b,O,F,D,B,N;for(D=B=1/0,A=w;A<=R-w;A++)L=l(E,0,A,this.toBBox),b=l(E,A,R,this.toBBox),O=m(L,b),F=h(L)+h(b),O<D?(D=O,N=A,B=F<B?F:B):O===D&&F<B&&(B=F,N=A);return N},_chooseSplitAxis:function(E,w,R){var A=E.leaf?this.compareMinX:d,L=E.leaf?this.compareMinY:v,b=this._allDistMargin(E,w,R,A),O=this._allDistMargin(E,w,R,L);b<O&&E.children.sort(A)},_allDistMargin:function(E,w,R,A){E.children.sort(A);var L=this.toBBox,b=l(E,0,w,L),O=l(E,R-w,R,L),F=c(b)+c(O),D,B;for(D=w;D<R-w;D++)B=E.children[D],a(b,E.leaf?L(B):B),F+=c(b);for(D=R-w-1;D>=w;D--)B=E.children[D],a(O,E.leaf?L(B):B),F+=c(O);return F},_adjustParentBBoxes:function(E,w,R){for(var A=R;A>=0;A--)a(w[A],E)},_condense:function(E){for(var w=E.length-1,R;w>=0;w--)E[w].children.length===0?w>0?(R=E[w-1].children,R.splice(R.indexOf(E[w]),1)):this.clear():u(E[w],this.toBBox)},compareMinX:function(E,w){return E.left-w.left},compareMinY:function(E,w){return E.top-w.top},toBBox:function(E){return{minX:E.left,minY:E.top,maxX:E.right,maxY:E.bottom}}};function f(E,w,R){if(!R)return w.indexOf(E);for(var A=0;A<w.length;A++)if(R(E,w[A]))return A;return-1}function u(E,w){l(E,0,E.children.length,w,E)}function l(E,w,R,A,L){L||(L=P(null)),L.minX=1/0,L.minY=1/0,L.maxX=-1/0,L.maxY=-1/0;for(var b=w,O;b<R;b++)O=E.children[b],a(L,E.leaf?A(O):O);return L}function a(E,w){return E.minX=Math.min(E.minX,w.minX),E.minY=Math.min(E.minY,w.minY),E.maxX=Math.max(E.maxX,w.maxX),E.maxY=Math.max(E.maxY,w.maxY),E}function d(E,w){return E.minX-w.minX}function v(E,w){return E.minY-w.minY}function h(E){return(E.maxX-E.minX)*(E.maxY-E.minY)}function c(E){return E.maxX-E.minX+(E.maxY-E.minY)}function p(E,w){return(Math.max(w.maxX,E.maxX)-Math.min(w.minX,E.minX))*(Math.max(w.maxY,E.maxY)-Math.min(w.minY,E.minY))}function m(E,w){var R=Math.max(E.minX,w.minX),A=Math.max(E.minY,w.minY),L=Math.min(E.maxX,w.maxX),b=Math.min(E.maxY,w.maxY);return Math.max(0,L-R)*Math.max(0,b-A)}function x(E,w){return E.minX<=w.minX&&E.minY<=w.minY&&w.maxX<=E.maxX&&w.maxY<=E.maxY}function T(E,w){return w.minX<=E.maxX&&w.minY<=E.maxY&&w.maxX>=E.minX&&w.maxY>=E.minY}function P(E){return{children:E,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function M(E,w,R,A,L){for(var b=[w,R],O;b.length;)R=b.pop(),w=b.pop(),!(R-w<=A)&&(O=w+Math.ceil((R-w)/A/2)*A,o(E,O,w,R,L),b.push(w,O,O,R))}n.exports=y},35072:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=new o({initialize:function(u){if(this.entries=[],Array.isArray(u))for(var l=0;l<u.length;l++)this.set(u[l])},set:function(f){return this.entries.indexOf(f)===-1&&this.entries.push(f),this},get:function(f,u){for(var l=0;l<this.entries.length;l++){var a=this.entries[l];if(a[f]===u)return a}},getArray:function(){return this.entries.slice(0)},delete:function(f){var u=this.entries.indexOf(f);return u>-1&&this.entries.splice(u,1),this},dump:function(){console.group("Set");for(var f=0;f<this.entries.length;f++){var u=this.entries[f];console.log(u)}console.groupEnd()},each:function(f,u){var l,a=this.entries.slice(),d=a.length;if(u)for(l=0;l<d&&f.call(u,a[l],l)!==!1;l++);else for(l=0;l<d&&f(a[l],l)!==!1;l++);return this},iterate:function(f,u){var l,a=this.entries.length;if(u)for(l=0;l<a&&f.call(u,this.entries[l],l)!==!1;l++);else for(l=0;l<a&&f(this.entries[l],l)!==!1;l++);return this},iterateLocal:function(f){var u,l=[];for(u=1;u<arguments.length;u++)l.push(arguments[u]);var a=this.entries.length;for(u=0;u<a;u++){var d=this.entries[u];d[f].apply(d,l)}return this},clear:function(){return this.entries.length=0,this},contains:function(f){return this.entries.indexOf(f)>-1},union:function(f){var u=new y;return f.entries.forEach(function(l){u.set(l)}),this.entries.forEach(function(l){u.set(l)}),u},intersect:function(f){var u=new y;return this.entries.forEach(function(l){f.contains(l)&&u.set(l)}),u},difference:function(f){var u=new y;return this.entries.forEach(function(l){f.contains(l)||u.set(l)}),u},size:{get:function(){return this.entries.length},set:function(f){return f<this.entries.length?this.entries.length=f:this.entries.length}}});n.exports=y},86555:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),y=s(83419),f=s(56583),u=s(26099),l=new y({initialize:function(d,v,h,c){d===void 0&&(d=0),v===void 0&&(v=d),h===void 0&&(h=0),c===void 0&&(c=null),this._width=d,this._height=v,this._parent=c,this.aspectMode=h,this.aspectRatio=v===0?1:d/v,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new u},setAspectMode:function(a){return a===void 0&&(a=0),this.aspectMode=a,this.setSize(this._width,this._height)},setSnap:function(a,d){return a===void 0&&(a=0),d===void 0&&(d=a),this.snapTo.set(a,d),this.setSize(this._width,this._height)},setParent:function(a){return this._parent=a,this.setSize(this._width,this._height)},setMin:function(a,d){return a===void 0&&(a=0),d===void 0&&(d=a),this.minWidth=o(a,0,this.maxWidth),this.minHeight=o(d,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(a,d){return a===void 0&&(a=Number.MAX_VALUE),d===void 0&&(d=a),this.maxWidth=o(a,this.minWidth,Number.MAX_VALUE),this.maxHeight=o(d,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(a,d){switch(a===void 0&&(a=0),d===void 0&&(d=a),this.aspectMode){case l.NONE:this._width=this.getNewWidth(f(a,this.snapTo.x)),this._height=this.getNewHeight(f(d,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case l.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(f(a,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case l.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(f(d,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case l.FIT:this.constrain(a,d,!0);break;case l.ENVELOP:this.constrain(a,d,!1);break}return this},setAspectRatio:function(a){return this.aspectRatio=a,this.setSize(this._width,this._height)},resize:function(a,d){return this._width=this.getNewWidth(f(a,this.snapTo.x)),this._height=this.getNewHeight(f(d,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(a,d){return d===void 0&&(d=!0),a=o(a,this.minWidth,this.maxWidth),d&&this._parent&&a>this._parent.width&&(a=Math.max(this.minWidth,this._parent.width)),a},getNewHeight:function(a,d){return d===void 0&&(d=!0),a=o(a,this.minHeight,this.maxHeight),d&&this._parent&&a>this._parent.height&&(a=Math.max(this.minHeight,this._parent.height)),a},constrain:function(a,d,v){a===void 0&&(a=0),d===void 0&&(d=a),v===void 0&&(v=!0),a=this.getNewWidth(a),d=this.getNewHeight(d);var h=this.snapTo,c=d===0?1:a/d;return v&&this.aspectRatio>c||!v&&this.aspectRatio<c?(a=f(a,h.x),d=a/this.aspectRatio,h.y>0&&(d=f(d,h.y),a=d*this.aspectRatio)):(v&&this.aspectRatio<c||!v&&this.aspectRatio>c)&&(d=f(d,h.y),a=d*this.aspectRatio,h.x>0&&(a=f(a,h.x),d=a*(1/this.aspectRatio))),this._width=a,this._height=d,this},fitTo:function(a,d){return this.constrain(a,d,!0)},envelop:function(a,d){return this.constrain(a,d,!1)},setWidth:function(a){return this.setSize(a,this._height)},setHeight:function(a){return this.setSize(this._width,a)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(a){a&&a.style&&(a.style.width=this._width+"px",a.style.height=this._height+"px")},copy:function(a){return a.setAspectMode(this.aspectMode),a.aspectRatio=this.aspectRatio,a.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(a){this.setSize(a,this._height)}},height:{get:function(){return this._height},set:function(a){this.setSize(this._width,a)}}});l.NONE=0,l.WIDTH_CONTROLS_HEIGHT=1,l.HEIGHT_CONTROLS_WIDTH=2,l.FIT=3,l.ENVELOP=4,n.exports=l},15238:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"},56187:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"},82348:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={PROCESS_QUEUE_ADD:s(15238),PROCESS_QUEUE_REMOVE:s(56187)}},41392:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:s(82348),List:s(73162),Map:s(90330),ProcessQueue:s(25774),RTree:s(59542),Set:s(35072),Size:s(86555)}},57382:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(45319),f=s(40987),u=s(8054),l=s(50030),a=s(79237),d=new o({Extends:a,initialize:function(h,c,p,m,x){a.call(this,h,c,p,m,x),this.add("__BASE",0,0,0,m,x),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=m,this.height=x,this.imageData=this.context.getImageData(0,0,m,x),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===u.WEBGL&&this.refresh(),this},draw:function(v,h,c,p){return p===void 0&&(p=!0),this.context.drawImage(c,v,h),p&&this.update(),this},drawFrame:function(v,h,c,p,m){c===void 0&&(c=0),p===void 0&&(p=0),m===void 0&&(m=!0);var x=this.manager.getFrame(v,h);if(x){var T=x.canvasData,P=x.cutWidth,M=x.cutHeight,E=x.source.resolution;this.context.drawImage(x.source.image,T.x,T.y,P,M,c,p,P/E,M/E),m&&this.update()}return this},setPixel:function(v,h,c,p,m,x){x===void 0&&(x=255),v=Math.abs(Math.floor(v)),h=Math.abs(Math.floor(h));var T=this.getIndex(v,h);if(T>-1){var P=this.context.getImageData(v,h,1,1);P.data[0]=c,P.data[1]=p,P.data[2]=m,P.data[3]=x,this.context.putImageData(P,v,h)}return this},putData:function(v,h,c,p,m,x,T){return p===void 0&&(p=0),m===void 0&&(m=0),x===void 0&&(x=v.width),T===void 0&&(T=v.height),this.context.putImageData(v,h,c,p,m,x,T),this},getData:function(v,h,c,p){v=y(Math.floor(v),0,this.width-1),h=y(Math.floor(h),0,this.height-1),c=y(c,1,this.width-v),p=y(p,1,this.height-h);var m=this.context.getImageData(v,h,c,p);return m},getPixel:function(v,h,c){c||(c=new f);var p=this.getIndex(v,h);if(p>-1){var m=this.data,x=m[p+0],T=m[p+1],P=m[p+2],M=m[p+3];c.setTo(x,T,P,M)}return c},getPixels:function(v,h,c,p){v===void 0&&(v=0),h===void 0&&(h=0),c===void 0&&(c=this.width),p===void 0&&(p=c),v=Math.abs(Math.round(v)),h=Math.abs(Math.round(h));for(var m=y(v,0,this.width),x=y(v+c,0,this.width),T=y(h,0,this.height),P=y(h+p,0,this.height),M=new f,E=[],w=T;w<P;w++){for(var R=[],A=m;A<x;A++)M=this.getPixel(A,w,M),R.push({x:A,y:w,color:M.color,alpha:M.alphaGL});E.push(R)}return E},getIndex:function(v,h){return v=Math.abs(Math.round(v)),h=Math.abs(Math.round(h)),v<this.width&&h<this.height?(v+h*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(v,h,c,p,m){return v===void 0&&(v=0),h===void 0&&(h=0),c===void 0&&(c=this.width),p===void 0&&(p=this.height),m===void 0&&(m=!0),this.context.clearRect(v,h,c,p),m&&this.update(),this},setSize:function(v,h){return h===void 0&&(h=v),(v!==this.width||h!==this.height)&&(this.canvas.width=v,this.canvas.height=h,this._source.width=v,this._source.height=h,this._source.isPowerOf2=l(v,h),this.frames.__BASE.setSize(v,h,0,0),this.width=v,this.height=h,this.refresh()),this},destroy:function(){a.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});n.exports=d},81320:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10312),y=s(38058),f=s(27919),u=s(83419),l=s(8054),a=s(4327),d=s(95540),v=s(36060),h=s(32302),c=s(79237),p=s(70554),m=new u({Extends:c,initialize:function(T,P,M,E,w){M===void 0&&(M=256),E===void 0&&(E=256),w===void 0&&(w=!0),this.type="DynamicTexture";var R=T.game.renderer,A=R&&R.type===l.CANVAS,L=A?f.create2D(this,M,E):[this];c.call(this,T,P,L,M,E),this.add("__BASE",0,0,0,M,E),this.renderer=R,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=A?L:null,this.context=A?L.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new y(0,0,M,E).setScene(T.game.scene.systemScene,!1),this.renderTarget=A?null:new h(R,M,E,1,0,!1,!1,!0,!1),this.pipeline=A?null:R.pipelines.get(v.SINGLE_PIPELINE),this.setSize(M,E,w)},setSize:function(x,T,P){T===void 0&&(T=x),P===void 0&&(P=!0),P&&(x=Math.floor(x),T=Math.floor(T),x%2!==0&&x++,T%2!==0&&T++);var M=this.get(),E=M.source;if(x!==this.width||T!==this.height){this.canvas&&(this.canvas.width=x,this.canvas.height=T);var w=this.renderTarget;w&&(w.willResize(x,T)&&w.resize(x,T),w.texture!==E.glTexture&&this.renderer.deleteTexture(E.glTexture),this.setFromRenderTarget()),this.camera.setSize(x,T),E.width=x,E.height=T,M.setSize(x,T),this.width=x,this.height=T}else{var R=this.getSourceImage();M.cutX+x>R.width&&(x=R.width-M.cutX),M.cutY+T>R.height&&(T=R.height-M.cutY),M.setSize(x,T,M.cutX,M.cutY)}return this},setFromRenderTarget:function(){var x=this.get(),T=x.source,P=this.renderTarget;return T.isRenderTexture=!0,T.isGLTexture=!0,T.glTexture=P.texture,this},setIsSpriteTexture:function(x){return this.isSpriteTexture=x,this},fill:function(x,T,P,M,E,w){var R=this.camera,A=this.renderer;T===void 0&&(T=1),P===void 0&&(P=0),M===void 0&&(M=0),E===void 0&&(E=this.width),w===void 0&&(w=this.height);var L=x>>16&255,b=x>>8&255,O=x&255,F=this.renderTarget;if(R.preRender(),F){F.bind(!0);var D=this.pipeline.manager.set(this.pipeline),B=A.width/F.width,N=A.height/F.height,z=F.height-(M+w);D.drawFillRect(P*B,z*N,E*B,w*N,p.getTintFromFloats(O/255,b/255,L/255,1),T),F.unbind(!0)}else{var W=this.context;A.setContext(W),W.globalCompositeOperation="source-over",W.fillStyle="rgba("+L+","+b+","+O+","+T+")",W.fillRect(P,M,E,w),A.setContext()}return this.dirty=!0,this},clear:function(x,T,P,M){if(this.dirty){var E=this.context,w=this.renderTarget;w?w.clear(x,T,P,M):E&&(x!==void 0&&T!==void 0&&P!==void 0&&M!==void 0?E.clearRect(x,T,P,M):(E.save(),E.setTransform(1,0,0,1,0,0),E.clearRect(0,0,this.width,this.height),E.restore())),this.dirty=!1}return this},stamp:function(x,T,P,M,E){P===void 0&&(P=0),M===void 0&&(M=0);var w=d(E,"alpha",1),R=d(E,"tint",16777215),A=d(E,"angle",0),L=d(E,"rotation",0),b=d(E,"scale",1),O=d(E,"scaleX",b),F=d(E,"scaleY",b),D=d(E,"originX",.5),B=d(E,"originY",.5),N=d(E,"blendMode",0),z=d(E,"erase",!1),W=d(E,"skipBatch",!1),X=this.manager.resetStamp(w,R);return X.setAngle(0),A!==0?X.setAngle(A):L!==0&&X.setRotation(L),X.setScale(O,F),X.setTexture(x,T),X.setOrigin(D,B),X.setBlendMode(N),z&&(this._eraseMode=!0),W?this.batchGameObject(X,P,M):this.draw(X,P,M),z&&(this._eraseMode=!1),this},erase:function(x,T,P){return this._eraseMode=!0,this.draw(x,T,P),this._eraseMode=!1,this},draw:function(x,T,P,M,E){return this.beginDraw(),this.batchDraw(x,T,P,M,E),this.endDraw(),this},drawFrame:function(x,T,P,M,E,w){return this.beginDraw(),this.batchDrawFrame(x,T,P,M,E,w),this.endDraw(),this},repeat:function(x,T,P,M,E,w,R,A,L){if(P===void 0&&(P=0),M===void 0&&(M=0),E===void 0&&(E=this.width),w===void 0&&(w=this.height),R===void 0&&(R=1),A===void 0&&(A=16777215),L===void 0&&(L=!1),x instanceof a?T=x:T=this.manager.getFrame(x,T),!T)return this;var b=this.manager.resetStamp(R,A);b.setFrame(T),b.setOrigin(0);var O=T.width,F=T.height;E=Math.floor(E),w=Math.floor(w);var D=Math.ceil(E/O),B=Math.ceil(w/F),N=D*O-E,z=B*F-w;N>0&&(N=O-N),z>0&&(z=F-z),P<0&&(D+=Math.ceil(Math.abs(P)/O)),M<0&&(B+=Math.ceil(Math.abs(M)/F));var W=P,X=M,k=!1,V=this.manager.stampCrop.setTo(0,0,O,F);L||this.beginDraw();for(var I=0;I<B;I++){if(X+F<0){X+=F;continue}for(var U=0;U<D;U++){if(k=!1,W+O<0){W+=O;continue}else W<0&&(k=!0,V.width=O+W,V.x=O-V.width);X<0&&(k=!0,V.height=F+X,V.y=F-V.height),N>0&&U===D-1&&(k=!0,V.width=N),z>0&&I===B-1&&(k=!0,V.height=z),k&&b.setCrop(V),this.batchGameObject(b,W,X),b.isCropped=!1,V.setTo(0,0,O,F),W+=O}W=P,X+=F}return L||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var x=this.camera,T=this.renderer,P=this.renderTarget;x.preRender(),P?T.beginCapture(P.width,P.height):T.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(x,T,P,M,E){return Array.isArray(x)||(x=[x]),this.batchList(x,T,P,M,E),this},batchDrawFrame:function(x,T,P,M,E,w){P===void 0&&(P=0),M===void 0&&(M=0),E===void 0&&(E=1),w===void 0&&(w=16777215);var R=this.manager.getFrame(x,T);return R&&(this.renderTarget?this.pipeline.batchTextureFrame(R,P,M,w,E,this.camera.matrix,null):this.batchTextureFrame(R,P,M,E,w)),this},endDraw:function(x){if(x===void 0&&(x=this._eraseMode),this.isDrawing){var T=this.renderer,P=this.renderTarget;if(P){var M=T.endCapture(),E=T.pipelines.setUtility();E.blitFrame(M,P,1,!1,!1,x,this.isSpriteTexture),T.resetScissor(),T.resetViewport()}else T.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(x,T,P,M,E){var w=x.length;if(w!==0)for(var R=0;R<w;R++){var A=x[R];!A||A===this||(A.renderWebGL||A.renderCanvas?this.batchGameObject(A,T,P):A.isParent||A.list?this.batchGroup(A.getChildren(),T,P):typeof A=="string"?this.batchTextureFrameKey(A,null,T,P,M,E):A instanceof a?this.batchTextureFrame(A,T,P,M,E):Array.isArray(A)&&this.batchList(A,T,P,M,E))}},batchGroup:function(x,T,P){T===void 0&&(T=0),P===void 0&&(P=0);for(var M=0;M<x.length;M++){var E=x[M];E.willRender(this.camera)&&this.batchGameObject(E,E.x+T,E.y+P)}},batchGameObject:function(x,T,P){T===void 0&&(T=x.x),P===void 0&&(P=x.y);var M=x.x,E=x.y,w=this.camera,R=this.renderer,A=this._eraseMode,L=x.mask;if(x.setPosition(T,P),this.canvas){if(A){var b=x.blendMode;x.blendMode=o.ERASE}L&&L.preRenderCanvas(R,x,w),x.renderCanvas(R,x,w,null),L&&L.postRenderCanvas(R,x,w),A&&(x.blendMode=b)}else R&&(L&&L.preRenderWebGL(R,x,w),A||R.setBlendMode(x.blendMode),x.renderWebGL(R,x,w),L&&L.postRenderWebGL(R,w,this.renderTarget));x.setPosition(M,E)},batchTextureFrameKey:function(x,T,P,M,E,w){var R=this.manager.getFrame(x,T);R&&this.batchTextureFrame(R,P,M,E,w)},batchTextureFrame:function(x,T,P,M,E){T===void 0&&(T=0),P===void 0&&(P=0),M===void 0&&(M=1),E===void 0&&(E=16777215);var w=this.camera.matrix,R=this.renderTarget;if(R)this.pipeline.batchTextureFrame(x,T,P,E,M,w,null);else{var A=this.context,L=x.canvasData,b=x.source.image;A.save(),A.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",A.globalAlpha=M,w.setToContext(A),L.width>0&&L.height>0&&A.drawImage(b,L.x,L.y,L.width,L.height,T,P,L.width,L.height),A.restore()}},snapshotArea:function(x,T,P,M,E,w,R){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,E,!1,x,T,P,M,w,R):this.renderer.snapshotCanvas(this.canvas,E,!1,x,T,P,M,w,R),this},snapshot:function(x,T,P){return this.snapshotArea(0,0,this.width,this.height,x,T,P)},snapshotPixel:function(x,T,P){return this.snapshotArea(x,T,1,1,P,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(x,T,P,M){var E=this.manager.resetStamp();E.setTexture(this),E.setOrigin(0),E.renderWebGL(x,E,P,M)},renderCanvas:function(){},destroy:function(){var x=this.manager.stamp;x&&x.texture===this&&this.manager.resetStamp(),c.prototype.destroy.call(this),f.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});n.exports=m},4327:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(45319),f=s(79291),u=new o({initialize:function(a,d,v,h,c,p,m){this.texture=a,this.name=d,this.source=a.source[v],this.sourceIndex=v,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(p,m,h,c)},setCutPosition:function(l,a){return l===void 0&&(l=0),a===void 0&&(a=0),this.cutX=l,this.cutY=a,this.updateUVs()},setCutSize:function(l,a){return this.cutWidth=l,this.cutHeight=a,this.updateUVs()},setSize:function(l,a,d,v){d===void 0&&(d=0),v===void 0&&(v=0),this.setCutPosition(d,v),this.setCutSize(l,a),this.width=l,this.height=a,this.halfWidth=Math.floor(l*.5),this.halfHeight=Math.floor(a*.5),this.centerX=Math.floor(l/2),this.centerY=Math.floor(a/2);var h=this.data,c=h.cut;c.x=d,c.y=v,c.w=l,c.h=a,c.r=d+l,c.b=v+a,h.sourceSize.w=l,h.sourceSize.h=a,h.spriteSourceSize.w=l,h.spriteSourceSize.h=a,h.radius=.5*Math.sqrt(l*l+a*a);var p=h.drawImage;return p.x=d,p.y=v,p.width=l,p.height=a,this.updateUVs()},setTrim:function(l,a,d,v,h,c){var p=this.data,m=p.spriteSourceSize;return p.trim=!0,p.sourceSize.w=l,p.sourceSize.h=a,m.x=d,m.y=v,m.w=h,m.h=c,m.r=d+h,m.b=v+c,this.x=d,this.y=v,this.width=h,this.height=c,this.halfWidth=h*.5,this.halfHeight=c*.5,this.centerX=Math.floor(h/2),this.centerY=Math.floor(c/2),this.updateUVs()},setScale9:function(l,a,d,v){var h=this.data;return h.scale9=!0,h.is3Slice=a===0&&v===this.height,h.scale9Borders.x=l,h.scale9Borders.y=a,h.scale9Borders.w=d,h.scale9Borders.h=v,this},setCropUVs:function(l,a,d,v,h,c,p){var m=this.cutX,x=this.cutY,T=this.cutWidth,P=this.cutHeight,M=this.realWidth,E=this.realHeight;a=y(a,0,M),d=y(d,0,E),v=y(v,0,M-a),h=y(h,0,E-d);var w=m+a,R=x+d,A=v,L=h,b=this.data;if(b.trim){var O=b.spriteSourceSize;v=y(v,0,O.x+T-a),h=y(h,0,O.y+P-d);var F=a+v,D=d+h,B=!(O.r<a||O.b<d||O.x>F||O.y>D);if(B){var N=Math.max(O.x,a),z=Math.max(O.y,d),W=Math.min(O.r,F)-N,X=Math.min(O.b,D)-z;A=W,L=X,c?w=m+(T-(N-O.x)-W):w=m+(N-O.x),p?R=x+(P-(z-O.y)-X):R=x+(z-O.y),a=N,d=z,v=W,h=X}else w=0,R=0,A=0,L=0}else c&&(w=m+(T-a-v)),p&&(R=x+(P-d-h));var k=this.source.width,V=this.source.height;return l.u0=Math.max(0,w/k),l.v0=Math.max(0,R/V),l.u1=Math.min(1,(w+A)/k),l.v1=Math.min(1,(R+L)/V),l.x=a,l.y=d,l.cx=w,l.cy=R,l.cw=A,l.ch=L,l.width=v,l.height=h,l.flipX=c,l.flipY=p,l},updateCropUVs:function(l,a,d){return this.setCropUVs(l,l.x,l.y,l.width,l.height,a,d)},setUVs:function(l,a,d,v,h,c){var p=this.data.drawImage;return p.width=l,p.height=a,this.u0=d,this.v0=v,this.u1=h,this.v1=c,this},updateUVs:function(){var l=this.cutX,a=this.cutY,d=this.cutWidth,v=this.cutHeight,h=this.data.drawImage;h.width=d,h.height=v;var c=this.source.width,p=this.source.height;return this.u0=l/c,this.v0=a/p,this.u1=(l+d)/c,this.v1=(a+v)/p,this},updateUVsInverted:function(){var l=this.source.width,a=this.source.height;return this.u0=(this.cutX+this.cutHeight)/l,this.v0=this.cutY/a,this.u1=this.cutX/l,this.v1=(this.cutY+this.cutWidth)/a,this},clone:function(){var l=new u(this.texture,this.name,this.sourceIndex);return l.cutX=this.cutX,l.cutY=this.cutY,l.cutWidth=this.cutWidth,l.cutHeight=this.cutHeight,l.x=this.x,l.y=this.y,l.width=this.width,l.height=this.height,l.halfWidth=this.halfWidth,l.halfHeight=this.halfHeight,l.centerX=this.centerX,l.centerY=this.centerY,l.rotated=this.rotated,l.data=f(!0,l.data,this.data),l.updateUVs(),l},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});n.exports=u},79237:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(4327),f=s(11876),u='Texture "%s" has no frame "%s"',l=new o({initialize:function(d,v,h,c,p){Array.isArray(h)||(h=[h]),this.manager=d,this.key=v,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var m=0;m<h.length;m++)this.source.push(new f(this,h[m],c,p))},add:function(a,d,v,h,c,p){if(this.has(a))return null;var m=new y(this,a,d,v,h,c,p);return this.frames[a]=m,this.firstFrame==="__BASE"&&(this.firstFrame=a),this.frameTotal++,m},remove:function(a){if(this.has(a)){var d=this.get(a);return d.destroy(),delete this.frames[a],!0}return!1},has:function(a){return this.frames.hasOwnProperty(a)},get:function(a){a||(a=this.firstFrame);var d=this.frames[a];return d||(console.warn(u,this.key,a),d=this.frames[this.firstFrame]),d},getTextureSourceIndex:function(a){for(var d=0;d<this.source.length;d++)if(this.source[d]===a)return d;return-1},getFramesFromTextureSource:function(a,d){d===void 0&&(d=!1);var v=[];for(var h in this.frames)if(!(h==="__BASE"&&!d)){var c=this.frames[h];c.sourceIndex===a&&v.push(c)}return v},getFrameBounds:function(a){a===void 0&&(a=0);for(var d=this.getFramesFromTextureSource(a,!0),v=d[0],h=v.cutX,c=v.cutY,p=v.cutX+v.cutWidth,m=v.cutY+v.cutHeight,x=1;x<d.length;x++){var T=d[x];T.cutX<h&&(h=T.cutX),T.cutY<c&&(c=T.cutY),T.cutX+T.cutWidth>p&&(p=T.cutX+T.cutWidth),T.cutY+T.cutHeight>m&&(m=T.cutY+T.cutHeight)}return{x:h,y:c,width:p-h,height:m-c}},getFrameNames:function(a){a===void 0&&(a=!1);var d=Object.keys(this.frames);if(!a){var v=d.indexOf("__BASE");v!==-1&&d.splice(v,1)}return d},getSourceImage:function(a){(a==null||this.frameTotal===1)&&(a="__BASE");var d=this.frames[a];return d?d.source.image:(console.warn(u,this.key,a),this.frames.__BASE.source.image)},getDataSourceImage:function(a){(a==null||this.frameTotal===1)&&(a="__BASE");var d=this.frames[a],v;return d?v=d.sourceIndex:(console.warn(u,this.key,a),v=this.frames.__BASE.sourceIndex),this.dataSource[v].image},setDataSource:function(a){Array.isArray(a)||(a=[a]);for(var d=0;d<a.length;d++){var v=this.source[d];this.dataSource.push(new f(this,a[d],v.width,v.height))}},setFilter:function(a){var d;for(d=0;d<this.source.length;d++)this.source[d].setFilter(a);for(d=0;d<this.dataSource.length;d++)this.dataSource[d].setFilter(a)},destroy:function(){var a,d=this.source,v=this.dataSource;for(a=0;a<d.length;a++)d[a]&&d[a].destroy();for(a=0;a<v.length;a++)v[a]&&v[a].destroy();for(var h in this.frames){var c=this.frames[h];c&&c.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});n.exports=l},17130:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(27919),y=s(57382),f=s(83419),u=s(40987),l=s(8054),a=s(81320),d=s(50792),v=s(69442),h=s(4327),c=s(8443),p=s(99584),m=s(35154),x=s(88571),T=s(41212),P=s(61309),M=s(87841),E=s(79237),w=new f({Extends:d,initialize:function(A){d.call(this),this.game=A,this.name="TextureManager",this.list={},this._tempCanvas=o.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new M,this.silentWarnings=!1,A.events.once(c.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(v.LOAD,this.updatePending,this),this.on(v.ERROR,this.updatePending,this);var R=this.game.config;R.defaultImage!==null&&this.addBase64("__DEFAULT",R.defaultImage),R.missingImage!==null&&this.addBase64("__MISSING",R.missingImage),R.whiteImage!==null&&this.addBase64("__WHITE",R.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(c.DESTROY,this.destroy,this),this.game.events.once(c.SYSTEM_READY,function(A){this.stamp=new x(A).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(v.LOAD),this.off(v.ERROR),this.emit(v.READY))},checkKey:function(R){return!R||typeof R!="string"||this.exists(R)?(this.silentWarnings||console.error("Texture key already in use: "+R),!1):!0},remove:function(R){if(typeof R=="string")if(this.exists(R))R=this.get(R);else return this.silentWarnings||console.warn("No texture found matching key: "+R),this;var A=R.key;return this.list.hasOwnProperty(A)&&(R.destroy(),this.emit(v.REMOVE,A),this.emit(v.REMOVE_KEY+A)),this},removeKey:function(R){return this.list.hasOwnProperty(R)&&delete this.list[R],this},addBase64:function(R,A){if(this.checkKey(R)){var L=this,b=new Image;b.onerror=function(){L.emit(v.ERROR,R)},b.onload=function(){var O=L.create(R,b);O&&(P.Image(O,0),L.emit(v.ADD,R,O),L.emit(v.ADD_KEY+R,O),L.emit(v.LOAD,R,O))},b.src=A}return this},getBase64:function(R,A,L,b){L===void 0&&(L="image/png"),b===void 0&&(b=.92);var O="",F=this.getFrame(R,A);if(F&&(F.source.isRenderTexture||F.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(F){var D=F.canvasData,B=o.create2D(this,D.width,D.height),N=B.getContext("2d",{willReadFrequently:!0});D.width>0&&D.height>0&&N.drawImage(F.source.image,D.x,D.y,D.width,D.height,0,0,D.width,D.height),O=B.toDataURL(L,b),o.remove(B)}return O},addImage:function(R,A,L){var b=null;return this.checkKey(R)&&(b=this.create(R,A),P.Image(b,0),L&&b.setDataSource(L),this.emit(v.ADD,R,b),this.emit(v.ADD_KEY+R,b)),b},addGLTexture:function(R,A){var L=null;if(this.checkKey(R)){var b=A.width,O=A.height;L=this.create(R,A,b,O),L.add("__BASE",0,0,0,b,O),this.emit(v.ADD,R,L),this.emit(v.ADD_KEY+R,L)}return L},addCompressedTexture:function(R,A,L){var b=null;if(this.checkKey(R)){if(b=this.create(R,A),b.add("__BASE",0,0,0,A.width,A.height),L){var O=function(D,B,N){Array.isArray(N.textures)||Array.isArray(N.frames)?P.JSONArray(D,B,N):P.JSONHash(D,B,N)};if(Array.isArray(L))for(var F=0;F<L.length;F++)O(b,F,L[F]);else O(b,0,L)}this.emit(v.ADD,R,b),this.emit(v.ADD_KEY+R,b)}return b},addRenderTexture:function(R,A){var L=null;return this.checkKey(R)&&(L=this.create(R,A),L.add("__BASE",0,0,0,A.width,A.height),this.emit(v.ADD,R,L),this.emit(v.ADD_KEY+R,L)),L},generate:function(R,A){if(this.checkKey(R)){var L=o.create(this,1,1);return A.canvas=L,p(A),this.addCanvas(R,L)}else return null},createCanvas:function(R,A,L){if(A===void 0&&(A=256),L===void 0&&(L=256),this.checkKey(R)){var b=o.create(this,A,L,l.CANVAS,!0);return this.addCanvas(R,b)}return null},addCanvas:function(R,A,L){L===void 0&&(L=!1);var b=null;return L?b=new y(this,R,A,A.width,A.height):this.checkKey(R)&&(b=new y(this,R,A,A.width,A.height),this.list[R]=b,this.emit(v.ADD,R,b),this.emit(v.ADD_KEY+R,b)),b},addDynamicTexture:function(R,A,L){var b=null;return typeof R=="string"&&!this.exists(R)?b=new a(this,R,A,L):(b=R,R=b.key),this.checkKey(R)?(this.list[R]=b,this.emit(v.ADD,R,b),this.emit(v.ADD_KEY+R,b)):b=null,b},addAtlas:function(R,A,L,b){return Array.isArray(L.textures)||Array.isArray(L.frames)?this.addAtlasJSONArray(R,A,L,b):this.addAtlasJSONHash(R,A,L,b)},addAtlasJSONArray:function(R,A,L,b){var O=null;if(A instanceof E?(R=A.key,O=A):this.checkKey(R)&&(O=this.create(R,A)),O){if(Array.isArray(L))for(var F=L.length===1,D=0;D<O.source.length;D++){var B=F?L[0]:L[D];P.JSONArray(O,D,B)}else P.JSONArray(O,0,L);b&&O.setDataSource(b),this.emit(v.ADD,R,O),this.emit(v.ADD_KEY+R,O)}return O},addAtlasJSONHash:function(R,A,L,b){var O=null;if(A instanceof E?(R=A.key,O=A):this.checkKey(R)&&(O=this.create(R,A)),O){if(Array.isArray(L))for(var F=0;F<L.length;F++)P.JSONHash(O,F,L[F]);else P.JSONHash(O,0,L);b&&O.setDataSource(b),this.emit(v.ADD,R,O),this.emit(v.ADD_KEY+R,O)}return O},addAtlasXML:function(R,A,L,b){var O=null;return A instanceof E?(R=A.key,O=A):this.checkKey(R)&&(O=this.create(R,A)),O&&(P.AtlasXML(O,0,L),b&&O.setDataSource(b),this.emit(v.ADD,R,O),this.emit(v.ADD_KEY+R,O)),O},addUnityAtlas:function(R,A,L,b){var O=null;return A instanceof E?(R=A.key,O=A):this.checkKey(R)&&(O=this.create(R,A)),O&&(P.UnityYAML(O,0,L),b&&O.setDataSource(b),this.emit(v.ADD,R,O),this.emit(v.ADD_KEY+R,O)),O},addSpriteSheet:function(R,A,L,b){var O=null;if(A instanceof E?(R=A.key,O=A):this.checkKey(R)&&(O=this.create(R,A)),O){var F=O.source[0].width,D=O.source[0].height;P.SpriteSheet(O,0,0,0,F,D,L),b&&O.setDataSource(b),this.emit(v.ADD,R,O),this.emit(v.ADD_KEY+R,O)}return O},addSpriteSheetFromAtlas:function(R,A){if(!this.checkKey(R))return null;var L=m(A,"atlas",null),b=m(A,"frame",null);if(!(!L||!b)){var O=this.get(L),F=O.get(b);if(F){var D=F.source.image;D||(D=F.source.glTexture);var B=this.create(R,D);return F.trimmed?P.SpriteSheetFromAtlas(B,F,A):P.SpriteSheet(B,0,F.cutX,F.cutY,F.cutWidth,F.cutHeight,A),this.emit(v.ADD,R,B),this.emit(v.ADD_KEY+R,B),B}}},addUint8Array:function(R,A,L,b){if(!this.checkKey(R)||A.length/4!==L*b)return null;var O=this.create(R,A,L,b);return O.add("__BASE",0,0,0,L,b),this.emit(v.ADD,R,O),this.emit(v.ADD_KEY+R,O),O},create:function(R,A,L,b){var O=null;return this.checkKey(R)&&(O=new E(this,R,A,L,b),this.list[R]=O),O},exists:function(R){return this.list.hasOwnProperty(R)},get:function(R){return R===void 0&&(R="__DEFAULT"),this.list[R]?this.list[R]:R instanceof E?R:R instanceof h?R.texture:this.list.__MISSING},cloneFrame:function(R,A){if(this.list[R])return this.list[R].get(A).clone()},getFrame:function(R,A){if(this.list[R])return this.list[R].get(A)},parseFrame:function(R){if(R){if(typeof R=="string")return this.getFrame(R);if(Array.isArray(R)&&R.length===2)return this.getFrame(R[0],R[1]);if(T(R))return this.getFrame(R.key,R.frame);if(R instanceof E)return R.get();if(R instanceof h)return R}else return},getTextureKeys:function(){var R=[];for(var A in this.list)A!=="__DEFAULT"&&A!=="__MISSING"&&A!=="__WHITE"&&A!=="__NORMAL"&&R.push(A);return R},getPixel:function(R,A,L,b){var O=this.getFrame(L,b);if(O){R-=O.x,A-=O.y;var F=O.data.cut;if(R+=F.x,A+=F.y,R>=F.x&&R<F.r&&A>=F.y&&A<F.b){var D=this._tempContext;D.clearRect(0,0,1,1),D.drawImage(O.source.image,R,A,1,1,0,0,1,1);var B=D.getImageData(0,0,1,1);return new u(B.data[0],B.data[1],B.data[2],B.data[3])}}return null},getPixelAlpha:function(R,A,L,b){var O=this.getFrame(L,b);if(O){R-=O.x,A-=O.y;var F=O.data.cut;if(R+=F.x,A+=F.y,R>=F.x&&R<F.r&&A>=F.y&&A<F.b){var D=this._tempContext;D.clearRect(0,0,1,1),D.drawImage(O.source.image,R,A,1,1,0,0,1,1);var B=D.getImageData(0,0,1,1);return B.data[3]}}return null},setTexture:function(R,A,L){return this.list[A]&&(R.texture=this.list[A],R.frame=R.texture.get(L)),R},renameTexture:function(R,A){var L=this.get(R);return L&&R!==A?(L.key=A,this.list[A]=L,delete this.list[R],!0):!1},each:function(R,A){for(var L=[null],b=1;b<arguments.length;b++)L.push(arguments[b]);for(var O in this.list)L[0]=this.list[O],R.apply(A,L)},resetStamp:function(R,A){R===void 0&&(R=1),A===void 0&&(A=16777215);var L=this.stamp;return L.setCrop(),L.setPosition(0),L.setAngle(0),L.setScale(1),L.setAlpha(R),L.setTint(A),L.setTexture("__WHITE"),L},destroy:function(){for(var R in this.list)this.list[R].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,o.remove(this._tempCanvas)}});n.exports=w},11876:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(27919),y=s(83419),f=s(50030),u=s(29795),l=s(82751),a=new y({initialize:function(v,h,c,p,m){m===void 0&&(m=!1);var x=v.manager.game;this.renderer=x.renderer,this.texture=v,this.source=h,this.image=h.compressed?null:h,this.compressionAlgorithm=h.compressed?h.format:null,this.resolution=1,this.width=c||h.naturalWidth||h.videoWidth||h.width||0,this.height=p||h.naturalHeight||h.videoHeight||h.height||0,this.scaleMode=u.DEFAULT,this.isCanvas=h instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&h instanceof HTMLVideoElement,this.isRenderTexture=h.type==="RenderTexture"||h.type==="DynamicTexture",this.isGLTexture=h instanceof l,this.isPowerOf2=f(this.width,this.height),this.glTexture=null,this.flipY=m,this.init(x)},init:function(d){var v=this.renderer;if(v){var h=this.source;if(v.gl){var c=this.image,p=this.flipY,m=this.width,x=this.height,T=this.scaleMode;this.isCanvas?this.glTexture=v.createCanvasTexture(c,!1,p):this.isVideo?this.glTexture=v.createVideoTexture(c,!1,p):this.isRenderTexture?this.glTexture=v.createTextureFromSource(null,m,x,T):this.isGLTexture?this.glTexture=h:this.compressionAlgorithm?this.glTexture=v.createTextureFromSource(h,void 0,void 0,T):h instanceof Uint8Array?this.glTexture=v.createUint8ArrayTexture(h,m,x,T):this.glTexture=v.createTextureFromSource(c,m,x,T)}else this.isRenderTexture&&(this.image=h.canvas)}d.config.antialias||this.setFilter(1)},setFilter:function(d){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,d),this.scaleMode=d},setFlipY:function(d){return d===void 0&&(d=!0),d===this.flipY?this:(this.flipY=d,this.update(),this)},update:function(){var d=this.renderer,v=this.image,h=this.flipY,c=d.gl;c&&this.isCanvas?d.updateCanvasTexture(v,this.glTexture,h):c&&this.isVideo&&d.updateVideoTexture(v,this.glTexture,h)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&o.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});n.exports=a},19673:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={LINEAR:0,NEAREST:1};n.exports=C},44538:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addtexture"},63486:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addtexture-"},94851:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="onerror"},29099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="onload"},8678:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"},86415:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removetexture"},30879:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removetexture-"},69442:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:s(44538),ADD_KEY:s(63486),ERROR:s(94851),LOAD:s(29099),READY:s(8678),REMOVE:s(86415),REMOVE_KEY:s(30879)}},27458:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(79291),y=s(19673),f={CanvasTexture:s(57382),DynamicTexture:s(81320),Events:s(69442),FilterMode:y,Frame:s(4327),Parsers:s(61309),Texture:s(79237),TextureManager:s(17130),TextureSource:s(11876)};f=o(!1,f,y),n.exports=f},89905:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){if(!y.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var f=s.source[o];s.add("__BASE",o,0,0,f.width,f.height);for(var u=y.getElementsByTagName("SubTexture"),l,a=0;a<u.length;a++){var d=u[a].attributes,v=d.name.value,h=parseInt(d.x.value,10),c=parseInt(d.y.value,10),p=parseInt(d.width.value,10),m=parseInt(d.height.value,10);if(l=s.add(v,o,h,c,p,m),d.frameX){var x=Math.abs(parseInt(d.frameX.value,10)),T=Math.abs(parseInt(d.frameY.value,10)),P=parseInt(d.frameWidth.value,10),M=parseInt(d.frameHeight.value,10);l.setTrim(p,m,x,T,P,M)}}return s};n.exports=C},72893:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){var y=s.source[o];return s.add("__BASE",o,0,0,y.width,y.height),s};n.exports=C},4832:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){var y=s.source[o];return s.add("__BASE",o,0,0,y.width,y.height),s};n.exports=C},78566:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(41786),y=function(f,u,l){if(!l.frames&&!l.textures){console.warn("Invalid Texture Atlas JSON Array");return}var a=f.source[u];f.add("__BASE",u,0,0,a.width,a.height);for(var d=Array.isArray(l.textures)?l.textures[u].frames:l.frames,v,h=0;h<d.length;h++){var c=d[h];if(v=f.add(c.filename,u,c.frame.x,c.frame.y,c.frame.w,c.frame.h),!v){console.warn("Invalid atlas json, frame already exists: "+c.filename);continue}c.trimmed&&v.setTrim(c.sourceSize.w,c.sourceSize.h,c.spriteSourceSize.x,c.spriteSourceSize.y,c.spriteSourceSize.w,c.spriteSourceSize.h),c.rotated&&(v.rotated=!0,v.updateUVsInverted());var p=c.anchor||c.pivot;p&&(v.customPivot=!0,v.pivotX=p.x,v.pivotY=p.y),c.scale9Borders&&v.setScale9(c.scale9Borders.x,c.scale9Borders.y,c.scale9Borders.w,c.scale9Borders.h),v.customData=o(c)}for(var m in l)m!=="frames"&&(Array.isArray(l[m])?f.customData[m]=l[m].slice(0):f.customData[m]=l[m]);return f};n.exports=y},39711:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(41786),y=function(f,u,l){if(!l.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var a=f.source[u];f.add("__BASE",u,0,0,a.width,a.height);var d=l.frames,v;for(var h in d)if(d.hasOwnProperty(h)){var c=d[h];if(v=f.add(h,u,c.frame.x,c.frame.y,c.frame.w,c.frame.h),!v){console.warn("Invalid atlas json, frame already exists: "+h);continue}c.trimmed&&v.setTrim(c.sourceSize.w,c.sourceSize.h,c.spriteSourceSize.x,c.spriteSourceSize.y,c.spriteSourceSize.w,c.spriteSourceSize.h),c.rotated&&(v.rotated=!0,v.updateUVsInverted());var p=c.anchor||c.pivot;p&&(v.customPivot=!0,v.pivotX=p.x,v.pivotY=p.y),c.scale9Borders&&v.setScale9(c.scale9Borders.x,c.scale9Borders.y,c.scale9Borders.w,c.scale9Borders.h),v.customData=o(c)}for(var m in l)m!=="frames"&&(Array.isArray(l[m])?f.customData[m]=l[m].slice(0):f.customData[m]=l[m]);return f};n.exports=y},31403:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){var o=[171,75,84,88,32,49,49,187,13,10,26,10],y,f=new Uint8Array(s,0,12);for(y=0;y<f.length;y++)if(f[y]!==o[y]){console.warn("KTXParser - Invalid file format");return}var u=Uint32Array.BYTES_PER_ELEMENT,l=new DataView(s,12,13*u),a=l.getUint32(0,!0)===67305985,d=l.getUint32(1*u,a);if(d!==0){console.warn("KTXParser - Only compressed formats supported");return}var v=l.getUint32(4*u,a),h=l.getUint32(6*u,a),c=l.getUint32(7*u,a),p=Math.max(1,l.getUint32(11*u,a)),m=l.getUint32(12*u,a),x=new Array(p),T=12+13*4+m,P=h,M=c;for(y=0;y<p;y++){var E=new Int32Array(s,T,1)[0];T+=4,x[y]={data:new Uint8Array(s,T,E),width:P,height:M},P=Math.max(1,P>>1),M=Math.max(1,M>>1),T+=E}return{mipmaps:x,width:h,height:c,internalFormat:v,compressed:!0,generateMipmap:!1}};n.exports=C},82038:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(A,L,b,O,F,D,B){return B===void 0&&(B=16),Math.floor((A+b)/F)*Math.floor((L+O)/D)*B}function s(A,L){return A=Math.max(A,16),L=Math.max(L,8),A*L/4}function o(A,L){return A=Math.max(A,8),L=Math.max(L,8),A*L/2}function y(A,L){return Math.ceil(A/4)*Math.ceil(L/4)*16}function f(A,L){return C(A,L,3,3,4,4,8)}function u(A,L){return C(A,L,3,3,4,4)}function l(A,L){return C(A,L,4,3,5,4)}function a(A,L){return C(A,L,4,4,5,5)}function d(A,L){return C(A,L,5,4,6,5)}function v(A,L){return C(A,L,5,5,6,6)}function h(A,L){return C(A,L,7,4,8,5)}function c(A,L){return C(A,L,7,5,8,6)}function p(A,L){return C(A,L,7,7,8,8)}function m(A,L){return C(A,L,9,4,10,5)}function x(A,L){return C(A,L,9,5,10,6)}function T(A,L){return C(A,L,9,7,10,8)}function P(A,L){return C(A,L,9,9,10,10)}function M(A,L){return C(A,L,11,9,12,10)}function E(A,L){return C(A,L,11,11,12,12)}var w={0:{sizeFunc:s,glFormat:[35841]},1:{sizeFunc:s,glFormat:[35843]},2:{sizeFunc:o,glFormat:[35840]},3:{sizeFunc:o,glFormat:[35842]},6:{sizeFunc:f,glFormat:[36196]},7:{sizeFunc:f,glFormat:[33776,35916]},8:{sizeFunc:u,glFormat:[33777,35917]},9:{sizeFunc:u,glFormat:[33778,35918]},11:{sizeFunc:u,glFormat:[33779,35919]},14:{sizeFunc:y,glFormat:[36494,36495]},15:{sizeFunc:y,glFormat:[36492,36493]},22:{sizeFunc:f,glFormat:[37492,37493]},23:{sizeFunc:u,glFormat:[37496,37497]},24:{sizeFunc:f,glFormat:[37494,37495]},25:{sizeFunc:f,glFormat:[37488]},26:{sizeFunc:u,glFormat:[37490]},27:{sizeFunc:u,glFormat:[37808,37840]},28:{sizeFunc:l,glFormat:[37809,37841]},29:{sizeFunc:a,glFormat:[37810,37842]},30:{sizeFunc:d,glFormat:[37811,37843]},31:{sizeFunc:v,glFormat:[37812,37844]},32:{sizeFunc:h,glFormat:[37813,37845]},33:{sizeFunc:c,glFormat:[37814,37846]},34:{sizeFunc:p,glFormat:[37815,37847]},35:{sizeFunc:m,glFormat:[37816,37848]},36:{sizeFunc:x,glFormat:[37817,37849]},37:{sizeFunc:T,glFormat:[37818,37850]},38:{sizeFunc:P,glFormat:[37819,37851]},39:{sizeFunc:M,glFormat:[37820,37852]},40:{sizeFunc:E,glFormat:[37821,37853]}},R=function(A){for(var L=new Uint32Array(A,0,13),b=L[0],O=b===55727696,F=O?L[2]:L[3],D=L[4],B=w[F].glFormat[D],N=w[F].sizeFunc,z=L[11],W=L[7],X=L[6],k=52+L[12],V=new Uint8Array(A,k),I=new Array(z),U=0,G=W,Y=X,H=0;H<z;H++){var $=N(G,Y);I[H]={data:new Uint8Array(V.buffer,V.byteOffset+U,$),width:G,height:Y},G=Math.max(1,G>>1),Y=Math.max(1,Y>>1),U+=$}return{mipmaps:I,width:W,height:X,internalFormat:B,compressed:!0,generateMipmap:!1}};n.exports=R},75549:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95540),y=function(f,u,l,a,d,v,h){var c=o(h,"frameWidth",null),p=o(h,"frameHeight",c);if(c===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var m=f.source[u];f.add("__BASE",u,0,0,m.width,m.height);var x=o(h,"startFrame",0),T=o(h,"endFrame",-1),P=o(h,"margin",0),M=o(h,"spacing",0),E=Math.floor((d-P+M)/(c+M)),w=Math.floor((v-P+M)/(p+M)),R=E*w;R===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",f.key),(x>R||x<-R)&&(x=0),x<0&&(x=R+x),(T===-1||T>R||T<x)&&(T=R);for(var A=P,L=P,b=0,O=0,F=0,D=0;D<R;D++){b=0,O=0;var B=A+c,N=L+p;B>d&&(b=B-d),N>v&&(O=N-v),D>=x&&D<=T&&(f.add(F,u,l+A,a+L,c-b,p-O),F++),A+=c+M,A+c>d&&(A=P,L+=p+M)}return f};n.exports=y},47534:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95540),y=function(f,u,l){var a=o(l,"frameWidth",null),d=o(l,"frameHeight",a);if(!a)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var v=f.source[0];f.add("__BASE",0,0,0,v.width,v.height),o(l,"startFrame",0),o(l,"endFrame",-1);for(var h=o(l,"margin",0),c=o(l,"spacing",0),p=u.cutX,m=u.cutY,x=u.cutWidth,T=u.cutHeight,P=u.realWidth,M=u.realHeight,E=Math.floor((P-h+c)/(a+c)),w=Math.floor((M-h+c)/(d+c)),R=u.x,A=a-R,L=a-(P-x-R),b=u.y,O=d-b,F=d-(M-T-b),D,B=h,N=h,z=0,W=0,X=0;X<w;X++){for(var k=X===0,V=X===w-1,I=0;I<E;I++){var U=I===0,G=I===E-1;if(D=f.add(z,W,p+B,m+N,a,d),U||k||G||V){var Y=U?R:0,H=k?b:0,$=0,K=0;U&&($+=a-A),G&&($+=a-L),k&&(K+=d-O),V&&(K+=d-F);var Z=a-$,J=d-K;D.cutWidth=Z,D.cutHeight=J,D.setTrim(a,d,Y,H,Z,J)}B+=c,U?B+=A:G?B+=L:B+=a,z++}B=h,N+=c,k?N+=O:V?N+=F:N+=d}return f};n.exports=y},86147:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=0,s=function(y,f,u,l){var a=C-l.y-l.height;y.add(u,f,l.x,a,l.width,l.height)},o=function(y,f,u){var l=y.source[f];y.add("__BASE",f,0,0,l.width,l.height),C=l.height;for(var a=u.split(`
`),d=/^[ ]*(- )*(\w+)+[: ]+(.*)/,v="",h="",c={x:0,y:0,width:0,height:0},p=0;p<a.length;p++){var m=a[p].match(d);if(m){var x=m[1]==="- ",T=m[2],P=m[3];if(x&&(h!==v&&(s(y,f,h,c),v=h),c={x:0,y:0,width:0,height:0}),T==="name"){h=P;continue}switch(T){case"x":case"y":case"width":case"height":c[T]=parseInt(P,10);break}}}return h!==v&&s(y,f,h,c),y};n.exports=o},55222:(n,C,s)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(50030),y=function(v){for(var h=v.mipmaps,c=1;c<h.length;c++){var p=h[c].width,m=h[c].height;if(!o(p,m))return console.warn("Mip level "+c+" is not a power-of-two size: "+p+"x"+m),!1}var x=d[v.internalFormat];return x?x(v):(console.warn("No format checker found for internal format "+v.internalFormat+". Assuming valid."),!0)};function f(v){for(var h=v.mipmaps,c=0;c<h.length;c++){var p=h[c].width,m=h[c].height;if((p<<c)%4!==0||(m<<c)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+c+" is "+p+"x"+m),!1}return!0}function u(){return!0}function l(v){var h=v.mipmaps,c=h[0];return o(c.width,c.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+c.width+"x"+c.height),!1)}function a(v){var h=v.mipmaps,c=h[0];return c.width%4!==0||c.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+c.width+"x"+c.height+" pixels"),!1):!0}var d={37488:u,37489:u,37490:u,37491:u,37492:u,37493:u,37494:u,37495:u,37496:u,37497:u,36196:u,37808:u,37809:u,37810:u,37811:u,37812:u,37813:u,37814:u,37815:u,37816:u,37817:u,37818:u,37819:u,37820:u,37821:u,37840:u,37841:u,37842:u,37843:u,37844:u,37845:u,37846:u,37847:u,37848:u,37849:u,37850:u,37851:u,37852:u,37853:u,36492:f,36493:f,36494:f,36495:f,36283:f,36284:f,36285:f,36286:f,35840:l,35841:l,35842:l,35843:l,33776:f,33777:f,33778:f,33779:f,35916:a,35917:a,35918:a,35919:a};n.exports=y},61309:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AtlasXML:s(89905),Canvas:s(72893),Image:s(4832),JSONArray:s(78566),JSONHash:s(39711),KTXParser:s(31403),PVRParser:s(82038),SpriteSheet:s(75549),SpriteSheetFromAtlas:s(47534),UnityYAML:s(86147)}},80341:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=new o({initialize:function(u,l,a,d,v,h,c){(a===void 0||a<=0)&&(a=32),(d===void 0||d<=0)&&(d=32),v===void 0&&(v=0),h===void 0&&(h=0),this.name=u,this.firstgid=l|0,this.imageWidth=a|0,this.imageHeight=d|0,this.imageMargin=v|0,this.imageSpacing=h|0,this.properties=c||{},this.images=[],this.total=0},containsImageIndex:function(f){return f>=this.firstgid&&f<this.firstgid+this.total},addImage:function(f,u,l,a){return this.images.push({gid:f,image:u,width:l,height:a}),this.total++,this}});n.exports=y},27462:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=new o({initialize:function(u){if(this.gids=[],u!==void 0)for(var l=0;l<u.length;++l)for(var a=u[l],d=0;d<a.total;++d)this.gids[a.firstgid+d]=a;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(f){this.gids=f?this._gids:void 0}},getTypeIncludingTile:function(f){if(f.type!==void 0&&f.type!=="")return f.type;if(!(!this.gids||f.gid===void 0)){var u=this.gids[f.gid];if(u){var l=u.getTileData(f.gid);if(l)return l.type}}},setTextureAndFrame:function(f,u,l,a){if(u===null&&this.gids&&a.gid!==void 0){var d=this.gids[a.gid];d&&(u===null&&d.image!==void 0&&(u=d.image.key),l===null&&(l=a.gid-d.firstgid),f.scene.textures.getFrame(u,l)||(u=null,l=null))}f.setTexture(u,l)},setPropertiesFromTiledObject:function(f,u){if(this.gids!==void 0&&u.gid!==void 0){var l=this.gids[u.gid];l!==void 0&&this.setFromJSON(f,l.getTileProperties(u.gid))}this.setFromJSON(f,u.properties)},setFromJSON:function(f,u){if(u){if(Array.isArray(u)){for(var l=0;l<u.length;l++){var a=u[l];f[a.name]!==void 0?f[a.name]=a.value:f.setData(a.name,a.value)}return}for(var d in u)f[d]!==void 0?f[d]=u[d]:f.setData(d,u[d])}}});n.exports=y},31989:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(80341),y=s(87010),f=s(46177),u=s(49075),l=function(a,d,v,h,c,p,m,x){v===void 0&&(v=32),h===void 0&&(h=32),c===void 0&&(c=10),p===void 0&&(p=10),x===void 0&&(x=!1);var T=null;if(Array.isArray(m)){var P=d!==void 0?d:"map";T=f(P,o.ARRAY_2D,m,v,h,x)}else if(d!==void 0){var M=a.cache.tilemap.get(d);M?T=f(d,M.format,M.data,v,h,x):console.warn("No map data found for key "+d)}return T===null&&(T=new y({tileWidth:v,tileHeight:h,width:c,height:p})),new u(a,T)};n.exports=l},23029:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(31401),f=s(91907),u=s(62644),l=s(93232),a=new o({Mixins:[y.AlphaSingle,y.Flip,y.Visible],initialize:function(v,h,c,p,m,x,T,P){this.layer=v,this.index=h,this.x=c,this.y=p,this.width=m,this.height=x,this.right,this.bottom,this.baseWidth=T!==void 0?T:m,this.baseHeight=P!==void 0?P:x,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(d,v){return!(d<this.pixelX||v<this.pixelY||d>this.right||v>this.bottom)},copy:function(d){return this.index=d.index,this.alpha=d.alpha,this.properties=u(d.properties),this.visible=d.visible,this.setFlip(d.flipX,d.flipY),this.tint=d.tint,this.rotation=d.rotation,this.collideUp=d.collideUp,this.collideDown=d.collideDown,this.collideLeft=d.collideLeft,this.collideRight=d.collideRight,this.collisionCallback=d.collisionCallback,this.collisionCallbackContext=d.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(d){var v=this.tilemapLayer;if(v){var h=v.tileToWorldXY(this.x,this.y,void 0,d);return h.x}return this.x*this.baseWidth},getRight:function(d){var v=this.tilemapLayer;return v?this.getLeft(d)+this.width*v.scaleX:this.getLeft(d)+this.width},getTop:function(d){var v=this.tilemapLayer;if(v){var h=v.tileToWorldXY(this.x,this.y,void 0,d);return h.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(d){var v=this.tilemapLayer;return v?this.getTop(d)+this.height*v.scaleY:this.getTop(d)+this.height},getBounds:function(d,v){return v===void 0&&(v=new l),v.x=this.getLeft(d),v.y=this.getTop(d),v.width=this.getRight(d)-v.x,v.height=this.getBottom(d)-v.y,v},getCenterX:function(d){return(this.getLeft(d)+this.getRight(d))/2},getCenterY:function(d){return(this.getTop(d)+this.getBottom(d))/2},intersects:function(d,v,h,c){return!(h<=this.pixelX||c<=this.pixelY||d>=this.right||v>=this.bottom)},isInteresting:function(d,v){return d&&v?this.canCollide||this.hasInterestingFace:d?this.collides:v?this.hasInterestingFace:!1},resetCollision:function(d){if(d===void 0&&(d=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,d){var v=this.tilemapLayer;v&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(d,v,h,c,p){if(v===void 0&&(v=d),h===void 0&&(h=d),c===void 0&&(c=d),p===void 0&&(p=!0),this.collideLeft=d,this.collideRight=v,this.collideUp=h,this.collideDown=c,this.faceLeft=d,this.faceRight=v,this.faceTop=h,this.faceBottom=c,p){var m=this.tilemapLayer;m&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(d,v){return d===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=d,this.collisionCallbackContext=v),this},setSize:function(d,v,h,c){return d!==void 0&&(this.width=d),v!==void 0&&(this.height=v),h!==void 0&&(this.baseWidth=h),c!==void 0&&(this.baseHeight=c),this.updatePixelXY(),this},updatePixelXY:function(){var d=this.layer.orientation;if(d===f.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(d===f.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(d===f.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(d===f.HEXAGONAL){var v=this.layer.staggerAxis,h=this.layer.staggerIndex,c=this.layer.hexSideLength,p,m;v==="y"?(m=(this.baseHeight-c)/2+c,h==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*m):v==="x"&&(p=(this.baseWidth-c)/2+c,this.pixelX=this.x*p,h==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var d=this.layer.tilemapLayer;if(d){var v=d.gidMap[this.index];if(v)return v}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var d=this.tilemapLayer;return d?d.tilemap:null}}});n.exports=a},49075:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(84101),y=s(83419),f=s(39506),u=s(80341),l=s(95540),a=s(14977),d=s(27462),v=s(91907),h=s(36305),c=s(19133),p=s(68287),m=s(23029),x=s(81086),T=s(20442),P=s(33629),M=new y({initialize:function(w,R){this.scene=w,this.tileWidth=R.tileWidth,this.tileHeight=R.tileHeight,this.width=R.width,this.height=R.height,this.orientation=R.orientation,this.renderOrder=R.renderOrder,this.format=R.format,this.version=R.version,this.properties=R.properties,this.widthInPixels=R.widthInPixels,this.heightInPixels=R.heightInPixels,this.imageCollections=R.imageCollections,this.images=R.images,this.layers=R.layers,this.tiles=R.tiles,this.tilesets=R.tilesets,this.objects=R.objects,this.currentLayerIndex=0,this.hexSideLength=R.hexSideLength;var A=this.orientation;this._convert={WorldToTileXY:x.GetWorldToTileXYFunction(A),WorldToTileX:x.GetWorldToTileXFunction(A),WorldToTileY:x.GetWorldToTileYFunction(A),TileToWorldXY:x.GetTileToWorldXYFunction(A),TileToWorldX:x.GetTileToWorldXFunction(A),TileToWorldY:x.GetTileToWorldYFunction(A),GetTileCorners:x.GetTileCornersFunction(A)}},setRenderOrder:function(E){var w=["right-down","left-down","right-up","left-up"];return typeof E=="number"&&(E=w[E]),w.indexOf(E)>-1&&(this.renderOrder=E),this},addTilesetImage:function(E,w,R,A,L,b,O,F){if(E===void 0)return null;w==null&&(w=E);var D=this.scene.sys.textures;if(!D.exists(w))return console.warn('Texture key "%s" not found',w),null;var B=D.get(w),N=this.getTilesetIndex(E);if(N===null&&this.format===u.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',E,this.tilesets),null;var z=this.tilesets[N];return z?((R||A)&&z.setTileSize(R,A),(L||b)&&z.setSpacing(L,b),z.setImage(B),z):(R===void 0&&(R=this.tileWidth),A===void 0&&(A=this.tileHeight),L===void 0&&(L=0),b===void 0&&(b=0),O===void 0&&(O=0),F===void 0&&(F={x:0,y:0}),z=new P(E,O,R,A,L,b,void 0,void 0,F),z.setImage(B),this.tilesets.push(z),this.tiles=o(this),z)},copy:function(E,w,R,A,L,b,O,F){return F=this.getLayer(F),F!==null?(x.Copy(E,w,R,A,L,b,O,F),this):null},createBlankLayer:function(E,w,R,A,L,b,O,F){R===void 0&&(R=0),A===void 0&&(A=0),L===void 0&&(L=this.width),b===void 0&&(b=this.height),O===void 0&&(O=this.tileWidth),F===void 0&&(F=this.tileHeight);var D=this.getLayerIndex(E);if(D!==null)return console.warn("Invalid Tilemap Layer ID: "+E),null;for(var B=new a({name:E,tileWidth:O,tileHeight:F,width:L,height:b,orientation:this.orientation,hexSideLength:this.hexSideLength}),N,z=0;z<b;z++){N=[];for(var W=0;W<L;W++)N.push(new m(B,-1,W,z,O,F,this.tileWidth,this.tileHeight));B.data.push(N)}this.layers.push(B),this.currentLayerIndex=this.layers.length-1;var X=new T(this.scene,this,this.currentLayerIndex,w,R,A);return X.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(X),X},createLayer:function(E,w,R,A){var L=this.getLayerIndex(E);if(L===null)return console.warn("Invalid Tilemap Layer ID: "+E),typeof E=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var b=this.layers[L];if(b.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+E),null;this.currentLayerIndex=L,R===void 0&&(R=b.x),A===void 0&&(A=b.y);var O=new T(this.scene,this,L,w,R,A);return O.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(O),O},createFromObjects:function(E,w,R){R===void 0&&(R=!0);var A=[],L=this.getObjectLayer(E);if(!L)return console.warn("createFromObjects: Invalid objectLayerName given: "+E),A;var b=new d(R?this.tilesets:void 0);Array.isArray(w)||(w=[w]);for(var O=L.objects,F=0;F<w.length;F++){var D=w[F],B=l(D,"id",null),N=l(D,"gid",null),z=l(D,"name",null),W=l(D,"type",null);b.enabled=!l(D,"ignoreTileset",null);for(var X,k=[],V=0;V<O.length;V++)X=O[V],(B===null&&N===null&&z===null&&W===null||B!==null&&X.id===B||N!==null&&X.gid===N||z!==null&&X.name===z||W!==null&&b.getTypeIncludingTile(X)===W)&&k.push(X);for(var I=l(D,"classType",p),U=l(D,"scene",this.scene),G=l(D,"container",null),Y=l(D,"key",null),H=l(D,"frame",null),$=0;$<k.length;$++){X=k[$];var K=new I(U);if(K.setName(X.name),K.setPosition(X.x,X.y),b.setTextureAndFrame(K,Y,H,X),X.width&&(K.displayWidth=X.width),X.height&&(K.displayHeight=X.height),this.orientation===v.ISOMETRIC){var Z=this.tileWidth/this.tileHeight,J={x:K.x-K.y,y:(K.x+K.y)/Z};K.x=J.x,K.y=J.y}var j={x:K.originX*X.width,y:(K.originY-(X.gid?1:0))*X.height};if(X.rotation){var Q=f(X.rotation);h(j,Q),K.rotation=Q}K.x+=j.x,K.y+=j.y,(X.flippedHorizontal!==void 0||X.flippedVertical!==void 0)&&K.setFlip(X.flippedHorizontal,X.flippedVertical),X.visible||(K.visible=!1),b.setPropertiesFromTiledObject(K,X),G?G.add(K):U.add.existing(K),A.push(K)}}return A},createFromTiles:function(E,w,R,A,L,b){return b=this.getLayer(b),b===null?null:x.CreateFromTiles(E,w,R,A,L,b)},fill:function(E,w,R,A,L,b,O){return b===void 0&&(b=!0),O=this.getLayer(O),O===null?null:(x.Fill(E,w,R,A,L,b,O),this)},filterObjects:function(E,w,R){if(typeof E=="string"){var A=E;if(E=this.getObjectLayer(E),!E)return console.warn("No object layer found with the name: "+A),null}return E.objects.filter(w,R)},filterTiles:function(E,w,R,A,L,b,O,F){return F=this.getLayer(F),F===null?null:x.FilterTiles(E,w,R,A,L,b,O,F)},findByIndex:function(E,w,R,A){return A=this.getLayer(A),A===null?null:x.FindByIndex(E,w,R,A)},findObject:function(E,w,R){if(typeof E=="string"){var A=E;if(E=this.getObjectLayer(E),!E)return console.warn("No object layer found with the name: "+A),null}return E.objects.find(w,R)||null},findTile:function(E,w,R,A,L,b,O,F){return F=this.getLayer(F),F===null?null:x.FindTile(E,w,R,A,L,b,O,F)},forEachTile:function(E,w,R,A,L,b,O,F){return F=this.getLayer(F),F===null?null:(x.ForEachTile(E,w,R,A,L,b,O,F),this)},getImageIndex:function(E){return this.getIndex(this.images,E)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(E){return E.name})},getIndex:function(E,w){for(var R=0;R<E.length;R++)if(E[R].name===w)return R;return null},getLayer:function(E){var w=this.getLayerIndex(E);return w!==null?this.layers[w]:null},getObjectLayer:function(E){var w=this.getIndex(this.objects,E);return w!==null?this.objects[w]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(E){return E.name})},getLayerIndex:function(E){return E===void 0?this.currentLayerIndex:typeof E=="string"?this.getLayerIndexByName(E):typeof E=="number"&&E<this.layers.length?E:E instanceof T&&E.tilemap===this?E.layerIndex:null},getLayerIndexByName:function(E){return this.getIndex(this.layers,E)},getTileAt:function(E,w,R,A){return A=this.getLayer(A),A===null?null:x.GetTileAt(E,w,R,A)},getTileAtWorldXY:function(E,w,R,A,L){return L=this.getLayer(L),L===null?null:x.GetTileAtWorldXY(E,w,R,A,L)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(E){return E.name})},getTilesWithin:function(E,w,R,A,L,b){return b=this.getLayer(b),b===null?null:x.GetTilesWithin(E,w,R,A,L,b)},getTilesWithinShape:function(E,w,R,A){return A=this.getLayer(A),A===null?null:x.GetTilesWithinShape(E,w,R,A)},getTilesWithinWorldXY:function(E,w,R,A,L,b,O){return O=this.getLayer(O),O===null?null:x.GetTilesWithinWorldXY(E,w,R,A,L,b,O)},getTileset:function(E){var w=this.getIndex(this.tilesets,E);return w!==null?this.tilesets[w]:null},getTilesetIndex:function(E){return this.getIndex(this.tilesets,E)},hasTileAt:function(E,w,R){return R=this.getLayer(R),R===null?null:x.HasTileAt(E,w,R)},hasTileAtWorldXY:function(E,w,R,A){return A=this.getLayer(A),A===null?null:x.HasTileAtWorldXY(E,w,R,A)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(E){this.setLayer(E)}},putTileAt:function(E,w,R,A,L){return A===void 0&&(A=!0),L=this.getLayer(L),L===null?null:x.PutTileAt(E,w,R,A,L)},putTileAtWorldXY:function(E,w,R,A,L,b){return A===void 0&&(A=!0),b=this.getLayer(b),b===null?null:x.PutTileAtWorldXY(E,w,R,A,L,b)},putTilesAt:function(E,w,R,A,L){return A===void 0&&(A=!0),L=this.getLayer(L),L===null?null:(x.PutTilesAt(E,w,R,A,L),this)},randomize:function(E,w,R,A,L,b){return b=this.getLayer(b),b===null?null:(x.Randomize(E,w,R,A,L,b),this)},calculateFacesAt:function(E,w,R){return R=this.getLayer(R),R===null?null:(x.CalculateFacesAt(E,w,R),this)},calculateFacesWithin:function(E,w,R,A,L){return L=this.getLayer(L),L===null?null:(x.CalculateFacesWithin(E,w,R,A,L),this)},removeLayer:function(E){var w=this.getLayerIndex(E);if(w!==null){c(this.layers,w);for(var R=w;R<this.layers.length;R++)this.layers[R].tilemapLayer&&this.layers[R].tilemapLayer.layerIndex--;return this.currentLayerIndex===w&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(E){var w=this.getLayerIndex(E);return w!==null?(E=this.layers[w],E.tilemapLayer.destroy(),c(this.layers,w),this.currentLayerIndex===w&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var E=this.layers,w=0;w<E.length;w++)E[w].tilemapLayer&&E[w].tilemapLayer.destroy(!1);return E.length=0,this.currentLayerIndex=0,this},removeTile:function(E,w,R){w===void 0&&(w=-1),R===void 0&&(R=!0);var A=[];Array.isArray(E)||(E=[E]);for(var L=0;L<E.length;L++){var b=E[L];A.push(this.removeTileAt(b.x,b.y,!0,R,b.tilemapLayer)),w>-1&&this.putTileAt(w,b.x,b.y,R,b.tilemapLayer)}return A},removeTileAt:function(E,w,R,A,L){return R===void 0&&(R=!0),A===void 0&&(A=!0),L=this.getLayer(L),L===null?null:x.RemoveTileAt(E,w,R,A,L)},removeTileAtWorldXY:function(E,w,R,A,L,b){return R===void 0&&(R=!0),A===void 0&&(A=!0),b=this.getLayer(b),b===null?null:x.RemoveTileAtWorldXY(E,w,R,A,L,b)},renderDebug:function(E,w,R){return R=this.getLayer(R),R===null?null:(this.orientation===v.ORTHOGONAL&&x.RenderDebug(E,w,R),this)},renderDebugFull:function(E,w){for(var R=this.layers,A=0;A<R.length;A++)x.RenderDebug(E,w,R[A]);return this},replaceByIndex:function(E,w,R,A,L,b,O){return O=this.getLayer(O),O===null?null:(x.ReplaceByIndex(E,w,R,A,L,b,O),this)},setCollision:function(E,w,R,A,L){return w===void 0&&(w=!0),R===void 0&&(R=!0),L===void 0&&(L=!0),A=this.getLayer(A),A===null?null:(x.SetCollision(E,w,R,A,L),this)},setCollisionBetween:function(E,w,R,A,L){return R===void 0&&(R=!0),A===void 0&&(A=!0),L=this.getLayer(L),L===null?null:(x.SetCollisionBetween(E,w,R,A,L),this)},setCollisionByProperty:function(E,w,R,A){return w===void 0&&(w=!0),R===void 0&&(R=!0),A=this.getLayer(A),A===null?null:(x.SetCollisionByProperty(E,w,R,A),this)},setCollisionByExclusion:function(E,w,R,A){return w===void 0&&(w=!0),R===void 0&&(R=!0),A=this.getLayer(A),A===null?null:(x.SetCollisionByExclusion(E,w,R,A),this)},setCollisionFromCollisionGroup:function(E,w,R){return E===void 0&&(E=!0),w===void 0&&(w=!0),R=this.getLayer(R),R===null?null:(x.SetCollisionFromCollisionGroup(E,w,R),this)},setTileIndexCallback:function(E,w,R,A){return A=this.getLayer(A),A===null?null:(x.SetTileIndexCallback(E,w,R,A),this)},setTileLocationCallback:function(E,w,R,A,L,b,O){return O=this.getLayer(O),O===null?null:(x.SetTileLocationCallback(E,w,R,A,L,b,O),this)},setLayer:function(E){var w=this.getLayerIndex(E);return w!==null&&(this.currentLayerIndex=w),this},setBaseTileSize:function(E,w){this.tileWidth=E,this.tileHeight=w,this.widthInPixels=this.width*E,this.heightInPixels=this.height*w;for(var R=0;R<this.layers.length;R++){this.layers[R].baseTileWidth=E,this.layers[R].baseTileHeight=w;for(var A=this.layers[R].data,L=this.layers[R].width,b=this.layers[R].height,O=0;O<b;O++)for(var F=0;F<L;F++){var D=A[O][F];D!==null&&D.setSize(void 0,void 0,E,w)}}return this},setLayerTileSize:function(E,w,R){if(R=this.getLayer(R),R===null)return this;R.tileWidth=E,R.tileHeight=w;for(var A=R.data,L=R.width,b=R.height,O=0;O<b;O++)for(var F=0;F<L;F++){var D=A[O][F];D!==null&&D.setSize(E,w)}return this},shuffle:function(E,w,R,A,L){return L=this.getLayer(L),L===null?null:(x.Shuffle(E,w,R,A,L),this)},swapByIndex:function(E,w,R,A,L,b,O){return O=this.getLayer(O),O===null?null:(x.SwapByIndex(E,w,R,A,L,b,O),this)},tileToWorldX:function(E,w,R){return R=this.getLayer(R),R===null?null:this._convert.TileToWorldX(E,w,R)},tileToWorldY:function(E,w,R){return R=this.getLayer(R),R===null?null:this._convert.TileToWorldY(E,w,R)},tileToWorldXY:function(E,w,R,A,L){return L=this.getLayer(L),L===null?null:this._convert.TileToWorldXY(E,w,R,A,L)},getTileCorners:function(E,w,R,A){return A=this.getLayer(A),A===null?null:this._convert.GetTileCorners(E,w,R,A)},weightedRandomize:function(E,w,R,A,L,b){return b=this.getLayer(b),b===null?null:(x.WeightedRandomize(w,R,A,L,E,b),this)},worldToTileX:function(E,w,R,A){return A=this.getLayer(A),A===null?null:this._convert.WorldToTileX(E,w,R,A)},worldToTileY:function(E,w,R,A){return A=this.getLayer(A),A===null?null:this._convert.WorldToTileY(E,w,R,A)},worldToTileXY:function(E,w,R,A,L,b){return b=this.getLayer(b),b===null?null:this._convert.WorldToTileXY(E,w,R,A,L,b)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});n.exports=M},45939:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(44603),y=s(31989);o.register("tilemap",function(f){var u=f!==void 0?f:{};return y(this.scene,u.key,u.tileWidth,u.tileHeight,u.width,u.height,u.data,u.insertNull)})},46029:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),y=s(31989);o.register("tilemap",function(f,u,l,a,d,v,h){return f===null&&(f=void 0),u===null&&(u=void 0),l===null&&(l=void 0),a===null&&(a=void 0),d===null&&(d=void 0),y(this.scene,f,u,l,a,d,v,h)})},20442:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(78389),f=s(31401),u=s(95643),l=s(81086),a=s(19218),d=s(26099),v=new o({Extends:u,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.Transform,f.Visible,f.ScrollFactor,y,a],initialize:function(c,p,m,x,T,P){u.call(this,c,"TilemapLayer"),this.isTilemap=!0,this.tilemap=p,this.layerIndex=m,this.layer=p.layers[m],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=l.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new d,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(x),this.setAlpha(this.layer.alpha),this.setPosition(T,P),this.setOrigin(0,0),this.setSize(p.tileWidth*this.layer.width,p.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(h){var c=[],p=[],m=this.tilemap;Array.isArray(h)||(h=[h]);for(var x=0;x<h.length;x++){var T=h[x];if(typeof T=="string"&&(T=m.getTileset(T)),T){p.push(T);for(var P=T.firstgid,M=0;M<T.total;M++)c[P+M]=T}}this.gidMap=c,this.tileset=p},setRenderOrder:function(h){var c=["right-down","left-down","right-up","left-up"];return typeof h=="string"&&(h=c.indexOf(h)),h>=0&&h<4&&(this._renderOrder=h),this},calculateFacesAt:function(h,c){return l.CalculateFacesAt(h,c,this.layer),this},calculateFacesWithin:function(h,c,p,m){return l.CalculateFacesWithin(h,c,p,m,this.layer),this},createFromTiles:function(h,c,p,m,x){return l.CreateFromTiles(h,c,p,m,x,this.layer)},cull:function(h){return this.cullCallback(this.layer,h,this.culledTiles,this._renderOrder)},copy:function(h,c,p,m,x,T,P){return l.Copy(h,c,p,m,x,T,P,this.layer),this},fill:function(h,c,p,m,x,T){return l.Fill(h,c,p,m,x,T,this.layer),this},filterTiles:function(h,c,p,m,x,T,P){return l.FilterTiles(h,c,p,m,x,T,P,this.layer)},findByIndex:function(h,c,p){return l.FindByIndex(h,c,p,this.layer)},findTile:function(h,c,p,m,x,T,P){return l.FindTile(h,c,p,m,x,T,P,this.layer)},forEachTile:function(h,c,p,m,x,T,P){return l.ForEachTile(h,c,p,m,x,T,P,this.layer),this},setTint:function(h,c,p,m,x,T){h===void 0&&(h=16777215);var P=function(M){M.tint=h,M.tintFill=!1};return this.forEachTile(P,this,c,p,m,x,T)},setTintFill:function(h,c,p,m,x,T){h===void 0&&(h=16777215);var P=function(M){M.tint=h,M.tintFill=!0};return this.forEachTile(P,this,c,p,m,x,T)},getTileAt:function(h,c,p){return l.GetTileAt(h,c,p,this.layer)},getTileAtWorldXY:function(h,c,p,m){return l.GetTileAtWorldXY(h,c,p,m,this.layer)},getIsoTileAtWorldXY:function(h,c,p,m,x){p===void 0&&(p=!0);var T=this.tempVec;return l.IsometricWorldToTileXY(h,c,!0,T,x,this.layer,p),this.getTileAt(T.x,T.y,m)},getTilesWithin:function(h,c,p,m,x){return l.GetTilesWithin(h,c,p,m,x,this.layer)},getTilesWithinShape:function(h,c,p){return l.GetTilesWithinShape(h,c,p,this.layer)},getTilesWithinWorldXY:function(h,c,p,m,x,T){return l.GetTilesWithinWorldXY(h,c,p,m,x,T,this.layer)},hasTileAt:function(h,c){return l.HasTileAt(h,c,this.layer)},hasTileAtWorldXY:function(h,c,p){return l.HasTileAtWorldXY(h,c,p,this.layer)},putTileAt:function(h,c,p,m){return l.PutTileAt(h,c,p,m,this.layer)},putTileAtWorldXY:function(h,c,p,m,x){return l.PutTileAtWorldXY(h,c,p,m,x,this.layer)},putTilesAt:function(h,c,p,m){return l.PutTilesAt(h,c,p,m,this.layer),this},randomize:function(h,c,p,m,x){return l.Randomize(h,c,p,m,x,this.layer),this},removeTileAt:function(h,c,p,m){return l.RemoveTileAt(h,c,p,m,this.layer)},removeTileAtWorldXY:function(h,c,p,m,x){return l.RemoveTileAtWorldXY(h,c,p,m,x,this.layer)},renderDebug:function(h,c){return l.RenderDebug(h,c,this.layer),this},replaceByIndex:function(h,c,p,m,x,T){return l.ReplaceByIndex(h,c,p,m,x,T,this.layer),this},setSkipCull:function(h){return h===void 0&&(h=!0),this.skipCull=h,this},setCullPadding:function(h,c){return h===void 0&&(h=1),c===void 0&&(c=1),this.cullPaddingX=h,this.cullPaddingY=c,this},setCollision:function(h,c,p,m){return l.SetCollision(h,c,p,this.layer,m),this},setCollisionBetween:function(h,c,p,m){return l.SetCollisionBetween(h,c,p,m,this.layer),this},setCollisionByProperty:function(h,c,p){return l.SetCollisionByProperty(h,c,p,this.layer),this},setCollisionByExclusion:function(h,c,p){return l.SetCollisionByExclusion(h,c,p,this.layer),this},setCollisionFromCollisionGroup:function(h,c){return l.SetCollisionFromCollisionGroup(h,c,this.layer),this},setTileIndexCallback:function(h,c,p){return l.SetTileIndexCallback(h,c,p,this.layer),this},setTileLocationCallback:function(h,c,p,m,x,T){return l.SetTileLocationCallback(h,c,p,m,x,T,this.layer),this},shuffle:function(h,c,p,m){return l.Shuffle(h,c,p,m,this.layer),this},swapByIndex:function(h,c,p,m,x,T){return l.SwapByIndex(h,c,p,m,x,T,this.layer),this},tileToWorldX:function(h,c){return this.tilemap.tileToWorldX(h,c,this)},tileToWorldY:function(h,c){return this.tilemap.tileToWorldY(h,c,this)},tileToWorldXY:function(h,c,p,m){return this.tilemap.tileToWorldXY(h,c,p,m,this)},getTileCorners:function(h,c,p){return this.tilemap.getTileCorners(h,c,p,this)},weightedRandomize:function(h,c,p,m,x){return l.WeightedRandomize(c,p,m,x,h,this.layer),this},worldToTileX:function(h,c,p){return this.tilemap.worldToTileX(h,c,p,this)},worldToTileY:function(h,c,p){return this.tilemap.worldToTileY(h,c,p,this)},worldToTileXY:function(h,c,p,m,x){return this.tilemap.worldToTileXY(h,c,p,m,x,this)},destroy:function(h){h===void 0&&(h=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),h&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],u.prototype.destroy.call(this))}});n.exports=v},16153:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(61340),y=new o,f=new o,u=new o,l=function(a,d,v,h){var c=d.cull(v),p=c.length,m=v.alpha*d.alpha;if(!(p===0||m<=0)){var x=y,T=f,P=u;T.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),x.copyFrom(v.matrix);var M=a.currentContext,E=d.gidMap;M.save(),h?(x.multiplyWithOffset(h,-v.scrollX*d.scrollFactorX,-v.scrollY*d.scrollFactorY),T.e=d.x,T.f=d.y,x.multiply(T,P),P.copyToContext(M)):(T.e-=v.scrollX*d.scrollFactorX,T.f-=v.scrollY*d.scrollFactorY,T.copyToContext(M)),(!a.antialias||d.scaleX>1||d.scaleY>1)&&(M.imageSmoothingEnabled=!1);for(var w=0;w<p;w++){var R=c[w],A=E[R.index];if(A){var L=A.image.getSourceImage(),b=A.getTileTextureCoordinates(R.index),O=A.tileWidth,F=A.tileHeight;if(!(b===null||O===0||F===0)){var D=O*.5,B=F*.5;b.x+=A.tileOffset.x,b.y+=A.tileOffset.y,M.save(),M.translate(R.pixelX+D,R.pixelY+B),R.rotation!==0&&M.rotate(R.rotation),(R.flipX||R.flipY)&&M.scale(R.flipX?-1:1,R.flipY?-1:1),M.globalAlpha=m*R.alpha,M.drawImage(L,b.x,b.y,O,F,-D,-B,O,F),M.restore()}}}M.restore()}};n.exports=l},19218:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),y=o,f=o;y=s(99558),f=s(16153),n.exports={renderWebGL:y,renderCanvas:f}},99558:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70554),y=function(f,u,l){var a=u.cull(l),d=a.length,v=l.alpha*u.alpha;if(!(d===0||v<=0)){var h=u.gidMap,c=f.pipelines.set(u.pipeline,u),p=o.getTintAppendFloatAlpha,m=u.scrollFactorX,x=u.scrollFactorY,T=u.x,P=u.y,M=u.scaleX,E=u.scaleY;f.pipelines.preBatch(u);for(var w=0;w<d;w++){var R=a[w],A=h[R.index];if(A){var L=A.getTileTextureCoordinates(R.index),b=A.tileWidth,O=A.tileHeight;if(!(!L||b===0||O===0)){var F=b*.5,D=O*.5,B=A.glTexture,N=c.setTexture2D(B,u),z=b,W=O,X=L.x,k=L.y,V=A.tileOffset.x,I=A.tileOffset.y,U=p(R.tint,v*R.alpha);c.batchTexture(u,B,B.width,B.height,T+R.pixelX*M+(F*M-V),P+R.pixelY*E+(D*E-I),b,O,M,E,R.rotation,R.flipX,R.flipY,m,x,F,D,X,k,z,W,U,U,U,U,R.tintFill,0,0,l,null,!0,N,!0)}}}f.pipelines.postBatch(u)}};n.exports=y},33629:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(26099),f=new o({initialize:function(l,a,d,v,h,c,p,m,x){(d===void 0||d<=0)&&(d=32),(v===void 0||v<=0)&&(v=32),h===void 0&&(h=0),c===void 0&&(c=0),p===void 0&&(p={}),m===void 0&&(m={}),this.name=l,this.firstgid=a,this.tileWidth=d,this.tileHeight=v,this.tileMargin=h,this.tileSpacing=c,this.tileProperties=p,this.tileData=m,this.tileOffset=new y,x!==void 0&&this.tileOffset.set(x.x,x.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(u){return this.containsTileIndex(u)?this.tileProperties[u-this.firstgid]:null},getTileData:function(u){return this.containsTileIndex(u)?this.tileData[u-this.firstgid]:null},getTileCollisionGroup:function(u){var l=this.getTileData(u);return l&&l.objectgroup?l.objectgroup:null},containsTileIndex:function(u){return u>=this.firstgid&&u<this.firstgid+this.total},getTileTextureCoordinates:function(u){return this.containsTileIndex(u)?this.texCoordinates[u-this.firstgid]:null},setImage:function(u){this.image=u;var l=u.get(),a=u.getFrameBounds();return this.glTexture=l.source.glTexture,l.width>a.width||l.height>a.height?this.updateTileData(l.width,l.height):this.updateTileData(a.width,a.height,a.x,a.y),this},setTileSize:function(u,l){return u!==void 0&&(this.tileWidth=u),l!==void 0&&(this.tileHeight=l),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(u,l){return u!==void 0&&(this.tileMargin=u),l!==void 0&&(this.tileSpacing=l),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(u,l,a,d){a===void 0&&(a=0),d===void 0&&(d=0);var v=(l-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),h=(u-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(v%1!==0||h%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),v=Math.floor(v),h=Math.floor(h),this.rows=v,this.columns=h,this.total=v*h,this.texCoordinates.length=0;for(var c=this.tileMargin+a,p=this.tileMargin+d,m=0;m<this.rows;m++){for(var x=0;x<this.columns;x++)this.texCoordinates.push({x:c,y:p}),c+=this.tileWidth+this.tileSpacing;c=this.tileMargin+a,p+=this.tileHeight+this.tileSpacing}return this}});n.exports=f},72023:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7423),y=function(f,u,l){var a=o(f,u,!0,l),d=o(f,u-1,!0,l),v=o(f,u+1,!0,l),h=o(f-1,u,!0,l),c=o(f+1,u,!0,l),p=a&&a.collides;return p&&(a.faceTop=!0,a.faceBottom=!0,a.faceLeft=!0,a.faceRight=!0),d&&d.collides&&(p&&(a.faceTop=!1),d.faceBottom=!p),v&&v.collides&&(p&&(a.faceBottom=!1),v.faceTop=!p),h&&h.collides&&(p&&(a.faceLeft=!1),h.faceRight=!p),c&&c.collides&&(p&&(a.faceRight=!1),c.faceLeft=!p),a&&!a.collides&&a.resetFaces(),a};n.exports=y},42573:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7423),y=s(7386),f=function(u,l,a,d,v){for(var h=null,c=null,p=null,m=null,x=y(u,l,a,d,null,v),T=0;T<x.length;T++){var P=x[T];P&&(P.collides?(h=o(P.x,P.y-1,!0,v),c=o(P.x,P.y+1,!0,v),p=o(P.x-1,P.y,!0,v),m=o(P.x+1,P.y,!0,v),P.faceTop=!(h&&h.collides),P.faceBottom=!(c&&c.collides),P.faceLeft=!(p&&p.collides),P.faceRight=!(m&&m.collides)):P.resetFaces())}};n.exports=f},33528:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),y=new o,f=function(u,l,a,d){var v=a.tilemapLayer,h=v.cullPaddingX,c=v.cullPaddingY,p=v.tilemap.tileToWorldXY(u,l,y,d,v);return p.x>d.worldView.x+v.scaleX*a.tileWidth*(-h-.5)&&p.x<d.worldView.right+v.scaleX*a.tileWidth*(h-.5)&&p.y>d.worldView.y+v.scaleY*a.tileHeight*(-c-1)&&p.y<d.worldView.bottom+v.scaleY*a.tileHeight*(c-.5)};n.exports=f},1785:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(42573),y=s(7386),f=s(62991),u=s(23029),l=function(a,d,v,h,c,p,m,x){m===void 0&&(m=!0);var T=y(a,d,v,h,null,x),P=[];T.forEach(function(b){var O=new u(b.layer,b.index,b.x,b.y,b.width,b.height,b.baseWidth,b.baseHeight);O.copy(b),P.push(O)});for(var M=c-a,E=p-d,w=0;w<P.length;w++){var R=P[w],A=R.x+M,L=R.y+E;f(A,L,x)&&x.data[L][A]&&(R.x=A,R.y=L,R.updatePixelXY(),x.data[L][A]=R)}m&&o(c-1,p-1,v+2,h+2,x),T.length=0,P.length=0};n.exports=l},78419:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62644),y=s(7386),f=s(27987),u=function(l,a,d,v,h,c){d||(d={}),Array.isArray(l)||(l=[l]);var p=c.tilemapLayer;v||(v=p.scene),h||(h=v.cameras.main);var m=c.width,x=c.height,T=y(0,0,m,x,null,c),P=[],M,E=function(L,b,O){for(var F=0;F<O.length;F++){var D=O[F];L.hasOwnProperty(D)||(L[D]=b[D])}};for(M=0;M<T.length;M++){var w=T[M],R=o(d);if(l.indexOf(w.index)!==-1){var A=p.tileToWorldXY(w.x,w.y,void 0,h,c);R.x=A.x,R.y=A.y,E(R,w,["rotation","flipX","flipY","alpha","visible","tint"]),R.hasOwnProperty("origin")||(R.x+=w.width*.5,R.y+=w.height*.5),R.hasOwnProperty("useSpriteSheet")&&(R.key=w.tileset.image,R.frame=w.index-w.tileset.firstgid),P.push(v.make.sprite(R))}}if(Array.isArray(a))for(M=0;M<l.length;M++)f(l[M],a[M],0,0,m,x,c);else if(a!==null)for(M=0;M<l.length;M++)f(l[M],a,0,0,m,x,c);return P};n.exports=u},19545:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),y=s(63448),f=s(56583),u=new o,l=function(a,d){var v=a.tilemapLayer.tilemap,h=a.tilemapLayer,c=Math.floor(v.tileWidth*h.scaleX),p=Math.floor(v.tileHeight*h.scaleY),m=f(d.worldView.x-h.x,c,0,!0)-h.cullPaddingX,x=y(d.worldView.right-h.x,c,0,!0)+h.cullPaddingX,T=f(d.worldView.y-h.y,p,0,!0)-h.cullPaddingY,P=y(d.worldView.bottom-h.y,p,0,!0)+h.cullPaddingY;return u.setTo(m,T,x-m,P-T)};n.exports=l},30003:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(19545),y=s(32483),f=function(u,l,a,d){a===void 0&&(a=[]),d===void 0&&(d=0),a.length=0;var v=u.tilemapLayer,h=o(u,l);return(v.skipCull||v.scrollFactorX!==1||v.scrollFactorY!==1)&&(h.left=0,h.right=u.width,h.top=0,h.bottom=u.height),y(u,h,d,a),a};n.exports=f},35137:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),y=s(42573),f=s(20576),u=function(l,a,d,v,h,c,p){for(var m=p.collideIndexes.indexOf(l)!==-1,x=o(a,d,v,h,null,p),T=0;T<x.length;T++)x[T].index=l,f(x[T],m);c&&y(a-1,d-1,v+2,h+2,p)};n.exports=u},40253:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),y=function(f,u,l,a,d,v,h,c){var p=o(l,a,d,v,h,c);return p.filter(f,u)};n.exports=y},52692:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){o===void 0&&(o=0),y===void 0&&(y=!1);var u=0,l,a,d;if(y){for(a=f.height-1;a>=0;a--)for(l=f.width-1;l>=0;l--)if(d=f.data[a][l],d&&d.index===s){if(u===o)return d;u+=1}}else for(a=0;a<f.height;a++)for(l=0;l<f.width;l++)if(d=f.data[a][l],d&&d.index===s){if(u===o)return d;u+=1}return null};n.exports=C},66151:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),y=function(f,u,l,a,d,v,h,c){var p=o(l,a,d,v,h,c);return p.find(f,u)||null};n.exports=y},97560:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),y=function(f,u,l,a,d,v,h,c){var p=o(l,a,d,v,h,c);p.forEach(f,u)};n.exports=y},43305:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91907),y=s(30003),f=s(9474),u=s(14018),l=s(29747),a=s(54503),d=function(v){return v===o.ORTHOGONAL?y:v===o.HEXAGONAL?f:v===o.STAGGERED?a:v===o.ISOMETRIC?u:l};n.exports=d},7423:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62991),y=function(f,u,l,a){if(o(f,u,a)){var d=a.data[u][f]||null;return d?d.index===-1?l?d:null:d:null}else return null};n.exports=y},60540:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7423),y=s(26099),f=new y,u=function(l,a,d,v,h){return h.tilemapLayer.worldToTileXY(l,a,!0,f,v),o(f.x,f.y,d,h)};n.exports=u},55826:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),y=function(f,u,l,a){var d=a.baseTileWidth,v=a.baseTileHeight,h=a.tilemapLayer,c=0,p=0;h&&(l||(l=h.scene.cameras.main),c=h.x+l.scrollX*(1-h.scrollFactorX),p=h.y+l.scrollY*(1-h.scrollFactorY),d*=h.scaleX,v*=h.scaleY);var m=c+f*d,x=p+u*v;return[new o(m,x),new o(m+d,x),new o(m+d,x+v),new o(m,x+v)]};n.exports=y},11758:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91907),y=s(27229),f=s(29747),u=s(55826),l=function(a){return a===o.ORTHOGONAL?u:a===o.ISOMETRIC?f:a===o.HEXAGONAL?y:(a===o.STAGGERED,f)};n.exports=l},39167:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91907),y=s(29747),f=s(97281),u=function(l){return l===o.ORTHOGONAL?f:y};n.exports=u},62e3:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91907),y=s(19951),f=s(14127),u=s(29747),l=s(97202),a=s(70326),d=function(v){return v===o.ORTHOGONAL?a:v===o.ISOMETRIC?f:v===o.HEXAGONAL?y:v===o.STAGGERED?l:u};n.exports=d},5984:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91907),y=s(29747),f=s(28054),u=s(29650),l=function(a){return a===o.ORTHOGONAL?u:a===o.STAGGERED?f:y};n.exports=l},7386:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95540),y=function(f,u,l,a,d,v){f===void 0&&(f=0),u===void 0&&(u=0),l===void 0&&(l=v.width),a===void 0&&(a=v.height),d||(d={});var h=o(d,"isNotEmpty",!1),c=o(d,"isColliding",!1),p=o(d,"hasInterestingFace",!1);f<0&&(l+=f,f=0),u<0&&(a+=u,u=0),f+l>v.width&&(l=Math.max(v.width-f,0)),u+a>v.height&&(a=Math.max(v.height-u,0));for(var m=[],x=u;x<u+a;x++)for(var T=f;T<f+l;T++){var P=v.data[x][T];if(P!==null){if(h&&P.index===-1||c&&!P.collides||p&&!P.hasInterestingFace)continue;m.push(P)}}return m};n.exports=y},91141:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(55738),y=s(7386),f=s(91865),u=s(29747),l=s(26099),a=s(91907),d=function(m,x){return f.RectangleToTriangle(x,m)},v=new l,h=new l,c=new l,p=function(m,x,T,P){if(P.orientation!==a.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(m===void 0)return[];var M=u;m instanceof o.Circle?M=f.CircleToRectangle:m instanceof o.Rectangle?M=f.RectangleToRectangle:m instanceof o.Triangle?M=d:m instanceof o.Line&&(M=f.LineToRectangle),P.tilemapLayer.worldToTileXY(m.left,m.top,!0,h,T);var E=h.x,w=h.y;P.tilemapLayer.worldToTileXY(m.right,m.bottom,!1,c,T);var R=Math.ceil(c.x),A=Math.ceil(c.y),L=Math.max(R-E,1),b=Math.max(A-w,1),O=y(E,w,L,b,x,P),F=P.tileWidth,D=P.tileHeight;P.tilemapLayer&&(F*=P.tilemapLayer.scaleX,D*=P.tilemapLayer.scaleY);for(var B=[],N=new o.Rectangle(0,0,F,D),z=0;z<O.length;z++){var W=O[z];P.tilemapLayer.tileToWorldXY(W.x,W.y,v,T),N.x=v.x,N.y=v.y,M(m,N)&&B.push(W)}return B};n.exports=p},96523:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),y=s(26099),f=new y,u=new y,l=function(a,d,v,h,c,p,m){var x=m.tilemapLayer.tilemap._convert.WorldToTileXY;x(a,d,!0,f,p,m);var T=f.x,P=f.y;x(a+v,d+h,!1,u,p,m);var M=Math.ceil(u.x),E=Math.ceil(u.y);return o(T,P,M-T,E-P,c,m)};n.exports=l},96113:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91907),y=s(20242),f=s(10095),u=function(l){return l===o.ORTHOGONAL?f:y};n.exports=u},16926:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91907),y=s(86625),f=s(96897),u=s(29747),l=s(15108),a=s(85896),d=function(v){return v===o.ORTHOGONAL?a:v===o.ISOMETRIC?f:v===o.HEXAGONAL?y:v===o.STAGGERED?l:u};n.exports=d},55762:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91907),y=s(20242),f=s(51900),u=s(63288),l=function(a){return a===o.ORTHOGONAL?u:a===o.STAGGERED?f:y};n.exports=l},45091:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62991),y=function(f,u,l){if(o(f,u,l)){var a=l.data[u][f];return a!==null&&a.index>-1}else return!1};n.exports=y},24152:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45091),y=s(26099),f=new y,u=function(l,a,d,v){v.tilemapLayer.worldToTileXY(l,a,!0,f,d);var h=f.x,c=f.y;return o(h,c,v)};n.exports=u},90454:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(63448),y=s(56583),f=function(u,l){var a=u.tilemapLayer.tilemap,d=u.tilemapLayer,v=Math.floor(a.tileWidth*d.scaleX),h=Math.floor(a.tileHeight*d.scaleY),c=u.hexSideLength,p,m,x,T;if(u.staggerAxis==="y"){var P=(h-c)/2+c;p=y(l.worldView.x-d.x,v,0,!0)-d.cullPaddingX,m=o(l.worldView.right-d.x,v,0,!0)+d.cullPaddingX,x=y(l.worldView.y-d.y,P,0,!0)-d.cullPaddingY,T=o(l.worldView.bottom-d.y,P,0,!0)+d.cullPaddingY}else{var M=(v-c)/2+c;p=y(l.worldView.x-d.x,M,0,!0)-d.cullPaddingX,m=o(l.worldView.right-d.x,M,0,!0)+d.cullPaddingX,x=y(l.worldView.y-d.y,h,0,!0)-d.cullPaddingY,T=o(l.worldView.bottom-d.y,h,0,!0)+d.cullPaddingY}return{left:p,right:m,top:x,bottom:T}};n.exports=f},9474:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(90454),y=s(32483),f=function(u,l,a,d){a===void 0&&(a=[]),d===void 0&&(d=0),a.length=0;var v=u.tilemapLayer,h=o(u,l);return v.skipCull&&v.scrollFactorX===1&&v.scrollFactorY===1&&(h.left=0,h.right=u.width,h.top=0,h.bottom=u.height),y(u,h,d,a),a};n.exports=f},27229:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(19951),y=s(26099),f=new y,u=function(l,a,d,v){var h=v.baseTileWidth,c=v.baseTileHeight,p=v.tilemapLayer;p&&(h*=p.scaleX,c*=p.scaleY);var m=o(l,a,f,d,v),x=[],T=.5773502691896257,P,M;v.staggerAxis==="y"?(P=T*h,M=c/2):(P=h/2,M=T*c);for(var E=0;E<6;E++){var w=2*Math.PI*(.5-E)/6;x.push(new y(m.x+P*Math.cos(w),m.y+M*Math.sin(w)))}return x};n.exports=u},19951:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),y=function(f,u,l,a,d){l||(l=new o);var v=d.baseTileWidth,h=d.baseTileHeight,c=d.tilemapLayer,p=0,m=0;c&&(a||(a=c.scene.cameras.main),p=c.x+a.scrollX*(1-c.scrollFactorX),m=c.y+a.scrollY*(1-c.scrollFactorY),v*=c.scaleX,h*=c.scaleY);var x=v/2,T=h/2,P,M,E=d.staggerAxis,w=d.staggerIndex;return E==="y"?(P=p+v*f+v,M=m+1.5*u*T+T,u%2===0&&(w==="odd"?P-=x:P+=x)):E==="x"&&w==="odd"&&(P=p+1.5*f*x+x,M=m+h*f+h,f%2===0&&(w==="odd"?M-=T:M+=T)),l.set(P,M)};n.exports=y},86625:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),y=function(f,u,l,a,d,v){a||(a=new o);var h=v.baseTileWidth,c=v.baseTileHeight,p=v.tilemapLayer;p&&(d||(d=p.scene.cameras.main),f=f-(p.x+d.scrollX*(1-p.scrollFactorX)),u=u-(p.y+d.scrollY*(1-p.scrollFactorY)),h*=p.scaleX,c*=p.scaleY);var m=.5773502691896257,x=-.3333333333333333,T=0,P=.6666666666666666,M=h/2,E=c/2,w,R,A,L,b;v.staggerAxis==="y"?(w=(f-M)/(m*h),R=(u-E)/E,A=m*w+x*R,L=T*w+P*R):(w=(f-M)/M,R=(u-E)/(m*c),A=x*w+m*R,L=P*w+T*R),b=-A-L;var O=Math.round(A),F=Math.round(L),D=Math.round(b),B=Math.abs(O-A),N=Math.abs(F-L),z=Math.abs(D-b);B>N&&B>z?O=-F-D:N>z&&(F=-O-D);var W,X=F;return v.staggerIndex==="odd"?W=X%2===0?F/2+O:F/2+O-.5:W=X%2===0?F/2+O:F/2+O+.5,a.set(W,X)};n.exports=y},62991:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){return s>=0&&s<y.width&&o>=0&&o<y.height};n.exports=C},14018:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(33528),y=function(f,u,l,a){l===void 0&&(l=[]),a===void 0&&(a=0),l.length=0;var d=f.tilemapLayer,v=f.data,h=f.width,c=f.height,p=d.skipCull,m=0,x=h,T=0,P=c,M,E,w;if(a===0)for(E=T;E<P;E++)for(M=m;M<x;M++)w=v[E][M],!(!w||w.index===-1||!w.visible||w.alpha===0)&&(!p&&!o(M,E,f,u)||l.push(w));else if(a===1)for(E=T;E<P;E++)for(M=x;M>=m;M--)w=v[E][M],!(!w||w.index===-1||!w.visible||w.alpha===0)&&(!p&&!o(M,E,f,u)||l.push(w));else if(a===2)for(E=P;E>=T;E--)for(M=m;M<x;M++)w=v[E][M],!(!w||w.index===-1||!w.visible||w.alpha===0)&&(!p&&!o(M,E,f,u)||l.push(w));else if(a===3)for(E=P;E>=T;E--)for(M=x;M>=m;M--)w=v[E][M],!(!w||w.index===-1||!w.visible||w.alpha===0)&&(!p&&!o(M,E,f,u)||l.push(w));return d.tilesDrawn=l.length,d.tilesTotal=h*c,l};n.exports=y},14127:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),y=function(f,u,l,a,d){l||(l=new o);var v=d.baseTileWidth,h=d.baseTileHeight,c=d.tilemapLayer,p=0,m=0;c&&(a||(a=c.scene.cameras.main),p=c.x+a.scrollX*(1-c.scrollFactorX),v*=c.scaleX,m=c.y+a.scrollY*(1-c.scrollFactorY),h*=c.scaleY);var x=p+(f-u)*(v/2),T=m+(f+u)*(h/2);return l.set(x,T)};n.exports=y},96897:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),y=function(f,u,l,a,d,v,h){a||(a=new o);var c=v.baseTileWidth,p=v.baseTileHeight,m=v.tilemapLayer;m&&(d||(d=m.scene.cameras.main),u=u-(m.y+d.scrollY*(1-m.scrollFactorY)),p*=m.scaleY,f=f-(m.x+d.scrollX*(1-m.scrollFactorX)),c*=m.scaleX);var x=c/2,T=p/2;f=f-x,h||(u=u-p);var P=.5*(f/x+u/T),M=.5*(-f/x+u/T);return l&&(P=Math.floor(P),M=Math.floor(M)),a.set(P,M)};n.exports=y},71558:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(23029),y=s(62991),f=s(72023),u=s(20576),l=function(a,d,v,h,c){if(h===void 0&&(h=!0),!y(d,v,c))return null;var p,m=c.data[v][d],x=m&&m.collides;a instanceof o?(c.data[v][d]===null&&(c.data[v][d]=new o(c,a.index,d,v,c.tileWidth,c.tileHeight)),c.data[v][d].copy(a)):(p=a,c.data[v][d]===null?c.data[v][d]=new o(c,p,d,v,c.tileWidth,c.tileHeight):c.data[v][d].index=p);var T=c.data[v][d],P=c.collideIndexes.indexOf(T.index)!==-1;if(p=a instanceof o?a.index:a,p===-1)T.width=c.tileWidth,T.height=c.tileHeight;else{var M=c.tilemapLayer.tilemap,E=M.tiles,w=E[p][2],R=M.tilesets[w];T.width=R.tileWidth,T.height=R.tileHeight}return u(T,P),h&&x!==T.collides&&f(d,v,c),T};n.exports=l},26303:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(71558),y=s(26099),f=new y,u=function(l,a,d,v,h,c){return c.tilemapLayer.worldToTileXY(a,d,!0,f,h,c),o(l,f.x,f.y,v,c)};n.exports=u},14051:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(42573),y=s(71558),f=function(u,l,a,d,v){if(d===void 0&&(d=!0),!Array.isArray(u))return null;Array.isArray(u[0])||(u=[u]);for(var h=u.length,c=u[0].length,p=0;p<h;p++)for(var m=0;m<c;m++){var x=u[p][m];y(x,l+m,a+p,!1,v)}d&&o(l-1,a-1,c+2,h+2,v)};n.exports=f},77389:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),y=s(26546),f=function(u,l,a,d,v,h){var c,p=o(u,l,a,d,{},h);if(!v)for(v=[],c=0;c<p.length;c++)v.indexOf(p[c].index)===-1&&v.push(p[c].index);for(c=0;c<p.length;c++)p[c].index=y(v)};n.exports=f},63557:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(23029),y=s(62991),f=s(72023),u=function(l,a,d,v,h){if(d===void 0&&(d=!0),v===void 0&&(v=!0),!y(l,a,h))return null;var c=h.data[a][l];if(c)h.data[a][l]=d?null:new o(h,-1,l,a,h.tileWidth,h.tileHeight);else return null;return v&&c&&c.collides&&f(l,a,h),c};n.exports=u},94178:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(63557),y=s(26099),f=new y,u=function(l,a,d,v,h,c){return c.tilemapLayer.worldToTileXY(l,a,!0,f,h,c),o(f.x,f.y,d,v,c)};n.exports=u},15533:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),y=s(3956),f=new y(105,210,231,150),u=new y(243,134,48,200),l=new y(40,39,37,150),a=function(d,v,h){v===void 0&&(v={});var c=v.tileColor!==void 0?v.tileColor:f,p=v.collidingTileColor!==void 0?v.collidingTileColor:u,m=v.faceColor!==void 0?v.faceColor:l,x=o(0,0,h.width,h.height,null,h);d.translateCanvas(h.tilemapLayer.x,h.tilemapLayer.y),d.scaleCanvas(h.tilemapLayer.scaleX,h.tilemapLayer.scaleY);for(var T=0;T<x.length;T++){var P=x[T],M=P.tileset?P.tileset.tileOffset:{x:0,y:0},E=P.width,w=P.height,R=P.pixelX-M.x,A=P.pixelY-M.y,L=P.collides?p:c;L!==null&&(d.fillStyle(L.color,L.alpha/255),d.fillRect(R,A,E,w)),R+=1,A+=1,E-=2,w-=2,m!==null&&(d.lineStyle(1,m.color,m.alpha/255),P.faceTop&&d.lineBetween(R,A,R+E,A),P.faceRight&&d.lineBetween(R+E,A,R+E,A+w),P.faceBottom&&d.lineBetween(R,A+w,R+E,A+w),P.faceLeft&&d.lineBetween(R,A,R,A+w))}};n.exports=a},27987:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),y=function(f,u,l,a,d,v,h){for(var c=o(l,a,d,v,null,h),p=0;p<c.length;p++)c[p]&&c[p].index===f&&(c[p].index=u)};n.exports=y},32483:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){var u=s.data,l=s.width,a=s.height,d=s.tilemapLayer,v=Math.max(0,o.left),h=Math.min(l,o.right),c=Math.max(0,o.top),p=Math.min(a,o.bottom),m,x,T;if(y===0)for(x=c;x<p;x++)for(m=v;u[x]&&m<h;m++)T=u[x][m],!(!T||T.index===-1||!T.visible||T.alpha===0)&&f.push(T);else if(y===1)for(x=c;x<p;x++)for(m=h;u[x]&&m>=v;m--)T=u[x][m],!(!T||T.index===-1||!T.visible||T.alpha===0)&&f.push(T);else if(y===2)for(x=p;x>=c;x--)for(m=v;u[x]&&m<h;m++)T=u[x][m],!(!T||T.index===-1||!T.visible||T.alpha===0)&&f.push(T);else if(y===3)for(x=p;x>=c;x--)for(m=h;u[x]&&m>=v;m--)T=u[x][m],!(!T||T.index===-1||!T.visible||T.alpha===0)&&f.push(T);return d.tilesDrawn=f.length,d.tilesTotal=l*a,f};n.exports=C},57068:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20576),y=s(42573),f=s(9589),u=function(l,a,d,v,h){a===void 0&&(a=!0),d===void 0&&(d=!0),h===void 0&&(h=!0),Array.isArray(l)||(l=[l]);for(var c=0;c<l.length;c++)f(l[c],a,v);if(h)for(var p=0;p<v.height;p++)for(var m=0;m<v.width;m++){var x=v.data[p][m];x&&l.indexOf(x.index)!==-1&&o(x,a)}d&&y(0,0,v.width,v.height,v)};n.exports=u},37266:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20576),y=s(42573),f=s(9589),u=function(l,a,d,v,h,c){if(d===void 0&&(d=!0),v===void 0&&(v=!0),c===void 0&&(c=!0),!(l>a)){for(var p=l;p<=a;p++)f(p,d,h);if(c)for(var m=0;m<h.height;m++)for(var x=0;x<h.width;x++){var T=h.data[m][x];T&&T.index>=l&&T.index<=a&&o(T,d)}v&&y(0,0,h.width,h.height,h)}};n.exports=u},75661:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20576),y=s(42573),f=s(9589),u=function(l,a,d,v){a===void 0&&(a=!0),d===void 0&&(d=!0),Array.isArray(l)||(l=[l]);for(var h=0;h<v.height;h++)for(var c=0;c<v.width;c++){var p=v.data[h][c];p&&l.indexOf(p.index)===-1&&(o(p,a),f(p.index,a,v))}d&&y(0,0,v.width,v.height,v)};n.exports=u},64740:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20576),y=s(42573),f=s(97022),u=function(l,a,d,v){a===void 0&&(a=!0),d===void 0&&(d=!0);for(var h=0;h<v.height;h++)for(var c=0;c<v.width;c++){var p=v.data[h][c];if(p){for(var m in l)if(f(p.properties,m)){var x=l[m];Array.isArray(x)||(x=[x]);for(var T=0;T<x.length;T++)p.properties[m]===x[T]&&o(p,a)}}}d&&y(0,0,v.width,v.height,v)};n.exports=u},63307:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20576),y=s(42573),f=function(u,l,a){u===void 0&&(u=!0),l===void 0&&(l=!0);for(var d=0;d<a.height;d++)for(var v=0;v<a.width;v++){var h=a.data[d][v];if(h){var c=h.getCollisionGroup();c&&c.objects&&c.objects.length>0&&o(h,u)}}l&&y(0,0,a.width,a.height,a)};n.exports=f},9589:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){var f=y.collideIndexes.indexOf(s);o&&f===-1?y.collideIndexes.push(s):!o&&f!==-1&&y.collideIndexes.splice(f,1)};n.exports=C},20576:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){o?s.setCollision(!0,!0,!0,!0,!1):s.resetCollision(!1)};n.exports=C},79583:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){if(typeof s=="number")f.callbacks[s]=o!==null?{callback:o,callbackContext:y}:void 0;else for(var u=0,l=s.length;u<l;u++)f.callbacks[s[u]]=o!==null?{callback:o,callbackContext:y}:void 0};n.exports=C},93254:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),y=function(f,u,l,a,d,v,h){for(var c=o(f,u,l,a,null,h),p=0;p<c.length;p++)c[p].setCollisionCallback(d,v)};n.exports=y},32903:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),y=s(33680),f=function(u,l,a,d,v){var h=o(u,l,a,d,null,v),c=h.map(function(m){return m.index});y(c);for(var p=0;p<h.length;p++)h[p].index=c[p]};n.exports=f},61325:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(63448),y=s(56583),f=function(u,l){var a=u.tilemapLayer.tilemap,d=u.tilemapLayer,v=Math.floor(a.tileWidth*d.scaleX),h=Math.floor(a.tileHeight*d.scaleY),c=y(l.worldView.x-d.x,v,0,!0)-d.cullPaddingX,p=o(l.worldView.right-d.x,v,0,!0)+d.cullPaddingX,m=y(l.worldView.y-d.y,h/2,0,!0)-d.cullPaddingY,x=o(l.worldView.bottom-d.y,h/2,0,!0)+d.cullPaddingY;return{left:c,right:p,top:m,bottom:x}};n.exports=f},54503:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(61325),y=s(32483),f=function(u,l,a,d){a===void 0&&(a=[]),d===void 0&&(d=0),a.length=0;var v=u.tilemapLayer,h=o(u,l);return v.skipCull&&v.scrollFactorX===1&&v.scrollFactorY===1&&(h.left=0,h.right=u.width,h.top=0,h.bottom=u.height),y(u,h,d,a),a};n.exports=f},97202:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),y=function(f,u,l,a,d){l||(l=new o);var v=d.baseTileWidth,h=d.baseTileHeight,c=d.tilemapLayer,p=0,m=0;c&&(a||(a=c.scene.cameras.main),p=c.x+a.scrollX*(1-c.scrollFactorX),v*=c.scaleX,m=c.y+a.scrollY*(1-c.scrollFactorY),h*=c.scaleY);var x=p+f*v+u%2*(v/2),T=m+u*(h/2);return l.set(x,T)};n.exports=y},28054:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){var f=y.baseTileHeight,u=y.tilemapLayer,l=0;return u&&(o===void 0&&(o=u.scene.cameras.main),l=u.y+o.scrollY*(1-u.scrollFactorY),f*=u.scaleY),l+s*(f/2)+f};n.exports=C},15108:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),y=function(f,u,l,a,d,v){a||(a=new o);var h=v.baseTileWidth,c=v.baseTileHeight,p=v.tilemapLayer;p&&(d||(d=p.scene.cameras.main),u=u-(p.y+d.scrollY*(1-p.scrollFactorY)),c*=p.scaleY,f=f-(p.x+d.scrollX*(1-p.scrollFactorX)),h*=p.scaleX);var m=l?Math.floor(u/(c/2)):u/(c/2),x=l?Math.floor((f+m%2*.5*h)/h):(f+m%2*.5*h)/h;return a.set(x,m)};n.exports=y},51900:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){var u=f.baseTileHeight,l=f.tilemapLayer;return l&&(y||(y=l.scene.cameras.main),s=s-(l.y+y.scrollY*(1-l.scrollFactorY)),u*=l.scaleY),o?Math.floor(s/(u/2)):s/(u/2)};n.exports=C},86560:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),y=function(f,u,l,a,d,v,h){for(var c=o(l,a,d,v,null,h),p=0;p<c.length;p++)c[p]&&(c[p].index===f?c[p].index=u:c[p].index===u&&(c[p].index=f))};n.exports=y},97281:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){var f=y.baseTileWidth,u=y.tilemapLayer,l=0;return u&&(o||(o=u.scene.cameras.main),l=u.x+o.scrollX*(1-u.scrollFactorX),f*=u.scaleX),l+s*f};n.exports=C},70326:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(97281),y=s(29650),f=s(26099),u=function(l,a,d,v,h){return d||(d=new f(0,0)),d.x=o(l,v,h),d.y=y(a,v,h),d};n.exports=u},29650:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){var f=y.baseTileHeight,u=y.tilemapLayer,l=0;return u&&(o||(o=u.scene.cameras.main),l=u.y+o.scrollY*(1-u.scrollFactorY),f*=u.scaleY),l+s*f};n.exports=C},77366:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),y=s(75508),f=function(u,l,a,d,v,h){if(v){var c,p=o(u,l,a,d,null,h),m=0;for(c=0;c<v.length;c++)m+=v[c].weight;if(!(m<=0))for(c=0;c<p.length;c++){for(var x=y.RND.frac()*m,T=0,P=-1,M=0;M<v.length;M++)if(T+=v[M].weight,x<=T){var E=v[M].index;P=Array.isArray(E)?E[Math.floor(y.RND.frac()*E.length)]:E;break}p[c].index=P}}};n.exports=f},10095:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(85896),y=s(26099),f=new y,u=function(l,a,d,v){return o(l,0,a,f,d,v),f.x};n.exports=u},85896:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),y=function(f,u,l,a,d,v){l===void 0&&(l=!0),a||(a=new o);var h=v.baseTileWidth,c=v.baseTileHeight,p=v.tilemapLayer;p&&(d||(d=p.scene.cameras.main),f=f-(p.x+d.scrollX*(1-p.scrollFactorX)),u=u-(p.y+d.scrollY*(1-p.scrollFactorY)),h*=p.scaleX,c*=p.scaleY);var m=f/h,x=u/c;return l&&(m=Math.floor(m),x=Math.floor(x)),a.set(m,x)};n.exports=y},63288:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(85896),y=s(26099),f=new y,u=function(l,a,d,v){return o(0,l,a,f,d,v),f.y};n.exports=u},81086:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CalculateFacesAt:s(72023),CalculateFacesWithin:s(42573),CheckIsoBounds:s(33528),Copy:s(1785),CreateFromTiles:s(78419),CullBounds:s(19545),CullTiles:s(30003),Fill:s(35137),FilterTiles:s(40253),FindByIndex:s(52692),FindTile:s(66151),ForEachTile:s(97560),GetCullTilesFunction:s(43305),GetTileAt:s(7423),GetTileAtWorldXY:s(60540),GetTileCorners:s(55826),GetTileCornersFunction:s(11758),GetTilesWithin:s(7386),GetTilesWithinShape:s(91141),GetTilesWithinWorldXY:s(96523),GetTileToWorldXFunction:s(39167),GetTileToWorldXYFunction:s(62e3),GetTileToWorldYFunction:s(5984),GetWorldToTileXFunction:s(96113),GetWorldToTileXYFunction:s(16926),GetWorldToTileYFunction:s(55762),HasTileAt:s(45091),HasTileAtWorldXY:s(24152),HexagonalCullBounds:s(90454),HexagonalCullTiles:s(9474),HexagonalGetTileCorners:s(27229),HexagonalTileToWorldXY:s(19951),HexagonalWorldToTileXY:s(86625),IsInLayerBounds:s(62991),IsometricCullTiles:s(14018),IsometricTileToWorldXY:s(14127),IsometricWorldToTileXY:s(96897),PutTileAt:s(71558),PutTileAtWorldXY:s(26303),PutTilesAt:s(14051),Randomize:s(77389),RemoveTileAt:s(63557),RemoveTileAtWorldXY:s(94178),RenderDebug:s(15533),ReplaceByIndex:s(27987),RunCull:s(32483),SetCollision:s(57068),SetCollisionBetween:s(37266),SetCollisionByExclusion:s(75661),SetCollisionByProperty:s(64740),SetCollisionFromCollisionGroup:s(63307),SetLayerCollisionIndex:s(9589),SetTileCollision:s(20576),SetTileIndexCallback:s(79583),SetTileLocationCallback:s(93254),Shuffle:s(32903),StaggeredCullBounds:s(61325),StaggeredCullTiles:s(54503),StaggeredTileToWorldXY:s(97202),StaggeredTileToWorldY:s(28054),StaggeredWorldToTileXY:s(15108),StaggeredWorldToTileY:s(51900),SwapByIndex:s(86560),TileToWorldX:s(97281),TileToWorldXY:s(70326),TileToWorldY:s(29650),WeightedRandomize:s(77366),WorldToTileX:s(10095),WorldToTileXY:s(85896),WorldToTileY:s(63288)}},91907:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={ORIENTATION:s(91907)};n.exports=o},62501:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(79291),y=s(21829),f={Components:s(81086),Parsers:s(57442),Formats:s(80341),ImageCollection:s(16536),ParseToTilemap:s(31989),Tile:s(23029),Tilemap:s(49075),TilemapCreator:s(45939),TilemapFactory:s(46029),Tileset:s(33629),TilemapLayer:s(20442),Orientation:s(91907),LayerData:s(14977),MapData:s(87010),ObjectLayer:s(48700)};f=o(!1,f,y.ORIENTATION),n.exports=f},14977:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(91907),f=s(95540),u=new o({initialize:function(a){a===void 0&&(a={}),this.name=f(a,"name","layer"),this.id=f(a,"id",0),this.x=f(a,"x",0),this.y=f(a,"y",0),this.width=f(a,"width",0),this.height=f(a,"height",0),this.tileWidth=f(a,"tileWidth",0),this.tileHeight=f(a,"tileHeight",0),this.baseTileWidth=f(a,"baseTileWidth",this.tileWidth),this.baseTileHeight=f(a,"baseTileHeight",this.tileHeight),this.orientation=f(a,"orientation",y.ORTHOGONAL),this.widthInPixels=f(a,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=f(a,"heightInPixels",this.height*this.baseTileHeight),this.alpha=f(a,"alpha",1),this.visible=f(a,"visible",!0),this.properties=f(a,"properties",[]),this.indexes=f(a,"indexes",[]),this.collideIndexes=f(a,"collideIndexes",[]),this.callbacks=f(a,"callbacks",[]),this.bodies=f(a,"bodies",[]),this.data=f(a,"data",[]),this.tilemapLayer=f(a,"tilemapLayer",null),this.hexSideLength=f(a,"hexSideLength",0),this.staggerAxis=f(a,"staggerAxis","y"),this.staggerIndex=f(a,"staggerIndex","odd")}});n.exports=u},87010:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(91907),f=s(95540),u=new o({initialize:function(a){a===void 0&&(a={}),this.name=f(a,"name","map"),this.width=f(a,"width",0),this.height=f(a,"height",0),this.infinite=f(a,"infinite",!1),this.tileWidth=f(a,"tileWidth",0),this.tileHeight=f(a,"tileHeight",0),this.widthInPixels=f(a,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=f(a,"heightInPixels",this.height*this.tileHeight),this.format=f(a,"format",null),this.orientation=f(a,"orientation",y.ORTHOGONAL),this.renderOrder=f(a,"renderOrder","right-down"),this.version=f(a,"version","1"),this.properties=f(a,"properties",{}),this.layers=f(a,"layers",[]),this.images=f(a,"images",[]),this.objects=f(a,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=f(a,"collision",{}),this.tilesets=f(a,"tilesets",[]),this.imageCollections=f(a,"imageCollections",[]),this.tiles=f(a,"tiles",[]),this.hexSideLength=f(a,"hexSideLength",0),this.staggerAxis=f(a,"staggerAxis","y"),this.staggerIndex=f(a,"staggerIndex","odd")}});n.exports=u},48700:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(95540),f=new o({initialize:function(l){l===void 0&&(l={}),this.name=y(l,"name","object layer"),this.id=y(l,"id",0),this.opacity=y(l,"opacity",1),this.properties=y(l,"properties",{}),this.propertyTypes=y(l,"propertytypes",{}),this.type=y(l,"type","objectgroup"),this.visible=y(l,"visible",!0),this.objects=y(l,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});n.exports=f},6641:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91907),y=function(f){return f=f.toLowerCase(),f==="isometric"?o.ISOMETRIC:f==="staggered"?o.STAGGERED:f==="hexagonal"?o.HEXAGONAL:o.ORTHOGONAL};n.exports=y},46177:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(80341),y=s(2342),f=s(82593),u=s(46594),l=s(87021),a=function(d,v,h,c,p,m){var x;switch(v){case o.ARRAY_2D:x=y(d,h,c,p,m);break;case o.CSV:x=f(d,h,c,p,m);break;case o.TILED_JSON:x=u(d,h,m);break;case o.WELTMEISTER:x=l(d,h,m);break;default:console.warn("Unrecognized tilemap data format: "+v),x=null}return x};n.exports=a},2342:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(80341),y=s(14977),f=s(87010),u=s(23029),l=function(a,d,v,h,c){for(var p=new y({tileWidth:v,tileHeight:h}),m=new f({name:a,tileWidth:v,tileHeight:h,format:o.ARRAY_2D,layers:[p]}),x=[],T=d.length,P=0,M=0;M<d.length;M++){x[M]=[];for(var E=d[M],w=0;w<E.length;w++){var R=parseInt(E[w],10);isNaN(R)||R===-1?x[M][w]=c?null:new u(p,-1,w,M,v,h):x[M][w]=new u(p,R,w,M,v,h)}P===0&&(P=E.length)}return m.width=p.width=P,m.height=p.height=T,m.widthInPixels=p.widthInPixels=P*v,m.heightInPixels=p.heightInPixels=T*h,p.data=x,m};n.exports=l},82593:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(80341),y=s(2342),f=function(u,l,a,d,v){var h=l.trim().split(`
`).map(function(p){return p.split(",")}),c=y(u,h,a,d,v);return c.format=o.CSV,c};n.exports=f},6656:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(14977),y=s(23029),f=function(u,l){for(var a=[],d=0;d<u.layer.length;d++){for(var v=u.layer[d],h=new o({name:v.name,width:v.width,height:v.height,tileWidth:v.tilesize,tileHeight:v.tilesize,visible:v.visible===1}),c=[],p=[],m=0;m<v.data.length;m++){for(var x=0;x<v.data[m].length;x++){var T=v.data[m][x]-1,P;T>-1?P=new y(h,T,x,m,v.tilesize,v.tilesize):P=l?null:new y(h,-1,x,m,v.tilesize,v.tilesize),c.push(P)}p.push(c),c=[]}h.data=p,a.push(h)}return a};n.exports=f},96483:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(33629),y=function(f){for(var u=[],l=[],a=0;a<f.layer.length;a++){var d=f.layer[a],v=d.tilesetName;v!==""&&l.indexOf(v)===-1&&(l.push(v),u.push(new o(v,0,d.tilesize,d.tilesize,0,0)))}return u};n.exports=y},87021:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(80341),y=s(87010),f=s(6656),u=s(96483),l=function(a,d,v){if(d.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+a),null;for(var h=0,c=0,p=0;p<d.layer.length;p++)d.layer[p].width>h&&(h=d.layer[p].width),d.layer[p].height>c&&(c=d.layer[p].height);var m=new y({width:h,height:c,name:a,tileWidth:d.layer[0].tilesize,tileHeight:d.layer[0].tilesize,format:o.WELTMEISTER});return m.layers=f(d,v),m.tilesets=u(d),m};n.exports=l},52833:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ParseTileLayers:s(6656),ParseTilesets:s(96483),ParseWeltmeister:s(87021)}},57442:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={FromOrientationString:s(6641),Parse:s(46177),Parse2DArray:s(2342),ParseCSV:s(82593),Impact:s(52833),Tiled:s(96761)}},51233:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(79291),y=function(f){for(var u,l,a,d,v,h=0;h<f.layers.length;h++){u=f.layers[h],d=null;for(var c=0;c<u.data.length;c++){v=u.data[c];for(var p=0;p<v.length;p++)l=v[p],!(l===null||l.index<0)&&(a=f.tiles[l.index][2],d=f.tilesets[a],l.width=d.tileWidth,l.height=d.tileHeight,d.tileProperties&&d.tileProperties[l.index-d.firstgid]&&(l.properties=o(l.properties,d.tileProperties[l.index-d.firstgid])))}}};n.exports=y},41868:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){for(var o=window.atob(s),y=o.length,f=new Array(y/4),u=0;u<y;u+=4)f[u/4]=(o.charCodeAt(u)|o.charCodeAt(u+1)<<8|o.charCodeAt(u+2)<<16|o.charCodeAt(u+3)<<24)>>>0;return f};n.exports=C},84101:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(33629),y=function(f){var u,l,a=[];for(u=0;u<f.imageCollections.length;u++)for(var d=f.imageCollections[u],v=d.images,h=0;h<v.length;h++){var c=v[h],p={x:0,y:c.height-f.tileHeight};l=new o(c.image,c.gid,c.width,c.height,0,0,void 0,void 0,p),l.updateTileData(c.width,c.height),f.tilesets.push(l)}for(u=0;u<f.tilesets.length;u++){l=f.tilesets[u];for(var m=l.tileMargin,x=l.tileMargin,T=0,P=0,M=0,E=l.firstgid;E<l.firstgid+l.total&&(a[E]=[m,x,u],m+=l.tileWidth+l.tileSpacing,T++,!(T===l.total||(P++,P===l.columns&&(m=l.tileMargin,x+=l.tileHeight+l.tileSpacing,P=0,M++,M===l.rows))));E++);}return a};n.exports=y},79677:(n,C,s)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95540),y=function(f,u,l){if(!u)return{i:0,layers:f.layers,name:"",opacity:1,visible:!0,x:0,y:0};var a=u.x+o(u,"startx",0)*f.tilewidth+o(u,"offsetx",0),d=u.y+o(u,"starty",0)*f.tileheight+o(u,"offsety",0);return{i:0,layers:u.layers,name:l.name+u.name+"/",opacity:l.opacity*u.opacity,visible:l.visible&&u.visible,x:l.x+a,y:l.y+d}};n.exports=y},29920:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=2147483648,s=1073741824,o=536870912,y=function(f){var u=!!(f&C),l=!!(f&s),a=!!(f&o);f=f&536870911;var d=0,v=!1;return u&&l&&a?(d=Math.PI/2,v=!0):u&&l&&!a?(d=Math.PI,v=!1):u&&!l&&a?(d=Math.PI/2,v=!1):u&&!l&&!a?(d=0,v=!0):!u&&l&&a?(d=3*Math.PI/2,v=!1):!u&&l&&!a?(d=Math.PI,v=!0):!u&&!l&&a?(d=3*Math.PI/2,v=!0):!u&&!l&&!a&&(d=0,v=!1),{gid:f,flippedHorizontal:u,flippedVertical:l,flippedAntiDiagonal:a,rotation:d,flipped:v}};n.exports=y},12635:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95540),y=s(79677),f=function(u){for(var l=[],a=[],d=y(u);d.i<d.layers.length||a.length>0;){if(d.i>=d.layers.length){if(a.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}d=a.pop();continue}var v=d.layers[d.i];if(d.i++,v.type!=="imagelayer"){if(v.type==="group"){var h=y(u,v,d);a.push(d),d=h}continue}var c=o(v,"offsetx",0)+o(v,"startx",0),p=o(v,"offsety",0)+o(v,"starty",0);l.push({name:d.name+v.name,image:v.image,x:d.x+c+v.x,y:d.y+p+v.y,alpha:d.opacity*v.opacity,visible:d.visible&&v.visible,properties:o(v,"properties",{})})}return l};n.exports=f},46594:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(51233),y=s(84101),f=s(91907),u=s(62644),l=s(80341),a=s(6641),d=s(87010),v=s(12635),h=s(22611),c=s(28200),p=s(24619),m=function(x,T,P){var M=u(T),E=new d({width:M.width,height:M.height,name:x,tileWidth:M.tilewidth,tileHeight:M.tileheight,orientation:a(M.orientation),format:l.TILED_JSON,version:M.version,properties:M.properties,renderOrder:M.renderorder,infinite:M.infinite});if(E.orientation===f.HEXAGONAL)if(E.hexSideLength=M.hexsidelength,E.staggerAxis=M.staggeraxis,E.staggerIndex=M.staggerindex,E.staggerAxis==="y"){var w=(E.tileHeight-E.hexSideLength)/2;E.widthInPixels=E.tileWidth*(E.width+.5),E.heightInPixels=E.height*(E.hexSideLength+w)+w}else{var R=(E.tileWidth-E.hexSideLength)/2;E.widthInPixels=E.width*(E.hexSideLength+R)+R,E.heightInPixels=E.tileHeight*(E.height+.5)}E.layers=c(M,P),E.images=v(M);var A=p(M);return E.tilesets=A.tilesets,E.imageCollections=A.imageCollections,E.objects=h(M),E.tiles=y(E),o(E),E};n.exports=m},52205:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(18254),y=s(29920),f=function(a){return{x:a.x,y:a.y}},u=["id","name","type","rotation","properties","visible","x","y","width","height"],l=function(a,d,v){d===void 0&&(d=0),v===void 0&&(v=0);var h=o(a,u);if(h.x+=d,h.y+=v,a.gid){var c=y(a.gid);h.gid=c.gid,h.flippedHorizontal=c.flippedHorizontal,h.flippedVertical=c.flippedVertical,h.flippedAntiDiagonal=c.flippedAntiDiagonal}else a.polyline?h.polyline=a.polyline.map(f):a.polygon?h.polygon=a.polygon.map(f):a.ellipse?h.ellipse=a.ellipse:a.text?h.text=a.text:a.point?h.point=!0:h.rectangle=!0;return h};n.exports=l},22611:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95540),y=s(52205),f=s(48700),u=s(79677),l=function(a){for(var d=[],v=[],h=u(a);h.i<h.layers.length||v.length>0;){if(h.i>=h.layers.length){if(v.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}h=v.pop();continue}var c=h.layers[h.i];if(h.i++,c.opacity*=h.opacity,c.visible=h.visible&&c.visible,c.type!=="objectgroup"){if(c.type==="group"){var p=u(a,c,h);v.push(h),h=p}continue}c.name=h.name+c.name;for(var m=h.x+o(c,"startx",0)+o(c,"offsetx",0),x=h.y+o(c,"starty",0)+o(c,"offsety",0),T=[],P=0;P<c.objects.length;P++){var M=y(c.objects[P],m,x);T.push(M)}var E=new f(c);E.objects=T,d.push(E)}return d};n.exports=l},28200:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(41868),y=s(91907),f=s(79677),u=s(6641),l=s(95540),a=s(14977),d=s(29920),v=s(23029),h=function(c,p){for(var m=l(c,"infinite",!1),x=[],T=[],P=f(c);P.i<P.layers.length||T.length>0;){if(P.i>=P.layers.length){if(T.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}P=T.pop();continue}var M=P.layers[P.i];if(P.i++,M.type!=="tilelayer"){if(M.type==="group"){var E=f(c,M,P);T.push(P),P=E}continue}if(M.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+M.name+"'");continue}else if(M.encoding&&M.encoding==="base64"){if(M.chunks)for(var w=0;w<M.chunks.length;w++)M.chunks[w].data=o(M.chunks[w].data);M.data&&(M.data=o(M.data)),delete M.encoding}var R,A,L,b,O,F,D=[],B=0;if(m){var N=l(M,"startx",0)+M.x,z=l(M,"starty",0)+M.y;R=new a({name:P.name+M.name,id:M.id,x:P.x+l(M,"offsetx",0)+N*c.tilewidth,y:P.y+l(M,"offsety",0)+z*c.tileheight,width:M.width,height:M.height,tileWidth:c.tilewidth,tileHeight:c.tileheight,alpha:P.opacity*M.opacity,visible:P.visible&&M.visible,properties:l(M,"properties",[]),orientation:u(c.orientation)}),R.orientation===y.HEXAGONAL&&(R.hexSideLength=c.hexsidelength,R.staggerAxis=c.staggeraxis,R.staggerIndex=c.staggerindex,R.staggerAxis==="y"?(O=(R.tileHeight-R.hexSideLength)/2,R.widthInPixels=R.tileWidth*(R.width+.5),R.heightInPixels=R.height*(R.hexSideLength+O)+O):(F=(R.tileWidth-R.hexSideLength)/2,R.widthInPixels=R.width*(R.hexSideLength+F)+F,R.heightInPixels=R.tileHeight*(R.height+.5)));for(var W=0;W<M.height;W++){D[W]=[null];for(var X=0;X<M.width;X++)D[W][X]=null}for(W=0,J=M.chunks.length;W<J;W++)for(var k=M.chunks[W],V=k.x-N,I=k.y-z,U=0,G=0,Y=k.data.length;G<Y;G++){var H=B+V,$=U+I;A=d(k.data[G]),A.gid>0?(L=new v(R,A.gid,H,$,c.tilewidth,c.tileheight),L.rotation=A.rotation,L.flipX=A.flipped,D[$][H]=L):(b=p?null:new v(R,-1,H,$,c.tilewidth,c.tileheight),D[$][H]=b),B++,B===k.width&&(U++,B=0)}}else{R=new a({name:P.name+M.name,id:M.id,x:P.x+l(M,"offsetx",0)+M.x,y:P.y+l(M,"offsety",0)+M.y,width:M.width,height:M.height,tileWidth:c.tilewidth,tileHeight:c.tileheight,alpha:P.opacity*M.opacity,visible:P.visible&&M.visible,properties:l(M,"properties",[]),orientation:u(c.orientation)}),R.orientation===y.HEXAGONAL&&(R.hexSideLength=c.hexsidelength,R.staggerAxis=c.staggeraxis,R.staggerIndex=c.staggerindex,R.staggerAxis==="y"?(O=(R.tileHeight-R.hexSideLength)/2,R.widthInPixels=R.tileWidth*(R.width+.5),R.heightInPixels=R.height*(R.hexSideLength+O)+O):(F=(R.tileWidth-R.hexSideLength)/2,R.widthInPixels=R.width*(R.hexSideLength+F)+F,R.heightInPixels=R.tileHeight*(R.height+.5)));for(var K=[],Z=0,J=M.data.length;Z<J;Z++)A=d(M.data[Z]),A.gid>0?(L=new v(R,A.gid,B,D.length,c.tilewidth,c.tileheight),L.rotation=A.rotation,L.flipX=A.flipped,K.push(L)):(b=p?null:new v(R,-1,B,D.length,c.tilewidth,c.tileheight),K.push(b)),B++,B===M.width&&(D.push(K),B=0,K=[])}R.data=D,x.push(R)}return x};n.exports=h},24619:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(33629),y=s(16536),f=s(52205),u=s(57880),l=function(a){for(var d=[],v=[],h=null,c,p=0;p<a.tilesets.length;p++){var m=a.tilesets[p];if(m.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(m.image){var x=new o(m.name,m.firstgid,m.tilewidth,m.tileheight,m.margin,m.spacing,void 0,void 0,m.tileoffset);if(a.version>1){var T=void 0,P=void 0;if(Array.isArray(m.tiles)){T=T||{},P=P||{};for(var M=0;M<m.tiles.length;M++){var E=m.tiles[M];if(E.properties){var w={};E.properties.forEach(function(W){w[W.name]=W.value}),P[E.id]=w}if(E.objectgroup&&((T[E.id]||(T[E.id]={})).objectgroup=E.objectgroup,E.objectgroup.objects)){var R=E.objectgroup.objects.map(function(W){return f(W)});T[E.id].objectgroup.objects=R}E.animation&&((T[E.id]||(T[E.id]={})).animation=E.animation),E.type&&((T[E.id]||(T[E.id]={})).type=E.type)}}Array.isArray(m.wangsets)&&(T=T||{},P=P||{},u(m.wangsets,T)),T&&(x.tileData=T,x.tileProperties=P)}else if(m.tileproperties&&(x.tileProperties=m.tileproperties),m.tiles){x.tileData=m.tiles;for(c in x.tileData){var A=x.tileData[c].objectgroup;if(A&&A.objects){var L=A.objects.map(function(W){return f(W)});x.tileData[c].objectgroup.objects=L}}}x.updateTileData(m.imagewidth,m.imageheight),d.push(x)}else{var b=new y(m.name,m.firstgid,m.tilewidth,m.tileheight,m.margin,m.spacing,m.properties),O=0;for(M=0;M<m.tiles.length;M++){E=m.tiles[M];var F=E.image,D=parseInt(E.id,10),B=m.firstgid+D,N=E.imagewidth,z=E.imageheight;b.addImage(B,F,N,z),O=Math.max(D,O)}b.maxId=O,v.push(b)}h&&(h.lastgid=m.firstgid-1),h=m}return{tilesets:d,imageCollections:v}};n.exports=l},57880:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){for(var y=0;y<s.length;y++){var f=s[y],u=y;if(f.name&&f.name!==""&&(u=f.name),Array.isArray(f.wangtiles)&&f.wangtiles.length>0){var l={},a={},d,v,h;if(Array.isArray(f.edgecolors))for(d=0;d<f.edgecolors.length;d++)h=1+d,v=f.edgecolors[d],v.name!==""&&(l[h]=v.name);if(Array.isArray(f.cornercolors))for(d=0;d<f.cornercolors.length;d++)h=1+d,v=f.cornercolors[d],v.name!==""&&(a[h]=v.name);if(Array.isArray(f.colors))for(d=0;d<f.colors.length;d++)v=f.colors[d],h=1+d,v.name!==""&&(l[h]=a[h]=v.name);for(var c=[l,a,l,a,l,a,l,a],p=0;p<f.wangtiles.length;p++){var m=f.wangtiles[p],x=o[m.tileid]||(o[m.tileid]={});x=x.wangid||(x.wangid={});for(var T=[],P=0;P<Math.min(c.length,m.wangid.length);P++){if(v=m.wangid[P],v===0){T.push(void 0);continue}var M=c[P][v];if(M!==void 0){T.push(M);continue}T.push(v)}x[u]=T}}}};n.exports=C},96761:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AssignTileProperties:s(51233),Base64Decode:s(41868),BuildTilesetIndex:s(84101),CreateGroupLayer:s(79677),ParseGID:s(29920),ParseImageLayers:s(12635),ParseJSONTiled:s(46594),ParseObject:s(52205),ParseObjectLayers:s(22611),ParseTileLayers:s(28200),ParseTilesets:s(24619)}},33385:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(37277),f=s(44594),u=s(94880),l=s(72905),a=new o({initialize:function(v){this.scene=v,this.systems=v.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],v.sys.events.once(f.BOOT,this.boot,this),v.sys.events.on(f.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var d=this.systems.events;d.on(f.PRE_UPDATE,this.preUpdate,this),d.on(f.UPDATE,this.update,this),d.once(f.SHUTDOWN,this.shutdown,this)},addEvent:function(d){var v;if(d instanceof u){if(v=d,this.removeEvent(v),v.elapsed=v.startAt,v.hasDispatched=!1,v.repeatCount=v.repeat===-1||v.loop?999999999999:v.repeat,v.delay<=0&&v.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else v=new u(d);return this._pendingInsertion.push(v),v},delayedCall:function(d,v,h,c){return this.addEvent({delay:d,callback:v,args:h,callbackScope:c})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(d){Array.isArray(d)||(d=[d]);for(var v=0;v<d.length;v++){var h=d[v];l(this._pendingRemoval,h),l(this._pendingInsertion,h),l(this._active,h)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var d=this._pendingRemoval.length,v=this._pendingInsertion.length;if(!(d===0&&v===0)){var h,c;for(h=0;h<d;h++){c=this._pendingRemoval[h];var p=this._active.indexOf(c);p>-1&&this._active.splice(p,1),c.destroy()}for(h=0;h<v;h++)c=this._pendingInsertion[h],this._active.push(c);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(d,v){if(this.now=d,!this.paused){v*=this.timeScale;for(var h=0;h<this._active.length;h++){var c=this._active[h];if(!c.paused&&(c.elapsed+=v*c.timeScale,c.elapsed>=c.delay)){var p=c.elapsed-c.delay;if(c.elapsed=c.delay,!c.hasDispatched&&c.callback&&(c.hasDispatched=!0,c.callback.apply(c.callbackScope,c.args)),c.repeatCount>0){if(c.repeatCount--,p>=c.delay)for(;p>=c.delay&&c.repeatCount>0;)c.callback&&c.callback.apply(c.callbackScope,c.args),p-=c.delay,c.repeatCount--;c.elapsed=p,c.hasDispatched=!1}else c.hasDispatched&&this._pendingRemoval.push(c)}}}},shutdown:function(){var d;for(d=0;d<this._pendingInsertion.length;d++)this._pendingInsertion[d].destroy();for(d=0;d<this._active.length;d++)this._active[d].destroy();for(d=0;d<this._pendingRemoval.length;d++)this._pendingRemoval[d].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var v=this.systems.events;v.off(f.PRE_UPDATE,this.preUpdate,this),v.off(f.UPDATE,this.update,this),v.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});y.register("Clock",a,"time"),n.exports=a},96120:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(50792),f=s(39429),u=s(95540),l=s(44594),a=s(89809),d=new o({Extends:y,initialize:function(h,c){y.call(this),this.scene=h,this.systems=h.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var p=this.systems.events;p.on(l.PRE_UPDATE,this.preUpdate,this),p.on(l.UPDATE,this.update,this),p.once(l.SHUTDOWN,this.destroy,this),c&&this.add(c)},preUpdate:function(v,h){this.paused||(this.elapsed+=h*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var v,h=this.events,c=!1,p=this.systems,m;for(v=0;v<h.length;v++){var x=h[v];if(!x.complete&&x.time<=this.elapsed){if(x.complete=!0,this.totalComplete++,m=x.target?x.target:this,x.if&&!x.if.call(m,x))continue;if(x.once&&(c=!0),x.set&&x.target)for(var T in x.set)x.target[T]=x.set[T];this.iteration&&x.repeat++,x.loop&&x.repeat&&x.loop.call(m),x.tween&&(x.tweenInstance=p.tweens.add(x.tween)),x.sound&&(typeof x.sound=="string"?p.sound.play(x.sound):p.sound.play(x.sound.key,x.sound.config)),x.event&&this.emit(x.event,m),x.run&&x.run.call(m),x.stop&&this.stop()}}if(c)for(v=0;v<h.length;v++)h[v].complete&&h[v].once&&(h.splice(v,1),v--);this.totalComplete>=h.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(a.COMPLETE,this)}},play:function(v){return v===void 0&&(v=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,v&&this.reset(),this},pause:function(){this.paused=!0;for(var v=this.events,h=0;h<v.length;h++){var c=v[h];c.tweenInstance&&(c.tweenInstance.paused=!0)}return this},repeat:function(v){return(v===void 0||v===!0)&&(v=-1),v===!1&&(v=0),this.loop=v,this},resume:function(){this.paused=!1;for(var v=this.events,h=0;h<v.length;h++){var c=v[h];c.tweenInstance&&(c.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(v){v===void 0&&(v=!1),this.elapsed=0,v||(this.iteration=0);for(var h=this.events,c=0;c<h.length;c++){var p=h[c];p.complete=!1,v||(p.repeat=0),p.tweenInstance&&p.tweenInstance.stop()}return this.play(!1)},add:function(v){Array.isArray(v)||(v=[v]);var h=this.events,c=0;h.length>0&&(c=h[h.length-1].time);for(var p=0;p<v.length;p++){var m=v[p],x=u(m,"at",0),T=u(m,"in",null);T!==null&&(x=this.elapsed+T);var P=u(m,"from",null);P!==null&&(x=c+P),h.push({complete:!1,time:x,repeat:0,if:u(m,"if",null),run:u(m,"run",null),loop:u(m,"loop",null),event:u(m,"event",null),target:u(m,"target",null),set:u(m,"set",null),tween:u(m,"tween",null),sound:u(m,"sound",null),once:u(m,"once",!1),stop:u(m,"stop",!1)}),c=x}return this.complete=!1,this},clear:function(){for(var v=this.events,h=0;h<v.length;h++){var c=v[h];c.tweenInstance&&c.tweenInstance.stop()}return v=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var v=Math.min(this.totalComplete,this.events.length);return v/this.events.length},destroy:function(){var v=this.systems.events;v.off(l.PRE_UPDATE,this.preUpdate,this),v.off(l.UPDATE,this.update,this),v.off(l.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});f.register("timeline",function(v){return new d(this.scene,v)}),n.exports=d},94880:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(95540),f=new o({initialize:function(l){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(l)},reset:function(u){if(this.delay=y(u,"delay",0),this.repeat=y(u,"repeat",0),this.loop=y(u,"loop",!1),this.callback=y(u,"callback",void 0),this.callbackScope=y(u,"callbackScope",this),this.args=y(u,"args",[]),this.timeScale=y(u,"timeScale",1),this.startAt=y(u,"startAt",0),this.paused=y(u,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var u=this.delay+this.delay*this.repeat,l=this.elapsed+this.delay*(this.repeat-this.repeatCount);return l/u}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(u){u===void 0&&(u=!1),this.elapsed=this.delay,this.hasDispatched=!u,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});n.exports=f},35945:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},89809:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:s(35945)}},90291:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Clock:s(33385),Events:s(89809),Timeline:s(96120),TimerEvent:s(94880)}},40382:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(72905),y=s(83419),f=s(43491),u=s(88032),l=s(37277),a=s(44594),d=s(93109),v=s(86081),h=s(8357),c=s(43960),p=s(26012),m=new y({initialize:function(T){this.scene=T,this.events=T.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(a.UPDATE,this.update,this),this.events.once(a.SHUTDOWN,this.shutdown,this)},create:function(x){Array.isArray(x)||(x=[x]);for(var T=[],P=0;P<x.length;P++){var M=x[P];M instanceof v||M instanceof c?T.push(M):Array.isArray(M.tweens)?T.push(p(this,M)):T.push(h(this,M))}return T.length===1?T[0]:T},add:function(x){var T=x,P=this.tweens;return T instanceof v||T instanceof c||(Array.isArray(T.tweens)?T=p(this,T):T=h(this,T)),P.push(T.reset()),T},addMultiple:function(x){for(var T,P=[],M=this.tweens,E=0;E<x.length;E++)T=x[E],T instanceof v||T instanceof c||(Array.isArray(T.tweens)?T=p(this,T):T=h(this,T)),M.push(T.reset()),P.push(T);return P},chain:function(x){var T=p(this,x);return this.tweens.push(T.init()),T},getChainedTweens:function(x){return x.getChainedTweens()},has:function(x){return this.tweens.indexOf(x)>-1},existing:function(x){return this.has(x)||this.tweens.push(x.reset()),this},addCounter:function(x){var T=u(this,x);return this.tweens.push(T.reset()),T},stagger:function(x,T){return d(x,T)},setLagSmooth:function(x,T){return x===void 0&&(x=1/1e-8),T===void 0&&(T=0),this.maxLag=x,this.lagSkip=Math.min(T,this.maxLag),this},setFps:function(x){return x===void 0&&(x=240),this.gap=1e3/x,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(x){var T=Date.now()-this.prevTime;T>this.maxLag&&(this.startTime+=T-this.lagSkip),this.prevTime+=T;var P=this.prevTime-this.startTime,M=P-this.nextTime,E=P-this.time*1e3;return M>0||x?(P/=1e3,this.time=P,this.nextTime+=M+(M>=this.gap?4:this.gap-M)):E=0,E},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(x){x===void 0&&(x=!1);var T=this.getDelta(x);if(!(T<=0)){this.processing=!0;var P,M,E=[],w=this.tweens;for(P=0;P<w.length;P++)M=w[P],M.update(T)&&E.push(M);var R=E.length;if(R&&w.length>0){for(P=0;P<R;P++){M=E[P];var A=w.indexOf(M);A>-1&&(M.isPendingRemove()||M.isDestroyed())&&(w.splice(A,1),M.destroy())}E.length=0}this.processing=!1}},remove:function(x){return this.processing?x.setPendingRemoveState():(o(this.tweens,x),x.setRemovedState()),this},reset:function(x){return this.existing(x),x.seek(),x.setActiveState(),this},makeActive:function(x){return this.existing(x),x.setActiveState(),this},each:function(x,T){var P,M=[null];for(P=1;P<arguments.length;P++)M.push(arguments[P]);return this.tweens.forEach(function(E){M[0]=E,x.apply(T,M)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(x){var T=[],P=this.tweens;Array.isArray(x)?x=f(x):x=[x];for(var M=x.length,E=0;E<P.length;E++)for(var w=P[E],R=0;R<M;R++)!w.isDestroyed()&&w.hasTarget(x[R])&&T.push(w);return T},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(x){return this.timeScale=x,this},isTweening:function(x){for(var T=this.tweens,P,M=0;M<T.length;M++)if(P=T[M],P.isPlaying()&&P.hasTarget(x))return!0;return!1},killAll:function(){for(var x=this.processing?this.getTweens():this.tweens,T=0;T<x.length;T++)x[T].destroy();return this.processing||(x.length=0),this},killTweensOf:function(x){for(var T=this.getTweensOf(x),P=0;P<T.length;P++)T[P].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(a.UPDATE,this.update,this),this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.events=null}});l.register("TweenManager",m,"tweens"),n.exports=m},57355:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){return s&&s.hasOwnProperty(o)?s[o]:y};n.exports=C},6113:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62640),y=s(35355),f=function(u,l){var a=o.Power0;if(typeof u=="string")if(o.hasOwnProperty(u))a=o[u];else{var d="";if(u.indexOf(".")){d=u.substring(u.indexOf(".")+1);var v=d.toLowerCase();v==="in"?d="easeIn":v==="out"?d="easeOut":v==="inout"&&(d="easeInOut")}u=y(u.substring(0,u.indexOf(".")+1)+d),o.hasOwnProperty(u)&&(a=o[u])}else typeof u=="function"&&(a=u);if(!l)return a;var h=l.slice(0);return h.unshift(0),function(c){return h[0]=c,a.apply(this,h)}};n.exports=f},91389:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(89318),y=s(77259),f=s(28392),u={bezier:o,catmull:y,catmullrom:y,linear:f},l=function(a){if(a===null)return null;var d=u.linear;return typeof a=="string"?u.hasOwnProperty(a)&&(d=u[a]):typeof a=="function"&&(d=a),d};n.exports=l},55292:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){var f;if(s.hasOwnProperty(o)){var u=typeof s[o];u==="function"?f=function(l,a,d,v,h,c){return s[o](l,a,d,v,h,c)}:f=function(){return s[o]}}else typeof y=="function"?f=y:f=function(){return y};return f};n.exports=C},82985:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(81076),y=function(f){var u,l=[];if(f.hasOwnProperty("props"))for(u in f.props)u.substring(0,1)!=="_"&&l.push({key:u,value:f.props[u]});else for(u in f)o.indexOf(u)===-1&&u.substring(0,1)!=="_"&&l.push({key:u,value:f[u]});return l};n.exports=y},62329:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35154),y=function(f){var u=o(f,"targets",null);return u===null||(typeof u=="function"&&(u=u.call()),Array.isArray(u)||(u=[u])),u};n.exports=y},17777:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(30976),y=s(99472);function f(v){return!!v.getActive&&typeof v.getActive=="function"}function u(v){return!!v.getStart&&typeof v.getStart=="function"}function l(v){return!!v.getEnd&&typeof v.getEnd=="function"}function a(v){return u(v)||l(v)||f(v)}var d=function(v,h){var c,p=function(W,X,k){return k},m=function(W,X,k){return k},x=null,T=typeof h;if(T==="number")p=function(){return h};else if(Array.isArray(h))m=function(){return h[0]},p=function(){return h[h.length-1]};else if(T==="string"){var P=h.toLowerCase(),M=P.substring(0,6)==="random",E=P.substring(0,3)==="int";if(M||E){var w=P.indexOf("("),R=P.indexOf(")"),A=P.indexOf(",");if(w&&R&&A){var L=parseFloat(P.substring(w+1,A)),b=parseFloat(P.substring(A+1,R));M?p=function(){return y(L,b)}:p=function(){return o(L,b)}}else throw new Error("invalid random() format")}else{P=P[0];var O=parseFloat(h.substr(2));switch(P){case"+":p=function(W,X,k){return k+O};break;case"-":p=function(W,X,k){return k-O};break;case"*":p=function(W,X,k){return k*O};break;case"/":p=function(W,X,k){return k/O};break;default:p=function(){return parseFloat(h)}}}}else if(T==="function")p=h;else if(T==="object")if(a(h))f(h)&&(x=h.getActive),l(h)&&(p=h.getEnd),u(h)&&(m=h.getStart);else if(h.hasOwnProperty("value"))c=d(v,h.value);else{var F=h.hasOwnProperty("to"),D=h.hasOwnProperty("from"),B=h.hasOwnProperty("start");if(F&&(D||B)){if(c=d(v,h.to),B){var N=d(v,h.start);c.getActive=N.getEnd}if(D){var z=d(v,h.from);c.getStart=z.getEnd}}}return c||(c={getActive:x,getEnd:p,getStart:m}),c};n.exports=d},88032:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70402),y=s(69902),f=s(23568),u=s(57355),l=s(6113),a=s(95540),d=s(55292),v=s(35154),h=s(17777),c=s(269),p=s(86081),m=function(x,T,P){if(T instanceof p)return T.parent=x,T;P===void 0?P=y:P=c(y,P);var M=a(T,"from",0),E=a(T,"to",1),w=[{value:M}],R=a(T,"delay",P.delay),A=a(T,"easeParams",P.easeParams),L=a(T,"ease",P.ease),b=h("value",E),O=new p(x,w),F=O.add(0,"value",b.getEnd,b.getStart,b.getActive,l(a(T,"ease",L),a(T,"easeParams",A)),d(T,"delay",R),a(T,"duration",P.duration),u(T,"yoyo",P.yoyo),a(T,"hold",P.hold),a(T,"repeat",P.repeat),a(T,"repeatDelay",P.repeatDelay),!1,!1);F.start=M,F.current=M,O.completeDelay=f(T,"completeDelay",0),O.loop=Math.round(f(T,"loop",0)),O.loopDelay=Math.round(f(T,"loopDelay",0)),O.paused=u(T,"paused",!1),O.persist=u(T,"persist",!1),O.isNumberTween=!0,O.callbackScope=v(T,"callbackScope",O);for(var D=o.TYPES,B=0;B<D.length;B++){var N=D[B],z=v(T,N,!1);if(z){var W=v(T,N+"Params",[]);O.setCallback(N,z,W)}}return O};n.exports=m},93109:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(6113),y=s(35154),f=s(36383),u=function(l,a){a===void 0&&(a={});var d,v=y(a,"start",0),h=y(a,"ease",null),c=y(a,"grid",null),p=y(a,"from",0),m=p==="first",x=p==="center",T=p==="last",P=typeof p=="number",M=Array.isArray(l),E=parseFloat(M?l[0]:l),w=M?parseFloat(l[1]):0,R=Math.max(E,w);if(M&&(v+=E),c){var A=c[0],L=c[1],b=0,O=0,F=0,D=0,B=[];T?(b=A-1,O=L-1):P?(b=p%A,O=Math.floor(p/A)):x&&(b=(A-1)/2,O=(L-1)/2);for(var N=f.MIN_SAFE_INTEGER,z=0;z<L;z++){B[z]=[];for(var W=0;W<A;W++){F=b-W,D=O-z;var X=Math.sqrt(F*F+D*D);X>N&&(N=X),B[z][W]=X}}}var k=h?o(h):null;return c?d=function(V,I,U,G){var Y=0,H=G%A,$=Math.floor(G/A);H>=0&&H<A&&$>=0&&$<L&&(Y=B[$][H]);var K;if(M){var Z=w-E;k?K=Y/N*Z*k(Y/N):K=Y/N*Z}else k?K=Y*E*k(Y/N):K=Y*E;return K+v}:d=function(V,I,U,G,Y){Y--;var H;m?H=G:x?H=Math.abs(Y/2-G):T?H=Y-G:P&&(H=Math.abs(p-G));var $;if(M){var K;x?K=(w-E)/Y*(H*2):K=(w-E)/Y*H,k?$=K*k(H/Y):$=K}else k?$=Y*R*k(H/Y):$=H*E;return $+v},d};n.exports=u},8357:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70402),y=s(69902),f=s(23568),u=s(57355),l=s(6113),a=s(95540),d=s(91389),v=s(55292),h=s(82985),c=s(62329),p=s(35154),m=s(17777),x=s(269),T=s(86081),P=function(M,E,w){if(E instanceof T)return E.parent=M,E;w===void 0?w=y:w=x(y,w);var R=c(E);!R&&w.targets&&(R=w.targets);for(var A=h(E),L=a(E,"delay",w.delay),b=a(E,"duration",w.duration),O=a(E,"easeParams",w.easeParams),F=a(E,"ease",w.ease),D=a(E,"hold",w.hold),B=a(E,"repeat",w.repeat),N=a(E,"repeatDelay",w.repeatDelay),z=u(E,"yoyo",w.yoyo),W=u(E,"flipX",w.flipX),X=u(E,"flipY",w.flipY),k=a(E,"interpolation",w.interpolation),V=function(Q,_,it,q){if(it==="texture"){var ht=q,lt=void 0;Array.isArray(q)?(ht=q[0],lt=q[1]):q.hasOwnProperty("value")?(ht=q.value,Array.isArray(q.value)?(ht=q.value[0],lt=q.value[1]):typeof q.value=="string"&&(ht=q.value)):typeof q=="string"&&(ht=q),Q.addFrame(_,ht,lt,v(q,"delay",L),a(q,"duration",b),a(q,"hold",D),a(q,"repeat",B),a(q,"repeatDelay",N),u(q,"flipX",W),u(q,"flipY",X))}else{var ut=m(it,q),tt=d(a(q,"interpolation",k));Q.add(_,it,ut.getEnd,ut.getStart,ut.getActive,l(a(q,"ease",F),a(q,"easeParams",O)),v(q,"delay",L),a(q,"duration",b),u(q,"yoyo",z),a(q,"hold",D),a(q,"repeat",B),a(q,"repeatDelay",N),u(q,"flipX",W),u(q,"flipY",X),tt,tt?q:null)}},I=new T(M,R),U=0;U<A.length;U++)for(var G=A[U].key,Y=A[U].value,H=0;H<R.length;H++)G==="scale"&&!R[H].hasOwnProperty("scale")?(V(I,H,"scaleX",Y),V(I,H,"scaleY",Y)):V(I,H,G,Y);I.completeDelay=f(E,"completeDelay",0),I.loop=Math.round(f(E,"loop",0)),I.loopDelay=Math.round(f(E,"loopDelay",0)),I.paused=u(E,"paused",!1),I.persist=u(E,"persist",!1),I.callbackScope=a(E,"callbackScope",I);for(var $=o.TYPES,K=0;K<$.length;K++){var Z=$[K],J=p(E,Z,!1);if(J){var j=p(E,Z+"Params",[]);I.setCallback(Z,J,j)}}return I};n.exports=P},26012:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70402),y=s(23568),f=s(57355),u=s(62329),l=s(35154),a=s(8357),d=s(43960),v=function(h,c){if(c instanceof d)return c.parent=h,c;var p=new d(h);p.startDelay=l(c,"delay",0),p.completeDelay=y(c,"completeDelay",0),p.loop=Math.round(y(c,"loop",l(c,"repeat",0))),p.loopDelay=Math.round(y(c,"loopDelay",l(c,"repeatDelay",0))),p.paused=f(c,"paused",!1),p.persist=f(c,"persist",!1),p.callbackScope=l(c,"callbackScope",p);var m,x=o.TYPES;for(m=0;m<x.length;m++){var T=x[m],P=l(c,T,!1);if(P){var M=l(c,T+"Params",[]);p.setCallback(T,P,M)}}var E=l(c,"tweens",null);if(Array.isArray(E)){var w=[],R=u(c),A=void 0;for(R&&(A={targets:R}),m=0;m<E.length;m++)w.push(a(p,E[m],A));p.add(w)}return p};n.exports=v},30231:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GetBoolean:s(57355),GetEaseFunction:s(6113),GetInterpolationFunction:s(91389),GetNewValue:s(55292),GetProps:s(82985),GetTargets:s(62329),GetValueOp:s(17777),NumberTweenBuilder:s(88032),StaggerBuilder:s(93109),TweenBuilder:s(8357)}},73685:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="active"},98540:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},67233:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"},2859:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},98336:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="repeat"},25764:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},32193:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},84371:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},70766:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},55659:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="yoyo"},842:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={TWEEN_ACTIVE:s(73685),TWEEN_COMPLETE:s(98540),TWEEN_LOOP:s(67233),TWEEN_PAUSE:s(2859),TWEEN_RESUME:s(25764),TWEEN_REPEAT:s(98336),TWEEN_START:s(32193),TWEEN_STOP:s(84371),TWEEN_UPDATE:s(70766),TWEEN_YOYO:s(55659)}},43066:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={States:s(86353),Builders:s(30231),Events:s(842),TweenManager:s(40382),Tween:s(86081),TweenData:s(48177),TweenFrameData:s(42220),BaseTween:s(70402),TweenChain:s(43960)};n.exports=o},70402:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(50792),f=s(842),u=s(86353),l=new o({Extends:y,initialize:function(d){y.call(this),this.parent=d,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=u.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(a){return this.timeScale=a,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(f.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(f.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(f.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(f.TWEEN_COMPLETE,"onComplete")},complete:function(a){return a===void 0&&(a=0),a?(this.setCompleteDelayState(),this.countdown=a):this.onCompleteHandler(),this},completeAfterLoop:function(a){return a===void 0&&(a=0),this.loopCounter>a&&(this.loopCounter=a),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(f.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(a){this.countdown-=a,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(f.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(a){return this.countdown-=a,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(f.TWEEN_START,"onStart"),a=0),a},updateCompleteDelay:function(a){this.countdown-=a,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(a,d,v){return v===void 0&&(v=[]),this.callbacks.hasOwnProperty(a)&&(this.callbacks[a]={func:d,params:v}),this},setPendingState:function(){this.state=u.PENDING},setActiveState:function(){this.state=u.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=u.LOOP_DELAY},setCompleteDelayState:function(){this.state=u.COMPLETE_DELAY},setStartDelayState:function(){this.state=u.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=u.PENDING_REMOVE},setRemovedState:function(){this.state=u.REMOVED},setFinishedState:function(){this.state=u.FINISHED},setDestroyedState:function(){this.state=u.DESTROYED},isPending:function(){return this.state===u.PENDING},isActive:function(){return this.state===u.ACTIVE},isLoopDelayed:function(){return this.state===u.LOOP_DELAY},isCompleteDelayed:function(){return this.state===u.COMPLETE_DELAY},isStartDelayed:function(){return this.state===u.START_DELAY},isPendingRemove:function(){return this.state===u.PENDING_REMOVE},isRemoved:function(){return this.state===u.REMOVED},isFinished:function(){return this.state===u.FINISHED},isDestroyed:function(){return this.state===u.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(a){a.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});l.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],n.exports=l},95042:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),y=s(842),f=s(86353),u=new o({initialize:function(a,d,v,h,c,p,m,x,T,P){this.tween=a,this.targetIndex=d,this.duration=h<=0?.01:h,this.totalDuration=0,this.delay=0,this.getDelay=v,this.yoyo=c,this.hold=p,this.repeat=m,this.repeatDelay=x,this.repeatCounter=0,this.flipX=T,this.flipY=P,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(l){l===void 0&&(l=this.current),this.tween.targets[this.targetIndex][this.key]=l},setCreatedState:function(){this.state=f.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=f.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=f.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=f.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=f.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=f.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=f.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=f.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===f.CREATED},isDelayed:function(){return this.state===f.DELAY},isPendingRender:function(){return this.state===f.PENDING_RENDER},isPlayingForward:function(){return this.state===f.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===f.PLAYING_BACKWARD},isHolding:function(){return this.state===f.HOLD_DELAY},isRepeating:function(){return this.state===f.REPEAT_DELAY},isComplete:function(){return this.state===f.COMPLETE},setStateFromEnd:function(l){this.yoyo?this.onRepeat(l,!0,!0):this.repeatCounter>0?this.onRepeat(l,!0,!1):this.setCompleteState()},setStateFromStart:function(l){this.repeatCounter>0?this.onRepeat(l,!1):this.setCompleteState()},reset:function(){var l=this.tween,a=l.totalTargets,d=this.targetIndex,v=l.targets[d],h=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(v,h,0,d,a,l),this.repeatCounter=this.repeat===-1?f.MAX:this.repeat,this.setPendingRenderState();var c=this.duration+this.hold;this.yoyo&&(c+=this.duration);var p=c+this.repeatDelay;this.totalDuration=this.delay+c,this.repeat===-1?(this.totalDuration+=p*f.MAX,l.isInfinite=!0):this.repeat>0&&(this.totalDuration+=p*this.repeat),this.totalDuration>l.duration&&(l.duration=this.totalDuration),this.delay<l.startDelay&&(l.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(l,a,d){var v=this.tween,h=v.totalTargets,c=this.targetIndex,p=v.targets[c],m=this.key,x=m!=="texture";if(this.elapsed=l,this.progress=l/this.duration,this.flipX&&p.toggleFlipX(),this.flipY&&p.toggleFlipY(),x&&(a||d)&&(this.start=this.getStartValue(p,m,this.start,c,h,v)),d){this.setPlayingBackwardState(),this.dispatchEvent(y.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,x&&(this.end=this.getEndValue(p,m,this.start,c,h,v)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-l,x&&(this.current=this.start,p[m]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(y.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});n.exports=u},69902:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};n.exports=C},81076:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70402),y=s(83419),f=s(842),u=s(44603),l=s(39429),a=s(36383),d=s(86353),v=s(48177),h=s(42220),c=new y({Extends:o,initialize:function(m,x){o.call(this,m),this.targets=x,this.totalTargets=x.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(p,m,x,T,P,M,E,w,R,A,L,b,O,F,D,B){var N=new v(this,p,m,x,T,P,M,E,w,R,A,L,b,O,F,D,B);return this.totalData=this.data.push(N),N},addFrame:function(p,m,x,T,P,M,E,w,R,A){var L=new h(this,p,m,x,T,P,M,E,w,R,A);return this.totalData=this.data.push(L),L},getValue:function(p){p===void 0&&(p=0);var m=null;return this.data&&(m=this.data[p].current),m},hasTarget:function(p){return this.targets&&this.targets.indexOf(p)!==-1},updateTo:function(p,m,x){if(x===void 0&&(x=!1),p!=="texture")for(var T=0;T<this.totalData;T++){var P=this.data[T];P.key===p&&(P.isPlayingForward()||P.isPlayingBackward())&&(P.end=m,x&&(P.start=P.current))}return this},restart:function(){switch(this.state){case d.REMOVED:case d.FINISHED:this.seek(),this.parent.makeActive(this);break;case d.PENDING:case d.PENDING_REMOVE:this.parent.reset(this);break;case d.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(f.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,o.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(p,m,x){if(p===void 0&&(p=0),m===void 0&&(m=16.6),x===void 0&&(x=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;x||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(f.TWEEN_ACTIVE,"onActive");var T=this.paused;if(this.paused=!1,p>0){for(var P=Math.floor(p/m),M=p-P*m,E=0;E<P;E++)this.update(m);M>0&&this.update(M)}return this.paused=T,this.isSeeking=!1,this},initTweenData:function(p){p===void 0&&(p=!1),this.duration=0,this.startDelay=a.MAX_SAFE_INTEGER;for(var m=this.data,x=0;x<this.totalData;x++)m[x].reset(p);this.duration=Math.max(this.duration,.01);var T=this.duration,P=this.completeDelay,M=this.loopCounter,E=this.loopDelay;M>0?this.totalDuration=T+P+(T+E)*M:this.totalDuration=T+P},reset:function(p){return p===void 0&&(p=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=d.MAX),p||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(f.TWEEN_ACTIVE,"onActive")),this},update:function(p){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(p*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(p),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(p),!1;this.hasStarted||(this.startDelay-=p,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(f.TWEEN_START,"onStart"),p=0));var m=!1;if(this.isActive())for(var x=this.data,T=0;T<this.totalData;T++)x[T].update(p)&&(m=!0);this.elapsed+=p,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=p,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),m||this.nextState();var P=this.isPendingRemove();return P&&this.persist&&(this.setFinishedState(),P=!1),P},forward:function(p){return this.update(p),this},rewind:function(p){return this.update(-p),this},dispatchEvent:function(p,m){if(!this.isSeeking){if(this.emit(p,this,this.targets),!this.callbacks)return;var x=this.callbacks[m];x&&x.func.apply(this.callbackScope,[this,this.targets].concat(x.params))}},destroy:function(){o.prototype.destroy.call(this),this.targets=null}});l.register("tween",function(p){return this.scene.sys.tweens.add(p)}),u.register("tween",function(p){return this.scene.sys.tweens.create(p)}),n.exports=c},43960:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(72905),y=s(70402),f=s(83419),u=s(842),l=s(44603),a=s(39429),d=s(86353),v=new f({Extends:y,initialize:function(c){y.call(this,c),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?d.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(h){var c=this.parent.create(h);Array.isArray(c)||(c=[c]);for(var p=this.data,m=0;m<c.length;m++){var x=c[m];x.parent=this,p.push(x.reset())}return this.totalData=p.length,this},remove:function(h){return o(this.data,h),h.setRemovedState(),h===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(h){for(var c=this.data,p=0;p<this.totalData;p++)if(c[p].hasTarget(h))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(h){return h.seek(),h.setActiveState(),this},makeActive:function(h){return h.reset(),h.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(u.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var h=this.data,c=this.totalData,p=0;p<c;p++)h[p].reset(!1);this.setCurrentTween(0)},update:function(h){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.isFinished()||this.paused)return!1;if(h*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(h),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(h),!1;this.hasStarted||(this.startDelay-=h,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(u.TWEEN_START,"onStart"),h=0));var c=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(h)&&this.nextTween()&&this.nextState(),c=this.isPendingRemove(),c&&this.persist&&(this.setFinishedState(),c=!1)),c},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(h){this.currentIndex=h,this.currentTween=this.data[h],this.currentTween.setActiveState()},dispatchEvent:function(h,c){this.emit(h,this);var p=this.callbacks[c];p&&p.func.apply(this.callbackScope,[this].concat(p.params))},destroy:function(){y.prototype.destroy.call(this),this.currentTween=null}});a.register("tweenchain",function(h){return this.scene.sys.tweens.chain(h)}),l.register("tweenchain",function(h){return this.scene.sys.tweens.create(h)}),n.exports=v},48177:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95042),y=s(45319),f=s(83419),u=s(842),l=new f({Extends:o,initialize:function(d,v,h,c,p,m,x,T,P,M,E,w,R,A,L,b,O){o.call(this,d,v,T,P,M,E,w,R,A,L),this.key=h,this.getActiveValue=m,this.getEndValue=c,this.getStartValue=p,this.ease=x,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=b,this.interpolationData=O},reset:function(a){o.prototype.reset.call(this);var d=this.tween.targets[this.targetIndex],v=this.key;a&&(d[v]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(d[v]=this.getActiveValue(d,v,0))},update:function(a){var d=this.tween,v=d.totalTargets,h=this.targetIndex,c=d.targets[h],p=this.key;if(!c)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=a,this.elapsed<=0&&(this.elapsed=0,a=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(u.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(c,p,c[p],h,v,d),this.end=this.getEndValue(c,p,this.start,h,v,d),this.current=this.start,c[p]=this.start,this.setPlayingForwardState(),!0;var m=this.isPlayingForward(),x=this.isPlayingBackward();if(m||x){var T=this.elapsed,P=this.duration,M=0,E=!1;T+=a,T>=P?(M=T-P,T=P,E=!0):T<0&&(T=0);var w=y(T/P,0,1);this.elapsed=T,this.progress=w,this.previous=this.current,m||(w=1-w);var R=this.ease(w);this.interpolation?this.current=this.interpolation(this.interpolationData,R):this.current=this.start+(this.end-this.start)*R,c[p]=this.current,E&&(m?(d.isNumberTween&&(this.current=this.end,c[p]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(M)):(d.isNumberTween&&(this.current=this.start,c[p]=this.current),this.setStateFromStart(M))),this.dispatchEvent(u.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(a,d){var v=this.tween;if(!v.isSeeking){var h=v.targets[this.targetIndex],c=this.key,p=this.current,m=this.previous;v.emit(a,v,c,h,p,m);var x=v.callbacks[d];x&&x.func.apply(v.callbackScope,[v,h,c,p,m].concat(x.params))}},destroy:function(){o.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});n.exports=l},42220:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95042),y=s(45319),f=s(83419),u=s(842),l=new f({Extends:o,initialize:function(d,v,h,c,p,m,x,T,P,M,E){o.call(this,d,v,p,m,!1,x,T,P,M,E),this.key="texture",this.startTexture=null,this.endTexture=h,this.startFrame=null,this.endFrame=c,this.yoyo=T!==0},reset:function(a){o.prototype.reset.call(this);var d=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=d.texture.key,this.startFrame=d.frame.name),a&&d.setTexture(this.startTexture,this.startFrame)},update:function(a){var d=this.tween,v=this.targetIndex,h=d.targets[v];if(!h)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=a,this.elapsed<=0&&(this.elapsed=0,a=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(u.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&h.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var c=this.isPlayingForward(),p=this.isPlayingBackward();if(c||p){var m=this.elapsed,x=this.duration,T=0,P=!1;m+=a,m>=x?(T=m-x,m=x,P=!0):m<0&&(m=0);var M=y(m/x,0,1);this.elapsed=m,this.progress=M,P&&(c?(h.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(T)):(h.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(T))),this.dispatchEvent(u.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(a,d){var v=this.tween;if(!v.isSeeking){var h=v.targets[this.targetIndex],c=this.key;v.emit(a,v,c,h);var p=v.callbacks[d];p&&p.func.apply(v.callbackScope,[v,h,c].concat(p.params))}},destroy:function(){o.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});n.exports=l},86353:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};n.exports=C},83419:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(l){return!!l.get&&typeof l.get=="function"||!!l.set&&typeof l.set=="function"}function s(l,a,d){var v=d?l[a]:Object.getOwnPropertyDescriptor(l,a);return!d&&v.value&&typeof v.value=="object"&&(v=v.value),v&&C(v)?(typeof v.enumerable>"u"&&(v.enumerable=!0),typeof v.configurable>"u"&&(v.configurable=!0),v):!1}function o(l,a){var d=Object.getOwnPropertyDescriptor(l,a);return d?(d.value&&typeof d.value=="object"&&(d=d.value),d.configurable===!1):!1}function y(l,a,d,v){for(var h in a)if(a.hasOwnProperty(h)){var c=s(a,h,d);if(c!==!1){var p=v||l;if(o(p.prototype,h)){if(u.ignoreFinals)continue;throw new Error("cannot override final property '"+h+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(l.prototype,h,c)}else l.prototype[h]=a[h]}}function f(l,a){if(a){Array.isArray(a)||(a=[a]);for(var d=0;d<a.length;d++)y(l,a[d].prototype||a[d])}}function u(l){l||(l={});var a,d;if(l.initialize){if(typeof l.initialize!="function")throw new Error("initialize must be a function");a=l.initialize,delete l.initialize}else if(l.Extends){var v=l.Extends;a=function(){v.apply(this,arguments)}}else a=function(){};l.Extends?(a.prototype=Object.create(l.Extends.prototype),a.prototype.constructor=a,d=l.Extends,delete l.Extends):a.prototype.constructor=a;var h=null;return l.Mixins&&(h=l.Mixins,delete l.Mixins),f(a,h),y(a,l,!0,d),a}u.extend=y,u.mixin=f,u.ignoreFinals=!1,n.exports=u},29747:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(){};n.exports=C},20242:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(){return null};n.exports=C},71146:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f,u){if(u===void 0&&(u=s),y>0){var l=y-s.length;if(l<=0)return null}if(!Array.isArray(o))return s.indexOf(o)===-1?(s.push(o),f&&f.call(u,o),o):null;for(var a=o.length-1;a>=0;)s.indexOf(o[a])!==-1&&o.splice(a,1),a--;if(a=o.length,a===0)return null;y>0&&a>l&&(o.splice(l),a=l);for(var d=0;d<a;d++){var v=o[d];s.push(v),f&&f.call(u,v)}return o};n.exports=C},51067:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f,u,l){if(y===void 0&&(y=0),l===void 0&&(l=s),f>0){var a=f-s.length;if(a<=0)return null}if(!Array.isArray(o))return s.indexOf(o)===-1?(s.splice(y,0,o),u&&u.call(l,o),o):null;for(var d=o.length-1;d>=0;)s.indexOf(o[d])!==-1&&o.pop(),d--;if(d=o.length,d===0)return null;f>0&&d>a&&(o.splice(a),d=a);for(var v=d-1;v>=0;v--){var h=o[v];s.splice(y,0,h),u&&u.call(l,h)}return o};n.exports=C},66905:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){var y=s.indexOf(o);return y!==-1&&y<s.length&&(s.splice(y,1),s.push(o)),o};n.exports=C},21612:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(82011),y=function(f,u,l,a,d){a===void 0&&(a=0),d===void 0&&(d=f.length);var v=0;if(o(f,a,d))for(var h=a;h<d;h++){var c=f[h];c[u]===l&&v++}return v};n.exports=y},95428:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){var f,u=[null];for(f=3;f<arguments.length;f++)u.push(arguments[f]);for(f=0;f<s.length;f++)u[0]=s[f],o.apply(y,u);return s};n.exports=C},36914:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(82011),y=function(f,u,l,a,d){if(a===void 0&&(a=0),d===void 0&&(d=f.length),o(f,a,d)){var v,h=[null];for(v=5;v<arguments.length;v++)h.push(arguments[v]);for(v=a;v<d;v++)h[0]=f[v],u.apply(l,h)}return f};n.exports=y},81957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){if(o.length){if(o.length===1)return o[0]}else return NaN;var f=1,u,l;if(y){if(s<o[0][y])return o[0];for(;o[f][y]<s;)f++}else for(;o[f]<s;)f++;return f>o.length&&(f=o.length),y?(u=o[f-1][y],l=o[f][y],l-s<=s-u?o[f]:o[f-1]):(u=o[f-1],l=o[f],l-s<=s-u?l:u)};n.exports=C},43491:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){o===void 0&&(o=[]);for(var y=0;y<s.length;y++)Array.isArray(s[y])?C(s[y],o):o.push(s[y]);return o};n.exports=C},46710:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(82011),y=function(f,u,l,a,d){a===void 0&&(a=0),d===void 0&&(d=f.length);var v=[];if(o(f,a,d))for(var h=a;h<d;h++){var c=f[h];(!u||u&&l===void 0&&c.hasOwnProperty(u)||u&&l!==void 0&&c[u]===l)&&v.push(c)}return v};n.exports=y},58731:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(82011),y=function(f,u,l,a,d){if(a===void 0&&(a=0),d===void 0&&(d=f.length),a!==-1){if(o(f,a,d))for(var v=a;v<d;v++){var h=f[v];if(!u||u&&l===void 0&&h.hasOwnProperty(u)||u&&l!==void 0&&h[u]===l)return h}}else if(o(f,0,d))for(var v=d;v>=0;v--){var h=f[v];if(!u||u&&l===void 0&&h.hasOwnProperty(u)||u&&l!==void 0&&h[u]===l)return h}return null};n.exports=y},26546:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){o===void 0&&(o=0),y===void 0&&(y=s.length);var f=o+Math.floor(Math.random()*y);return s[f]===void 0?null:s[f]};n.exports=C},85835:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){if(o===y)return s;var f=s.indexOf(o),u=s.indexOf(y);if(f<0||u<0)throw new Error("Supplied items must be elements of the same array");return f>u||(s.splice(f,1),u=s.indexOf(y),s.splice(u+1,0,o)),s};n.exports=C},83371:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){if(o===y)return s;var f=s.indexOf(o),u=s.indexOf(y);if(f<0||u<0)throw new Error("Supplied items must be elements of the same array");return f<u||(s.splice(f,1),u===0?s.unshift(o):s.splice(u,0,o)),s};n.exports=C},70864:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){var y=s.indexOf(o);if(y>0){var f=s[y-1],u=s.indexOf(f);s[y]=f,s[u]=o}return s};n.exports=C},69693:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){var f=s.indexOf(o);if(f===-1||y<0||y>=s.length)throw new Error("Supplied index out of bounds");return f!==y&&(s.splice(f,1),s.splice(y,0,o)),o};n.exports=C},40853:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){var y=s.indexOf(o);if(y!==-1&&y<s.length-1){var f=s[y+1],u=s.indexOf(f);s[y]=f,s[u]=o}return s};n.exports=C},20283:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){var u=[],l,a=!1;if((y||f)&&(a=!0,y||(y=""),f||(f="")),o<s)for(l=s;l>=o;l--)a?u.push(y+l.toString()+f):u.push(l);else for(l=s;l<=o;l++)a?u.push(y+l.toString()+f):u.push(l);return u};n.exports=C},593:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2284),y=function(f,u,l){f===void 0&&(f=0),u===void 0&&(u=null),l===void 0&&(l=1),u===null&&(u=f,f=0);for(var a=[],d=Math.max(o((u-f)/(l||1)),0),v=0;v<d;v++)a.push(f),f+=l;return a};n.exports=y},43886:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(y,f,u){var l=y[f];y[f]=y[u],y[u]=l}function s(y,f){return y<f?-1:y>f?1:0}var o=function(y,f,u,l,a){for(u===void 0&&(u=0),l===void 0&&(l=y.length-1),a===void 0&&(a=s);l>u;){if(l-u>600){var d=l-u+1,v=f-u+1,h=Math.log(d),c=.5*Math.exp(2*h/3),p=.5*Math.sqrt(h*c*(d-c)/d)*(v-d/2<0?-1:1),m=Math.max(u,Math.floor(f-v*c/d+p)),x=Math.min(l,Math.floor(f+(d-v)*c/d+p));o(y,f,m,x,a)}var T=y[f],P=u,M=l;for(C(y,u,f),a(y[l],T)>0&&C(y,u,l);P<M;){for(C(y,P,M),P++,M--;a(y[P],T)<0;)P++;for(;a(y[M],T)>0;)M--}a(y[u],T)===0?C(y,u,M):(M++,C(y,M,l)),M<=f&&(u=M+1),f<=M&&(l=M-1)}};n.exports=o},88492:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35154),y=s(33680),f=function(l,a,d){for(var v=[],h=0;h<l.length;h++)for(var c=0;c<a.length;c++)for(var p=0;p<d;p++)v.push({a:l[h],b:a[c]});return v},u=function(l,a,d){var v=o(d,"max",0),h=o(d,"qty",1),c=o(d,"random",!1),p=o(d,"randomB",!1),m=o(d,"repeat",0),x=o(d,"yoyo",!1),T=[];if(p&&y(a),m===-1)if(v===0)m=0;else{var P=l.length*a.length*h;x&&(P*=2),m=Math.ceil(v/P)}for(var M=0;M<=m;M++){var E=f(l,a,h);c&&y(E),T=T.concat(E),x&&(E.reverse(),T=T.concat(E))}return v&&T.splice(v),T};n.exports=u},72905:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(19133),y=function(f,u,l,a){a===void 0&&(a=f);var d;if(!Array.isArray(u))return d=f.indexOf(u),d!==-1?(o(f,d),l&&l.call(a,u),u):null;for(var v=u.length-1,h=[];v>=0;){var c=u[v];d=f.indexOf(c),d!==-1&&(o(f,d),h.push(c),l&&l.call(a,c)),v--}return h};n.exports=y},60248:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(19133),y=function(f,u,l,a){if(a===void 0&&(a=f),u<0||u>f.length-1)throw new Error("Index out of bounds");var d=o(f,u);return l&&l.call(a,d),d};n.exports=y},81409:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(82011),y=function(f,u,l,a,d){if(u===void 0&&(u=0),l===void 0&&(l=f.length),d===void 0&&(d=f),o(f,u,l)){var v=l-u,h=f.splice(u,v);if(a)for(var c=0;c<h.length;c++){var p=h[c];a.call(d,p)}return h}else return[]};n.exports=y},31856:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(19133),y=function(f,u,l){u===void 0&&(u=0),l===void 0&&(l=f.length);var a=u+Math.floor(Math.random()*l);return o(f,a)};n.exports=y},42169:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){var f=s.indexOf(o),u=s.indexOf(y);return f!==-1&&u===-1?(s[f]=y,!0):!1};n.exports=C},86003:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){o===void 0&&(o=1);for(var y=null,f=0;f<o;f++)y=s.shift(),s.push(y);return y};n.exports=C},49498:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){o===void 0&&(o=1);for(var y=null,f=0;f<o;f++)y=s.pop(),s.unshift(y);return y};n.exports=C},82011:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){var u=s.length;if(o<0||o>=u||o>=y||y>u){if(f)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};n.exports=C},89545:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){var y=s.indexOf(o);return y!==-1&&y>0&&(s.splice(y,1),s.unshift(o)),o};n.exports=C},17810:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(82011),y=function(f,u,l,a,d){if(a===void 0&&(a=0),d===void 0&&(d=f.length),o(f,a,d))for(var v=a;v<d;v++){var h=f[v];h.hasOwnProperty(u)&&(h[u]=l)}return f};n.exports=y},33680:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){for(var o=s.length-1;o>0;o--){var y=Math.floor(Math.random()*(o+1)),f=s[o];s[o]=s[y],s[y]=f}return s};n.exports=C},90126:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){var o=/\D/g;return s.sort(function(y,f){return parseInt(y.replace(o,""),10)-parseInt(f.replace(o,""),10)}),s};n.exports=C},19133:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){if(!(o>=s.length)){for(var y=s.length-1,f=s[o],u=o;u<y;u++)s[u]=s[u+1];return s.length=y,f}};n.exports=C},19186:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(82264);function y(a,d){return String(a).localeCompare(d)}function f(a,d){var v=a.length;if(v<=1)return a;for(var h=new Array(v),c=1;c<v;c*=2){u(a,d,c,h);var p=a;a=h,h=p}return a}function u(a,d,v,h){var c=a.length,p=0,m=v*2,x,T,P,M,E;for(x=0;x<c;x+=m)for(T=x+v,P=T+v,T>c&&(T=c),P>c&&(P=c),M=x,E=T;;)if(M<T&&E<P)d(a[M],a[E])<=0?h[p++]=a[M++]:h[p++]=a[E++];else if(M<T)h[p++]=a[M++];else if(E<P)h[p++]=a[E++];else break}var l=function(a,d){if(d===void 0&&(d=y),!a||a.length<2)return a;if(o.features.stableSort)return a.sort(d);var v=f(a,d);return v!==a&&u(v,null,a.length,a),a};n.exports=l},25630:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){if(o===y)return s;var f=s.indexOf(o),u=s.indexOf(y);if(f<0||u<0)throw new Error("Supplied items must be elements of the same array");return s[f]=y,s[u]=o,s};n.exports=C},37105:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Matrix:s(54915),Add:s(71146),AddAt:s(51067),BringToTop:s(66905),CountAllMatching:s(21612),Each:s(95428),EachInRange:s(36914),FindClosestInSorted:s(81957),Flatten:s(43491),GetAll:s(46710),GetFirst:s(58731),GetRandom:s(26546),MoveDown:s(70864),MoveTo:s(69693),MoveUp:s(40853),MoveAbove:s(85835),MoveBelow:s(83371),NumberArray:s(20283),NumberArrayStep:s(593),QuickSelect:s(43886),Range:s(88492),Remove:s(72905),RemoveAt:s(60248),RemoveBetween:s(81409),RemoveRandomElement:s(31856),Replace:s(42169),RotateLeft:s(86003),RotateRight:s(49498),SafeRange:s(82011),SendToBack:s(89545),SetAll:s(17810),Shuffle:s(33680),SortByDigits:s(90126),SpliceOne:s(19133),StableSort:s(19186),Swap:s(25630)}},86922:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){if(!Array.isArray(s)||!Array.isArray(s[0]))return!1;for(var o=s[0].length,y=1;y<s.length;y++)if(s[y].length!==o)return!1;return!0};n.exports=C},63362:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(41836),y=s(86922),f=function(u){var l="";if(!y(u))return l;for(var a=0;a<u.length;a++){for(var d=0;d<u[a].length;d++){var v=u[a][d].toString();v!=="undefined"?l+=o(v,2):l+="?",d<u[a].length-1&&(l+=" |")}if(a<u.length-1){l+=`
`;for(var h=0;h<u[a].length;h++)l+="---",h<u[a].length-1&&(l+="+");l+=`
`}}return l};n.exports=f},92598:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s.reverse()};n.exports=C},21224:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){for(var o=0;o<s.length;o++)s[o].reverse();return s};n.exports=C},98717:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37829),y=function(f){return o(f,180)};n.exports=y},44657:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37829),y=function(f,u){u===void 0&&(u=1);for(var l=0;l<u;l++)f=o(f,90);return f};n.exports=y},37829:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(86922),y=s(2429),f=function(u,l){if(l===void 0&&(l=90),!o(u))return null;if(typeof l!="string"&&(l=(l%360+360)%360),l===90||l===-270||l==="rotateLeft")u=y(u),u.reverse();else if(l===-90||l===270||l==="rotateRight")u.reverse(),u=y(u);else if(Math.abs(l)===180||l==="rotate180"){for(var a=0;a<u.length;a++)u[a].reverse();u.reverse()}return u};n.exports=f},92632:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37829),y=function(f,u){u===void 0&&(u=1);for(var l=0;l<u;l++)f=o(f,-90);return f};n.exports=y},69512:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(86003),y=s(49498),f=function(u,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),a!==0&&(a<0?o(u,Math.abs(a)):y(u,a)),l!==0)for(var d=0;d<u.length;d++){var v=u[d];l<0?o(v,Math.abs(l)):y(v,l)}return u};n.exports=f},2429:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){for(var o=s.length,y=s[0].length,f=new Array(y),u=0;u<y;u++){f[u]=new Array(o);for(var l=o-1;l>-1;l--)f[u][l]=s[l][u]}return f};n.exports=C},54915:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CheckMatrix:s(86922),MatrixToString:s(63362),ReverseColumns:s(92598),ReverseRows:s(21224),Rotate180:s(98717),RotateLeft:s(44657),RotateMatrix:s(37829),RotateRight:s(92632),Translate:s(69512),TransposeMatrix:s(2429)}},71334:n=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=function(o,y){for(var f=new Uint8Array(o),u=f.length,l=y?"data:"+y+";base64,":"",a=0;a<u;a+=3)l+=C[f[a]>>2],l+=C[(f[a]&3)<<4|f[a+1]>>4],l+=C[(f[a+1]&15)<<2|f[a+2]>>6],l+=C[f[a+2]&63];return u%3===2?l=l.substring(0,l.length-1)+"=":u%3===1&&(l=l.substring(0,l.length-2)+"=="),l};n.exports=s},53134:n=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=new Uint8Array(256),o=0;o<C.length;o++)s[C.charCodeAt(o)]=o;var y=function(f){f=f.substr(f.indexOf(",")+1);var u=f.length,l=u*.75,a=0,d,v,h,c;f[u-1]==="="&&(l--,f[u-2]==="="&&l--);for(var p=new ArrayBuffer(l),m=new Uint8Array(p),x=0;x<u;x+=4)d=s[f.charCodeAt(x)],v=s[f.charCodeAt(x+1)],h=s[f.charCodeAt(x+2)],c=s[f.charCodeAt(x+3)],m[a++]=d<<2|v>>4,m[a++]=(v&15)<<4|h>>2,m[a++]=(h&3)<<6|c&63;return p};n.exports=y},65839:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ArrayBufferToBase64:s(71334),Base64ToArrayBuffer:s(53134)}},91799:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Array:s(37105),Base64:s(65839),Objects:s(1183),String:s(31749),NOOP:s(29747),NULL:s(20242)}},41786:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){var o={};for(var y in s)Array.isArray(s[y])?o[y]=s[y].slice(0):o[y]=s[y];return o};n.exports=C},62644:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){var o,y,f;if(typeof s!="object"||s===null)return s;o=Array.isArray(s)?[]:{};for(f in s)y=s[f],o[f]=C(y);return o};n.exports=C},79291:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(41212),y=function(){var f,u,l,a,d,v,h=arguments[0]||{},c=1,p=arguments.length,m=!1;for(typeof h=="boolean"&&(m=h,h=arguments[1]||{},c=2),p===c&&(h=this,--c);c<p;c++)if((f=arguments[c])!=null)for(u in f)l=h[u],a=f[u],h!==a&&(m&&a&&(o(a)||(d=Array.isArray(a)))?(d?(d=!1,v=l&&Array.isArray(l)?l:[]):v=l&&o(l)?l:{},h[u]=y(m,v,a)):a!==void 0&&(h[u]=a));return h};n.exports=y},23568:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(75508),y=s(35154),f=function(u,l,a){var d=y(u,l,null);if(d===null)return a;if(Array.isArray(d))return o.RND.pick(d);if(typeof d=="object"){if(d.hasOwnProperty("randInt"))return o.RND.integerInRange(d.randInt[0],d.randInt[1]);if(d.hasOwnProperty("randFloat"))return o.RND.realInRange(d.randFloat[0],d.randFloat[1])}else if(typeof d=="function")return d(l);return d};n.exports=f},95540:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){var f=typeof s;return!s||f==="number"||f==="string"?y:s.hasOwnProperty(o)&&s[o]!==void 0?s[o]:y};n.exports=C},82840:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35154),y=s(45319),f=function(u,l,a,d,v){v===void 0&&(v=a);var h=o(u,l,v);return y(h,a,d)};n.exports=f},35154:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){if(!s&&!f||typeof s=="number")return y;if(s&&s.hasOwnProperty(o))return s[o];if(f&&f.hasOwnProperty(o))return f[o];if(o.indexOf(".")!==-1){for(var u=o.split("."),l=s,a=f,d=y,v=y,h=!0,c=!0,p=0;p<u.length;p++)l&&l.hasOwnProperty(u[p])?(d=l[u[p]],l=l[u[p]]):h=!1,a&&a.hasOwnProperty(u[p])?(v=a[u[p]],a=a[u[p]]):c=!1;return h?d:c?v:y}else return y};n.exports=C},69036:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){for(var y=0;y<o.length;y++)if(!s.hasOwnProperty(o[y]))return!1;return!0};n.exports=C},1985:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){for(var y=0;y<o.length;y++)if(s.hasOwnProperty(o[y]))return!0;return!1};n.exports=C},97022:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return s.hasOwnProperty(o)};n.exports=C},41212:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){if(!s||typeof s!="object"||s.nodeType||s===s.window)return!1;try{if(s.constructor&&!{}.hasOwnProperty.call(s.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};n.exports=C},46975:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(41786),y=function(f,u){var l=o(f);for(var a in u)l.hasOwnProperty(a)||(l[a]=u[a]);return l};n.exports=y},269:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(41786),y=function(f,u){var l=o(f);for(var a in u)l.hasOwnProperty(a)&&(l[a]=u[a]);return l};n.exports=y},18254:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(97022),y=function(f,u){for(var l={},a=0;a<u.length;a++){var d=u[a];o(f,d)&&(l[d]=f[d])}return l};n.exports=y},61622:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y){if(!s||typeof s=="number")return!1;if(s.hasOwnProperty(o))return s[o]=y,!0;if(o.indexOf(".")!==-1){for(var f=o.split("."),u=s,l=s,a=0;a<f.length;a++)if(u.hasOwnProperty(f[a]))l=u,u=u[f[a]];else return!1;return l[f[f.length-1]]=y,!0}return!1};n.exports=C},1183:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Clone:s(41786),DeepCopy:s(62644),Extend:s(79291),GetAdvancedValue:s(23568),GetFastValue:s(95540),GetMinMaxValue:s(82840),GetValue:s(35154),HasAll:s(69036),HasAny:s(1985),HasValue:s(97022),IsPlainObject:s(41212),Merge:s(46975),MergeRight:s(269),Pick:s(18254),SetValue:s(61622)}},27902:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return s.replace(/%([0-9]+)/g,function(y,f){return o[Number(f)-1]})};n.exports=C},41836:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o,y,f){o===void 0&&(o=0),y===void 0&&(y=" "),f===void 0&&(f=3),s=s.toString();var u=0;if(o+1>=s.length)switch(f){case 1:s=new Array(o+1-s.length).join(y)+s;break;case 3:var l=Math.ceil((u=o-s.length)/2),a=u-l;s=new Array(a+1).join(y)+s+new Array(l+1).join(y);break;default:s=s+new Array(o+1-s.length).join(y);break}return s};n.exports=C},33628:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s,o){return o===0?s.slice(1):s.slice(0,o)+s.slice(o+1)};n.exports=C},27671:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s.split("").reverse().join("")};n.exports=C},45650:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var o=Math.random()*16|0,y=s==="x"?o:o&3|8;return y.toString(16)})};n.exports=C},35355:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(s){return s&&s[0].toUpperCase()+s.slice(1)};n.exports=C},31749:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Format:s(27902),Pad:s(41836),RemoveAt:s(33628),Reverse:s(27671),UppercaseFirst:s(35355),UUID:s(45650)}}},r={};function g(n){var C=r[n];if(C!==void 0)return C.exports;var s=r[n]={exports:{}};return i[n](s,s.exports,g),s.exports}g.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var S=g(85454);return S})())})(oM);var Sn=oM.exports;const Di=Y0(Sn);class sF extends Sn.Scene{constructor(){super("Preloader")}init(){this.add.image(512,384,"background"),this.add.rectangle(512,384,468,32).setStrokeStyle(1,16777215);const t=this.add.rectangle(282,384,4,28,16777215);this.load.on("progress",i=>{t.width=4+460*i})}preload(){this.load.setPath("assets"),this.load.json("config","config.json"),this.load.font("BoutiqueBitmap","fonts/BoutiqueBitmap9x9.ttf","truetype"),this.load.font("Tiny5","fonts/Tiny5-Regular.ttf","truetype"),this.load.on("filecomplete-json-config",(t,i,r)=>{const{battle_default_opponent:g,battle_beibei_opponent:S,battle_shangshang_opponent:n,battle_jennie_opponent:C,battle_bbb_opponent:s,battle_touching_opponent:o,battle_currycat_opponent:y,battle_afk_self:f,tamagotchi_room:u,tamagotchi_afk:l}=r;this.load.atlas(g.key,g.preload.png,g.preload.json),this.load.atlas(S.key,S.preload.png,S.preload.json),this.load.atlas(n.key,n.preload.png,n.preload.json),this.load.atlas(C.key,C.preload.png,C.preload.json),this.load.atlas(s.key,s.preload.png,s.preload.json),this.load.atlas(o.key,o.preload.png,o.preload.json),this.load.atlas(y.key,y.preload.png,y.preload.json),this.load.atlas(f.key,f.preload.png,f.preload.json),this.load.atlas(u.key,u.preload.png,u.preload.json),this.load.atlas(l.key,l.preload.png,l.preload.json),this.load.atlas("tamagotchi_header_frame","tamagotchi/header/frame.png","tamagotchi/header/frame.json"),this.load.atlas("tamagotchi_header_icons","tamagotchi/header/icons.png","tamagotchi/header/icons.json"),this.load.atlas("battle_board","battle/board.png","battle/board.json"),this.load.atlas("battle_afk","battle/afk.png","battle/afk.json"),this.load.atlas("dialogue_frame","dialogue/frame.png","dialogue/frame.json"),this.load.image("transition-cover","transition-cover.png"),this.load.atlas("frame","ui/frame.png","ui/frame.json")})}create(){this.scene.start("MainScene")}}class st{constructor(t){this.scene=t,t.events.once("destroy",this.destroy,this)}destroy(){this.scene=null}static register(t,i){st.prototype[t]=i}}var rF=function(e){return e===void 0&&(e=nF),this.getFrameNameCallback=e,this},nF=function(e,t,i){return i==="__BASE"?`${e},${t}`:`${i}:${e},${t}`};function Be(e){if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(i=>Be(i));if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);if(Object.getPrototypeOf(e)!==Object.prototype)return e;const t={};for(let i in e)e.hasOwnProperty(i)&&(t[i]=Be(e[i]));return t}var aF=function(e,t,i,r){Array.isArray(t)&&(r=i,i=t,t=void 0),t==null&&(t="__BASE"),typeof i=="number"&&arguments.length>=6?(i=[arguments[2],void 0,arguments[3]],r=[arguments[4],void 0,arguments[5]]):i===void 0&&r===void 0&&this.columns.data!==void 0&&this.rows.data!==void 0?(i=this.columns.data,r=this.rows.data):(i=Be(i),r=Be(r)),this.textureKey=e,this.baseFrameName=t,this.columns.data=i,this.columns.count=i?i.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.columns.scale=1,this.rows.data=r,this.rows.count=r?r.length:0,this.rows.stretch=0,this.rows.minHeight=0,this.rows.scale=1;var g=this.scene.sys.textures.get(e);if(!g)return this.clear(),this;if(!i||!r)return this.clear(),this;for(var S=g.get(t),n=S.width,C=0,s=0,o=i.length;s<o;s++)i[s]===void 0?C++:typeof i[s]=="number"?n-=i[s]:n-=i[s].width;for(var y=C>0?n/C:0,f=S.height,u=0,s=0,o=r.length;s<o;s++)r[s]===void 0?u++:typeof r[s]=="number"?f-=r[s]:f-=r[s].width;for(var l=u?f/u:0,a,d,v,h,c,p=0,m=0,x=0,T=r.length;x<T;x++){r[x]===void 0&&(r[x]=l),typeof r[x]=="number"&&(r[x]={height:r[x],stretch:x%2}),a=r[x],v=a.height,this.rows.stretch+=a.stretch|0,this.rows.minHeight+=a.stretch>0?0:v,p=0;for(var s=0,P=i.length;s<P;s++){if(i[s]===void 0&&(i[s]=y),typeof i[s]=="number"&&(i[s]={width:i[s],stretch:s%2}),d=i[s],h=d.width,x===0&&(this.columns.stretch+=d.stretch|0,this.columns.minWidth+=d.stretch>0?0:h),h>=1&&v>=1){c=this.getFrameNameCallback(s,x,t);var M=typeof c;(M==="string"||M==="number")&&g.add(c,0,p+S.cutX,m+S.cutY,h,v)}p+=h}m+=v}return this.updateTexture(),this},oF=function(){if(this.clear(),this.textureKey===void 0)return this;var e=this.scene.sys.textures.get(this.textureKey);if(!e)return this;var t=this.columns.minWidth*this.maxFixedPartScaleX,i=this.rows.minHeight*this.maxFixedPartScaleY,r=this.width-t,g=this.height-i,S=r>=0?this.maxFixedPartScaleX:this.width/t,n=g>=0?this.maxFixedPartScaleY:this.height/i;if(this.preserveRatio){var C=Math.min(S,n);if(S>C){var s=(S-C)*t;r>=0?r+=s:r=s,S=C}if(n>C){var o=(n-C)*i;g>=0?g+=o:g=o,n=C}}this.columns.scale=S,this.rows.scale=n;var y;r>0?y=this.columns.stretch>0?r/this.columns.stretch:0:y=0;var f;g>0?f=this.rows.stretch>0?g/this.rows.stretch:0:f=0;var u,l,a,d,v,h=0,c=0,p;this._beginDraw();for(var m=0,x=this.rows.count;m<x;m++){a=this.rows.data[m],v=a.stretch===0?a.height*n:f*a.stretch,h=0;for(var T=0,P=this.columns.count;T<P;T++)l=this.columns.data[T],d=l.stretch===0?l.width*S:y*l.stretch,u=this.getFrameNameCallback(T,m,this.baseFrameName),e.has(u)&&d>0&&v>0&&(a.stretch===0&&l.stretch===0||this.getStretchMode(T,m)===0?p=0:p=1,p===0?this._drawImage(this.textureKey,u,h,c,d,v):this._drawTileSprite(this.textureKey,u,h,c,d,v)),h+=d;c+=v}this._endDraw()};const hF=Phaser.Utils.Objects.IsPlainObject,k1=Phaser.Utils.Objects.GetValue;var lF=function(e){return hF(e)?(this.stretchMode.edge=Uv(k1(e,"edge",0)),this.stretchMode.internal=Uv(k1(e,"internal",0))):(e=Uv(e),this.stretchMode.edge=e,this.stretchMode.internal=e),this},Uv=function(e){return typeof e=="string"&&(e=uF[e]),e};const uF={scale:0,repeat:1};var dF=function(e,t){return e===0||e===this.columns.count-1||t===0||t===this.rows.count-1},fF=function(e,t){return dF.call(this,e,t)?this.stretchMode.edge:this.stretchMode.internal},cF=function(e){return e==null&&(e=!0),this.preserveRatio=e,this},vF=function(e,t){return t===void 0&&(t=e),this.maxFixedPartScaleX=e,this.maxFixedPartScaleY=t,this},Ee=function(){};const pF={_beginDraw:Ee,_drawImage:Ee,_drawTileSprite:Ee,_endDraw:Ee,setGetFrameNameCallback:rF,setBaseTexture:aF,updateTexture:oF,setStretchMode:lF,getStretchMode:fF,setPreserveRatio:cF,setMaxFixedPartScale:vF},lh=Phaser.Utils.Objects.IsPlainObject,wt=Phaser.Utils.Objects.GetValue;var hM=function(e,t){class i extends e{constructor(g,S,n,C,s,o,y,f,u,l){if(lh(S)?(l=S,S=wt(l,"x",0),n=wt(l,"y",0),C=wt(l,"width",1),s=wt(l,"height",1),o=wt(l,"key",void 0),y=wt(l,"baseFrame",void 0),f=wt(l,"columns",void 0),u=wt(l,"rows",void 0)):lh(C)?(l=C,C=wt(l,"width",1),s=wt(l,"height",1),o=wt(l,"key",void 0),y=wt(l,"baseFrame",void 0),f=wt(l,"columns",void 0),u=wt(l,"rows",void 0)):lh(o)?(l=o,o=wt(l,"key",void 0),y=wt(l,"baseFrame",void 0),f=wt(l,"columns",void 0),u=wt(l,"rows",void 0)):lh(y)?(l=y,y=wt(l,"baseFrame",void 0),f=wt(l,"columns",void 0),u=wt(l,"rows",void 0)):Array.isArray(y)?(l=u,u=f,f=y,y=wt(l,"baseFrame",void 0)):lh(f)&&(l=f,f=wt(l,"columns",void 0),u=wt(l,"rows",void 0)),y===void 0&&(y=wt(l,"frame",void 0)),f===void 0){var a=wt(l,"leftWidth",void 0),d=wt(l,"rightWidth",void 0);a!==void 0&&d!==void 0&&(f=[a,void 0,d])}if(u===void 0){var v=wt(l,"topHeight",void 0),h=wt(l,"bottomHeight",void 0);v!==void 0&&h!==void 0&&(u=[v,void 0,h])}super(g),this.type=t,this.setPosition(S,n).setSize(C,s).setOrigin(.5,.5),this.columns={},this.rows={},this.stretchMode={},this._tileSprite=void 0,this._image=void 0,this.setGetFrameNameCallback(wt(l,"getFrameNameCallback",void 0)),this.setStretchMode(wt(l,"stretchMode",0)),this.setPreserveRatio(wt(l,"preserveRatio",!0));var c=wt(l,"maxFixedPartScale",1),p=wt(l,"maxFixedPartScaleX",c),m=wt(l,"maxFixedPartScaleY",void 0);this.setMaxFixedPartScale(p,m),this.setBaseTexture(o,y,f,u)}get minWidth(){return this.columns.minWidth}get minHeight(){return this.rows.minHeight}get fixedPartScaleX(){return this.columns.scale}get fixedPartScaleY(){return this.rows.scale}resize(g,S){return this.width===g&&this.height===S?this:(super.resize?super.resize(g,S):super.setSize(g,S),this.updateTexture(),this)}get leftWidth(){return this.columns.data[0]}get rightWidth(){return this.columns.data[this.columns.count-1]}get topHeight(){return this.rows.data[0]}get bottomHeight(){return this.rows.data[this.rows.count-1]}}return Object.assign(i.prototype,pF),i};const gF=Phaser.Game;var N1=function(e){return e instanceof gF};const mF=Phaser.Scene;var ha=function(e){return e instanceof mF},pa=function(e){if(e==null||typeof e!="object")return null;if(N1(e))return e;if(N1(e.game))return e.game;if(ha(e))return e.sys.game;if(ha(e.scene))return e.scene.sys.game};const xF=Phaser.GameObjects;var Ar=void 0,lM=function(e,t){if(Ar||(Ar={},pa(e).events.once("destroy",function(){for(var r in Ar)Ar[r].destroy();Ar=void 0})),!Ar.hasOwnProperty(t)){var i=pa(e).scene.systemScene,e=new xF[t](i);e.setOrigin(0),Ar[t]=e}return Ar[t]},yF=function(e,t,i,r,g,S){var n=lM(this,"Image").setTexture(e,t).setDisplaySize(g,S);this.draw(n,i,r)},CF=function(e,t,i,r,g,S){var n=lM(this,"TileSprite").setTexture(e,t).setSize(g,S);this.draw(n,i,r)};const TF=Phaser.GameObjects.RenderTexture;let vc=class extends hM(TF,"rexNinePatch"){};var SF={_drawImage:yF,_drawTileSprite:CF};Object.assign(vc.prototype,SF);var uM=function(e){return e==null||e===""||e.length===0},PF=function(e,t,i){var r=e;if(!uM(t)){typeof t=="string"&&(t=t.split("."));for(var g,S=0,n=t.length;S<n;S++){if(g=t[S],r[g]==null||typeof r[g]!="object"){var C;S===n-1?C={}:C={},r[g]=C}r=r[g]}}return r},et=function(e,t,i,r){if(r===void 0&&(r="."),typeof e=="object"){if(uM(t)){if(i==null)return;typeof i=="object"&&(e=i)}else{typeof t=="string"&&(t=t.split(r));var g=t.pop(),S=PF(e,t);S[g]=i}return e}};st.register("ninePatch",function(e,t,i,r,g,S,n,C){var s=new vc(this.scene,e,t,i,r,g,S,n,C);return this.scene.add.existing(s),s});et(window,"RexPlugins.UI.NinePatch",vc);const EF=Phaser.GameObjects.GetCalcMatrix;var MF=function(e,t,i,r){var g=t.getRenderList();if(g.length!==0){i.addToRenderList(t);var S=e.pipelines.set(t.pipeline),n=t.frame.glTexture,C=S.setGameObject(t),s=i.roundPixels,o=EF(t,i,r),y=S.calcMatrix.copyFrom(o.calc),f=t._displayOriginX,u=t._displayOriginY,l=i.alpha*t.alpha;e.pipelines.preBatch(t);for(var a=0,d=g.length;a<d;a++)g[a].webglRender(S,y,l,f,u,n,C,s);e.pipelines.postBatch(t)}};const wF=Phaser.Renderer.Canvas.SetTransform;var RF=function(e,t,i,r){var g=e.currentContext,S=t.getRenderList();if(!(S.length===0||!wF(e,g,t,i,r))){i.addToRenderList(t);var n=i.roundPixels,C=-t._displayOriginX,s=-t._displayOriginY;g.translate(C,s);for(var o=0,y=S.length;o<y;o++)S[o].canvasRender(g,C,s,n);g.restore()}};const AF={renderWebGL:MF,renderCanvas:RF};var LF=function(e,t){return this.texture=this.scene.sys.textures.get(e),this.frame=this.texture.get(t),this},z1=function(e,t){if(this.width===e&&this.height===t)return this;this.width=e,this.height=t,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=e,i.hitArea.height=t),this},OF=function(e){return this.lastAppendedChildren.length=0,Array.isArray(e)?(this.children.add(e),this.lastAppendedChildren.push(...e)):(this.children.add(e),this.lastAppendedChildren.push(e)),this};const FF=Phaser.Utils.Array.Remove;var bF=function(e){return this.poolManager&&this.poolManager.free(e),FF(this.children.list,e),this.lastAppendedChildren.length=0,this.dirty=!0,this},V1=function(){return this.poolManager&&this.poolManager.freeMultiple(this.children.list),this.children.list.length=0,this.lastAppendedChildren.length=0,this.dirty=!0,this},DF=function(){return this.lastAppendedChildren},BF=function(){return this.children.list};const IF={setTint(e){return this.tint=e,this.tintFill=!1,this},setTintFill(e){return this.tint=e,this.tintFill=!0,this},clearTint(){return this.setTint(16777215),this}};var dM={setTexture:LF,resize:z1,setSize:z1,addChild:OF,removeChild:bF,removeChildren:V1,clear:V1,getLastAppendedChildren:DF,getChildren:BF};Object.assign(dM,IF);class Xs{constructor(){this.items=[]}destroy(){this.clear(),this.items=void 0}pop(){return this.items.length>0?this.items.pop():null}push(t){return this.items.push(t),this}pushMultiple(t){return this.items.push.apply(this.items,t),t.length=0,this}clear(){return this.items.length=0,this}}const GF=Phaser.Utils.Objects.GetValue;var kF={};let NF=class{constructor(t){this.pools=GF(t,"pools",kF)}destroy(){this.pools=void 0}free(t){if(!this.pools)return this;var i=t.type;return this.pools.hasOwnProperty(i)||(this.pools[i]=new Xs),this.pools[i].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var i=0,r=t.length;i<r;i++)this.free(t[i]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}};const zF=60;var U1=!1,pc=function(e){if(!U1){e===void 0&&(e=zF);var t=Phaser.VERSION.split("."),i=parseInt(t[0]);if(i===3){var r=parseInt(t[1]);r<e&&console.error(`Minimum supported version : ${i}.${r}`)}else console.error(`Can't supported version : ${i}`);U1=!0}};pc();const VF=Phaser.GameObjects.GameObject,UF=Phaser.Utils.Objects.IsPlainObject,uh=Phaser.Utils.Objects.GetValue,XF=Phaser.Structs.List,WF=Phaser.Utils.Array.StableSort;class fM extends VF{constructor(t,i,r,g,S,n){UF(i)&&(n=i,i=uh(n,"x",0),r=uh(n,"y",0),g=uh(n,"texture"),S=uh(n,"frame")),i===void 0&&(i=0),r===void 0&&(r=0),super(t,"rexBlitter"),this.children=new XF,this.renderList=[],this.displayListDirty=!1,this.lastAppendedChildren=[];var C=uh(n,"reuseBob",!0);this.poolManager=C?new NF(n):void 0,this.setTexture(g,S),this.setPosition(i,r),this.setOrigin(0,0),this.clearTint(),this.initPipeline(),this.initPostPipeline()}preDestroy(){this.removeChildren(),this.children.destroy(),this.renderList.length=0,this.poolManager&&this.poolManager.destroy()}getRenderList(){if(this.displayListDirty){this.renderList.length=0;for(var t=!1,i=this.children.list,r=0,g=i.length;r<g;r++){var S=i[r];YF(S)&&(this.renderList.push(S),t||(t=S.depth!==0))}t&&WF(this.renderList,HF),this.displayListDirty=!1}return this.renderList}}var YF=function(e){return e.active&&e.visible&&e.alpha>0},HF=function(e,t){return e._depth-t._depth};const Ni=Phaser.GameObjects.Components;Phaser.Class.mixin(fM,[Ni.Alpha,Ni.BlendMode,Ni.ComputedSize,Ni.Depth,Ni.GetBounds,Ni.Mask,Ni.Origin,Ni.Pipeline,Ni.PostPipeline,Ni.ScrollFactor,Ni.Transform,Ni.Visible,AF,dM]);const cM="image";var Bt=function(e,t,i){if(!e||typeof e=="number")return i;if(typeof t=="string"){if(e.hasOwnProperty(t))return e[t];if(t.indexOf(".")!==-1)t=t.split(".");else return i}for(var r=t,g=e,S=i,n=0;n<r.length;n++)if(t=r[n],g.hasOwnProperty(t))S=g[t],g=S;else{S=i;break}return S},dn=function(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))e.length=0;else for(var t in e)delete e[t];return e};const gc={enableData(){return this.data===void 0&&(this.data={}),this},setData(e,t){if(this.enableData(),arguments.length===1){var i=e;for(e in i)this.data[e]=i[e]}else this.data[e]=t;return this},getData(e,t){return this.enableData(),e===void 0?this.data:Bt(this.data,e,t)},incData(e,t,i){return i===void 0&&(i=0),this.enableData(),this.setData(e,this.getData(e,i)+t),this},mulData(e,t,i){return i===void 0&&(i=0),this.enableData(),this.setData(e,this.getData(e,i)*t),this},clearData(){return this.data&&dn(this.data),this}};let vM=class{constructor(t,i){this.type=i,this.data=void 0,this.setParent(t).reset().setActive()}destroy(){this.parent&&this.parent.removeChild(this)}setParent(t){return this.parent=t,this}setDisplayListDirty(t){return t&&this.parent&&(this.parent.displayListDirty=!0),this}get active(){return this._active}set active(t){this.setDisplayListDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}reset(){this.clearData()}onFree(){this.reset().setActive(!1).setParent()}};Object.assign(vM.prototype,gc);const $F=Phaser.Math.DegToRad,KF=Phaser.Math.RadToDeg,La=Phaser.Utils.Objects.GetValue;let ZF=class extends vM{get visible(){return this._visible}set visible(t){this.setDisplayListDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDisplayListDirty(!!this._alpha!=!!t),this._alpha=t}setAlpha(t){return this.alpha=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setPosition(t,i){return this.x=t,this.y=i,this}setRotation(t){return this.rotation=t,this}get angle(){return KF(this.rotation)}set angle(t){this.rotation=$F(t)}setAngle(t){return this.angle=t,this}setScaleX(t){return this.scaleX=t,this}get width(){return this._width}set width(t){this._width=t}setWidth(t,i){return i===void 0&&(i=!1),this.width=t,i&&(this.scaleY=this.scaleX),this}setScaleY(t){return this.scaleY=t,this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}get height(){return this._height}set height(t){this._height=t}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}get displayWidth(){return this._width*this.scaleX}set displayWidth(t){this.scaleX=t/this._width}setDisplayWidth(t,i){return i===void 0&&(i=!1),this.displayWidth=t,i&&(this.scaleY=this.scaleX),this}get displayHeight(){return this._height*this.scaleY}set displayHeight(t){this.scaleY=t/this._height}setDisplayHeight(t,i){return i===void 0&&(i=!1),this.displayHeight=t,i&&(this.scaleX=this.scaleY),this}setOriginX(t){return this.originX=t,this._displayOriginX=this.width*t,this}setOriginY(t){return this.originY=t,this._displayOriginY=this.height*t,this}setOrigin(t,i){return i===void 0&&(i=t),this.setOriginX(t).setOriginY(i),this}get depth(){return this._depth}set depth(t){this.setDisplayListDirty(this._depth!=t),this._depth=t}setDepth(t){return t===void 0&&(t=0),this.depth=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var i=La(t,"width",void 0),r=La(t,"height",void 0),g=La(t,"scale",void 0),S=La(t,"scaleX",g),n=La(t,"scaleY",g);i!==void 0?r===void 0&&n===void 0?this.setWidth(i,!0):this.setWidth(i):S!==void 0?this.setScaleX(S):t.hasOwnProperty("displayWidth")&&this.setDisplayWidth(t.displayWidth),r!==void 0?i===void 0&&S===void 0?this.setHeight(r,!0):this.setHeight(r):n!==void 0?this.setScaleY(n):t.hasOwnProperty("displayHeight")&&this.setDisplayHeight(t.displayHeight);var C=La(t,"origin",void 0);return C!==void 0?this.setOrigin(C):(t.hasOwnProperty("originX")&&this.setOriginX(t.originX),t.hasOwnProperty("originY")&&this.setOriginY(t.originY)),t.hasOwnProperty("depth")&&this.setDepth(t.depth),this}reset(){return super.reset(),this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setOrigin(0).setDepth(0),this}webglRender(t,i,r,g,S,n,C,s){}canvasRender(t,i,r,g){}};const JF=Phaser.GameObjects.Components.TransformMatrix,QF=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;var Du=new JF,jF=function(e,t,i,r,g,S,n,C){var s=this.frame;if(s){var o=this._width,y=this._height,f=o*this.originX,u=y*this.originY,l=this.x-r,a=this.y-g,d,v,h,c,p,m,x,T;if(this.isCropped){var P=this._crop;(P.flipX!==this.flipX||P.flipY!==this.flipY)&&s.updateCropUVs(P,this.flipX,this.flipY),d=P.u0,v=P.v0,h=P.u1,c=P.v1,x=P.width,T=P.height,p=P.x,m=P.y}else d=this.frame.u0,v=this.frame.v0,h=this.frame.u1,c=this.frame.v1,x=o,T=y,p=0,m=0;var M=1,E=1;this.flipX&&(l+=o-f*2,M=-1),this.flipY&&(a+=y-u*2,E=-1),Du.applyITRS(l,a,this.rotation,this.scaleX*M,this.scaleY*E),t.multiply(Du,Du);var w=-f+p,R=-u+m,A=w+x,L=R+T,b=Du.setQuad(w,R,A,L,C),O=QF(this.tint,this.alpha*i);e.batchQuad(this.parent,b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],d,v,h,c,O,O,O,O,this.tintFill,S,n)}},qF=function(e,t,i,r){var g=this.frame;if(g){e.save();var S=this._width,n=this._height,C=S*this.originX,s=n*this.originY,o=this.x-C,y=this.y-s,f,u,l,a;if(this.isCropped){var d=this._crop;(d.flipX!==this.flipX||d.flipY!==this.flipY)&&g.updateCropUVs(d,this.flipX,this.flipY),l=d.cw,a=d.ch,f=d.cx,u=d.cy}else l=g.cutWidth,a=g.cutHeight,f=g.cutX,u=g.cutY;var v=1,h=1;this.flipX&&(o+=S,v=-1),this.flipY&&(y+=n,h=-1);var c=g.source.resolution,p=l/c,m=a/c;r&&(o=Math.floor(o+.5),y=Math.floor(y+.5),p+=.5,m+=.5),e.translate(o,y),e.rotate(this.rotation),e.scale(this.scaleX*v,this.scaleY*h),e.drawImage(g.source.image,f,u,l,a,0,0,p,m),e.restore()}};const _F=Phaser.Utils.Objects.IsPlainObject;let pM=class extends ZF{constructor(t,i){super(t,cM),this._crop=t4(),this.setFrame(i)}get width(){return this._width}set width(t){}get height(){return this._height}set height(t){}setFrame(t){return arguments.length>0&&!_F(t)&&(t=this.parent.texture.get(t)),this.frame=t,t?(this._width=t.realWidth,this._height=t.realHeight):(this._width=0,this._height=0),this}setFlipX(t){return t===void 0&&(t=!0),this.flipX=t,this}setFlipY(t){return t===void 0&&(t=!0),this.flipY=t,this}resetFlip(){return this.flipX=!1,this.flipY=!1,this}get tint(){return this._tint===void 0?this.parent.tint:this._tint}set tint(t){this._tint=t}setTint(t){return this.tint=t,this.tintFill=!1,this}setTintFill(t){return this.tint=t,this.tintFill=!0,this}clearTint(){return this.setTint(16777215),this}resetTint(){return this.tint=void 0,this.tintFill=void 0,this}get tintFill(){return this._tintFill===void 0?this.parent.tintFill:this._tintFill}set tintFill(t){this._tintFill=t}setCrop(t,i,r,g){return t===void 0?(this.isCropped=!1,this):this.frame?t===0&&i===0&&r===this._width&&g===this._height?(this.isCropped=!1,this):(this.frame.setCropUVs(this._crop,t,i,r,g,this.flipX,this.flipY),this.isCropped=!0,this):this}reset(){return super.reset(),this.resetFlip().resetTint().setFrame().setCrop(),this}modifyPorperties(t){return t?(t.hasOwnProperty("width")&&(t.displayWidth=t.width,delete t.width),t.hasOwnProperty("height")&&(t.displayHeight=t.height,delete t.height),t.hasOwnProperty("frame")&&this.setFrame(t.frame),super.modifyPorperties(t),t.hasOwnProperty("flipX")&&this.setFlipX(t.flipX),t.hasOwnProperty("flipY")&&this.setFlipY(t.flipY),t.hasOwnProperty("tint")&&this.setTint(t.tint),t.hasOwnProperty("tintFill")&&this.setTintFill(t.tintFill),this):this}};var t4=function(e){return e===void 0&&(e={}),e.u0=0,e.v0=0,e.u1=0,e.v1=0,e.x=0,e.y=0,e.width=0,e.height=0,e.flipX=!1,e.flipY=!1,e.cx=0,e.cy=0,e.cw=0,e.ch=0,e},e4={webglRender:jF,canvasRender:qF};Object.assign(pM.prototype,e4);var gM=function(e,t){typeof t=="string"&&(t={frame:t});var i=e.poolManager?e.poolManager.allocate(cM):null;return i===null?i=new pM(e):i.setParent(e).setActive(),i.modifyPorperties(t),e.addChild(i),i},i4=function(e,t,i,r,g,S){gM(this,{frame:t,x:i,y:r,width:g,height:S})},s4=function(e,t,i,r,g,S){var n=this.texture.get(t),C=n.width,s=n.height,o=g%C,y=S%s;o===0&&(o=C),y===0&&(y=s);for(var f=Math.ceil(g/C),u=Math.ceil(S/s),l=f-1,a=u-1,d=0;d<f;d++)for(var v=0;v<u;v++){let p=gM(this,{frame:t,x:i+d*C,y:r+v*s});var h=d===l?o:C,c=v===a?y:s;(h!==C||c!==s)&&p.setCrop(0,0,h,c)}};const r4={_drawImage:i4,_drawTileSprite:s4};class zm extends hM(fM,"rexNinePatch2"){setBaseTexture(t,i,r,g){return this.setTexture(t,i),super.setBaseTexture(t,i,r,g),this}}Object.assign(zm.prototype,r4);st.register("ninePatch2",function(e,t,i,r,g,S,n,C){var s=new zm(this.scene,e,t,i,r,g,S,n,C);return this.scene.add.existing(s),s});et(window,"RexPlugins.UI.NinePatch2",zm);var n4=Phaser.Renderer.WebGL.Utils,mM=function(e,t,i,r,g,S){for(var n=n4.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*r),C=i.pathData,s=i.pathIndexes,o=0;o<s.length;o+=3){var y=s[o]*2,f=s[o+1]*2,u=s[o+2]*2,l=C[y+0]-g,a=C[y+1]-S,d=C[f+0]-g,v=C[f+1]-S,h=C[u+0]-g,c=C[u+1]-S,p=t.getX(l,a),m=t.getY(l,a),x=t.getX(d,v),T=t.getY(d,v),P=t.getX(h,c),M=t.getY(h,c);e.batchTri(i,p,m,x,T,P,M,0,0,1,1,n,n,n,2)}},a4=Phaser.Renderer.WebGL.Utils,mc=function(e,t,i,r,g){var S=e.strokeTint,n=a4.getTintAppendFloatAlpha(t.strokeColor,t.strokeAlpha*i);S.TL=n,S.TR=n,S.BL=n,S.BR=n;var C=t.pathData,s=C.length-1,o=t.lineWidth,y=o/2,f=C[0]-r,u=C[1]-g;t.closePath||(s-=2);for(var l=2;l<s;l+=2){var a=C[l]-r,d=C[l+1]-g;e.batchLine(f,u,a,d,y,y,o,l-2,t.closePath?l===s-1:!1),f=a,u=d}};const o4=Phaser.GameObjects.GetCalcMatrix;var h4=function(e,t,i,r){t.dirty&&(t.updateData(),t.dirty=!1),i.addToRenderList(t);var g=e.pipelines.set(t.pipeline),S=o4(t,i,r),n=g.calcMatrix.copyFrom(S.calc),C=t._displayOriginX,s=t._displayOriginY,o=i.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&mM(g,n,t,o,C,s),t.isStroked&&mc(g,t,o,C,s),e.pipelines.postBatch(t)},Nl=function(e,t,i,r){var g=t.fillColor,S=t.fillAlpha,n=(g&16711680)>>>16,C=(g&65280)>>>8,s=g&255;e.fillStyle="rgba("+n+","+C+","+s+","+S+")"},zl=function(e,t,i,r){var g=t.strokeColor,S=t.strokeAlpha,n=(g&16711680)>>>16,C=(g&65280)>>>8,s=g&255;e.strokeStyle="rgba("+n+","+C+","+s+","+S+")",e.lineWidth=t.lineWidth};const l4=Phaser.Renderer.Canvas.SetTransform;var u4=function(e,t,i,r){t.dirty&&(t.updateData(),t.dirty=!1),i.addToRenderList(t);var g=e.currentContext;if(l4(e,g,t,i,r)){var S=t._displayOriginX,n=t._displayOriginY,C=t.pathData,s=C.length-1,o=C[0]-S,y=C[1]-n;g.beginPath(),g.moveTo(o,y),t.closePath||(s-=2);for(var f=2;f<s;f+=2){var u=C[f]-S,l=C[f+1]-n;g.lineTo(u,l)}g.closePath(),t.isFilled&&(Nl(g,t),g.fill()),t.isStroked&&(zl(g,t),g.stroke()),g.restore()}};const d4={renderWebGL:h4,renderCanvas:u4},f4=Phaser.GameObjects.Shape;class Vm extends f4{get fillColor(){return this._fillColor}set fillColor(t){this._fillColor=t,this.isFilled=t!=null&&this._fillAlpha>0}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this._fillAlpha=t,this.isFilled=t>0&&this._fillColor!=null}setFillStyle(t,i){return i===void 0&&(i=1),this.fillColor=t,this.fillAlpha=i,this}get strokeColor(){return this._strokeColor}set strokeColor(t){this._strokeColor=t,this.isStroked=t!=null&&this._strokeAlpha>0&&this._lineWidth>0}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this._strokeAlpha=t,this.isStroked=t>0&&this._strokeColor!=null&&this._lineWidth>0}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this.isStroked=t>0&&this._strokeColor!=null}setStrokeStyle(t,i,r){return r===void 0&&(r=1),this.lineWidth=t,this.strokeColor=i,this.strokeAlpha=r,this}updateData(){return this}get width(){return this.geom.width}set width(t){this.resize(t,this.height)}get height(){return this.geom.height}set height(t){this.resize(this.width,t)}setSize(t,i){var r=this.input;return r&&!r.customHitArea&&(r.hitArea.width=t,r.hitArea.height=i),this}resize(t,i){return this.setSize(t,i),this}}Object.assign(Vm.prototype,d4);const Hr=Phaser.Utils.Objects.GetValue;let Um=class{constructor(t,i,r,g,S){t===void 0&&(t=0),i===void 0&&(i=t),r===void 0&&(r=0),g===void 0&&(g=0),S===void 0&&(S=0),this.cornerRadius={},this._width=0,this._height=0,this.setTo(t,i,r,g,S)}setTo(t,i,r,g,S){return this.setPosition(t,i),this.setRadius(S),this.setSize(r,g),this}setPosition(t,i){return this.x=t,this.y=i,this}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setSize(t,i){return this.width=t,this.height=i,this}get minWidth(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}get minHeight(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}get width(){return this._width}set width(t){t==null&&(t=0),this._width=Math.max(t,this.minWidth)}get height(){return this._height}set height(t){t==null&&(t=0),this._height=Math.max(t,this.minHeight)}get radius(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}set radius(t){var i,r;typeof t=="number"?(i=t,r=t):(i=Hr(t,"x",0),r=Hr(t,"y",0));var g=this.cornerRadius;g.tl=Bu(Hr(t,"tl",void 0),i,r),g.tr=Bu(Hr(t,"tr",void 0),i,r),g.bl=Bu(Hr(t,"bl",void 0),i,r),g.br=Bu(Hr(t,"br",void 0),i,r)}get radiusTL(){var t=this.cornerRadius.tl;return Math.max(t.x,t.y)}set radiusTL(t){Iu(this.cornerRadius.tl,t)}get radiusTR(){var t=this.cornerRadius.tr;return Math.max(t.x,t.y)}set radiusTR(t){Iu(this.cornerRadius.tr,t)}get radiusBL(){var t=this.cornerRadius.bl;return Math.max(t.x,t.y)}set radiusBL(t){Iu(this.cornerRadius.bl,t)}get radiusBR(){var t=this.cornerRadius.br;return Math.max(t.x,t.y)}set radiusBR(t){Iu(this.cornerRadius.br,t)}};var Bu=function(e,t,i){return e===void 0?e={x:t,y:i}:typeof e=="number"&&(e={x:e,y:e}),xM(e),e},Iu=function(e,t){typeof t=="number"?(e.x=t,e.y=t):(e.x=Hr(t,"x",0),e.y=Hr(t,"y",0)),xM(e)},xM=function(e){e.convex=e.x>=0||e.y>=0,e.x=Math.abs(e.x),e.y=Math.abs(e.y)},Jt=function(e){return e.x>0&&e.y>0},Ae=function(e,t,i){var r=i.length;if(r>=2){var g=i[r-2],S=i[r-1];if(e===g&&t===S)return i}return i.push(e,t),i};const X1=Phaser.Math.DegToRad;var Le=function(e,t,i,r,g,S,n,C,s){n&&S>g?S-=360:!n&&S<g&&(S+=360);var o=S-g,y=X1(o)/C;g=X1(g);for(var f=0;f<=C;f++){var u=g+y*f,l=e+i*Math.cos(u),a=t+r*Math.sin(u);Ae(l,a,s)}return s};const c4=Phaser.Utils.Objects.IsPlainObject,W1=Phaser.Utils.Objects.GetValue,v4=Phaser.Geom.Polygon.Earcut;let Ca=class extends Vm{constructor(t,i,r,g,S,n,C,s){var o,y,f,u;if(c4(i)){var l=i;i=l.x,r=l.y,g=l.width,S=l.height,n=l.radius,C=l.color,s=l.alpha,o=l.strokeColor,y=l.strokeAlpha,f=l.strokeWidth,u=l.shape}i===void 0&&(i=0),r===void 0&&(r=0),g===void 0&&(g=1),S===void 0&&(S=g),n===void 0&&(n=0),u===void 0&&(u=0);var a=new Um;if(super(t,"rexRoundRectangleShape",a),this.setShapeType(u),this.shapeType===0){var d=W1(n,"radius",n);a.setTo(0,0,g,S,d)}else{var d={x:g/2,y:S/2};a.setTo(0,0,g,S,d)}this.setIteration(W1(n,"iteration",void 0)),this.setPosition(i,r),this.setFillStyle(C,s),f===void 0&&(f=2),this.setStrokeStyle(f,o,y),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var t=this.geom,i=this.pathData;i.length=0;var r=t.width,g=t.height,S=t.cornerRadius,n,C=this.iteration+1;if(n=S.tl,Jt(n))if(n.convex){var s=n.x,o=n.y;Le(s,o,n.x,n.y,180,270,!1,C,i)}else{var s=0,o=0;Le(s,o,n.x,n.y,90,0,!0,C,i)}else Ae(0,0,i);if(n=S.tr,Jt(n))if(n.convex){var s=r-n.x,o=n.y;Le(s,o,n.x,n.y,270,360,!1,C,i)}else{var s=r,o=0;Le(s,o,n.x,n.y,180,90,!0,C,i)}else Ae(r,0,i);if(n=S.br,Jt(n))if(n.convex){var s=r-n.x,o=g-n.y;Le(s,o,n.x,n.y,0,90,!1,C,i)}else{var s=r,o=g;Le(s,o,n.x,n.y,270,180,!0,C,i)}else Ae(r,g,i);if(n=S.bl,Jt(n))if(n.convex){var s=n.x,o=g-n.y;Le(s,o,n.x,n.y,90,180,!1,C,i)}else{var s=0,o=g;Le(s,o,n.x,n.y,360,270,!0,C,i)}else Ae(0,g,i);return i.push(i[0],i[1]),this.pathIndexes=v4(i),this}setShapeType(t){return typeof t=="string"&&(t=p4[t]),this.shapeType=t,this}setSize(t,i){return i===void 0&&(i=t),this.geom.width===t&&this.geom.height===i?this:(this.geom.setSize(t,i),this.shapeType===1&&this.setRadius({x:t/2,y:i/2}),this.updateDisplayOrigin(),this.dirty=!0,super.setSize(t,i),this)}get radius(){return this.geom.radius}set radius(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.dirty=!0}get radiusTL(){return this.geom.radiusTL}set radiusTL(t){this.geom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.geom.radiusTR}set radiusTR(t){this.geom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.geom.radiusBL}set radiusBL(t){this.geom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.geom.radiusBR}set radiusBR(t){this.geom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.geom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}};const p4={rectangle:0,circle:1};st.register("roundRectangle",function(e,t,i,r,g,S,n){var C=new Ca(this.scene,e,t,i,r,g,S,n);return this.scene.add.existing(C),C});et(window,"RexPlugins.UI.RoundRectangle",Ca);const g4=Phaser.Renderer.WebGL.Utils;var m4=function(e,t,i,r){if(t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)){i.addToRenderList(t);var g=t.frame,S=g.width,n=g.height,C=g4.getTintAppendFloatAlpha,s=e.pipelines.set(t.pipeline,t),o=s.setTexture2D(g.glTexture,t);e.pipelines.preBatch(t),s.batchTexture(t,g.glTexture,S,n,t.x,t.y,S/t.resolution,n/t.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,S,n,C(t.tintTopLeft,i.alpha*t._alphaTL),C(t.tintTopRight,i.alpha*t._alphaTR),C(t.tintBottomLeft,i.alpha*t._alphaBL),C(t.tintBottomRight,i.alpha*t._alphaBR),t.tintFill,0,0,i,r,!1,o),e.pipelines.postBatch(t)}},x4=function(e,t,i,r){t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)&&(i.addToRenderList(t),e.batchSprite(t,t.frame,i,r))};const y4={renderWebGL:m4,renderCanvas:x4},C4=Phaser.Display.Color,T4={clear(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill(e){return this.context.fillStyle=e,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},drawFrame(e,t,i,r,g,S,n,C,s,o){var y=this.scene.sys.textures.getFrame(e,t);if(!y)return this;var f=y.cutWidth,u=y.cutHeight;i===void 0&&(i=0),r===void 0&&(r=0),g===void 0&&(g=f),S===void 0&&(S=u),n===void 0&&(n=0),C===void 0&&(C=0),s===void 0&&(s=f),o===void 0&&(o=u);var l=y.cutX+n,a=y.cutY+C;return this.context.drawImage(y.source.image,l,a,s,o,i,r,g,S),this.dirty=!0,this},getDataURL(e,t){return this.canvas.toDataURL(e,t)},getPixel(e,t,i){i===void 0&&(i=new C4);var r=this.context.getImageData(e,t,1,1);return i.setTo(r.data[0],r.data[1],r.data[2],r.data[3]),i},setPixel(e,t,i,r,g,S){if(typeof i!="number"){var n=i;i=n.red,r=n.green,g=n.blue,S=n.alpha}S===void 0&&(S=i!==0||r!==0||g!==0?255:0);var C=this.context.createImageData(1,1);return C.data[0]=i,C.data[1]=r,C.data[2]=g,C.data[3]=S,this.context.putImageData(C,e,t),this.dirty=!0,this}};var yM=function(e,t,i,r,g,S,n){var C=e.sys.textures,s=e.renderer;r===void 0&&(r=0),g===void 0&&(g=0),S===void 0&&(S=t.width),n===void 0&&(n=t.height);var o;C.exists(i)?o=C.get(i):o=C.createCanvas(i,S,n);var y=o.getSourceImage();y.width!==S&&(y.width=S),y.height!==n&&(y.height=n);var f=y.getContext("2d",{willReadFrequently:!0});f.clearRect(0,0,S,n),f.drawImage(t,r,g,S,n),s.gl&&o&&s.canvasToTexture(y,o.source[0].glTexture,!0,0)};const S4={updateTexture(e,t){if(e){var i=this.resolution;i!==1&&(this.context.save(),this.context.scale(i,i)),t?e.call(t,this.canvas,this.context):e(this.canvas,this.context),i!==1&&this.context.restore()}(this.canvas.width!==this.frame.width||this.canvas.height!==this.frame.height)&&this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"Canvas Game Object"}),this.dirty=!1;var r=this.input;return r&&!r.customHitArea&&(r.hitArea.width=this.width,r.hitArea.height=this.height),this},generateTexture(e,t,i,r,g){var S=this.canvas;return r===void 0?r=S.width:r*=this.resolution,g===void 0?g=S.height:g*=this.resolution,yM(this.scene,S,e,t,i,r,g),this},loadTexture(e,t){var i=this.scene.sys.textures.getFrame(e,t);return i?(this.width!==i.cutWidth||this.height!==i.cutHeight?this.setSize(i.cutWidth,i.cutHeight):this.clear(),this.drawFrame(e,t),this.dirty=!0,this):this}};pc();const Y1=Phaser.Display.Canvas.CanvasPool,P4=Phaser.GameObjects.GameObject,E4=Phaser.Utils.String.UUID;let Pn=class extends P4{constructor(t,i,r,g,S,n){i===void 0&&(i=0),r===void 0&&(r=0),g===void 0&&(g=1),S===void 0&&(S=1),n===void 0&&(n=1),super(t,"rexCanvas"),this.renderer=t.sys.game.renderer,this._width=g,this._height=S,this.resolution=n,g=Math.max(Math.ceil(g*this.resolution),1),S=Math.max(Math.ceil(S*this.resolution),1),this.canvas=Y1.create(this,g,S),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.dirty=!1,this.setPosition(i,r),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline(!0),this._crop=this.resetCropObject(),this._textureKey=E4(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.dirty=!0}preDestroy(){Y1.remove(this.canvas),this.canvas=null,this.context=null;var t=this.texture;t&&t.destroy()}setResolution(t){if(this.resolution===t)return this;this.resolution=t;var i=Math.max(Math.ceil(this.width*t),1),r=Math.max(Math.ceil(this.height*t),1);return this.canvas.width=i,this.canvas.height=r,this.frame.source.resolution=t,this.dirty=!0,this}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setCanvasSize(t,i){return this._width===t&&this._height===i?this:(this._width=t,this._height=i,this.updateDisplayOrigin(),t=Math.max(Math.ceil(t*this.resolution),1),i=Math.max(Math.ceil(i*this.resolution),1),this.canvas.width=t,this.canvas.height=i,this.frame.setSize(t,i),this.dirty=!0,this)}setSize(t,i){return this.setCanvasSize(t,i),this}get displayWidth(){return this.scaleX*this._width}set displayWidth(t){this.scaleX=t/this._width}get displayHeight(){return this.scaleY*this._height}set displayHeight(t){this.scaleY=t/this._height}setDisplaySize(t,i){return this.displayWidth=t,this.displayHeight=i,this}getCanvas(t){return t||(this.dirty=!0),this.canvas}getContext(t){return t||(this.dirty=!0),this.context}needRedraw(){return this.dirty=!0,this}resize(t,i){return this.setSize(t,i),this}};const hi=Phaser.GameObjects.Components;Phaser.Class.mixin(Pn,[hi.Alpha,hi.BlendMode,hi.Crop,hi.Depth,hi.Flip,hi.GetBounds,hi.Mask,hi.Origin,hi.Pipeline,hi.PostPipeline,hi.ScrollFactor,hi.Tint,hi.Transform,hi.Visible,y4,T4,S4]);const M4=Phaser.Utils.String.Pad;var xt=function(e,t,i){if(e==null)return e;switch(typeof e){case"string":return e;case"number":return`#${M4(Math.floor(e).toString(16),6,"0",1)}`;case"function":return e(t,i);case"object":return e.hasOwnProperty("r")?e.hasOwnProperty("a")?`rgba(${e.r},${e.g},${e.b},${e.a})`:`rgb(${e.r},${e.g},${e.b})`:e.hasOwnProperty("h")?e.hasOwnProperty("a")?`hsla(${e.h},${e.s},${e.l},${e.a})`:`hsl(${e.h},${e.s},${e.l})`:e;default:return e}};const H1=Phaser.Math.DegToRad;var CM=function(e,t,i,r,g,S,n){var C=new Um(t,i,r,g,S),s=C.minWidth,o=C.minHeight,y=r>=s?1:r/s,f=g>=o?1:g/o,u=C.cornerRadius,l,a,d,v,h,c,p;e.save(),e.beginPath(),e.translate(t,i),l=u.tl,ku(l)?(a=l.x*y,d=l.y*f,Gu(l)?(v=a,h=d,Lr(e,v,h,a,d,180,270,!1,n)):(v=0,h=0,Lr(e,v,h,a,d,90,0,!0,n)),c=0,p=d):(e.lineTo(0,0),c=0,p=0),l=u.tr,ku(l)?(a=l.x*y,d=l.y*f,Gu(l)?(v=r-a,h=d,Lr(e,v,h,a,d,270,360,!1,n)):(v=r,h=0,Lr(e,v,h,a,d,180,90,!0,n))):e.lineTo(r,0),l=u.br,ku(l)?(a=l.x*y,d=l.y*f,Gu(l)?(v=r-a,h=g-d,Lr(e,v,h,a,d,0,90,!1,n)):(v=r,h=g,Lr(e,v,h,a,d,270,180,!0,n))):e.lineTo(r,g),l=u.bl,ku(l)?(a=l.x*y,d=l.y*f,Gu(l)?(v=a,h=g-d,Lr(e,v,h,a,d,90,180,!1,n)):(v=0,h=g,Lr(e,v,h,a,d,360,270,!0,n))):e.lineTo(0,g),e.lineTo(c,p),e.closePath(),e.restore()},Gu=function(e){return!e.hasOwnProperty("convex")||e.convex},ku=function(e){return e.x>0&&e.y>0},Lr=function(e,t,i,r,g,S,n,C,s){if(C&&n>S?n-=360:!C&&n<S&&(n+=360),S=H1(S),n=H1(n),s==null)e.ellipse(t,i,r,g,0,S,n,C);else{s+=1;for(var o,y,f,u=(n-S)/s,l=0;l<=s;l++)f=S+u*l,o=t+r*Math.cos(f),y=i+g*Math.sin(f),e.lineTo(o,y)}},w4=function(e,t,i,r,g,S,n,C,s,o,y,f,u){if(CM(t,i,r,g,S,n,u),C!=null){if(y!=null){var l;f?l=t.createLinearGradient(0,0,g,0):l=t.createLinearGradient(0,0,0,S),l.addColorStop(0,C),l.addColorStop(1,y),C=l}t.fillStyle=C,t.fill()}s!=null&&o>0&&(t.strokeStyle=s,t.lineWidth=o,t.stroke())},Xm=function(e,t,i,r,g,S,n,C){if(!(t==null&&i==null)){var s=e.canvas.width,o=e.canvas.height;i==null&&(r=0);var y=r/2;s=Math.max(1,s-r),o=Math.max(1,o-r),w4(e.canvas,e.context,y,y,s,o,g,t,i,r,S,n,C)}},R4=function(){Xm(this,this.fillStyle,this.strokeStyle,this.lineWidth,this.radius,this.fillColor2,this.isHorizontalGradient,this.iteration)};const $1=Phaser.Utils.Objects.GetValue;let TM=class extends Pn{constructor(t,i,r,g,S,n,C,s,o,y,f,u){i===void 0&&(i=0),r===void 0&&(r=0),g===void 0&&(g=1),S===void 0&&(S=g),n===void 0&&(n=0),u===void 0&&(u=1),super(t,i,r,g,S,u),this.type="rexRoundRectangleCanvas";var l=$1(n,"radius",n),a=$1(n,"iteration",void 0);this.setRadius(l),this.setIteration(a),this.setFillStyle(C,y,f),this.setStrokeStyle(s,o)}get radius(){return this._radius}set radius(t){this.dirty|=this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this}get iteration(){return this._iteration}set iteration(t){this.dirty|=this._iteration!=t,this._iteration=t}setIteration(t){return this.iteration=t,this}get fillStyle(){return this._fillStyle}set fillStyle(t){t=xt(t,this.canvas,this.context),this.dirty|=this._fillStyle!=t,this._fillStyle=t}get fillColor2(){return this._fillColor2}set fillColor2(t){t=xt(t,this.canvas,this.context),this.dirty|=this._fillColor2!=t,this._fillColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setFillStyle(t,i,r){return r===void 0&&(r=!0),this.fillStyle=t,this.fillColor2=i,this.isHorizontalGradient=r,this}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){t=xt(t,this.canvas,this.context),this.dirty|=this._strokeStyle!=t,this._strokeStyle=t}get lineWidth(){return this._lineWidth}set lineWidth(t){this.dirty|=this._lineWidth!=t,this._lineWidth=t}setStrokeStyle(t,i){return this.strokeStyle=t,this.lineWidth=i,this}updateTexture(){return super.updateTexture(function(){this.clear(),R4.call(this)},this),this}};st.register("roundRectangleCanvas",function(e,t,i,r,g,S,n,C,s,o){var y=new TM(this.scene,e,t,i,r,g,S,n,C,s,o);return this.scene.add.existing(y),y});et(window,"RexPlugins.UI.RoundRectangleCanvas",TM);var Ot=function(e,t){if(!e)return!1;if(e.hasOwnProperty(t))return!0;for(;e;){if(Object.getOwnPropertyDescriptor(e,t))return!0;e=e.__proto__}return!1},Or=function(e,t,i){!t||Ot(e,`${t}X`)||(Object.defineProperty(e,`${t}X`,{get:function(){return i.x},set:function(r){i.x=r,e.dirty=!0}}),Object.defineProperty(e,`${t}Y`,{get:function(){return i.y},set:function(r){i.y=r,e.dirty=!0}}),Object.defineProperty(e,`${t}T`,{get:function(){return i.t},set:function(r){i.t=r,e.dirty=!0}}))};const A4={setTLPosition(e,t){return this.geom.setTLPosition(e,t),this.dirty=!0,this},setTRPosition(e,t){return this.geom.setTRPosition(e,t),this.dirty=!0,this},setBLPosition(e,t){return this.geom.setBLPosition(e,t),this.dirty=!0,this},setBRPosition(e,t){return this.geom.setBRPosition(e,t),this.dirty=!0,this},resetCornerPosition(){return this.geom.resetCornerPosition(),this.dirty=!0,this},insertTopSidePoint(e,t,i,r){var g=this.geom.topSidePoints;if(Array.isArray(e))for(var g=e,S,n=0,C=g.length;n<C;n++)S=g[n],this.geom.insertTopSidePoint(S.t,S.x,S.y),Or(this,S.key,g[g.length-1]);else this.geom.insertTopSidePoint(e,t,i),Or(this,r,g[g.length-1]);return this.dirty=!0,this},insertRightSidePoint(e,t,i,r){var g=this.geom.rightSidePoints;if(Array.isArray(e))for(var g=e,S,n=0,C=g.length;n<C;n++)S=g[n],this.geom.insertRightSidePoint(S.t,S.x,S.y),Or(this,S.key,g[g.length-1]);else this.geom.insertRightSidePoint(e,t,i),Or(this,r,g[g.length-1]);return this.dirty=!0,this},insertBottomSidePoint(e,t,i,r){var g=this.geom.bottomSidePoints;if(Array.isArray(e))for(var g=e,S,n=0,C=g.length;n<C;n++)S=g[n],this.geom.insertBottomSidePoint(S.t,S.x,S.y),Or(this,S.key,g[g.length-1]);else this.geom.insertBottomSidePoint(e,t,i),Or(this,r,g[g.length-1]);return this.dirty=!0,this},insertLeftSidePoint(e,t,i,r){var g=this.geom.leftSidePoints;if(Array.isArray(e))for(var g=e,S,n=0,C=g.length;n<C;n++)S=g[n],this.geom.insertLeftSidePoint(S.t,S.x,S.y),Or(this,S.key,g[g.length-1]);else this.geom.insertLeftSidePoint(e,t,i),Or(this,r,g[g.length-1]);return this.dirty=!0,this},clearTopSidePoints(){return this.geom.clearTopSidePoints(),this.dirty=!0,this},clearRightSidePoints(){return this.geom.clearRightSidePoints(),this.dirty=!0,this},clearBottomSidePoints(){return this.geom.clearBottomSidePoints(),this.dirty=!0,this},clearLeftSidePoints(){return this.geom.clearLeftSidePoints(),this.dirty=!0,this},clearAllSidesPoints(){return this.geom.clearAllSidesPoints(),this.dirty=!0,this}};class L4{constructor(t,i,r,g){t===void 0&&(t=0),i===void 0&&(i=t),r===void 0&&(r=0),g===void 0&&(g=0),this.setTo(t,i,r,g),this.tlx=0,this.tly=0,this.trx=0,this.try=0,this.blx=0,this.bly=0,this.brx=0,this.bry=0,this.topSidePoints=[],this.rightSidePoints=[],this.bottomSidePoints=[],this.leftSidePoints=[]}setTo(t,i,r,g){return this.setPosition(t,i),this.setSize(r,g),this}setPosition(t,i){return this.x=t,this.y=i,this}setSize(t,i){return this.width=t,this.height=i,this}setTLPosition(t,i){return this.tlx=t,this.tly=i,this}setTRPosition(t,i){return this.trx=t,this.try=i,this}setBLPosition(t,i){return this.blx=t,this.bly=i,this}setBRPosition(t,i){return this.brx=t,this.bry=i,this}resetCornerPosition(){return this.setTLPosition(0,0).setTRPosition(0,0).setBLPosition(0,0).setBRPosition(0,0),this}insertTopSidePoint(t,i,r){return Nu(this.topSidePoints,t,i,r),this}insertRightSidePoint(t,i,r){return Nu(this.rightSidePoints,t,i,r),this}insertBottomSidePoint(t,i,r){return Nu(this.bottomSidePoints,t,i,r),this}insertLeftSidePoint(t,i,r){return Nu(this.leftSidePoints,t,i,r),this}clearTopSidePoints(){return this.topSidePoints.length=0,this}clearRightSidePoints(){return this.rightSidePoints.length=0,this}clearBottomSidePoints(){return this.bottomSidePoints.length=0,this}clearLeftSidePoints(){return this.leftSidePoints.length=0,this}clearAllSidesPoints(){return this.clearTopSidePoints().clearRightSidePoints().clearBottomSidePoints().clearLeftSidePoints(),this}}var Nu=function(e,t,i,r){if(typeof t!="number"){var g=t;t=g.t,i=g.x,r=g.y}e.push({t,x:i,y:r})};const O4=Phaser.Utils.Objects.IsPlainObject,zi=Phaser.Utils.Objects.GetValue,Fr=Phaser.Math.Linear,F4=Phaser.Geom.Polygon.Earcut;class Wm extends Vm{constructor(t,i,r,g,S,n,C){var s,o,y;if(O4(i)){var f=i;i=f.x,r=f.y,g=f.width,S=f.height,n=f.color,C=f.alpha,s=f.strokeColor,o=f.strokeAlpha,y=f.strokeWidth}i===void 0&&(i=0),r===void 0&&(r=0),g===void 0&&(g=1),S===void 0&&(S=g);var u=new L4;super(t,"rexQuadShape",u),u.setTo(0,0,g,S),this.setPosition(i,r),this.setFillStyle(n,C),s!==void 0&&y===void 0&&(y=2),this.setStrokeStyle(y,s,o),this.setTLPosition(zi(f,"tlx",0),zi(f,"tly",0)).setTRPosition(zi(f,"trx",0),zi(f,"try",0)).setBLPosition(zi(f,"blx",0),zi(f,"bly",0)).setBRPosition(zi(f,"brx",0),zi(f,"bry",0));var l=zi(f,"leftSidePoints");l&&this.insertLeftSidePoint(l);var a=zi(f,"topSidePoints");a&&this.insertTopSidePoint(a);var d=zi(f,"rightSidePoints");d&&this.insertRightSidePoint(d);var v=zi(f,"bottomSidePoints");v&&this.insertBottomSidePoint(v),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var t=this.geom,i=this.pathData;i.length=0;var r=t.width,g=t.height,S=0+t.tlx,n=0+t.tly,C=r+t.trx,s=0+t.try,o=r+t.brx,y=g+t.bry,f=0+t.blx,u=g+t.bly,l=t.topSidePoints,a=t.rightSidePoints,d=t.bottomSidePoints,v=t.leftSidePoints;Ae(S,n,i),zu(l);for(var h=0,c=l.length;h<c;h++){var p=l[h],m=Fr(S,C,p.t)+p.x,x=Fr(n,s,p.t)+p.y;Ae(m,x,i)}Ae(C,s,i),zu(a);for(var h=0,c=a.length;h<c;h++){var p=a[h],m=Fr(C,o,p.t)+p.x,x=Fr(s,y,p.t)+p.y;Ae(m,x,i)}Ae(o,y,i),zu(d);for(var h=d.length-1;h>=0;h--){var p=d[h],m=Fr(f,o,p.t)+p.x,x=Fr(u,y,p.t)+p.y;Ae(m,x,i)}Ae(f,u,i),zu(v);for(var h=v.length-1;h>=0;h--){var p=v[h],m=Fr(S,f,p.t)+p.x,x=Fr(n,u,p.t)+p.y;Ae(m,x,i)}return i.push(i[0],i[1]),this.pathIndexes=F4(i),this}get tlx(){return this.geom.tlx}set tlx(t){this.geom.tlx=t,this.dirty=!0}get tly(){return this.geom.tly}set tly(t){this.geom.tly=t,this.dirty=!0}get trx(){return this.geom.trx}set trx(t){this.geom.trx=t,this.dirty=!0}get try(){return this.geom.try}set try(t){this.geom.try=t,this.dirty=!0}get blx(){return this.geom.blx}set blx(t){this.geom.blx=t,this.dirty=!0}get bly(){return this.geom.bly}set bly(t){this.geom.bly=t,this.dirty=!0}get brx(){return this.geom.brx}set brx(t){this.geom.brx=t,this.dirty=!0}get bry(){return this.geom.bry}set bry(t){this.geom.bry=t,this.dirty=!0}get leftSidePoints(){return this.geom.leftSidePoints}get topSidePoints(){return this.geom.topSidePoints}get bottomSidePoints(){return this.geom.bottomSidePoints}get rightSidePoints(){return this.geom.rightSidePoints}}var zu=function(e){e.length<=1||e.sort(function(t,i){return t.t-i.t})};Object.assign(Wm.prototype,A4);st.register("QuadShape",function(e,t,i,r,g,S){var n=new Wm(this.scene,e,t,i,r,g,S);return this.scene.add.existing(n),n});et(window,"RexPlugins.UI.QuadShape",Wm);var b4=Phaser.Renderer.WebGL.Utils,D4=function(e,t,i,r){if(!(t.width===0||t.height===0)){i.addToRenderList(t);var g=t.frame,S=g.width,n=g.height,C=b4.getTintAppendFloatAlpha,s=e.pipelines.set(t.pipeline,t),o=s.setTexture2D(g.glTexture,t);e.pipelines.preBatch(t),s.batchTexture(t,g.glTexture,S,n,t.x,t.y,S/t.style.resolution,n/t.style.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,S,n,C(t.tintTopLeft,i.alpha*t._alphaTL),C(t.tintTopRight,i.alpha*t._alphaTR),C(t.tintBottomLeft,i.alpha*t._alphaBL),C(t.tintBottomRight,i.alpha*t._alphaBR),t.tintFill,0,0,i,r,!1,o),e.pipelines.postBatch(t)}},B4=function(e,t,i,r){t.width===0||t.height===0||(i.addToRenderList(t),e.batchSprite(t,t.frame,i,r))};const I4={renderWebGL:D4,renderCanvas:B4},Xv=Phaser.Display.Canvas.CanvasPool;var G4=function(e,t,i){i===void 0&&(i={});var r=Xv.create(this),g=r.getContext("2d",{willReadFrequently:!0});e.syncFont(r,g);var S=g.measureText(t),n=Math.ceil(S.width*e.baselineX),C=n,s=2*C;if(C=C*e.baselineY|0,r.width=n,r.height=s,g.fillStyle="#f00",g.fillRect(0,0,n,s),g.font=e._font,g.textBaseline="alphabetic",g.fillStyle="#000",g.fillText(e.testString,0,C),i.left=0,n===0||s===0||!g.getImageData(0,0,n,s))return Xv.remove(r),i;for(var o=g.getImageData(0,0,n,s).data,y=!1,f=0;f<n;f++){for(var u=0;u<s;u++){var l=(u*n+f)*4;if(o[l]!==255){i.left=f,y=!0;break}}if(y)break}return Xv.remove(r),i};pc();const k4=Phaser.GameObjects.GameObject;class SM extends k4{setStyle(t){return this.style.setStyle(t)}setFont(t){return this.style.setFont(t)}setFontFamily(t){return this.style.setFontFamily(t)}setFontSize(t){return this.style.setFontSize(t)}setFontStyle(t){return this.style.setFontStyle(t)}setTestString(t){return this.style.setTestString(t)}setFixedSize(t,i){return this.style.setFixedSize(t,i)}setBackgroundColor(t,i,r){return this.style.setBackgroundColor(t,i,r)}setBackgroundStrokeColor(t,i){return this.style.setBackgroundStrokeColor(t,i)}setBackgroundCornerRadius(t,i){return this.style.setBackgroundCornerRadius(t,i)}setFill(t){return this.style.setFill(t)}setColor(t){return this.style.setColor(t)}setStroke(t,i){return this.style.setStroke(t,i)}setShadow(t,i,r,g,S,n){return this.style.setShadow(t,i,r,g,S,n)}setShadowOffset(t,i){return this.style.setShadowOffset(t,i)}setShadowColor(t){return this.style.setShadowColor(t)}setShadowBlur(t){return this.style.setShadowBlur(t)}setShadowStroke(t){return this.style.setShadowStroke(t)}setShadowFill(t){return this.style.setShadowFill(t)}setUnderline(t,i,r){return this.style.setUnderline(t,i,r)}setUnderlineColor(t){return this.style.setUnderlineColor(t)}setUnderlineThickness(t){return this.style.setUnderlineThickness(t)}setUnderlineOffset(t){return this.style.setUnderlineOffset(t)}setStrikethrough(t,i,r){return this.style.setStrikethrough(t,i,r)}setStrikethroughColor(t){return this.style.setStrikethroughColor(t)}setStrikethroughThickness(t){return this.style.setStrikethroughThickness(t)}setStrikethroughOffset(t){return this.style.setStrikethroughOffset(t)}setWrapMode(t){return this.style.setWrapMode(t)}setWrapWidth(t){return this.style.setWrapWidth(t)}setWordWrapWidth(t){return this.style.setWrapWidth(t)}setAlign(t){return this.style.setHAlign(t)}setHAlign(t){return this.style.setHAlign(t)}setVAlign(t){return this.style.setVAlign(t)}get lineSpacing(){return this.style.lineSpacing}set lineSpacing(t){this.style.lineSpacing=t}setLineSpacing(t){return this.style.lineSpacing=t,this.updateText(!0),this}setXOffset(t){return this.style.setXOffset(t)}setMaxLines(t){return this.style.setMaxLines(t)}setResolution(t){return this.style.setResolution(t)}getTextMetrics(){return this.style.getTextMetrics()}setTextMetrics(t,i){return this.style.setTextMetrics(t,i)}measureTextMargins(t,i){return G4(this.style,t,i)}}const ti=Phaser.GameObjects.Components;Phaser.Class.mixin(SM,[ti.Alpha,ti.BlendMode,ti.ComputedSize,ti.Crop,ti.Depth,ti.Flip,ti.GetBounds,ti.Mask,ti.Origin,ti.Pipeline,ti.PostPipeline,ti.ScrollFactor,ti.Tint,ti.Transform,ti.Visible,I4]);var N4={backgroundColor:["backgroundColor",null,xt],backgroundColor2:["backgroundColor2",null,xt],backgroundHorizontalGradient:["backgroundHorizontalGradient",!0,null],backgroundStrokeColor:["backgroundStrokeColor",null,xt],backgroundStrokeLineWidth:["backgroundStrokeLineWidth",2,null],backgroundCornerRadius:["backgroundCornerRadius",0,null],backgroundCornerIteration:["backgroundCornerIteration",null,null],fontFamily:["fontFamily","Courier",null],fontSize:["fontSize","16px",null],fontStyle:["fontStyle","",null],color:["color","#fff",xt],stroke:["stroke","#fff",xt],strokeThickness:["strokeThickness",0,null],shadowOffsetX:["shadow.offsetX",0,null],shadowOffsetY:["shadow.offsetY",0,null],shadowColor:["shadow.color","#000",xt],shadowBlur:["shadow.blur",0,null],shadowStroke:["shadow.stroke",!1,null],shadowFill:["shadow.fill",!1,null],underlineColor:["underline.color","#000",xt],underlineThickness:["underline.thickness",0,null],underlineOffset:["underline.offset",0,null],strikethroughColor:["strikethrough.color","#000",xt],strikethroughThickness:["strikethrough.thickness",0,null],strikethroughOffset:["strikethrough.offset",0,null],halign:["halign","left",null],valign:["valign","top",null],maxLines:["maxLines",0,null],fixedWidth:["fixedWidth",0,null],fixedHeight:["fixedHeight",0,null],resolution:["resolution",0,null],lineSpacing:["lineSpacing",0,null],xOffset:["xOffset",0,null],rtl:["rtl",!1,null],testString:["testString","|Mqgy",null],baselineX:["baselineX",1.2,null],baselineY:["baselineY",1.4,null],wrapMode:["wrap.mode",0,null],wrapWidth:["wrap.width",0,null],wrapCallback:["wrap.callback",null],wrapCallbackScope:["wrap.callbackScope",null]};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */const Vu=Phaser.Display.Canvas.CanvasPool;var K1=function(e){var t=Vu.create(this),i=t.getContext("2d",{willReadFrequently:!0});e.syncFont(t,i);var r=i.measureText(e.testString);if("actualBoundingBoxAscent"in r){var g=r.actualBoundingBoxAscent,S=r.actualBoundingBoxDescent,o={ascent:g,descent:S,fontSize:g+S};return Vu.remove(t),o}var n=Math.ceil(r.width*e.baselineX),C=n,s=2*C;C=C*e.baselineY|0,t.width=n,t.height=s,i.fillStyle="#f00",i.fillRect(0,0,n,s),i.font=e._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(e.testString,0,C);var o={ascent:0,descent:0,fontSize:0};if(!i.getImageData(0,0,n,s))return o.ascent=C,o.descent=C+6,o.fontSize=o.ascent+o.descent,Vu.remove(t),o;var y=i.getImageData(0,0,n,s).data,f=y.length,u=n*4,l,a,d=0,v=!1;for(l=0;l<C;l++){for(a=0;a<u;a+=4)if(y[d+a]!==255){v=!0;break}if(!v)d+=u;else break}for(o.ascent=C-l,d=f-u,v=!1,l=s;l>C;l--){for(a=0;a<u;a+=4)if(y[d+a]!==255){v=!0;break}if(!v)d-=u;else break}return o.descent=l-C,o.fontSize=o.ascent+o.descent,Vu.remove(t),o},pe={NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,MIX_WRAP:3,SPLITREGEXP:/(?:\r\n|\r|\n)/};const Nf={none:pe.NO_WRAP,word:pe.WORD_WRAP,char:pe.CHAR_WRAP,character:pe.CHAR_WRAP,mix:pe.MIX_WRAP},z4=Phaser.Utils.Objects.GetAdvancedValue,Ci=Phaser.Utils.Objects.GetValue;let Ym=class{constructor(t,i,r){this.parent=t,r===void 0&&(r=N4),this.propertyMap=r,this.backgroundColor,this.backgroundColor2,this.backgroundHorizontalGradient,this.backgroundStrokeColor,this.backgroundStrokeLineWidth,this.backgroundCornerRadius,this.backgroundCornerIteration,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.strikethroughColor,this.strikethroughThickness,this.strikethroughOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.xOffset,this.rtl,this.testString,this.baselineX,this.baselineY,this.wrapMode,this.wrapWidth,this.wrapCallback,this.wrapCallbackScope,this._font,this.setStyle(i,!1,!0)}get isWrapFitMode(){return this.fixedWidth>0&&this.wrapMode!==pe.NO_WRAP&&this.wrapWidth===0}setStyle(t,i,r){if(i===void 0&&(i=!0),r===void 0&&(r=!1),t&&t.hasOwnProperty("wordWrap")){var g=t.wordWrap;g.hasOwnProperty("width")&&(t.wrap={mode:"word",width:g.width})}if(t&&t.hasOwnProperty("wrap")){var S=t.wrap;if(S.hasOwnProperty("mode")){var n=S.mode;typeof n=="string"&&(S.mode=Nf[n])}else S.hasOwnProperty("width")&&(S.mode=1)}t&&t.rtl&&r&&!t.hasOwnProperty("halign")&&(t.halign="right"),t&&t.hasOwnProperty("fontSize")&&typeof t.fontSize=="number"&&(t.fontSize=t.fontSize.toString()+"px");var C=this.propertyMap;for(var s in C){var o=C[s],y=o[0],f=r?o[1]:this[s],u=o[2];if(s==="wrapCallback"||s==="wrapCallbackScope")this[s]=Ci(t,y,f);else{var l=z4(t,y,f);u&&(l=u(l)),this[s]=l}}var a=Ci(t,"font",null);a===null?this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily:this._font=a;var d=Ci(t,"fill",null);d!==null&&(this.color=xt(d));var v=Ci(t,"metrics",!1);return v?this.metrics={ascent:Ci(v,"ascent",0),descent:Ci(v,"descent",0),fontSize:Ci(v,"fontSize",0)}:(i||!this.metrics)&&(this.metrics=K1(this)),i?this.parent.updateText():this.parent}syncFont(t,i){i.font=this._font}syncStyle(t,i){i.textBaseline="alphabetic",i.fillStyle=this.color,i.strokeStyle=this.stroke,i.lineWidth=this.strokeThickness,i.lineCap="round",i.lineJoin="round"}syncShadow(t,i){i?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}update(t){return t&&(this._font=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim(),this.metrics=K1(this)),this.parent.updateText(t)}buildFont(){var t=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim();return t!==this._font&&(this._font=t),this}setFont(t){return typeof t=="string"?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=Ci(t,"fontFamily","Courier"),this.fontSize=Ci(t,"fontSize","16px"),this.fontStyle=Ci(t,"fontStyle","")),this.update(!0)}setFontFamily(t){return this.fontFamily=t,this.update(!0)}setFontStyle(t){return this.fontStyle=t,this.update(!0)}setFontSize(t){return typeof t=="number"&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}setTestString(t){return this.testString=t,this.update(!0)}setFixedSize(t,i){return this.fixedWidth=t,this.fixedHeight=i,t&&(this.parent.width=t),i&&(this.parent.height=i),this.update(this.isWrapFitMode)}setResolution(t){return this.resolution=t,this.update(!1)}setXOffset(t){return this.xOffset=t,this.update(!1)}setBackgroundColor(t,i,r){return r===void 0&&(r=!0),this.backgroundColor=xt(t,this.parent.canvas,this.parent.context),this.backgroundColor2=xt(i,this.parent.canvas,this.parent.context),this.backgroundHorizontalGradient=r,this.update(!1)}setBackgroundStrokeColor(t,i){return this.backgroundStrokeColor=xt(t,this.parent.canvas,this.parent.context),this.backgroundStrokeLineWidth=i,this.update(!1)}setBackgroundCornerRadius(t,i){return this.backgroundCornerRadius=t,this.backgroundCornerIteration=i,this.update(!1)}setFill(t){return this.color=xt(t,this.parent.canvas,this.parent.context),this.update(!1)}setColor(t){return this.color=xt(t,this.parent.canvas,this.parent.context),this.update(!1)}setStroke(t,i){return t===void 0?this.strokeThickness=0:(i===void 0&&(i=this.strokeThickness),this.stroke=xt(t,this.parent.canvas,this.parent.context),this.strokeThickness=i),this.update(!0)}setShadow(t,i,r,g,S,n){return t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r="#000"),g===void 0&&(g=0),S===void 0&&(S=!1),n===void 0&&(n=!0),this.shadowOffsetX=t,this.shadowOffsetY=i,this.shadowColor=xt(r,this.parent.canvas,this.parent.context),this.shadowBlur=g,this.shadowStroke=S,this.shadowFill=n,this.update(!1)}setShadowOffset(t,i){return t===void 0&&(t=0),i===void 0&&(i=t),this.shadowOffsetX=t,this.shadowOffsetY=i,this.update(!1)}setShadowColor(t){return t===void 0&&(t="#000"),this.shadowColor=xt(t,this.parent.canvas,this.parent.context),this.update(!1)}setShadowBlur(t){return t===void 0&&(t=0),this.shadowBlur=t,this.update(!1)}setShadowStroke(t){return this.shadowStroke=t,this.update(!1)}setShadowFill(t){return this.shadowFill=t,this.update(!1)}setUnderline(t,i,r){return t===void 0&&(t="#000"),i===void 0&&(i=0),r===void 0&&(r=0),this.underlineColor=xt(t,this.parent.canvas,this.parent.context),this.underlineThickness=i,this.underlineOffset=r,this.update(!1)}setUnderlineColor(t){return t===void 0&&(t="#000"),this.underlineColor=xt(t,this.parent.canvas,this.parent.context),this.update(!1)}setUnderlineThickness(t){return t===void 0&&(t=0),this.underlineThickness=t,this.update(!1)}setUnderlineOffset(t){return t===void 0&&(t=0),this.underlineOffset=t,this.update(!1)}setStrikethrough(t,i,r){return t===void 0&&(t="#000"),i===void 0&&(i=0),r===void 0&&(r=0),this.strikethroughColor=xt(t,this.parent.canvas,this.parent.context),this.strikethroughThickness=i,this.strikethroughOffset=r,this.update(!1)}setStrikethroughColor(t){return t===void 0&&(t="#000"),this.strikethroughColor=xt(t,this.parent.canvas,this.parent.context),this.update(!1)}setStrikethroughThickness(t){return t===void 0&&(t=0),this.strikethroughThickness=t,this.update(!1)}setStrikethroughOffset(t){return t===void 0&&(t=0),this.strikethroughOffset=t,this.update(!1)}setWrapMode(t){return typeof t=="string"&&(t=Nf[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}setWrapWidth(t){return this.wrapWidth=t,this.update(!1)}setAlign(t,i){return t===void 0&&(t="left"),i===void 0&&(i="top"),this.halign=t,this.valign=i,this.update(!1)}setHAlign(t){return t===void 0&&(t="left"),this.halign=t,this.update(!1)}setVAlign(t){return t===void 0&&(t="top"),this.valign=t,this.update(!1)}setMaxLines(t){return t===void 0&&(t=0),this.maxLines=t,this.update(!1)}getTextMetrics(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}setTextMetrics(t,i){return this.metrics.ascent=t.ascent,this.metrics.descent=t.descent,this.metrics.fontSize=t.fontSize,i&&(typeof i=="string"?(this.fontFamily=i,this.fontSize="",this.fontStyle=""):(this.fontFamily=Ci(i,"fontFamily",this.fontFamily),this.fontSize=Ci(i,"fontSize",this.fontSize),this.fontStyle=Ci(i,"fontStyle",this.fontStyle))),this.parent.updateText(!0)}get lineHeight(){return this.metrics.fontSize+this.parent.lineSpacing}toJSON(){var t={},i=this.propertyMap;for(var r in i)t[r]=this[r];return t.metrics=this.getTextMetrics(),t}destroy(){this.parent=void 0}};var Lo=function(e){return e==null?e="":Array.isArray(e)?e=e.join(`
`):typeof e=="number"&&(e=e.toString()),e};const V4={draw(e,t,i,r){var g=this.penManager;this.hitAreaManager.clear();var S=this.context;S.save();var n=this.defaultStyle;this.clear(),Xm(this,n.backgroundColor,n.backgroundStrokeColor,n.backgroundStrokeLineWidth,n.backgroundCornerRadius,n.backgroundColor2,n.backgroundHorizontalGradient,n.backgroundCornerIteration),e+=this.startXOffset,t+=this.startYOffset;var C=n.halign,s=n.valign,o,y=n.lineHeight,f=g.lines,u=f.length,l=n.maxLines,a,d,v;l>0&&u>l?(a=l,s==="center"?d=Math.floor((u-a)/2):s==="bottom"?d=u-a:d=0):(a=u,d=0),v=d+a;var h,c,p=this.rtl,m=p?this.parent.width:void 0;s==="center"?c=Math.max((r-a*y)/2,0):s==="bottom"?c=Math.max(r-a*y-2,0):c=0,c+=t;for(var x=d;x<v;x++)if(o=g.getLineWidth(x),o!==0){for(var T=f[x],P=T.length,M=C,E=0;E<P;E++){var w=T[E].prop.align;if(w!==void 0){M=w;break}}M==="center"?h=(i-o)/2:M==="right"?h=p?0:i-o:h=p?i-o:0,h+=e;for(var E=0;E<P;E++)this.drawPen(T[E],h,c,m)}S.restore()},drawPen(e,t,i,r){t+=e.x,i+=e.y+(e.prop.y||0),r!==void 0&&(t=r-t);var g=this.canvas,S=this.context;S.save();var n=this.parser.propToContextStyle(this.defaultStyle,e.prop);if(n.bgcolor!==null&&e.width>0){var C=this.defaultStyle.metrics,s=i-C.ascent,o=C.fontSize;this.drawRectangle(t,s,e.width,o,n.bgcolor,n)}if(n.underlineThickness>0&&e.width>0){var y=i+n.underlineOffset-n.underlineThickness/2;this.drawLine(t,y,e.width,n.underlineThickness,n.underlineColor,n)}if(e.isTextPen&&(n.buildFont(),n.syncFont(g,S),n.syncStyle(g,S),this.drawText(t,i,e.text,n)),e.isImagePen&&this.drawImage(t,i,e.prop.img,e.prop.color,n),n.strikethroughThickness>0&&e.width>0){var y=i+n.strikethroughOffset-n.strikethroughThickness/2;this.drawLine(t,y,e.width,n.strikethroughThickness,n.strikethroughColor,n)}if(S.restore(),e.hasAreaMarker&&e.width>0){var f,u=e.prop.area;if(u)f={key:u};else{var l=e.prop.url;f={key:`url:${l}`,url:l}}this.hitAreaManager.add(t,i-this.startYOffset,e.width,this.defaultStyle.lineHeight,f)}},clear(){var e=this.canvas;this.context.clearRect(0,0,e.width,e.height)},drawRectangle(e,t,i,r,g,S){this.autoRound&&(e=Math.round(e),t=Math.round(t));var n=this.context;n.fillStyle=g,n.fillRect(e,t,i,r)},drawLine(e,t,i,r,g,S){this.autoRound&&(e=Math.round(e),t=Math.round(t));var n=this.context;S.syncShadow(n,S.shadowStroke);var C=n.lineCap;n.lineCap="butt",n.strokeStyle=g,n.lineWidth=r,n.beginPath(),n.moveTo(e,t),n.lineTo(e+i,t),n.stroke(),n.lineCap=C},drawText(e,t,i,r){this.autoRound&&(e=Math.round(e),t=Math.round(t));var g=this.context;r.stroke&&r.stroke!=="none"&&r.strokeThickness>0&&(r.syncShadow(g,r.shadowStroke),g.strokeText(i,e,t)),r.color&&r.color!=="none"&&(r.syncShadow(g,r.shadowFill),g.fillText(i,e,t))},drawImage(e,t,i,r,g){t-=this.startYOffset,this.parent.imageManager.draw(i,this.context,e,t,r,this.autoRound)}},bn=Phaser.Utils.Objects.GetValue,U4=pe.NO_NEWLINE,Z1=pe.RAW_NEWLINE;class X4{constructor(t){this.prop={},this.resetFromJSON(t)}resetFromJSON(t){this.text=bn(t,"text",""),this.x=bn(t,"x",0),this.y=bn(t,"y",0),this.width=bn(t,"width",0);var i=bn(t,"prop",null);i===null&&(i={}),this.prop=i,this.newLineMode=bn(t,"newLineMode",0),this.startIndex=bn(t,"startIndex",0)}get plainText(){var t=this.text;return this.newLineMode===Z1&&(t+=`
`),t}get wrapText(){var t=this.text;return this.newLineMode!==U4&&(t+=`
`),t}get rawTextLength(){var t=this.text.length;return this.newLineMode===Z1&&(t+=1),t}get endIndex(){return this.startIndex+this.rawTextLength}get lastX(){return this.x+this.width}get isTextPen(){return this.text!==""}get isImagePen(){return!!this.prop.img}get hasAreaMarker(){return!!this.prop.area||!!this.prop.url}}var Ps=function(e,t){var i=Array.isArray(e);if(t===void 0?t=i?[]:{}:dn(t),i){t.length=e.length;for(var r=0,g=e.length;r<g;r++)t[r]=e[r]}else for(var S in e)t[S]=e[S];return t};const J1=Phaser.Utils.Objects.GetFastValue,Q1=pe.NO_NEWLINE,W4=pe.WRAPPED_NEWLINE;class Hm{constructor(t){this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.tagToText=J1(t,"tagToText",Ee),this.tagToTextScope=J1(t,"tagToTextScope",void 0)}destroy(){this.clear(),this.tagToText=void 0,this.tagToTextScope=void 0}clear(){for(var t=0,i=this.lines.length;t<i;t++)this.lines[t].length=0;this.pensPool.pushMultiple(this.pens),this.linesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}addTextPen(t,i,r,g,S,n){var C=this.pensPool.pop();return C==null&&(C=new X4),Dn.text=t,Dn.x=i,Dn.y=r,Dn.width=g,Dn.prop=S,Dn.newLineMode=n,C.resetFromJSON(Dn),this.addPen(C),this}addImagePen(t,i,r,g){return this.addTextPen("",t,i,r,g,Q1),this}addNewLinePen(){var t=this.lastPen,i=t?t.lastX:0,r=t?t.y:0,g=t?Ps(t.prop):null;return this.addTextPen("",i,r,0,g,W4),this}addPen(t){var i=this.lastPen;i==null?t.startIndex=0:t.startIndex=i.endIndex,this.pens.push(t);var r=this.lastLine;r==null&&(r=this.linesPool.pop()||[],this.lines.push(r)),r.push(t),t.newLineMode!==Q1&&(r=this.linesPool.pop()||[],this.lines.push(r)),this.maxLinesWidth=void 0}clone(t){t==null&&(t=new Hm),t.clear();for(var i=0,r=this.lines.length;i<r;i++)for(var g=this.lines[i],S=0,n=g.length;S<n;S++){var C=g[S];t.addPen(C.text,C.x,C.y,C.width,Ps(C.prop),C.newLineMode)}return t}get lastPen(){return this.pens[this.pens.length-1]}get lastLine(){return this.lines[this.lines.length-1]}getLineStartIndex(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var i=this.lines[t];return i&&i[0]?i[0].startIndex:0}getLineEndIndex(t){t>=this.lines.length&&(t=this.lines.length-1);var i,r=!1,g;for(i=t;i>=0&&(g=this.lines[i],r=g!=null&&g.length>0,!r);i--);if(!r)return 0;var S=g[g.length-1];return S.endIndex}getLineWidth(t){var i=this.lines[t];if(!i)return 0;var r=i[i.length-1];if(r==null)return 0;var g=r.lastX;return g}getMaxLineWidth(){if(this.maxLinesWidth!==void 0)return this.maxLinesWidth;for(var t,i=0,r=0,g=this.lines.length;r<g;r++)t=this.getLineWidth(r),t>i&&(i=t);return this.maxLinesWidth=i,i}getLineWidths(){for(var t=[],i=0,r=this.lines.length;i<r;i++)t.push(this.getLineWidth(i));return t}get linesCount(){return this.lines.length}get plainText(){for(var t="",i=this.pens,r=0,g=i.length;r<g;r++)t+=i[r].plainText;return t}get rawTextLength(){for(var t=0,i=this.pens,r=0,g=this.pens.length;r<g;r++)t+=i[r].rawTextLength;return t}getSliceTagText(t,i,r){var g=this.lastPen;if(g==null)return"";var S=g.endIndex;(t===void 0||t===0)&&(t=-1),(i===void 0||i===S)&&(i=S+1),r===void 0&&(r=!1);for(var n="",C,s,o,y,f,u,l,a=0,d=this.pens.length;a<d&&(C=this.pens[a],y=C.endIndex,!(!(y<=t)&&(C=this.pens[a],s=r?C.wrapText:C.plainText,u=C.prop,o=C.startIndex,f=o>=t&&y<=i,f||(s=s.substring(t-o,i-o)),this.tagToTextScope?n+=this.tagToText.call(this.tagToTextScope,s,u,l):n+=this.tagToText(s,u,l),l=u,y>=i)));a++);return n}get length(){return this.lines.length}set length(t){this.clear()}}var Dn={};const Y4=Phaser.Geom.Rectangle;var j1=new Xs;class H4{constructor(){this.hitAreas=[]}destroy(){this.clear()}clear(){for(var t=0,i=this.hitAreas.length;t<i;t++)this.hitAreas[t].data=null;return j1.pushMultiple(this.hitAreas),this}add(t,i,r,g,S){S===void 0&&(S={});var n=j1.pop();return n===null?n=new Y4(t,i,r,g):n.setTo(t,i,r,g),n.data=S,this.hitAreas.push(n),this}getFirst(t,i){for(var r=0,g=this.hitAreas.length;r<g;r++){var S=this.hitAreas[r];if(S.contains(t,i))return S}return null}getByKey(t){for(var i=0,r=this.hitAreas.length;i<r;i++){var g=this.hitAreas[i];if(g.data.key===t)return g}return null}drawBounds(t,i,r){i===void 0&&(i=16777215),r&&t.save().translateCanvas(r.x,r.y).rotateCanvas(r.rotation).scaleCanvas(r.scaleX,r.scaleY);for(var g=0,S=this.hitAreas.length;g<S;g++){var n=this.hitAreas[g];t.lineStyle(1,i).strokeRect(n.x,n.y,n.width,n.height)}return r&&t.restore(),this}}var $4=function(){this.parent.on("pointerdown",K4,this).on("pointerup",Z4,this).on("pointermove",Wv,this).on("pointerover",Wv,this).on("pointerout",function(e,t){Wv.call(this,e,null,null,t)},this)},K4=function(e,t,i,r){var g=this.hitAreaManager.getFirst(t,i);if(g!==null){var S=g.data.key;Oo.call(this,"areadown",S,e,t,i,r),g.data&&(g.data.isDown=!0)}},Z4=function(e,t,i,r){var g=this.hitAreaManager.getFirst(t,i);if(g!==null){var S=g.data.key;if(Oo.call(this,"areaup",S,e,t,i,r),!!g.data){if(g.data.isDown){if(Oo.call(this,"areaclick",S,e,t,i,r),!g.data)return;var n=g.data.url;n&&window.open(n,"_blank")}g.data.isDown=!1}}},Wv=function(e,t,i,r){if(t===null){if(this.lastHitAreaKey!==null){Oo.call(this,"areaout",this.lastHitAreaKey,e,t,i,r);var g=this.hitAreaManager.getByKey(this.lastHitAreaKey);g&&g.data&&(g.data.isDown=!1),this.lastHitAreaKey=null}return}var g=this.hitAreaManager.getFirst(t,i),S=g?g.data.key:null;if(this.lastHitAreaKey!==S){if(this.lastHitAreaKey!==null){Oo.call(this,"areaout",this.lastHitAreaKey,e,t,i,r);var n=this.hitAreaManager.getByKey(this.lastHitAreaKey);n&&(this.urlTagCursorStyle&&q1(this.scene,n,""),n.data.isDown=!1)}S!==null&&(Oo.call(this,"areaover",S,e,t,i,r),g.data&&this.urlTagCursorStyle&&q1(this.scene,g,this.urlTagCursorStyle)),this.lastHitAreaKey=S}},Oo=function(e,t,i,r,g,S){this.parent.emit(`${e}-${t}`,i,r,g,S),this.parent.emit(e,t,i,r,g,S)},q1=function(e,t,i){!t||!t.data||!t.data.url||(e.input.manager.canvas.style.cursor=i)};const _1=Phaser.GameObjects.Components.TransformMatrix,J4=Phaser.Math.TransformXY;var PM=function(e,t,i,r,g){r===void 0&&(r=e.scene.cameras.main),g===void 0?g={}:g===!0&&(g=Q4);var S=r.scrollX,n=r.scrollY,C=t+S*e.scrollFactorX-S,s=i+n*e.scrollFactorY-n;return e.parentContainer?(Uu===void 0&&(Uu=new _1,tC=new _1),e.getWorldTransformMatrix(Uu,tC),Uu.applyInverse(C,s,g)):J4(C,s,e.x,e.y,e.rotation,e.scaleX,e.scaleY,g),g.x+=e.displayOriginX,g.y+=e.displayOriginY,g},Uu,tC,Q4={},j4=function(e,t,i){var r=PM(this.parent,e,t,i,!0),g=this.hitAreaManager.getFirst(r.x,r.y);if(g!==null)return g.data.key},q4=/^[\x00-\x7F]+$/,Tl=function(e){return q4.test(e)};const _4=pe.NO_NEWLINE,tb=pe.RAW_NEWLINE,Yv=pe.WRAPPED_NEWLINE,eC=pe.NO_WRAP,eb=pe.WORD_WRAP,EM=pe.CHAR_WRAP,ib=pe.SPLITREGEXP;var MM=function(e,t,i,r,g,S){r<=0&&(i=eC);var n=[];if(!e||!e.length)return n;for(var C=i===eC,s=e.split(ib),o,y,f,u=0,l=s.length;u<l;u++){if(o=s[u],f=u===l-1?_4:tb,C){var a=t.measureText(o).width;n.push(S.getLine(o,a,f));continue}if(y=u===0?r-g:r,o.length<=100){var a=t.measureText(o).width;if(a<=y){n.push(S.getLine(o,a,f));continue}}for(var d=sb(o,i),v,h,c="",p=0,m,x=0,T=d.length;x<T;x++){if(v=d[x],h=t.measureText(v).width,h>r&&rb(v)){c!==""?n.push(S.getLine(c,p,Yv)):x===0&&g>0&&n.push(S.getLine("",0,Yv)),n.push(...MM(v,t,EM,r,0,S));var P=n.pop();c=P.text,p=P.width,S.freeLine(P),c===" "&&(c="",p=0);continue}m=p+h,m>y?(n.push(S.getLine(c,p,Yv)),c=v,p=h,y=r):(c+=v,p=m),x===T-1&&n.push(S.getLine(c,p,f))}}return n},sb=function(e,t){var i;switch(t){case eb:i=[],e=e.split(" ");for(var r=0,g=e.length;r<g;r++){var S=e[r];r<g-1?i.push(S+" "):S!==""&&i.push(S)}break;case EM:i=e.split("");break;default:i=[],e=e.split(" ");for(var r=0,g=e.length;r<g;r++){var S=e[r];r<g-1?Tl(S)?i.push(S+" "):(i.push(...S.split("")),i.push(" ")):S!==""&&(Tl(S)?i.push(S):i.push(...S.split("")))}break}return i},rb=function(e){switch(e.length){case 1:return!1;case 2:return e.charAt(1)!==" ";default:return!0}};const Hv=Phaser.Utils.Objects.GetValue,nb=pe.NO_WRAP,iC=pe.NO_NEWLINE,ab=pe.WRAPPED_NEWLINE;class wM{constructor(t){this.parent=t.parent,this.scene=this.parent.scene,this.context=Hv(t,"context",null),this.canvas=this.context.canvas,this.parser=Hv(t,"parser",null),this.defaultStyle=Hv(t,"style",null),this.autoRound=!0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.wrapTextLinesPool=t.wrapTextLinesPool,this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new H4,this.lastHitAreaKey=null,this.urlTagCursorStyle=null}destroy(){this.parent=void 0,this.scene=void 0,this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defaultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0),this.pensPool=void 0,this.linesPool=void 0,this.wrapTextLinesPool=void 0}updatePenManager(t,i,r,g,S){if(S===void 0&&(S=this.penManager),S.clear(),t==="")return S;var n=this.parent.style;if(n.isWrapFitMode){var C=this.parent.padding;r=n.fixedWidth-C.left-C.right}for(var s=this.canvas,o=this.context,y=0,f=0,u=n.wrapCallback,l=n.wrapCallbackScope,a=!0,d,v,h,c=this.parser.splitText(t),p,m,x=this.wrapTextLinesPool,T=0,P=c.length;T<P;T++)if(p=this.parser.tagTextToProp(c[T],v),d=p.plainText,v=p.prop,v.img){var M=this.imageManager.getOuterWidth(v.img);r>0&&i!==nb&&r<y+M&&(S.addNewLinePen(),f+=g,y=0),S.addImagePen(y,f,M,Ps(v)),y+=M}else if(d!==""){if(o.save(),h=this.parser.propToContextStyle(this.defaultStyle,v),h.buildFont(),h.syncFont(s,o),h.syncStyle(s,o),!u)m=MM(d,o,i,r,y,x);else{m=u.call(l,d,o,r,y),typeof m=="string"&&(m=m.split(`
`));for(var R,E=0,w=m.length;E<w;E++)R=m[E],typeof R=="string"?m[E]=x.getLine(R,o.measureText(R).width,E<w-1?ab:iC):a=!1}for(var R,E=0,w=m.length;E<w;E++)R=m[E],S.addTextPen(R.text,y,f,R.width,Ps(v),R.newLineMode),R.newLineMode!==iC?(y=0,f+=g):y+=R.width;a&&x.freeLines(m),m=null,o.restore()}for(var T=0,P=this.lines.length;T<P;T++){var A=this.lines[T],L=A[A.length-1];L&&(L.width+=this.parser.getStrokeThinkness(this.defaultStyle,L.prop))}return S}get startXOffset(){return this.defaultStyle.xOffset}get startYOffset(){return this.defaultStyle.metrics.ascent}get lines(){return this.penManager.lines}get displayLinesCount(){var t=this.penManager.linesCount,i=this.defaultStyle.maxLines;return i>0&&t>i&&(t=i),t}get linesWidth(){return Math.ceil(this.penManager.getMaxLineWidth())}get linesHeight(){var t=this.displayLinesCount,i=this.defaultStyle.lineHeight*t;return t>0&&(i-=this.defaultStyle.lineSpacing),i}get imageManager(){return this.parent.imageManager}get rtl(){return this.parent.style.rtl}newPenManager(){return new Hm({pensPool:this.pensPool,linesPool:this.linesPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}get tmpPenManager(){return this._tmpPenManager===null&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}getPlainText(t,i,r){var g;if(t==null)g=this.penManager.plainText;else{var S=this.parser.splitText(t,1);g="";for(var n=0,C=S.length;n<C;n++)g+=S[n]}return(i!=null||r!=null)&&(i==null&&(i=0),r==null&&(r=g.length),g=g.substring(i,r)),g}getPenManager(t,i){if(t===void 0)return this.copyPenManager(i,this.penManager);i===void 0&&(i=this.newPenManager());var r=this.defaultStyle;return this.updatePenManager(t,r.wrapMode,r.wrapWidth,r.lineHeight,i),i}getText(t,i,r,g){if(t==null)return this.penManager.getSliceTagText(i,r,g);var S=this.tmpPenManager,n=this.defaultStyle;return this.updatePenManager(t,n.wrapMode,n.wrapWidth,n.lineHeight,S),S.getSliceTagText(i,r,g)}copyPenManager(t,i){return i===void 0&&(i=this.penManager),i.copy(t)}getTextWidth(t){return t===void 0&&(t=this.penManager),t.getMaxLineWidth()}getLastPen(t){return t===void 0&&(t=this.penManager),t.lastPen}}var ob={setInteractive:$4,getHitArea:j4};Object.assign(wM.prototype,V4,ob);class sC extends Xs{freeLine(t){if(t)return this.push(t),this}freeLines(t){if(t)return this.pushMultiple(t),this}getLine(t,i,r){var g=this.pop();return g===null&&(g={}),g.text=t,g.width=i,g.newLineMode=r,g}}const hb=Phaser.Utils.Objects.IsPlainObject,Oa=Phaser.Utils.Objects.GetValue;var $v=function(e,t){hb(e)?(t=e,e=t.key):t===void 0&&(t={key:e}),t.hasOwnProperty("key")||(t.key=e);var i=t.key,r=t.frame,g=t.width,S=t.height;if(g===void 0||S===void 0){var n=this.textureManager.getFrame(i,r),C=n?n.cutWidth:0,s=n?n.cutHeight:0;g===void 0&&S===void 0?(g=C,S=s):g===void 0?g=C*(S/s):S===void 0&&(S=s*(g/C))}this.images[e]={key:i,frame:r,width:g,height:S,y:Oa(t,"y",0),left:Oa(t,"left",0),right:Oa(t,"right",0),originX:Oa(t,"originX",0),originY:Oa(t,"originY",0),tintFill:Oa(t,"tintFill",!1)}};const rC=Phaser.Display.Canvas.CanvasPool;var RM=function(e,t,i,r,g,S,n,C){i===void 0&&(i=0),r===void 0&&(r=0),g===void 0&&(g=e.cutWidth),S===void 0&&(S=e.cutHeight),C===void 0&&(C=!1),C&&(i=Math.round(i),r=Math.round(r));var s=t.getContext("2d",{willReadFrequently:!0});if(n){var o=rC.create(null,g,S,Phaser.CANVAS,!0),y=o.getContext("2d",{willReadFrequently:!0});y.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,0,0,g,S),y.globalCompositeOperation="source-in",y.fillStyle=n,y.fillRect(0,0,g,S),s.drawImage(o,0,0,g,S,i,r,g,S),rC.remove(o)}else s.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,i,r,g,S)},lb=function(e,t,i,r,g,S){var n=this.get(e);if(n){var C=this.textureManager.getFrame(n.key,n.frame),s=n.width,o=n.height;i+=n.left-n.originX*s,r+=n.y-n.originY*o,n.tintFill||(g=void 0),RM(C,t.canvas,i,r,s,o,g,S)}};class $m{constructor(t){this.textureManager=t.sys.textures,this.images={}}destroy(){this.textureManager=void 0,this.images=void 0}add(t,i){if(typeof t=="string")$v.call(this,t,i);else if(Array.isArray(t))for(var r=t,g=0,S=r.length;g<S;g++)$v.call(this,r[g]);else{var r=t;for(var t in r)$v.call(this,t,r[t])}return this}has(t){return this.images.hasOwnProperty(t)}remove(t){return this.has(t)&&delete this.images[t],this}get(t){return this.has(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}getOuterWidth(t){var i=this.get(t);return i?i.width+i.left+i.right:0}getFrame(t){var i=this.get(t);return i?this.textureManager.getFrame(i.key,i.frame):void 0}hasTexture(t){return!!this.getFrame(t)}}var ub={draw:lb};Object.assign($m.prototype,ub);var AM=function(e,t){!e&&e!==0&&(e=""),t===void 0&&(t=!0),Array.isArray(e)&&(e=e.join(`
`));var i;return t?i=`${this.text}
${e}`:i=`${this.text}${e}`,i!=this.text&&this.setText(i),this};const db=Phaser.Utils.Objects.IsPlainObject,nC=Phaser.DOM.AddToDOM,aC=Phaser.Display.Canvas.CanvasPool,fb=Phaser.GameObjects.GameObject,li=Phaser.Utils.Objects.GetValue,cb=Phaser.DOM.RemoveFromDOM,vb=pe.SPLITREGEXP,pb=Phaser.Utils.String.UUID;var Fa=null,Kv=null,Zv=null;class Km extends SM{constructor(t,i,r,g,S,n,C){if(db(i)){var s=i;i=li(s,"x",0),r=li(s,"y",0),g=li(s,"text",""),S=li(s,"style")}if(i===void 0&&(i=0),r===void 0&&(r=0),super(t,n),this.renderer=t.sys.game.renderer,this.setPosition(i,r),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=aC.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this._imageManager=void 0,S){if(S.hasOwnProperty("align")){var o=S.align;delete S.align,S.halign=o}S.hasOwnProperty("stroke")&&!S.hasOwnProperty("strokeThickness")&&(S.strokeThickness=1)}this.style=new Ym(this,S);var y=li(S,"images",void 0);y&&this.addImage(y),this.autoRound=!0,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=pb(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null);var f=li(S,"sharedPool",!0),u,l,a;f?(Fa||(Fa={},Kv=new Xs,Zv=new sC,this.scene.game.events.once("destroy",function(){Fa=null,Kv=null,Zv=null})),Fa.hasOwnProperty(n)||(Fa[n]=new Xs),u=Fa[n],l=Kv,a=Zv):(u=new Xs,l=new Xs,a=new sC),this.canvasText=new wM({parent:this,context:this.context,parser:C,style:this.style,pensPool:u,linesPool:l,wrapTextLinesPool:a}),this.parser=C,this.initRTL(),S&&S.padding&&this.setPadding(S.padding),this.setText(g),this.setUrlTagCursorStyle(li(S,"urlTagCursorStyle","pointer")),li(S,"interactive",!1)&&this.setInteractive()}preDestroy(){cb(this.canvas),this.canvasText.destroy(),this.canvasText=void 0,this._imageManager&&(this._imageManager.destroy(),this._imageManager=void 0),aC.remove(this.canvas);var t=this.texture;t&&t.destroy()}set text(t){this.setText(t)}get text(){return this._text}initRTL(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",nC(this.canvas,this.scene.sys.canvas),this.originX=1)}setRTL(t){t===void 0&&(t=!0);var i=this.style;if(i.rtl===t)return this;if(i.rtl=t,t?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",nC(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),i.halign==="left"?i.halign="right":i.halign==="right"&&(i.halign="left"),this._imageManager){var r=this._imageManager.images;for(var g in r)r[g].originX=1-r[g].originX}return this}setText(t){return t=Lo(t),t===this._text?this:(this._text=t,this.updateText(),this)}setPadding(t,i,r,g){if(typeof t=="object"){var S=t,n=li(S,"x",null);n!==null?(t=n,r=n):(t=li(S,"left",0),r=li(S,"right",t));var C=li(S,"y",null);C!==null?(i=C,g=C):(i=li(S,"top",0),g=li(S,"bottom",i))}else t===void 0&&(t=0),i===void 0&&(i=t),r===void 0&&(r=t),g===void 0&&(g=i);return this.padding.left=t,this.padding.top=i,this.padding.right=r,this.padding.bottom=g,this.updateText(!1)}updateText(t){t===void 0&&(t=!0);var i=this.canvasText,r=this.style;t&&i.updatePenManager(this._text,r.wrapMode,r.wrapWidth,r.lineHeight);var g=this.padding,S,n,C=Math.ceil(i.linesWidth);r.fixedWidth===0?(this.width=C+g.left+g.right,S=C):(this.width=r.fixedWidth,S=this.width-g.left-g.right,S<C&&(S=C)),r.fixedHeight===0?(this.height=i.linesHeight+g.top+g.bottom,n=i.linesHeight):(this.height=r.fixedHeight,n=this.height-g.top-g.bottom,n<i.linesHeight&&(n=i.linesHeight));var s=this.width,o=this.height;this.updateDisplayOrigin();var y=r.resolution;s*=y,o*=y,s=Math.max(Math.ceil(s),1),o=Math.max(Math.ceil(o),1);var f=this.canvas,u=this.context;f.width!==s||f.height!==o?(f.width=s,f.height=o,this.frame.setSize(s,o)):u.clearRect(0,0,s,o),u.save(),u.scale(y,y);var l=this.style.rtl?g.right:g.left,a=g.top;i.draw(l,a,S,n),u.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(f,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"BBCodeText Game Object"}),this.dirty=!0;var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=this.width,d.hitArea.height=this.height),this}toJSON(){var t=Components.ToJSON(this),i={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=i,t}setInteractive(t,i,r){var g=!!this.input;return fb.prototype.setInteractive.call(this,t,i,r),g||this.canvasText.setInteractive(),this}setUrlTagCursorStyle(t){return this.urlTagCursorStyle=t,this}get urlTagCursorStyle(){return this.canvasText.urlTagCursorStyle}set urlTagCursorStyle(t){this.canvasText.urlTagCursorStyle=t}getWrappedText(t,i,r){return typeof t=="number"&&(r=i,i=t,t=void 0),t=this.canvasText.getText(t,i,r,!0),t.split(vb)}getPlainText(t,i,r){return typeof t=="number"&&(r=i,i=t,t=void 0),this.canvasText.getPlainText(t,i,r)}getText(t,i,r,g){return typeof t=="number"&&(g=r,r=i,i=t,t=void 0),g===void 0&&(g=!1),this.canvasText.getText(t,i,r,g)}getSubString(t,i,r){return typeof t=="number"&&(r=i,i=t,t=void 0),this.getText(t,i,r)}copyPenManager(t){return this.canvasText.copyPenManager(t)}getPenManager(t,i){return this.canvasText.getPenManager(t,i)}setSize(t,i){return this.setFixedSize(t,i)}resize(t,i){return this.setFixedSize(t,i)}get imageManager(){return this._imageManager||(this._imageManager=new $m(this.scene)),this._imageManager}addImage(t,i){return this.imageManager.add(t,i),this}drawAreaBounds(t,i){return this.canvasText.hitAreaManager.drawBounds(t,i,this),this}generateTexture(t,i,r,g,S){var n=this.canvas;return g===void 0?g=n.width:g*=this.resolution,S===void 0?S=n.height:S*=this.resolution,yM(this.scene,n,t,i,r,g,S),this}getHitArea(t,i,r){return this.canvasText.getHitArea(t,i,r)}}var gb={appendText:AM};Object.assign(Km.prototype,gb);var mb=function(e,t){for(var i=this.tagRegex,r=[],g=0,S=!1,n=!1;;){var C=i.RE_SPLITTEXT.exec(e);if(!C)break;var s=C[0];if(n)if(i.RE_ESC_CLOSE.test(s))n=!1;else continue;else if(S)if(i.RE_RAW_CLOSE.test(s))S=!1;else continue;else i.RE_ESC_OPEN.test(s)?n=!0:i.RE_RAW_OPEN.test(s)&&(S=!0);var o=i.RE_SPLITTEXT.lastIndex,y=o-s.length;if(g<y){var f=e.substring(g,y);r.push(f)}t===void 0&&r.push(s),g=o}var u=e.length;return g<u&&r.push(e.substring(g,u)),r};const re=!1,Kt=!0;var xb={plainText:null,prevProp:null},yb=function(e,t){var i=this.tagRegex;t==null&&(t={});var r="";if(t.img&&mt(t,re,"img"),t.esc)i.RE_ESC_CLOSE.test(e)?mt(t,re,"esc"):r=e;else if(t.raw)i.RE_RAW_CLOSE.test(e)?mt(t,re,"raw"):r=e;else if(i.RE_ESC_OPEN.test(e))mt(t,Kt,"esc",!0);else if(i.RE_ESC_CLOSE.test(e))mt(t,re,"esc");else if(i.RE_RAW_OPEN.test(e))mt(t,Kt,"raw",!0);else if(i.RE_RAW_CLOSE.test(e))mt(t,re,"raw");else if(i.RE_BLOD_OPEN.test(e))mt(t,Kt,"b",!0);else if(i.RE_BLOD_CLOSE.test(e))mt(t,re,"b");else if(i.RE_ITALICS_OPEN.test(e))mt(t,Kt,"i",!0);else if(i.RE_ITALICS_CLOSE.test(e))mt(t,re,"i");else if(i.RE_WEIGHT_OPEN.test(e)){var g=e.match(i.RE_WEIGHT_OPEN);mt(t,Kt,"weight",g[1])}else if(i.RE_WEIGHT_CLOSE.test(e))mt(t,re,"weight");else if(i.RE_SIZE_OPEN.test(e)){var g=e.match(i.RE_SIZE_OPEN);mt(t,Kt,"size",`${g[1]}px`)}else if(i.RE_SIZE_CLOSE.test(e))mt(t,re,"size");else if(i.RE_FAMILY_OPEN.test(e)){var g=e.match(i.RE_FAMILY_OPEN);mt(t,Kt,"family",g[1])}else if(i.RE_FAMILY_CLOSE.test(e))mt(t,re,"family");else if(i.RE_COLOR_OPEN.test(e)){var g=e.match(i.RE_COLOR_OPEN);mt(t,Kt,"color",g[1])}else if(i.RE_COLOR_CLOSE.test(e))mt(t,re,"color");else if(i.RE_UNDERLINE_OPEN.test(e))mt(t,Kt,"u",!0);else if(i.RE_UNDERLINE_OPENC.test(e)){var g=e.match(i.RE_UNDERLINE_OPENC);mt(t,Kt,"u",g[1])}else if(i.RE_UNDERLINE_CLOSE.test(e))mt(t,re,"u");else if(i.RE_STRIKETHROUGH_OPEN.test(e))mt(t,Kt,"s",!0);else if(i.RE_STRIKETHROUGH_OPENC.test(e)){var g=e.match(i.RE_STRIKETHROUGH_OPENC);mt(t,Kt,"s",g[1])}else if(i.RE_STRIKETHROUGH_CLOSE.test(e))mt(t,re,"s");else if(i.RE_SHADOW_OPEN.test(e))mt(t,Kt,"shadow",!0);else if(i.RE_SHADOW_OPENC.test(e)){var g=e.match(i.RE_SHADOW_OPENC);mt(t,Kt,"shadow",g[1])}else if(i.RE_SHADOW_CLOSE.test(e))mt(t,re,"shadow");else if(i.RE_STROKE_OPEN.test(e))mt(t,Kt,"stroke",!0);else if(i.RE_STROKE_OPENC.test(e)){var g=e.match(i.RE_STROKE_OPENC);mt(t,Kt,"stroke",g[1])}else if(i.RE_STROKE_CLOSE.test(e))mt(t,re,"stroke");else if(i.RE_BGCOLOR_OPEN.test(e)){var g=e.match(i.RE_BGCOLOR_OPEN);mt(t,Kt,"bgcolor",g[1])}else if(i.RE_BGCOLOR_CLOSE.test(e))mt(t,re,"bgcolor");else if(i.RE_OFFSETY_OPEN.test(e)){var g=e.match(i.RE_OFFSETY_OPEN);mt(t,Kt,"y",parseFloat(g[1]))}else if(i.RE_OFFSETY_CLOSE.test(e))mt(t,re,"y");else if(i.RE_IMAGE_OPEN.test(e)){var g=e.match(i.RE_IMAGE_OPEN);mt(t,Kt,"img",g[1])}else if(i.RE_IMAGE_CLOSE.test(e))mt(t,re,"img");else if(i.RE_AREA_OPEN.test(e)){var g=e.match(i.RE_AREA_OPEN);mt(t,Kt,"area",g[1])}else if(i.RE_AREA_CLOSE.test(e))mt(t,re,"area");else if(i.RE_URL_OPEN.test(e)){var g=e.match(i.RE_URL_OPEN);mt(t,Kt,"url",g[1])}else if(i.RE_URL_CLOSE.test(e))mt(t,re,"url");else if(i.RE_ALIGN_OPEN.test(e)){var g=e.match(i.RE_ALIGN_OPEN);mt(t,Kt,"align",g[1])}else if(i.RE_ALIGN_CLOSE.test(e))mt(t,re,"align");else if(i.RE_ID_OPEN.test(e)){var g=e.match(i.RE_ID_OPEN);mt(t,Kt,"id",g[1])}else i.RE_ID_CLOSE.test(e)?mt(t,re,"id"):r=e;var S=xb;return S.plainText=r,S.prop=t,S},mt=function(e,t,i,r){return t===Kt?e[i]=r:e.hasOwnProperty(i)&&delete e[i],e},Cb=function(e,t){var i=Sb;if(t.hasOwnProperty("img"))i.image=t.img;else{if(i.image=null,t.hasOwnProperty("family")?i.fontFamily=t.family:i.fontFamily=e.fontFamily,t.hasOwnProperty("size")){var r=t.size;typeof r=="number"&&(r=`${r}px`),i.fontSize=r}else i.fontSize=e.fontSize;i.fontStyle=Tb(t),t.hasOwnProperty("color")?i.color=t.color:i.color=e.color,t.hasOwnProperty("stroke")?t.stroke===!0?(i.stroke=e.stroke,i.strokeThickness=e.strokeThickness):(i.stroke=t.stroke,i.strokeThickness=e.strokeThickness):(i.stroke=e.stroke,i.strokeThickness=0)}return t.hasOwnProperty("shadow")?t.shadow===!0?(i.shadowColor=e.shadowColor,i.shadowOffsetX=e.shadowOffsetX,i.shadowOffsetY=e.shadowOffsetY,i.shadowBlur=e.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor=t.shadow,i.shadowOffsetX=e.shadowOffsetX,i.shadowOffsetY=e.shadowOffsetY,i.shadowBlur=e.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor="#000",i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowBlur=0,i.shadowStroke=!1,i.shadowFill=!1),t.hasOwnProperty("u")?t.u===!0?(i.underlineColor=e.underlineColor,i.underlineThickness=e.underlineThickness,i.underlineOffset=e.underlineOffset):(i.underlineColor=t.u,i.underlineThickness=e.underlineThickness,i.underlineOffset=e.underlineOffset):(i.underlineColor="#000",i.underlineThickness=0,i.underlineOffset=0),t.hasOwnProperty("s")?t.s===!0?(i.strikethroughColor=e.strikethroughColor,i.strikethroughThickness=e.strikethroughThickness,i.strikethroughOffset=e.strikethroughOffset):(i.strikethroughColor=t.s,i.strikethroughThickness=e.strikethroughThickness,i.strikethroughOffset=e.strikethroughOffset):(i.strikethroughColor="#000",i.strikethroughThickness=0,i.strikethroughOffset=0),t.hasOwnProperty("bgcolor")?i.bgcolor=t.bgcolor:i.bgcolor=null,i},Tb=function(e){var t=e.b,i=e.weight,r=e.i;return t||i||r?r?t?"bold italic":i?`${i} italic`:"italic":t?"bold":i.toString():""},Sb=new Ym,Pb=function(e,t,i){i==null&&(i=Eb);var r=this.delimiters[0],g=this.delimiters[1],S=[];for(var n in i)t.hasOwnProperty(n)||S.push(`${r}/${n}${g}`);for(var n in t){var C=t[n];if(n!=="img"){if(i[n]===C)continue}switch(n){case"size":S.push(`${r}size=${C.replace("px","")}${g}`);break;case"color":case"weight":case"family":case"stroke":case"bgcolor":case"y":case"img":case"area":case"url":case"align":case"id":S.push(`${r}${n}=${C}${g}`);break;case"u":case"s":C===!0?S.push(`${r}${n}${g}`):S.push(`${r}${n}=${C}${g}`);break;default:S.push(`${r}${n}${g}`);break}}return S.push(e),S.join("")},Eb={},zo=function(e){return e.replace(Mb,"\\$&").replace(wb,"\\x2d")},Mb=/[|\\{}()[\]^$+*?.]/g,wb=/-/g,oC,hC,yt={},jt=function(e,t,i,r){return r===void 0?`${e}${i}${t}`:`${e}${i}=(${r})${t}`},Ce=function(e,t,i){return`${e}/${i}${t}`},Rb=function(e){return`[^${e}]+`},Jv="[-.0-9]+",Ab=["[a-zA-Z]+","#[0-9abcdef]+","rgba?\\(s*[.0-9]+s*(,s*[.0-9]+s*){2,3}\\)"],ba=Ab.join("|"),LM=function(e,t){if(t===void 0){var i=e;e=i[0],t=i[1]}if(oC===e&&hC===t)return!1;oC=e,hC=t,e=zo(e),t=zo(t);var r=Rb(t),g="esc",S=jt(e,t,g),n=Ce(e,t,g),C="raw",s=jt(e,t,C),o=Ce(e,t,C),y="b",f=jt(e,t,y),u=Ce(e,t,y),l="i",a=jt(e,t,l),d=Ce(e,t,l),v="weight",h=jt(e,t,v,Jv),c=Ce(e,t,v),p="size",m=jt(e,t,p,Jv),x=Ce(e,t,p),T="family",P=jt(e,t,T,r),M=Ce(e,t,T),E="color",w=jt(e,t,E,ba),R=Ce(e,t,E),A="u",L=jt(e,t,A),b=jt(e,t,A,ba),O=Ce(e,t,A),F="s",D=jt(e,t,F),B=jt(e,t,F,ba),N=Ce(e,t,F),z="shadow",W=jt(e,t,z),X=jt(e,t,z,ba),k=Ce(e,t,z),V="stroke",I=jt(e,t,V),U=jt(e,t,V,ba),G=Ce(e,t,V),Y="bgcolor",H=jt(e,t,Y,ba),$=Ce(e,t,Y),K="y",Z=jt(e,t,K,Jv),J=Ce(e,t,K),j="img",Q=jt(e,t,j,r),_=Ce(e,t,j),it="area",q=jt(e,t,it,r),ht=Ce(e,t,it),lt="url",ut=jt(e,t,lt,r),tt=Ce(e,t,lt),at="align",ot=jt(e,t,at,r),pt=Ce(e,t,at),Pt="id",kt=jt(e,t,Pt,r),Ct=Ce(e,t,Pt);return yt.RE_ESC_OPEN=new RegExp(S,"i"),yt.RE_ESC_CLOSE=new RegExp(n,"i"),yt.RE_RAW_OPEN=new RegExp(s,"i"),yt.RE_RAW_CLOSE=new RegExp(o,"i"),yt.RE_BLOD_OPEN=new RegExp(f,"i"),yt.RE_BLOD_CLOSE=new RegExp(u,"i"),yt.RE_ITALICS_OPEN=new RegExp(a,"i"),yt.RE_ITALICS_CLOSE=new RegExp(d,"i"),yt.RE_WEIGHT_OPEN=new RegExp(h,"i"),yt.RE_WEIGHT_CLOSE=new RegExp(c,"i"),yt.RE_SIZE_OPEN=new RegExp(m,"i"),yt.RE_SIZE_CLOSE=new RegExp(x,"i"),yt.RE_FAMILY_OPEN=new RegExp(P,"i"),yt.RE_FAMILY_CLOSE=new RegExp(M,"i"),yt.RE_COLOR_OPEN=new RegExp(w,"i"),yt.RE_COLOR_CLOSE=new RegExp(R,"i"),yt.RE_UNDERLINE_OPEN=new RegExp(L,"i"),yt.RE_UNDERLINE_OPENC=new RegExp(b,"i"),yt.RE_UNDERLINE_CLOSE=new RegExp(O,"i"),yt.RE_STRIKETHROUGH_OPEN=new RegExp(D,"i"),yt.RE_STRIKETHROUGH_OPENC=new RegExp(B,"i"),yt.RE_STRIKETHROUGH_CLOSE=new RegExp(N,"i"),yt.RE_SHADOW_OPEN=new RegExp(W,"i"),yt.RE_SHADOW_OPENC=new RegExp(X,"i"),yt.RE_SHADOW_CLOSE=new RegExp(k,"i"),yt.RE_STROKE_OPEN=new RegExp(I,"i"),yt.RE_STROKE_OPENC=new RegExp(U,"i"),yt.RE_STROKE_CLOSE=new RegExp(G,"i"),yt.RE_BGCOLOR_OPEN=new RegExp(H,"i"),yt.RE_BGCOLOR_CLOSE=new RegExp($,"i"),yt.RE_OFFSETY_OPEN=new RegExp(Z,"i"),yt.RE_OFFSETY_CLOSE=new RegExp(J,"i"),yt.RE_IMAGE_OPEN=new RegExp(Q,"i"),yt.RE_IMAGE_CLOSE=new RegExp(_,"i"),yt.RE_AREA_OPEN=new RegExp(q,"i"),yt.RE_AREA_CLOSE=new RegExp(ht,"i"),yt.RE_URL_OPEN=new RegExp(ut,"i"),yt.RE_URL_CLOSE=new RegExp(tt,"i"),yt.RE_ALIGN_OPEN=new RegExp(ot,"i"),yt.RE_ALIGN_CLOSE=new RegExp(pt,"i"),yt.RE_ID_OPEN=new RegExp(kt,"i"),yt.RE_ID_CLOSE=new RegExp(Ct,"i"),yt.RE_SPLITTEXT=new RegExp([s,o,S,n,f,u,a,d,h,c,m,x,P,M,w,R,L,b,O,D,B,N,W,X,k,I,U,G,H,$,Z,J,Q,_,q,ht,ut,tt,ot,pt,kt,Ct].join("|"),"ig"),!0},lC=function(e,t){return e!==void 0&&LM(e,t),Object.assign({},yt)};const Lb=Phaser.Utils.Objects.GetValue;let OM=class{constructor(t){var i=Lb(t,"delimiters","[]");this.tagRegex=lC(i),this.delimiters=i}getStrokeThinkness(t,i){var r;return i.hasOwnProperty("stroke")?r=t.strokeThickness:r=0,r}setDelimiters(t,i){return LM(t,i)&&(this.tagRegex=lC()),this}};var Ob={splitText:mb,tagTextToProp:yb,propToContextStyle:Cb,propToTagText:Pb};Object.assign(OM.prototype,Ob);class $o extends Km{constructor(t,i,r,g,S){var n=new OM(S);super(t,i,r,g,S,"rexBBCodeText",n)}setDelimiters(t,i){return this.parser.setDelimiters(t,i),this}}st.register("BBCodeText",function(e,t,i,r){var g=new $o(this.scene,e,t,i,r);return this.scene.add.existing(g),g});et(window,"RexPlugins.UI.BBCodeText",$o);var Fb={plainText:null,prevProp:null},bb=new Ym;let Db=class{constructor(t){t===void 0&&(t={}),this.tags=t}addTag(t,i){this.tags[t]=i}getTag(t){return this.tags[t]}splitText(t,i){for(var r=[],g=0;;){var S=Qv.exec(t);if(!S)break;var n=S[0],C=Qv.lastIndex-n.length;if(g<C&&r.push(t.substring(g,C)),i===void 0)r.push(n);else if(i===1){if(dC.test(n)){var s=n.match(fC);r.push(s[2])}else if(cC.test(n)){var s=n.match(vC);r.push(s[2])}}g=Qv.lastIndex}var o=t.length;return g<o&&r.push(t.substring(g,o)),r}tagTextToProp(t,i){var r,g;if(dC.test(t)){var S=t.match(fC);if(S!=null){var n=S[1],C=this.tags;C.hasOwnProperty(n)?g=C[n]:g={},g._class=n,r=S[2]}}else if(cC.test(t)){var S=t.match(vC);if(S!=null){var s=S[1];g=Bb(s),g._style=s,r=S[2]}}r==null&&(r=t),g==null&&(g={});var o=Fb;return o.plainText=r,o.prop=g,o}propToContextStyle(t,i){var r=bb;if(i.hasOwnProperty("img"))r.image=i.img;else{if(r.image=null,i.hasOwnProperty("family")||i.hasOwnProperty("fontFamily")||i.hasOwnProperty("font-family")){var g=i.hasOwnProperty("family")?i.family:i.hasOwnProperty("fontFamily")?i.fontFamily:i["font-family"];r.fontFamily=g}else r.fontFamily=t.fontFamily;if(i.hasOwnProperty("size")||i.hasOwnProperty("fontSize")||i.hasOwnProperty("font-size")){var S=i.hasOwnProperty("size")?i.size:i.hasOwnProperty("fontSize")?i.fontSize:i["font-size"];typeof S=="number"&&(S=`${S}px`),r.fontSize=S}else r.fontSize=t.fontSize;if(i.hasOwnProperty("style")||i.hasOwnProperty("fontStyle")||i.hasOwnProperty("font-style")){var n=i.hasOwnProperty("style")?i.style:i.hasOwnProperty("fontStyle")?i.fontStyle:i["font-style"];r.fontStyle=n}else r.fontStyle=t.fontStyle;if(i.hasOwnProperty("color")||i.hasOwnProperty("font-color")){var C=i.hasOwnProperty("color")?i.color:i["font-color"];r.color=C}else r.color=t.color;if(i.hasOwnProperty("stroke")){var s=i.stroke;r.stroke=s.hasOwnProperty("color")?s.color:t.stroke,r.strokeThickness=s.hasOwnProperty("thickness")?s.thickness:t.strokeThickness}else r.stroke=t.stroke,r.strokeThickness=t.strokeThickness}if(i.hasOwnProperty("shadow")){var o=i.shadow;r.shadowColor=o.hasOwnProperty("color")?o.color:t.shadowColor,r.shadowOffsetX=o.hasOwnProperty("offsetX")?o.offsetX:t.shadowOffsetX,r.shadowOffsetY=o.hasOwnProperty("offsetY")?o.offsetY:t.shadowOffsetY,r.shadowBlur=o.hasOwnProperty("blur")?o.blur:t.shadowBlur,r.shadowStroke=!0,r.shadowFill=!0}else r.shadowColor=t.shadowColor,r.shadowOffsetX=t.shadowOffsetX,r.shadowOffsetY=t.shadowOffsetY,r.shadowBlur=t.shadowBlur,r.shadowStroke=t.shadowStroke,r.shadowFill=t.shadowFill;if(i.hasOwnProperty("u")||i.hasOwnProperty("underline")){var y=i.hasOwnProperty("u")?i.u:i.underline;r.underlineColor=y.hasOwnProperty("color")?y.color:t.underlineColor,r.underlineThickness=y.hasOwnProperty("thickness")?y.thickness:t.underlineThickness,r.underlineOffset=y.hasOwnProperty("offset")?y.offset:t.underlineOffset}else r.underlineColor=t.underlineColor,r.underlineThickness=t.underlineThickness,r.underlineOffset=t.underlineOffset;if(i.hasOwnProperty("s")||i.hasOwnProperty("strikethrough")){var f=i.hasOwnProperty("s")?i.s:i.strikethrough;r.strikethroughColor=f.hasOwnProperty("color")?f.color:t.strikethroughColor,r.strikethroughThickness=f.hasOwnProperty("thickness")?f.thickness:t.strikethroughThickness,r.strikethroughOffset=f.hasOwnProperty("offset")?f.offset:t.strikethroughOffset}else r.strikethroughColor=t.strikethroughColor,r.strikethroughThickness=t.strikethroughThickness,r.strikethroughOffset=t.strikethroughOffset;return r}getStrokeThinkness(t,i){var r;if(i.hasOwnProperty("stroke")){var g=i.stroke;r=g.hasOwnProperty("thickness")?g.thickness:t.strokeThickness}else r=t.strokeThickness;return r}propToTagText(t,i,r){return i.hasOwnProperty("_class")?t===""&&this.isTextTag(i._class)?"":`<class='${i._class}'>${t}</class>`:i.hasOwnProperty("_style")?`<style='${i._style}'>${t}</style>`:t}destroy(){this.tags=void 0}isTextTag(t){var i=this.tags[t];return i?i.img==null:!1}};var Bb=function(e){e=e.split(";");for(var t={},i,r,g,S=0,n=e.length;S<n;S++)if(i=e[S].split(":"),r=i[0],g=i[1],!(uC(r)||uC(g))){switch(r){case"stroke":var C=g.split(" "),s=C.length;g={},s>=1&&(g.color=C[0]),s>=2&&(g.thickness=parseInt(C[1].replace("px","")));break;case"shadow":var C=g.split(" "),s=C.length;g={},s>=1&&(g.color=C[0]),s>=2&&(g.offsetX=parseInt(C[1].replace("px",""))),s>=3&&(g.offsetY=parseInt(C[2].replace("px",""))),s>=4&&(g.blur=parseInt(C[3].replace("px","")));break;case"u":case"underline":case"s":case"strikethrough":var C=g.split(" "),s=C.length;g={},s>=1&&(g.color=C[0]),s>=2&&(g.thickness=parseInt(C[1].replace("px",""))),s>=3&&(g.offset=parseInt(C[2].replace("px",""))),r==="underline"?r="u":r==="strikethrough"&&(r="s");break;case"y":g=parseFloat(g);break}t[r]=g}return t},uC=function(e){return e=e.replace(Ib,""),e.length===0},Qv=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,dC=/<\s*class=/i,fC=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,cC=/<\s*style=/i,vC=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,Ib=/^\s+|\s+$/;const Gb=Phaser.Utils.Objects.GetValue;class FM extends Km{constructor(t,i,r,g,S){var n=Gb(S,"tags",void 0),C=new Db(n);super(t,i,r,g,S,"rexTagText",C)}addTag(t,i){return this.parser.addTag(t,i),this.updateText(!0)}addTags(t){for(var i in t)this.parser.addTag(i,t[i]);return this.updateText(!0)}getTag(t){return this.parser.getTag(t)}preDestroy(){super.preDestroy(),this.parser.destroy(),this.parser=void 0}}st.register("tagText",function(e,t,i,r){var g=new FM(this.scene,e,t,i,r);return this.scene.add.existing(g),g});et(window,"RexPlugins.UI.TagText",FM);const Xu=Phaser.Utils.Objects.GetValue;var hf=function(e,t){return t===void 0?e:e[t]},fn=function(e,t,i){e===void 0&&(e={}),t===void 0&&(t=0);var r=typeof t;return r==="string"?e[t]=i:r==="number"?(e.left=t,e.right=t,e.top=t,e.bottom=t):(e.left=Xu(t,"left",0),e.right=Xu(t,"right",0),e.top=Xu(t,"top",0),e.bottom=Xu(t,"bottom",0)),e};let Zm=class{constructor(t,i){this.setParent(t),this.type=i,this.renderable=!1,this.reset().setActive()}destroy(){this.parent.removeChild(this)}setParent(t){return this.parent=t,this}get scene(){return this.parent.scene}get canvas(){return this.parent?this.parent.canvas:null}get context(){return this.parent?this.parent.context:null}setDirty(t){return t&&this.parent&&(this.parent.dirty=!0),this}get active(){return this._active}set active(t){this.setDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}onFree(){this.reset().setParent()}reset(){return this}render(){}contains(t,i){return!1}};Object.assign(Zm.prototype,gc);const kb={renderContent(){},render(){if(!this.willRender)return this;var e=this.context;if(e.save(),e.globalAlpha=this.alpha,this.toLocalPosition){var t=this.drawX,i=this.drawY;this.autoRound&&(t=Math.round(t),i=Math.round(i)),e.translate(t,i),e.scale(this.scaleX,this.scaleY),e.rotate(this.rotation)}return this.drawBelowCallback&&this.drawBelowCallback(this),this.renderContent(),this.drawAboveCallback&&this.drawAboveCallback(this),e.restore(),this}},Nb=Phaser.Math.RotateAround;var zb=function(e,t,i,r){return r===void 0?r={}:r===!0&&(jv===void 0&&(jv={}),r=jv),r.x=(e-i.drawX)/i.scaleX,r.y=(t-i.drawY)/i.scaleY,i.rotation!==0&&Nb(r,0,0,-i.rotation),r},jv;const Vb=Phaser.Geom.Rectangle;var Ub=function(e,t){if(this.width===0||this.height===0)return!1;var i=zb(e,t,this,!0);return Xb(this).contains(i.x,i.y)},Xb=function(e){Wu===void 0&&(Wu=new Vb);var t=e.drawTLX,i=e.drawTLY;return Wu.setTo(t,i,e.drawTRX-t,e.drawBLY-i),Wu},Wu;const Wb=Phaser.Math.RotateAround;var bM=function(e,t,i,r){return r===void 0?r={}:r===!0&&(qv===void 0&&(qv={}),r=qv),r.x=t,r.y=i,e.rotation!==0&&Wb(r,0,0,e.rotation),r.x=r.x*e.scaleX+e.drawX,r.y=r.y*e.scaleY+e.drawY,r},qv;const pC=Phaser.GameObjects.Components.TransformMatrix;var Yb=function(e,t,i,r){r===void 0?r={}:r===!0&&(r=Hb);var g=t-e.width*e.originX,S=i-e.height*e.originY;return dh===void 0&&(dh=new pC,gC=new pC),e.parentContainer?e.getWorldTransformMatrix(dh,gC):dh.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),dh.transformPoint(g,S,r),r},dh,gC,Hb={},$b=function(e,t,i,r,g){var S=bM(t,i,r,!0),n=Yb(e,S.x,S.y,g);return n},DM=function(e,t,i,r,g){typeof i!="number"&&(g=i,i=0,r=0);var S=t.drawCenterX+i,n=t.drawCenterY+r;return $b(e,t,S,n,g)},Kb=function(e,t,i){return DM(this.parent,this,e,t,i)},BM={contains:Ub,getWorldPosition:Kb};Object.assign(BM,kb);const Zb=Phaser.Math.DegToRad,Jb=Phaser.Math.RadToDeg,Yu=Phaser.Utils.Objects.GetValue;class Ta extends Zm{constructor(t,i){super(t,i),this.renderable=!0,this.scrollFactorX=1,this.scrollFactorY=1,this.toLocalPosition=!0,this.originX=0,this.offsetX=0,this.offsetY=0}get visible(){return this._visible}set visible(t){this.setDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDirty(this._alpha!=t),this._alpha=t}setAlpha(t){return this.alpha=t,this}get x(){return this._x}set x(t){this.setDirty(this._x!=t),this._x=t}setX(t){return this.x=t,this}get y(){return this._y}set y(t){this.setDirty(this._y!=t),this._y=t}setY(t){return this.y=t,this}setPosition(t,i){return this.x=t,this.y=i,this}setInitialPosition(t,i){return this.x0=t,this.y0=i,this}setScrollFactorX(t){return this.scrollFactorX=t,this}setScrollFactorY(t){return this.scrollFactorY=t,this}setScrollFactor(t,i){return i===void 0&&(i=t),this.scrollFactorX=t,this.scrollFactorY=i,this}get rotation(){return this._rotation}set rotation(t){this.setDirty(this._rotation!=t),this._rotation=t}setRotation(t){return this.rotation=t,this}get angle(){return Jb(this._rotation)}set angle(t){this.rotation=Zb(t)}setAngle(t){return this.angle=t,this}get scaleX(){return this._scaleX}set scaleX(t){this.setDirty(this._scaleX!==t),this._scaleX=t}setScaleX(t){return this.scaleX=t,this}get width(){return 0}set width(t){}setWidth(t,i){return i===void 0&&(i=!1),this.width=t,i&&(this.scaleY=this.scaleX),this}get leftSpace(){return this._leftSpace}set leftSpace(t){this.setDirty(this._leftSpace!==t),this._leftSpace=t}setLeftSpace(t){return this.leftSpace=t,this}get rightSpace(){return this._rightSpace}set rightSpace(t){this.setDirty(this._rightSpace!==t),this._rightSpace=t}setRightSpace(t){return this.rightSpace=t,this}get outerWidth(){return this.width+this.leftSpace+this.rightSpace}get scaleY(){return this._scaleY}set scaleY(t){this.setDirty(this._scaleY!==t),this._scaleY=t}setScaleY(t){return this.scaleY=t,this}get height(){return 0}set height(t){}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}setOrigin(t){return this.originX=t,this}setAlign(t){return this.align=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var i=Yu(t,"width",void 0),r=Yu(t,"height",void 0),g=Yu(t,"scaleX",void 0),S=Yu(t,"scaleY",void 0);return i!==void 0?r===void 0&&S===void 0?this.setWidth(i,!0):this.setWidth(i):g!==void 0&&this.setScaleX(g),r!==void 0?i===void 0&&g===void 0?this.setHeight(r,!0):this.setHeight(r):S!==void 0&&this.setScaleY(S),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),this}setDrawBelowCallback(t){return this.drawBelowCallback=t,this}setDrawAboveCallback(t){return this.drawAboveCallback=t,this}reset(){return this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setLeftSpace(0).setRightSpace(0).setOrigin(0).setAlign().setDrawBelowCallback().setDrawAboveCallback(),this}get willRender(){return this.visible&&this.alpha>0}get drawX(){var t=this.x+this.leftSpace+this.offsetX-this.originX*this.width;return this.parent._textOX*this.scrollFactorX+t}get drawY(){var t=this.y+this.offsetY;return this.parent._textOY*this.scrollFactorY+t}get drawTLX(){return 0}get drawTLY(){return 0}get drawBLX(){return 0}get drawBLY(){return 0}get drawTRX(){return 0}get drawTRY(){return 0}get drawBRX(){return 0}get drawBRY(){return 0}get drawCenterX(){return(this.drawTRX+this.drawTLX)/2}get drawCenterY(){return(this.drawBLY+this.drawTLY)/2}}Object.assign(Ta.prototype,BM);var en=function(e,t,i){return t.hasOwnProperty(e)?t[e]:i[e]};const Bn=Phaser.Utils.Objects.GetValue;class Qb extends Ta{constructor(t,i){super(t,"background"),this.setScrollFactor(0),this.setColor(Bn(i,"color",null),Bn(i,"color2",null),Bn(i,"horizontalGradient",!0)),this.setStroke(Bn(i,"stroke",null),Bn(i,"strokeThickness",2)),this.setCornerRadius(Bn(i,"cornerRadius",0),Bn(i,"cornerIteration",null))}set color(t){t=xt(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=xt(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,i,r){return r===void 0&&(r=!0),this.color=t,this.color2=i,this.horizontalGradient=r,this}set stroke(t){t=xt(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,i){return t!=null&&i===void 0&&(i=2),this.stroke=t,this.strokeThickness=i,this}set cornerRadius(t){this.setDirty(this._cornerRadius!=t),this._cornerRadius=t}get cornerRadius(){return this._cornerRadius}set cornerIteration(t){this.setDirty(this._cornerIteration!=t),this._cornerIteration=t}get cornerIteration(){return this._cornerIteration}modifyStyle(t){return t.hasOwnProperty("color")&&this.setColor(t.color,en("color2",t,this),en("horizontalGradient",t,this)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,en("strokeThickness",t,this)),t.hasOwnProperty("cornerRadius")&&this.setCornerRadius(t.cornerRadius,en("cornerIteration",t,this)),this}modifyPorperties(t){return super.modifyPorperties(t),this.modifyStyle(t),this}setCornerRadius(t,i){return this.cornerRadius=t,this.cornerIteration=i,this}renderContent(){Xm(this.parent,this.color,this.stroke,this.strokeThickness,this.cornerRadius,this.color2,this.horizontalGradient,this.cornerIteration)}}const br=Phaser.Utils.Objects.GetValue;class jb extends Ta{constructor(t,i){super(t,"innerbounds"),this.setScrollFactor(0),this.setColor(br(i,"color",null),br(i,"color2",null),br(i,"horizontalGradient",!0)),this.setStroke(br(i,"stroke",null),br(i,"strokeThickness",2))}set color(t){t=xt(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=xt(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,i,r){return r===void 0&&(r=!0),this.color=t,this.color2=i,this.horizontalGradient=r,this}set stroke(t){t=xt(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,i){return t!=null&&i===void 0&&(i=2),this.stroke=t,this.strokeThickness=i,this}modifyPorperties(t){super.modifyPorperties(t),t.hasOwnProperty("color")&&this.setColor(t.color,br(t,"color2",null),br(t,"horizontalGradient",!0)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,br(t,"strokeThickness",2))}renderContent(){var t=this.parent.padding,i=t.left,r=t.top,g=this.parent.width-t.left-t.right,S=this.parent.height-t.top-t.bottom,n=this.context;if(this.color!=null){var C;if(this.color2!=null){var s;this.horizontalGradient?s=n.createLinearGradient(0,0,g,0):s=n.createLinearGradient(0,0,0,S),s.addColorStop(0,this.color),s.addColorStop(1,this.color2),C=s}else C=this.color;n.fillStyle=C,n.fillRect(i,r,g,S)}this.stroke!=null&&this.strokeThickness>0&&(n.strokeStyle=this.stroke,n.lineWidth=this.strokeThickness,n.strokeRect(i,r,g,S))}}const fe=Phaser.Utils.Objects.GetValue;class xc{constructor(t,i){this.parent=t,this.set(i)}toJSON(){return{bold:this.bold,italic:this.italic,fontSize:this.fontSize,fontFamily:this.fontFamily,color:this.color,stroke:this.stroke,strokeThickness:this.strokeThickness,shaodwColor:this.shadowColor,shadowBlur:this.shadowBlur,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,offsetX:this.offsetX,offsetY:this.offsetY,leftSpace:this.leftSpace,rightSpace:this.rightSpace,backgroundHeight:this.backgroundHeight,backgroundBottomY:this.backgroundBottomY,align:this.align}}set(t){return this.setBold(fe(t,"bold",!1)),this.setItalic(fe(t,"italic",!1)),this.setFontSize(fe(t,"fontSize","16px")),this.setFontFamily(fe(t,"fontFamily","Courier")),this.setColor(fe(t,"color","#fff")),this.setStrokeStyle(fe(t,"stroke",null),fe(t,"strokeThickness",0)),this.setShadow(fe(t,"shadowColor",null),fe(t,"shadowOffsetX",0),fe(t,"shadowOffsetY",0),fe(t,"shadowBlur",0)),this.setOffset(fe(t,"offsetX",0),fe(t,"offsetY",0)),this.setSpace(fe(t,"leftSpace",0),fe(t,"rightSpace",0)),this.setAlign(fe(t,"align",void 0)),this.setBackgroundColor(fe(t,"backgroundColor",null)),this.setBackgroundHeight(fe(t,"backgroundHeight",void 0)),this.setBackgroundBottomY(fe(t,"backgroundBottomY",void 0)),this.setBackgroundLeftX(fe(t,"backgroundLeftX",0)),this.setBackgroundRightX(fe(t,"backgroundRightX",0)),this}modify(t){return t.hasOwnProperty("bold")&&this.setBold(t.bold),t.hasOwnProperty("italic")&&this.setItalic(t.italic),t.hasOwnProperty("fontSize")&&this.setFontSize(t.fontSize),t.hasOwnProperty("fontFamily")&&this.setFontFamily(t.fontFamily),t.hasOwnProperty("color")&&this.setColor(t.color),(t.hasOwnProperty("stroke")||t.hasOwnProperty("strokeThickness"))&&this.setStrokeStyle(en("stroke",t,this),en("strokeThickness",t,this)),t.hasOwnProperty("shadowColor")&&this.setShadowColor(t.shadowColor),(t.hasOwnProperty("shadowOffsetX")||t.hasOwnProperty("shadowOffsetY"))&&this.setShadowOffset(en("shadowOffsetX",t,this),en("shadowOffsetY",t,this)),t.hasOwnProperty("shadowBlur")&&this.setShadowBlur(t.shaodwBlur),t.hasOwnProperty("offsetX")&&this.setOffsetX(t.offsetX),t.hasOwnProperty("offsetY")&&this.setOffsetY(t.offsetY),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),t.hasOwnProperty("backgroundColor")&&this.setBackgroundColor(t.backgroundColor),t.hasOwnProperty("backgroundHeight")&&this.setBackgroundHeight(t.backgroundHeight),t.hasOwnProperty("backgroundBottomY")&&this.setBackgroundBottomY(t.backgroundBottomY),t.hasOwnProperty("backgroundLeftX")&&this.setBackgroundLeftX(t.backgroundLeftX),t.hasOwnProperty("backgroundRightX")&&this.setBackgroundRightX(t.backgroundRightX),this}setUpdateTextFlag(){return this.parent&&(this.parent.updateTextFlag=!0),this}clone(){return new xc(null,this.toJSON())}copyFrom(t){return this.set(t.toJSON()),this}copyTo(t){return t.set(this.toJSON()),this}setBold(t){return t===void 0&&(t=!0),this.bold=t,this.setUpdateTextFlag(),this}setItalic(t){return t===void 0&&(t=!0),this.italic=t,this.setUpdateTextFlag(),this}get fontStyle(){return this.bold&&this.italic?"bold italic":this.bold?"bold":this.italic?"italic":""}setFontSize(t){return typeof t=="number"&&(t=`${t}px`),this.fontSize=t,this.setUpdateTextFlag(),this}setFontFamily(t){return this.fontFamily=t,this.setUpdateTextFlag(),this}get font(){return`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`}setColor(t){return this.color=xt(t),this}get hasFill(){return this.color!=null}setStrokeStyle(t,i){return this.stroke=xt(t),i!==void 0&&(this.strokeThickness=i),this}setStrokeThickness(t){return this.strokeThickness=t,this}get hasStroke(){return this.stroke!=null&&this.strokeThickness>0}setShadowColor(t){return this.shadowColor=xt(t),this}setShadowOffset(t,i){return t===void 0&&(t=0),i===void 0&&(i=0),this.shadowOffsetX=t,this.shadowOffsetY=i,this}setShadowBlur(t){return t===void 0&&(t=0),this.shaodwBlur=t,this}setShadow(t,i,r,g){return this.setShadowColor(t).setShadowOffset(i,r).setShadowBlur(g),this}setBackgroundColor(t){return this.backgroundColor=xt(t),this}get hasBackgroundColor(){return this.backgroundColor!=null}setBackgroundHeight(t){return this.backgroundHeight=t,this}setBackgroundBottomY(t){return this.backgroundBottomY=t,this}setBackgroundLeftX(t){return this.backgroundLeftX=t,this}setBackgroundRightX(t){return this.backgroundRightX=t,this}setOffsetX(t){return t===void 0&&(t=0),this.offsetX=t,this}setOffsetY(t){return t===void 0&&(t=0),this.offsetY=t,this}setOffset(t,i){return this.setOffsetX(t).setOffsetY(i),this}setLeftSpace(t){return t===void 0&&(t=0),this.leftSpace=t,this}setRightSpace(t){return t===void 0&&(t=0),this.rightSpace=t,this}setSpace(t,i){return this.setLeftSpace(t).setRightSpace(i),this}setAlign(t){return this.align=t,this}syncFont(t){return t.font=this.font,this}syncStyle(t){t.textBaseline="alphabetic";var i=this.hasFill,r=this.hasStroke;return t.fillStyle=i?this.color:"#000",t.strokeStyle=r?this.stroke:"#000",t.lineWidth=r?this.strokeThickness:0,t.lineCap="round",t.lineJoin="round",this}syncShadow(t){t.shadowColor!=null?(t.shadowColor=this.shadowColor,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowBlur=this.shadowBlur):(t.shadowColor=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0)}getTextMetrics(t,i){return this.syncFont(t).syncStyle(t),t.measureText(i)}}var qb=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=0),this.fixedWidth===e&&this.fixedHeight===t?this:(this.fixedWidth=e,this.fixedHeight=t,this.dirty=!0,this.setCanvasSize(e>0?e:this.width,t>0?t:this.height),this)},_b=function(e,t){var i=this.padding,r=i.left,g=i.right,S=i.top,n=i.bottom;return fn(i,e,t),this.dirty=this.dirty||r!=i.left||g!=i.right||S!=i.top||n!=i.bottom,this},tD=function(e){return hf(this.padding,e)},eD=function(e){return this.textStyle.modify(e),this},iD=function(e){return this.defaultTextStyle.modify(e),this},sD=function(){return this.textStyle.copyFrom(this.defaultTextStyle),this},rD=function(e){return this.testString=e,this};const nD=Phaser.Utils.Array.Remove;var aD=function(e){return this.poolManager.free(e),nD(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},oD=function(){return this.poolManager.freeMultiple(this.children),this.children.length=0,this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this};const hD=Phaser.Utils.Array.Remove;var lD=function(e){return hD(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},uD=function(){return this.setText(),this},dD=function(e,t){var i=Array.isArray(e);return t===void 0||t===this.children.length?i?this.children.push(...e):this.children.push(e):i?this.children.splice(t,0,...e):this.children.splice(t,0,e),this.lastAppendedChildren.length=0,i?this.lastAppendedChildren.push(...e):this.lastAppendedChildren.push(e),this};const xr="text",IM="image",GM="drawer",kM="space",Jm="command";var NM=function(e){return e.type===xr&&e.text===`
`},zM=function(e){return e.type===xr&&e.text==="\f"},fD=function(e){return e.type===xr&&e.text===" "},la=function(e){return e.type===xr},cD=function(e){return e.type===Jm};class VM extends Ta{constructor(t,i,r){super(t,xr),this.updateTextFlag=!1,this.style=new xc(this,r),this.setText(i)}get autoRound(){return this.parent.autoRound}get offsetX(){return this.style.offsetX}set offsetX(t){this.style&&(this.style.offsetX=t)}get offsetY(){return this.style.offsetY}set offsetY(t){this.style&&(this.style.offsetY=t)}get leftSpace(){return this.style.leftSpace*this.scaleX}set leftSpace(t){this.style&&(this.style.leftSpace=t),super.leftSpace=t}get rightSpace(){return this.style.rightSpace*this.scaleX}set rightSpace(t){this.style&&(this.style.rightSpace=t),super.rightSpace=t}get align(){return this.style.align}set align(t){this.style&&(this.style.align=t)}modifyStyle(t){return this.setDirty(!0),this.style.modify(t),this.updateTextFlag&&this.updateTextSize(),this}modifyPorperties(t){return t?(this.modifyStyle(t),super.modifyPorperties(t),this):this}setText(t){return this.setDirty(this.text!=t),this.text=t,this.updateTextSize(),this}updateTextSize(){var t=this.text;if(t===`
`||t==="\f"||t==="")this.clearTextSize();else{var i=this.style.getTextMetrics(this.context,this.text);this.textWidth=i.width;var r,g;"actualBoundingBoxAscent"in i?(r=i.actualBoundingBoxAscent,g=i.actualBoundingBoxDescent):(r=0,g=0),this.textHeight=r+g,this.ascent=r,this.descent=g}return this.updateTextFlag=!1,this}clearTextSize(){return this.textWidth=0,this.textHeight=0,this.ascent=0,this.descent=0,this}copyTextSize(t){return this.textWidth=t.textWidth,this.textHeight=t.textHeight,this.ascent=t.ascent,this.descent=t.descent,this}get width(){return this.textWidth*this.scaleX}set width(t){this.textWidth>0?this.scaleX=t/this.textWidth:this.scaleX=1}get height(){return this.textHeight*this.scaleY}set height(t){this.textHeight>0?this.scaleY=t/this.textHeight:this.scaleY=1}get willRender(){return this.textWidth===0?!1:super.willRender}renderContent(){var t=this.context,i=this.style;if(i.hasBackgroundColor){t.fillStyle=i.backgroundColor;var r=this.drawTLX+i.backgroundLeftX,g=this.drawTRX+i.backgroundRightX,S=r,n=g-r+1;if(n>0){var C=i.backgroundBottomY;C==null&&(C=this.drawBLY);var s=i.backgroundHeight;s==null&&(s=C-this.drawTLY);var o=C-s;t.fillRect(S,o,n,s)}}var y=i.hasFill,f=i.hasStroke;!y&&!f||(i.syncFont(t).syncStyle(t),f&&(i.syncShadow(t),t.strokeText(this.text,0,0)),y&&(i.syncShadow(t),t.fillText(this.text,0,0)))}get drawTLX(){return-this.leftSpace}get drawTLY(){return-this.ascent}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.descent}get drawTRX(){return this.textWidth+this.rightSpace}get drawTRY(){return-this.ascent}get drawBRX(){return this.textWidth+this.rightSpace}get drawBRY(){return this.descent}}var vD=function(e,t){t&&this.textStyle.modify(t);var i=this.poolManager.allocate(xr);return i===null?i=new VM(this,e,this.textStyle):i.setParent(this).setActive().modifyStyle(this.textStyle).setText(e),i},pD=function(e,t){t&&this.textStyle.modify(t);for(var i=[],r=0,g=e.length;r<g;r++){var S=e.charAt(r),n=this.poolManager.allocate(xr);n===null?n=new VM(this,S,this.textStyle):n.setParent(this).setActive().modifyStyle(this.textStyle).setText(S),i.push(n)}return i},Vl=function(e,t){var i=this.createCharChildren(e,t);return this.addChild(i),this},gD=function(e,t){return e===void 0&&(e=""),this.removeChildren(),Vl.call(this,e,t),this.dirty=!0,this},mD=function(e,t,i){var r=this.createCharChildren(t,i);return e=this.getCharChildIndex(e,!0),this.addChild(r,e),this},xD=function(e,t){t===void 0&&(t=1);for(var i=0;i<t;i++){var r=this.getCharChildIndex(e,!0);if(r===void 0)break;this.removeChild(this.children[r])}return this},yD=function(e){var t="";return this.forEachCharChild(function(i){t+=i.text},void 0,e),t};Phaser.Display.Canvas.CanvasPool;class CD extends Ta{constructor(t,i,r){super(t,IM),this.setTexture(i,r),this.color=void 0}get frameWidth(){return this.frameObj?this.frameObj.cutWidth:0}get frameHeight(){return this.frameObj?this.frameObj.cutHeight:0}get offsetY(){return-this.height}set offsetY(t){}get key(){return this._key}set key(t){this.setDirty(this._key!=t),this._key=t}get frame(){return this._frame}set frame(t){this.setDirty(this._frame!=t),this._frame=t}setTexture(t,i){return this.key=t,this.frame=i,this.frameObj=this.scene.sys.textures.getFrame(t,i),this}get width(){return this.frameWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=t/this.frameWidth}get height(){return this.frameHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=t/this.frameHeight}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setColor(t){return this.color=t,this}modifyPorperties(t){return t.hasOwnProperty("color")&&this.setColor(t.color),super.modifyPorperties(t),this}renderContent(){RM(this.frameObj,this.canvas,0,0,this.frameWidth,this.frameHeight,this.color,!1)}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.frameHeight}get drawTRX(){return this.frameWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.frameWidth+this.rightSpace}get drawBRY(){return this.frameHeight}}var TD=function(e,t,i){var r=this.poolManager.allocate(IM);return r===null?r=new CD(this,e,t):r.setParent(this).setActive().setTexture(e,t),r.modifyPorperties(i),r},UM=function(e,t,i){var r=this.createImageChild(e,t,i);return this.addChild(r),this};class SD extends Ta{constructor(t,i,r,g){super(t,GM),this.setRenderCallback(i),this.setDrawerSize(r,g)}setRenderCallback(t){return t?this.renderContent=t.bind(this):delete this.renderContent,this}setDrawerSize(t,i){return t===!0?(this.toLocalPosition=!1,t=void 0,i=void 0):this.toLocalPosition=!0,t===void 0&&(t=0),i===void 0&&(i=t),this.drawerWidth=t,this.drawerHeight=i,this}onFree(){super.onFree(),this.setRenderCallback()}get width(){return this.drawerWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=this.drawerWidth>0?t/this.drawerWidth:1}get height(){return this.drawerHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=this.drawerHeight>0?t/this.drawerHeight:1}get offsetY(){return-this.height}set offsetY(t){}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.drawerHeight}get drawTRX(){return this.drawerWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.drawerWidth+this.rightSpace}get drawBRY(){return this.drawerHeight}}var PD=function(e,t,i){var r=this.poolManager.allocate(GM);return r===null?r=new SD(this,e,t,i):r.setParent(this).setActive().setRenderCallback(e).setDrawerSize(t,i),r},ED=function(e,t,i){var r=this.createDrawerChild(e,t,i);return this.addChild(r),this};let MD=class extends Ta{constructor(t,i){super(t,kM),this.setSpaceWidth(i)}get width(){return this.spaceWidth*this.scaleX}set width(t){this.spaceWidth>0?this.scaleX=t/this.spaceWidth:this.scaleX=1}setSpaceWidth(t){return this.spaceWidth=t,this}};var wD=function(e){var t=this.poolManager.allocate(kM);return t===null?t=new MD(this,e):t.setParent(this).setActive().setSpaceWidth(e),t},XM=function(e){var t=this.createSpaceChild(e);return this.addChild(t),this};class RD extends Zm{constructor(t,i,r,g,S){super(t,Jm),this.setName(i).setParameter(g).setCallback(r,S)}setName(t){return this.name=t,this}setParameter(t){return this.param=t,this}setCallback(t,i){return this.callback=t,this.scope=i,this}exec(){var t;return this.scope?t=this.callback.call(this.scope,this.param,this.name):t=this.callback(this.param,this.name),t}onFree(){super.onFree(),this.setName().setCallback().setParameter()}}var AD=function(e,t,i,r){var g=this.poolManager.allocate(Jm);return g===null?g=new RD(this,e,t,i,r):g.setParent(this).setActive().setName(e).setCallback(t,r).setParameter(i),g},ct=function(e,t,i,r){var g=this.createCommandChild(e,t,i,r);return this.addChild(g),this},LD=function(e){return e===void 0?e={}:typeof e=="object"&&(e=Be(e)),this.wrapConfig=e,this},WM=function(e){var t={callback:void 0,start:0,isLastPage:!1,maxLines:void 0,padding:void 0,letterSpacing:void 0,hAlign:void 0,vAlign:void 0,children:[],lines:[],maxLineWidth:0,linesHeight:0,lineHeight:void 0,maxLineHeight:0,linesWidth:0,lineWidth:void 0};return Object.assign(t,e)};const OD={none:0,word:1,char:2,character:2,mix:3};var FD=function(e,t,i,r){r===void 0&&(r={word:[],width:0}),r.word.length=0;for(var g=i===2,S=i===3,n=!g&&!S,C=e.length,s=t,o=r.word,y=0,f=!1;s<C;){var u=e[s];if(!u.renderable){o.push(u),s++;continue}var l=u.type===xr?u.text:null;if(l===null||l===`
`||l==="\f"){s===t&&(o.push(u),y+=u.outerWidth);break}if(n){if(o.push(u),y+=u.outerWidth,l===" ")break;s++}else if(g){o.push(u),y+=u.outerWidth;break}else if(S)if(Tl(l)){if(o.push(u),y+=u.outerWidth,l===" ")break;s++,f=!0}else{if(f)break;o.push(u),y+=u.outerWidth;var a=e[s+1];a&&a.type===xr&&a.text===" "&&(o.push(a),y+=a.outerWidth);break}}return r.width=y,r},YM=function(e){for(var t=0,i=e.length;t<i;t++){var r=e[t];if(r.align!==void 0)return r.align}},HM=function(e,t,i){if(!(t===0&&i===0))for(var r=0,g=e.length;r<g;r++){var S=e[r];S.renderable&&(S.x+=t,S.y+=i)}},bD=function(e,t,i){for(var r=e.hAlign,g=e.vAlign,S=e.justifyPercentage,n=e.lines,C,s,o=0,y=n.length;o<y;o++){var f=n[o],u=f.width,l=f.children,a=YM(l);switch(a===void 0&&(a=r),a){case 0:case"left":C=0;break;case 1:case"center":var d=t-u;C=d/2;break;case 2:case"right":var d=t-u;C=d;break;case 3:case"justify":case"justify-left":var d=t-u,v=d/t;v<S&&_v(l,d),C=0;break;case 4:case"justify-center":var d=t-u,v=d/t;v<S?(_v(l,d),C=0):C=d/2;break;case 5:case"justify-right":var d=t-u,v=d/t;v<S?(_v(l,d),C=0):C=d;break;default:C=0;break}var h=e.linesHeight;switch(g){case 1:case"center":s=(i-h)/2;break;case 2:case"bottom":s=i-h;break;default:s=0;break}HM(l,C,s)}},_v=function(e,t){for(var i=t/e.length,r=0,g=e.length;r<g;r++){var S=e[r];S.renderable&&(S.x+=i*r)}},mC=function(){var e=this.defaultTextStyle.getTextMetrics(this.context,this.testString),t,i;return"actualBoundingBoxAscent"in e?(t=e.actualBoundingBoxAscent,i=e.actualBoundingBoxDescent):(t=0,i=0),Hu.ascent=t,Hu.descent=i,Hu.height=t+i,Hu},Hu={};const ei=Phaser.Utils.Objects.GetValue;var DD=function(e){var t=ei(e,"start",0);fn(this.wrapPadding,ei(e,"padding",0));var i=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,r=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,g=ei(e,"lineHeight"),S=ei(e,"ascent",g),n;if(g===void 0){var C=ei(e,"useDefaultTextHeight",!1);if(n=ei(e,"maxLines",0),this.fixedHeight>0&&!C){var $=this.fixedHeight-i;if(n>0)g=$/n;else{var s=mC.call(this);g=s.height,S=s.ascent,n=Math.floor(($-S)/g)}}else{var s=mC.call(this);g=s.height,S=s.ascent}}else if(this.fixedHeight>0){if(n=ei(e,"maxLines"),n===void 0){var $=this.fixedHeight-i;n=Math.floor($/g)}}else n=ei(e,"maxLines",0);S===void 0&&(S=g);var o=n===0,y=ei(e,"wrapMode");if(y===void 0){var f=ei(e,"charWrap",!1);y=f?"char":"word"}typeof y=="string"&&(y=OD[y]);var u=ei(e,"wrapWidth",void 0);u===void 0&&(this.fixedWidth>0?u=this.fixedWidth-r:(u=1/0,y=0));for(var l=ei(e,"letterSpacing",0),a=ei(e,"hAlign",0),d=ei(e,"vAlign",0),v=ei(e,"justifyPercentage",.25),h=WM({callback:"runWordWrap",start:t,padding:this.wrapPadding,letterSpacing:l,maxLines:n,hAlign:a,vAlign:d,justifyPercentage:v,ascent:S,lineHeight:g,wrapWidth:u,wrapMode:y}),c=this.children,p=0,m=c.length;p<m;p++)c[p].setActive(!1);u+=l;for(var x=this.padding.left+this.wrapPadding.left,T=this.padding.top+this.wrapPadding.top+S,P=x,M=T,E=u,w=t,R=c.length,A=h.children,L=h.lines,b=[],O=0,F=0,D,B=!1;w<R;){D=FD(c,w,y,D);var N=D.word,z=N.length,W=D.width+z*l;w+=z;var X=NM(N[0]);B=zM(N[0]);var k=X||B;if(E<W||k){if(k){var V=N[0];V.setActive().setPosition(P,M),A.push(V),b.push(V)}P=x,M+=g,E=u,L.push({children:b,width:O}),F=Math.max(F,O),O=0,b=[];var I=B||!o&&L.length===n;if(I)break;if(k)continue}E-=W,O+=W;for(var p=0,m=N.length;p<m;p++){var U=N[p];U.setActive(),A.push(U),b.push(U),U.renderable&&(U.setPosition(P,M),P+=U.outerWidth+l)}}b.length>0&&(L.push({children:b,width:O}),F=Math.max(F,O)),h.start+=A.length,h.isLastPage=!B&&h.start===R,h.maxLineWidth=F,h.linesHeight=L.length*g;var G=this.fixedWidth>0?this.fixedWidth:h.maxLineWidth+r,Y=this.fixedHeight>0?this.fixedHeight:h.linesHeight+i,H=G-r,$=Y-i;bD(h,H,$),this.setCanvasSize(G,Y);for(var p=0,m=A.length;p<m;p++){var U=A[p];U.renderable&&(U.x0=U.x,U.y0=U.y)}return h};const BD=Phaser.Utils.Objects.Merge;var ID=function(e){return e===void 0&&(e={}),DD.call(this,BD(e,this.wrapConfig))},GD=function(e,t,i){var r=e.hAlign,g=e.vAlign,S,n,C=e.rtl,s=e.lines,o=e.lineWidth,y=e.linesWidth;switch(r){case 1:case"center":S=(t-y)/2;break;case 2:case"right":S=t-y;break;default:S=0;break}C&&(S+=o);for(var f=0,u=s.length;f<u;f++){var l=s[C?u-f-1:f],a=l.children,d=l.height,v=YM(a);switch(v===void 0&&(v=g),v){case 1:case"center":n=(i-d)/2;break;case 2:case"bottom":n=i-d;break;default:n=0;break}HM(a,S,n),S+=o}};const Ti=Phaser.Utils.Objects.GetValue;var kD=function(e){var t=Ti(e,"start",0);fn(this.wrapPadding,Ti(e,"padding",0));var i=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,r=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,g=Ti(e,"lineWidth",void 0),S;if(g===void 0)if(S=Ti(e,"maxLines",0),this.fixedWidth>0){var X=this.fixedWidth-r;g=X/S}else g=0;else if(this.fixedWidth>0){if(S=Ti(e,"maxLines",void 0),S===void 0){var X=this.fixedWidth-r;S=Math.floor(X/g)+1}}else S=Ti(e,"maxLines",0);var n=S===0,C=Ti(e,"fixedCharacterHeight",void 0);if(C===void 0){var s=Ti(e,"charPerLine",void 0);if(s!==void 0){var k=this.fixedHeight-i;C=Math.floor(k/s)}}var o=Ti(e,"wrapHeight",void 0);o===void 0&&(this.fixedHeight>0?o=this.fixedHeight-i:o=1/0);for(var y=Ti(e,"letterSpacing",0),f=Ti(e,"rtl",!0),u=Ti(e,"hAlign",f?2:0),l=Ti(e,"vAlign",0),a=WM({callback:"runVerticalWrap",start:t,padding:this.wrapPadding,letterSpacing:y,maxLines:S,hAlign:u,vAlign:l,lineWidth:g,fixedCharacterHeight:C,wrapHeight:o,rtl:f}),d=this.children,v=0,h=d.length;v<h;v++)d[v].setActive(!1);o+=y;for(var c=this.padding.left+this.wrapPadding.left,p=this.padding.top+this.wrapPadding.top,m=c,x=p,T=o,P=t,M=d.length,E=a.children,w=a.lines,R=[],A=0,L=0;P<M;){var b=d[P];if(P++,!b.renderable){b.setActive(),E.push(b),R.push(b);continue}var O=(C!==void 0?C:b.height)+y,F=NM(b),D=zM(b),B=F||D;if(T<O||B){F&&(b.setActive().setPosition(m,x).setOrigin(.5),E.push(b),R.push(b)),m=c,x=p,T=o,w.push({children:R,height:A}),L=Math.max(L,A),A=0,R=[];var N=D||!n&&w.length===S;if(N)break;if(B)continue}T-=O,A+=O,b.setActive().setPosition(m,x).setOrigin(.5),E.push(b),R.push(b),x+=O}R.length>0&&(w.push({children:R,height:A}),L=Math.max(L,A)),a.start+=E.length,a.isLastPage=a.start===M,a.maxLineHeight=L,a.linesWidth=w.length*g;var z=this.fixedWidth>0?this.fixedWidth:a.linesWidth+r,W=this.fixedHeight>0?this.fixedHeight:a.maxLineHeight+i,X=z-r,k=W-i;GD(a,X,k),this.setCanvasSize(z,W);for(var v=0,h=E.length;v<h;v++){var b=E[v];b.renderable&&(b.x0=b.x,b.y0=b.y)}return a};const ND=Phaser.Utils.Objects.Merge;var zD=function(e){return e===void 0&&(e={}),kD.call(this,ND(e,this.wrapConfig))};const xC=Phaser.Utils.Objects.GetValue;var VD=function(e){var t=xC(this.wrapConfig,"callback");return t||(t=xC(e,"callback",this.runWordWrap)),typeof t=="string"&&(t=this[t]),t.call(this,e)};const UD={setVAlign(e){return this.wrapConfig.vAlign=e,this},setHAlign(e){return this.wrapConfig.hAlign=e,this}},XD={setTextOX(e){return e===this._textOX?this:(this._textOX=e,this)},setTextOY(e){return e===this._textOY?this:(this._textOY=e,this)},setTextOXY(e,t){if(!(e===this._textOX&&t===this._textOY))return this._textOX=e,this._textOY=t,this},addTextOX(e){return this.setTextOX(this._textOX+e),this},addTextOY(e){return this.setTextOY(this._textOY+e),this},addTextOXY(e,t){return this.setTextOXY(this._textOX+e,this._textOY+t),this}};var WD=function(){this.clear(),this.setCanvasSize(this.width,this.height),this.background.active&&this.background.render();for(var e,t=0,i=this.children.length;t<i;t++)e=this.children[t],e.active&&e.render();this.innerBounds.active&&this.innerBounds.render()},YD=function(e,t,i){i===void 0&&(i=!0);for(var r=this.children.filter(function(s){return!(i&&!s.active)}),g=0,S=r.length;g<S;g++){var n=r[g],C;if(t?C=e.call(this,n,g,r):C=e(n,g,r),C)break}return this},HD=function(e,t,i){i===void 0&&(i=!0);for(var r=this.children.filter(function(s){return!(i&&!s.active||!s.renderable||s.removed)}),g=0,S=r.length;g<S;g++){var n=r[g],C;if(t?C=e.call(this,n,g,r):C=e(n,g,r),C)break}return this},$D=function(e,t,i){i===void 0&&(i=!0);for(var r=this.children.filter(function(s){return!(i&&!s.active||!la(s)||s.removed)}),g=0,S=r.length;g<S;g++){var n=r[g],C;if(t?C=e.call(this,n,g,r):C=e(n,g,r),C)break}return this},KD=function(){return this.children};const ZD=Phaser.Utils.Array.GetAll;var JD=function(){return ZD(this.children,"active",!0)},QD=function(e,t){return t===void 0&&(t=[]),this.forEachCharChild(function(i){t.push(i)},void 0,e),t},jD=function(){return this.lastAppendedChildren},qD=function(e,t,i,r){typeof t!="number"&&(r=t,t=0,i=0);var g=e.drawCenterX+t,S=e.drawCenterY+i;return bM(e,g,S,r)};const _D=Phaser.Math.Distance.BetweenPointsSquared;var t5=function(e,t){var i={x:e,y:t},r=1/0,g=null;return this.forEachRenderableChild(function(S){var n=_D(i,qD(S,!0));r>n&&(r=n,g=S)}),g},e5=function(e,t,i,r){return typeof e=="number"&&(e=this.getCharChild(e,!0)),DM(this,e,t,i,r)},i5=function(){for(var e=this.children,t=0,i=0,r=0,g=e.length;r<g;r++){var S=e[r];if(!(!S.renderable||!S.active||!S.visible)){var n=S.x0!==void 0?S.x0:S.x,C=S.y0!==void 0?S.y0:S.y;t=Math.max(t,n),i=Math.max(i,C)}}var s=t+this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,o=i+this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom;return(this.width!==s||this.height!==o)&&(this.dirty=!0,this.setCanvasSize(s,o)),this},s5=function(e,t){t===void 0&&(t=!0);for(var i=this.children,r=0,g=i.length;r<g;r++){var S=i[r];if(!(t&&!S.active)&&la(S)&&!S.removed){if(e===0)return r;e--}}},r5=function(e,t){t===void 0&&(t=!0);for(var i=this.children,r=0,g=i.length;r<g;r++){var S=i[r];if(!(t&&!S.active)&&la(S)&&!S.removed){if(e===0)return S;e--}}},n5=function(e,t){if(typeof e!="number"&&(e=this.children.indexOf(e),e<0))return null;t===void 0&&(t=!0);var i=this.children;e>=i.length&&(e=i.length);for(var r=0,g=0;g<e;g++){var S=i[g];t&&!S.active||la(S)&&!S.removed&&r++}return r},a5=function(e){return e===void 0&&(e=!0),this.childrenInteractiveEnable!==e&&(this.lastOverChild=null),this.childrenInteractiveEnable=e,this},Qm=function(r,t,i){for(var r=r,g=0,S=r.length;g<S;g++){var n=r[g];if(!(!n.active||!n.renderable)&&n.contains(t,i))return n}return null},o5=function(){return this.on("pointerdown",h5,this).on("pointerdown",l5,this).on("pointermove",tp,this).on("pointerover",tp,this).on("pointerout",function(e,t){tp.call(this,e,null,null,t)},this),this},h5=function(e,t,i,r){if(this.childrenInteractiveEnable){var g=Qm(this.children,t,i);g&&this.emit("child.pointerdown",g,e,t,i,r)}},l5=function(e,t,i,r){if(this.childrenInteractiveEnable){var g=Qm(this.children,t,i);g&&this.emit("child.pointerup",g,e,t,i,r)}},tp=function(e,t,i,r){if(this.childrenInteractiveEnable){if(t===null){this.lastOverChild!==null&&(this.emit("child.pointerout",this.lastOverChild,e,t,i,r),this.lastOverChild=null);return}var g=Qm(this.children,t,i);g!==this.lastOverChild&&(this.lastOverChild!==null&&this.emit("child.pointerout",this.lastOverChild,e,t,i,r),g!==null&&this.emit("child.pointerover",g,e,t,i,r),this.lastOverChild=g)}};const u5=Phaser.GameObjects.GameObject;var d5=function(e,t,i){var r=!!this.input;return u5.prototype.setInteractive.call(this,e,t,i),r||o5.call(this),this};const f5=Phaser.Utils.Array.BringToTop,c5=Phaser.Utils.Array.SendToBack,v5=Phaser.Utils.Array.MoveUp,p5=Phaser.Utils.Array.MoveDown,g5=Phaser.Utils.Array.MoveAbove,m5=Phaser.Utils.Array.MoveBelow,x5={moveChildToFist(e){return c5(this.children,e),this},moveChildToLast(e){return f5(this.children,e),this},movechildUp(e){return v5(this.children,e),this},movechildDown(e){return p5(this.children,e),this},movechildAbove(e,t){return g5(this.children,e,t),this},movechildBelow(e,t){return m5(this.children,e,t),this}},y5={setBackgroundColor(e,t,i){return this.background.setColor(e,t,i),this},setBackgroundStroke(e,t){return this.background.setStroke(e,t),this},setBackgroundCornerRadius(e,t){return this.background.setCornerRadius(e,t),this}},C5={setInnerBoundsColor(e,t,i){return this.innerBounds.setColor(e,t,i),this},setInnerBoundsStroke(e,t){return this.innerBounds.setStroke(e,t),this}};var $M={setFixedSize:qb,setPadding:_b,getPadding:tD,modifyTextStyle:eD,modifyDefaultTextStyle:iD,resetTextStyle:sD,setTestString:rD,removeChild:aD,removeChildren:oD,popChild:lD,clearContent:uD,addChild:dD,createCharChild:vD,createCharChildren:pD,setText:gD,appendText:Vl,insertText:mD,removeText:xD,getText:yD,createImageChild:TD,appendImage:UM,createDrawerChild:PD,appendDrawer:ED,createSpaceChild:wD,appendSpace:XM,createCommandChild:AD,appendCommand:ct,setWrapConfig:LD,runWordWrap:ID,runVerticalWrap:zD,runWrap:VD,renderContent:WD,forEachChild:YD,forEachRenderableChild:HD,forEachCharChild:$D,getChildren:KD,getActiveChildren:JD,getCharChildren:QD,getLastAppendedChildren:jD,getNearestChild:t5,getCharWorldPosition:e5,setToMinSize:i5,getCharChildIndex:s5,getCharChild:r5,getCharIndex:n5,setChildrenInteractiveEnable:a5,setInteractive:d5};Object.assign($M,x5,y5,C5,UD,XD);const T5=Phaser.Utils.Objects.GetFastValue;var S5={};class P5{constructor(t){this.pools=T5(t,"pools",S5)}free(t){if(!this.pools)return this;var i=t.type;return this.pools.hasOwnProperty(i)||(this.pools[i]=new Xs),this.pools[i].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var i=0,r=t.length;i<r;i++)this.free(t[i]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}}const ep=Phaser.Utils.Objects.IsPlainObject,Ie=Phaser.Utils.Objects.GetValue;class Ko extends Pn{constructor(t,i,r,g,S,n,C){ep(i)?(C=i,i=Ie(C,"x",0),r=Ie(C,"y",0),g=Ie(C,"width",0),S=Ie(C,"height",0),n=Ie(C,"resolution",1)):ep(g)?(C=g,g=Ie(C,"width",0),S=Ie(C,"height",0),n=Ie(C,"resolution",1)):ep(n)&&(C=n,n=Ie(C,"resolution",1));var s=g===0?1:g,o=S===0?1:S;super(t,i,r,s,o,n),this.type="rexDynamicText",this.autoRound=!0,this.padding=fn(),this.wrapPadding=fn();var y=Ie(C,"style",void 0);this.defaultTextStyle=new xc(null,y),this.textStyle=this.defaultTextStyle.clone(),this.setTestString(Ie(C,"testString","|Mqgy")),this._textOX=0,this._textOY=0,this.background=new Qb(this,Ie(C,"background",void 0)),this.innerBounds=new jb(this,Ie(C,"innerBounds",void 0)),this.children=[],this.lastAppendedChildren=[],this.lastOverChild=null,this.poolManager=new P5(C),this.setFixedSize(g,S),this.setPadding(Ie(C,"padding",0)),this.setWrapConfig(Ie(C,"wrap",void 0)),this.setChildrenInteractiveEnable(Ie(C,"childrenInteractive",!1));var f=Ie(C,"text",void 0);f&&this.setText(f)}updateTexture(){return super.updateTexture(function(){this.renderContent()},this),this}get text(){return this.getText(!0)}set text(t){this.setText(t)}setSize(t,i){return this.setFixedSize(t,i),this}get textOX(){return this._textOX}set textOX(t){this.setTextOX(t)}get textOY(){return this._textOY}set textOY(t){this.setTextOY(t)}}Object.assign(Ko.prototype,$M);st.register("dynamicText",function(e,t,i,r,g){var S=new Ko(this.scene,e,t,i,r,g);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.DynamicText",Ko);const Ul={setEventEmitter(e,t){return t===void 0&&(t=Phaser.Events.EventEmitter),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},E5={hasProperty(e){var t=this.gameObject;if(t.hasOwnProperty(e))return!0;var i=t[e];return i!==void 0},getProperty(e){return this.gameObject[e]},setProperty(e,t){return this.gameObject[e]=t,this},easeProperty(u){var t=u.property,i=u.value,r=u.duration,g=u.delay,S=u.ease,n=u.repeat,C=u.yoyo,s=u.from,o=u.complete,y=u.target;if(r===void 0&&(r=1e3),g===void 0&&(g=0),S===void 0&&(S="Linear"),n===void 0&&(n=0),C===void 0&&(C=!1),y===void 0&&(y=this.gameObject),s){var f=i;i=y[t],y[t]=f}var u={targets:y,duration:r,delay:g,ease:S,repeat:n,yoyo:C,onComplete:o};return u[t]=i,this.addTweenTask(t,u),this},addTweenTask(e,t){var i=this.tweens,r=i[e];r&&r.remove();var g=t.onComplete;return t.onComplete=function(){i[e].remove(),i[e]=null,g&&g(t.targets,e)},r=this.scene.tweens.add(t),r.timeScale=this.timeScale,i[e]=r,this},getTweenTask(e){return this.tweens[e]},freeTweens(){var e=this.tweens,t;for(var i in e)t=e[i],t&&t.remove(),e[i]=null;return this}},M5={hasMethod(e){return typeof this.gameObject[e]=="function"},call(e,...t){if(!this.hasMethod(e))return console.warn(`[GameObjectManager] Game object '${this.name}' does not have method '${e}'`),this;var i=this.gameObject;return i[e].apply(i,t),this}},w5={hasData(e){var t=this.gameObject;return t.data?t.data.has(e):!1},getData(e){return this.gameObject.getData(e)},setData(e,t){return this.gameObject.setData(e,t),this}};class jm{constructor(t,i,r){this.GOManager=t,this.tweens={},this.effects={},this.setGO(i,r)}get scene(){return this.GOManager.scene}get timeScale(){return this.GOManager.timeScale}destroy(){this.freeGO(),this.GOManager=void 0}freeGO(){return this.freeTweens(),this.gameObject.bob=void 0,this.gameObject.destroy(),this.gameObject=void 0,this}setGO(t,i){return t.goName=i,t.goType=this.GOManager.name,t.bob=this,this.gameObject=t,this.name=i,this.freeTweens(),this}setTimeScale(t){var i=this.tweens;for(var r in i){var g=i[r];g&&(g.timeScale=t)}return this}}Object.assign(jm.prototype,E5,M5,w5);var Xl=function(e){for(var t in e)return!1;return!0},ra=function(e){return e&&e.charAt(0)!=="!"};const R5={has(e){return this.bobs.hasOwnProperty(e)},exists(e){return this.bobs.hasOwnProperty(e)},get(e,t){if(ra(e))return this.bobs[e];t===void 0&&(t=[]),e&&(e=e.substring(1));for(var i in this.bobs)e&&i===e||t.push(this.bobs[i]);return t},getFitst(e){e&&e.charAt(0)==="!"&&(e=e.substring(1));for(var t in this.bobs)if(!(e&&e===t))return this.bobs[t];return null},getGO(e,t){var i=this.get(e);if(i)if(Array.isArray(i)){t===void 0&&(t=[]);var r=i;return r.forEach(function(g){t.push(g.gameObject)}),t}else return i.gameObject;else return null},forEachGO(e,t){for(var i in this.bobs){var r=this.bobs[i].gameObject,g;if(t?g=e.call(t,r,i,this):g=e(r,i,this),g)break}return this},getAllGO(e){e===void 0&&(e=[]);for(var t in this.bobs){var i=this.bobs[t].gameObject;e.push(i)}return e}};var Sl=function(e){return e>>16&255},Pl=function(e){return e>>8&255},El=function(e){return e&255},yC=function(e,t){return t===void 0&&(t={}),t.r=e>>16&255,t.g=e>>8&255,t.b=e&255,t};const A5=65535,L5=16711935,O5=16776960;var F5=function(e,t){return(t&255)<<16|e&A5},b5=function(e,t){return(t&255)<<8|e&L5},D5=function(e,t){return t&255|e&O5},B5=function(e,t,i,r){return(t&255)<<16|(i&255)<<8|r&255},I5=function(e,t){if(e.hasOwnProperty("tintR"))return e;t===void 0&&(t=16777215);var i=Sl(t),r=Pl(t),g=El(t);return Object.defineProperty(e,"tint",{get:function(){return t},set:function(S){S=Math.floor(S)&16777215,e.setTint&&e.setTint(S),t!==S&&(t=S,i=Sl(t),r=Pl(t),g=El(t))}}),Object.defineProperty(e,"tintR",{get:function(){return i},set:function(S){S=Math.floor(S)&255,i!==S&&(i=S,e.tint=F5(t,S))}}),Object.defineProperty(e,"tintG",{get:function(){return r},set:function(S){S=Math.floor(S)&255,r!==S&&(r=S,e.tint=b5(t,S))}}),Object.defineProperty(e,"tintB",{get:function(){return g},set:function(S){S=Math.floor(S)&255,g!==S&&(g=S,e.tint=D5(t,S))}}),Object.defineProperty(e,"tintGray",{get:function(){return Math.floor((i+r+g)/3)},set:function(S){S=Math.floor(S)&255,(i!==S||r!==S||g!==S)&&(i=S,r=S,g=S,e.tint=B5(t,S,S,S))}}),e.tint=t,e};const G5=Phaser.Events.EventEmitter;var k5=function(e){if(e.events)return e;var t=new G5,i=e.x;Object.defineProperty(e,"x",{get:function(){return i},set:function(n){i!==n&&(i=n,t.emit("update",e))}});var r=e.y;Object.defineProperty(e,"y",{get:function(){return r},set:function(n){r!==n&&(r=n,t.emit("update",e))}});var g=e.width;Object.defineProperty(e,"width",{get:function(){return g},set:function(n){g!==n&&(g=n,t.emit("update",e))}});var S=e.height;return Object.defineProperty(e,"height",{get:function(){return S},set:function(n){S!==n&&(S=n,t.emit("update",e))}}),e.events=t,e},N5=function(e,t,i,r,g,S){return S===void 0?S={}:S===!0&&(S=z5),typeof i!="number"&&(i=0,r=0),S.x=g.x+g.width*e+i,S.y=g.y+g.height*t+r,S},z5={},V5=function(e,t,i,r,g,S,n){if(e.hasOwnProperty("vp"))return e;typeof i=="function"&&(n=i,i=void 0),typeof g=="function"&&(n=g,g=void 0),i===void 0&&(i=.5),r===void 0&&(r=.5),g===void 0&&(g=0),S===void 0&&(S=0),n===void 0&&(n=N5),k5(t);var C=t.events;e.vp=t;var s=function(){n(i,r,g,S,t,e)};C.on("update",s),e.once("destroy",function(){C.off("update",s),e.vp=void 0}),Object.defineProperty(e,"vpx",{get:function(){return i},set:function(o){i!==o&&(i=o,s())}}),Object.defineProperty(e,"vpy",{get:function(){return r},set:function(o){r!==o&&(r=o,s())}}),Object.defineProperty(e,"vpxOffset",{get:function(){return g},set:function(o){g!==o&&(g=o,s())}}),Object.defineProperty(e,"vpyOffset",{get:function(){return S},set:function(o){S!==o&&(S=o,s())}}),s()},_e=function(e){return e.preFX?e.preFX:e.postFX?e.postFX:null},de=function(e,t){e._effectSwitchNames||(e._effectSwitchNames=[],e.clearAllEffects=function(){for(var i=e._effectSwitchNames,r=0,g=i.length;r<g;r++)e[i[r]]=null;return e},e.on("destroy",e.clearAllEffects,e)),e._effectSwitchNames.push(t)},U5=function(e){if(Ot(e,"barrel"))return e;var t=_e(e);if(!t)return e;var i;return Object.defineProperty(e,"barrel",{get:function(){return i},set:function(r){i!==r&&(i=r,i===null||i===!1?e._barrelEffect&&(t.remove(e._barrelEffect),e._barrelEffect=void 0):(e._barrelEffect||(e._barrelEffect=t.addBarrel()),e._barrelEffect.amount=i))}}),e.barrel=null,de(e,"barrel"),e},Xe=function(e,t,i){if(Ot(e,t))return e;var r=_e(e);if(!r)return e;var g=`_${t}Effect`,S;return Object.defineProperty(e,t,{get:function(){return S},set:function(n){if(S!==n)if(S=n,S===null||S===!1)e[g]&&(r.remove(e[g]),e[g]=void 0);else{e[g]||(e[g]=r.addColorMatrix());var C=e[g];C[t](i===1?n:void 0)}}}),e[t]=null,de(e,t),e},X5=function(e){return Xe(e,"blackWhite"),e},W5=function(e){if(Ot(e,"bloomColor"))return e;var t=_e(e);if(!t)return e;var i,r=1,g=1,S=1,n=1,C=4;return Object.defineProperty(e,"bloomColor",{get:function(){return i},set:function(s){i!==s&&(i=s,i===null||i===!1?e._bloom&&(t.remove(e._bloom),e._bloom=void 0,t.setPadding(0)):(e._bloom||(e._bloom=t.addBloom(i,r,g,S,n,C),t.setPadding(Math.max(r,g)+1)),e._bloom.color=i))}}),Object.defineProperty(e,"bloomOffsetX",{get:function(){return r},set:function(s){if(r!==s&&(r=s,e._bloom)){var o=Math.max(r,g);t.setPadding(o+1),e._bloom.offsetX=r}}}),Object.defineProperty(e,"bloomOffsetY",{get:function(){return g},set:function(s){if(g!==s&&(g=s,e._bloom)){var o=Math.max(r,g);t.setPadding(o+1),e._bloom.offsetY=g}}}),Object.defineProperty(e,"bloomBlurStrength",{get:function(){return S},set:function(s){S!==s&&(S=s,e._bloom&&(e._bloom.blurStrength=S))}}),Object.defineProperty(e,"bloomStrength",{get:function(){return n},set:function(s){n!==s&&(n=s,e._bloom&&(e._bloom.strength=n))}}),Object.defineProperty(e,"bloomSteps",{get:function(){return C},set:function(s){C!==s&&(C=s,e._bloom&&(e._bloom.steps=C))}}),e.bloomColor=null,de(e,"bloomColor"),e},Y5=function(e){if(Ot(e,"blurColor"))return e;var t=_e(e);if(!t)return e;var i,r=0,g=1,S=1,n=1,C=4;return Object.defineProperty(e,"blurColor",{get:function(){return i},set:function(s){i!==s&&(i=s,i===null||i===!1?e._blur&&(t.remove(e._blur),e._blur=void 0,t.setPadding(0)):(e._blur||(e._blur=t.addBlur(r,g,S,n,i,C),t.setPadding(Math.max(g,S)+1)),e._blur.color=i))}}),Object.defineProperty(e,"blurQuality",{get:function(){return r},set:function(s){r!==s&&(r=s,e._blur&&(e._blur.quality=r))}}),Object.defineProperty(e,"blurX",{get:function(){return g},set:function(s){if(g!==s&&(g=s,e._blur)){var o=Math.max(g,S);t.setPadding(o+1),e._blur.x=g}}}),Object.defineProperty(e,"blurY",{get:function(){return S},set:function(s){if(S!==s&&(S=s,e._blur)){var o=Math.max(g,S);t.setPadding(o+1),e._blur.y=S}}}),Object.defineProperty(e,"blurStrength",{get:function(){return n},set:function(s){n!==s&&(n=s,e._blur&&(e._blur.strength=n))}}),Object.defineProperty(e,"blurSteps",{get:function(){return C},set:function(s){C!==s&&(C=s,e._blur&&(e._blur.steps=C))}}),e.blurColor=null,de(e,"blurColor"),e},H5=function(e){if(Ot(e,"bokehRadius"))return e;var t=_e(e);if(!t)return e;var i,r=1,g=.2;return Object.defineProperty(e,"bokehRadius",{get:function(){return i},set:function(S){i!==S&&(i=S,i===null||i===!1?e._bokeh&&(t.remove(e._bokeh),e._bokeh=void 0):(e._bokeh||(e._bokeh=t.addBokeh(i,r,g)),e._bokeh.radius=i))}}),Object.defineProperty(e,"bokehAmount",{get:function(){return r},set:function(S){r!==S&&(r=S,e._bokeh&&(e._bokeh.amount=r))}}),Object.defineProperty(e,"bokehContrast",{get:function(){return g},set:function(S){g!==S&&(g=S,e._bokeh&&(e._bokeh.contrast=g))}}),e.bokehRadius=null,de(e,"bokehRadius"),e},$5=function(e){return Xe(e,"brightness",1),e},K5=function(e){return Xe(e,"brown"),e},Z5=function(e){if(Ot(e,"circleColor"))return e;var t=_e(e);if(!t)return e;var i,r=8,g=0,S=.4,n=1,C=.005;return Object.defineProperty(e,"circleColor",{get:function(){return i},set:function(s){i!==s&&(i=s,i===null||i===!1?e._circle&&(t.remove(e._circle),e._circle=void 0):(e._circle||(e._circle=t.addCircle(r,i,g,n,C),e.circleBackgroundAlpha=S),e._circle.color=i))}}),Object.defineProperty(e,"circleThickness",{get:function(){return r},set:function(s){r!==s&&(r=s,e._circle&&(e._circle.thickness=r))}}),Object.defineProperty(e,"circleBackgroundColor",{get:function(){return g},set:function(s){g!==s&&(g=s,e._circle&&(e._circle.backgroundColor=g))}}),Object.defineProperty(e,"circleBackgroundAlpha",{get:function(){return S},set:function(s){S!==s&&(S=s,e._circle&&(e._circle.glcolor2[3]=S))}}),Object.defineProperty(e,"circleScale",{get:function(){return n},set:function(s){n!==s&&(n=s,e._circle&&(e._circle.scale=n))}}),Object.defineProperty(e,"circleFeather",{get:function(){return C},set:function(s){C!==s&&(C=s,e._circle&&(e._circle.feather=C))}}),e.circleColor=null,de(e,"circleColor"),e},J5=function(e){return Xe(e,"contrast",1),e},Q5=function(e){return Xe(e,"desaturate",1),e},j5=function(e){return Xe(e,"desaturateLuminance"),e},q5=function(e){if(Ot(e,"displacementKey"))return e;var t=_e(e);if(!t)return e;var i,r=.005,g=.005;return Object.defineProperty(e,"displacementKey",{get:function(){return i},set:function(S){i!==S&&(i=S,i===null||i===!1?e._displacement&&(t.remove(e._displacement),e._displacement=void 0):(e._displacement||(e._displacement=t.addDisplacement(i,r,g)),e._displacement.setTexture(i)))}}),Object.defineProperty(e,"displacementX",{get:function(){return r},set:function(S){r!==S&&(r=S,e._displacement&&(e._displacement.x=r))}}),Object.defineProperty(e,"displacementY",{get:function(){return g},set:function(S){g!==S&&(g=S,e._displacement&&(e._displacement.y=g))}}),e.displacementKey=null,de(e,"displacementKey"),e},_5=function(e){if(Ot(e,"glowColor"))return e;var t=_e(e);if(!t)return e;var i,r=4,g=0;return Object.defineProperty(e,"glowColor",{get:function(){return i},set:function(S){i!==S&&(i=S,i===null||i===!1?e._glow&&(t.remove(e._glow),e._glow=void 0,t.setPadding(0)):(e._glow||(e._glow=t.addGlow(i,r,g),t.setPadding(r+1)),e._glow.color=i))}}),Object.defineProperty(e,"glowOuterStrength",{get:function(){return r},set:function(S){r!==S&&(r=S,e._glow&&(t.setPadding(r+1),e._glow.outerStrength=r))}}),Object.defineProperty(e,"glowInnerStrength",{get:function(){return g},set:function(S){g!==S&&(g=S,e._glow&&(e._glow.innerStrength=g))}}),e.glowColor=null,de(e,"glowColor"),e},tB=function(e){if(Ot(e,"gradientColor"))return e;var t=_e(e);if(!t)return e;var i,r,g=.5,S=0,n=0,C=0,s=1,o=0;return Object.defineProperty(e,"gradientColor",{get:function(){return[i,r]},set:function(y){var f,u;y===null||y===!1?(f=null,u=null):(f=y[0],u=y[1]),!(i===f&&r===u)&&(i=f,r=u,i===null||i===!1?e._gradient&&(t.remove(e._gradient),e._gradient=void 0):(e._gradient||(e._gradient=t.addGradient(i,r,g,S,n,C,s,o)),e._gradient.color1=i,e._gradient.color2=r))}}),Object.defineProperty(e,"gradientColor1",{get:function(){return i},set:function(y){if(y===null||y===!1){e.gradientColor=y;return}i!==y&&(i=y,e._gradient&&(e._gradient.color1=i))}}),Object.defineProperty(e,"gradientColor2",{get:function(){return r},set:function(y){if(y===null||y===!1){e.gradientColor=y;return}r!==y&&(r=y,e._gradient&&(e._gradient.color2=r))}}),Object.defineProperty(e,"gradientAlpha",{get:function(){return g},set:function(y){g!==y&&(g=y,e._gradient&&(e._gradient.alpha=g))}}),Object.defineProperty(e,"gradientFromX",{get:function(){return S},set:function(y){S!==y&&(S=y,e._gradient&&(e._gradient.fromX=S))}}),Object.defineProperty(e,"gradientFromY",{get:function(){return n},set:function(y){n!==y&&(n=y,e._gradient&&(e._gradient.fromY=n))}}),Object.defineProperty(e,"gradientToX",{get:function(){return C},set:function(y){C!==y&&(C=y,e._gradient&&(e._gradient.toX=C))}}),Object.defineProperty(e,"gradientToY",{get:function(){return s},set:function(y){s!==y&&(s=y,e._gradient&&(e._gradient.toY=s))}}),Object.defineProperty(e,"gradientSize",{get:function(){return o},set:function(y){o!==y&&(o=y,e._gradient&&(e._gradient.size=o))}}),e.gradientColor=null,de(e,"gradientColor"),e},eB=function(e){return Xe(e,"grayscale",1),e},iB=function(e){return Xe(e,"hue",1),e},sB=function(e){return Xe(e,"kodachrome"),e},rB=function(e){return Xe(e,"lsd"),e},nB=function(e){return Xe(e,"negative"),e},aB=function(e){if(Ot(e,"pixelate"))return e;var t=_e(e);if(!t)return e;var i;return Object.defineProperty(e,"pixelate",{get:function(){return i},set:function(r){i!==r&&(i=r,i===null||i===!1?e._pixelateEffect&&(t.remove(e._pixelateEffect),e._pixelateEffect=void 0):(e._pixelateEffect||(e._pixelateEffect=t.addPixelate()),e._pixelateEffect.amount=i))}}),e.pixelate=null,de(e,"pixelate"),e},oB=function(e){return Xe(e,"polaroid"),e},hB=function(e){if(Ot(e,"revealLeft"))return e;var t=_e(e);if(!t)return e;var i,r,g,S,n=.1,C=function(){i=null,r=null,g=null,S=null},s=function(o){o._revealEffect&&(t.remove(o._revealEffect),o._revealEffect=void 0)};return Object.defineProperty(e,"revealLeft",{get:function(){return i},set:function(o){i!==o&&(C(),i=o,i===null||i===!1?s(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=0,e._revealEffect.progress=i))}}),Object.defineProperty(e,"revealRight",{get:function(){return r},set:function(o){r!==o&&(C(),r=o,r===null||r===!1?s(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=0,e._revealEffect.progress=r))}}),Object.defineProperty(e,"revealUp",{get:function(){return g},set:function(o){g!==o&&(C(),g=o,g===null||g===!1?s(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=1,e._revealEffect.progress=g))}}),Object.defineProperty(e,"revealDown",{get:function(){return S},set:function(o){S!==o&&(C(),S=o,S===null||S===!1?s(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=1,e._revealEffect.progress=S))}}),Object.defineProperty(e,"revealWidth",{get:function(){return n},set:function(o){n!==o&&(n=o,e._revealEffect&&(e._revealEffect.wipeWidth=n))}}),e.revealLeft=null,de(e,"revealLeft"),de(e,"revealRight"),de(e,"revealUp"),de(e,"revealDown"),e},lB=function(e){return Xe(e,"saturate",1),e},uB=function(e){return Xe(e,"sepia"),e},dB=function(e){if(Ot(e,"shadowColor"))return e;var t=_e(e);if(!t)return e;var i,r=0,g=0,S=.1,n=1,C=6,s=1;return Object.defineProperty(e,"shadowColor",{get:function(){return i},set:function(o){i!==o&&(i=o,i===null||i===!1?e._shadow&&(t.remove(e._shadow),e._shadow=void 0):(e._shadow||(e._shadow=t.addShadow(r,g,S,n,i,C,s)),e._shadow.color=i))}}),Object.defineProperty(e,"shadowX",{get:function(){return r},set:function(o){r!==o&&(r=o,e._shadow&&(e._shadow.x=r))}}),Object.defineProperty(e,"shadowY",{get:function(){return g},set:function(o){g!==o&&(g=o,e._shadow&&(e._shadow.y=g))}}),Object.defineProperty(e,"decay",{get:function(){return S},set:function(o){S!==o&&(S=o,e._shadow&&(e._shadow.decay=S))}}),Object.defineProperty(e,"shadowPower",{get:function(){return n},set:function(o){n!==o&&(n=o,e._shadow&&(e._shadow.power=n))}}),Object.defineProperty(e,"shadowSamples",{get:function(){return C},set:function(o){C!==o&&(C=o,e._shadow&&(e._shadow.samples=C))}}),Object.defineProperty(e,"shadowIntensity",{get:function(){return s},set:function(o){s!==o&&(s=o,e._shadow&&(e._shadow.intensity=s))}}),e.shadowColor=null,de(e,"shadowColor"),e},fB=function(e){return Xe(e,"shiftToBGR"),e},cB=function(e){if(Ot(e,"shineSpeed"))return e;var t=_e(e);if(!t)return e;var i,r=.5,g=3;return Object.defineProperty(e,"shineSpeed",{get:function(){return i},set:function(S){i!==S&&(i=S,i===null||i===!1?e._shine&&(t.remove(e._shine),e._shine=void 0):(e._shine||(e._shine=t.addShine(i,r,g)),e._shine.speed=i))}}),Object.defineProperty(e,"shineLineWidth",{get:function(){return r},set:function(S){r!==S&&(r=S,e._shine&&(e._shine.lineWidth=r))}}),Object.defineProperty(e,"shineGradient",{get:function(){return g},set:function(S){g!==S&&(g=S,e._shine&&(e._shine.gradient=g))}}),e.shineSpeed=null,de(e,"shineSpeed"),e},vB=function(e){return Xe(e,"technicolor"),e},pB=function(e){if(Ot(e,"tiltShiftRadius"))return e;var t=_e(e);if(!t)return e;var i,r=1,g=.2,S=1,n=1,C=1;return Object.defineProperty(e,"tiltShiftRadius",{get:function(){return i},set:function(s){i!==s&&(i=s,i===null||i===!1?e._tiltShift&&(t.remove(e._tiltShift),e._tiltShift=void 0):(e._tiltShift||(e._tiltShift=t.addTiltShift(i,r,g,S,n,C)),e._tiltShift.radius=i))}}),Object.defineProperty(e,"tiltShiftAmount",{get:function(){return r},set:function(s){r!==s&&(r=s,e._tiltShift&&(e._tiltShift.amount=r))}}),Object.defineProperty(e,"tiltShiftContrast",{get:function(){return g},set:function(s){g!==s&&(g=s,e._tiltShift&&(e._tiltShift.contrast=g))}}),Object.defineProperty(e,"tiltShiftBlurX",{get:function(){return S},set:function(s){S!==s&&(S=s,e._tiltShift&&(e._tiltShift.blurX=S))}}),Object.defineProperty(e,"tiltShiftBlurY",{get:function(){return n},set:function(s){n!==s&&(n=s,e._tiltShift&&(e._tiltShift.blurY=n))}}),Object.defineProperty(e,"tiltShiftStrength",{get:function(){return C},set:function(s){C!==s&&(C=s,e._tiltShift&&(e._tiltShift.strength=C))}}),e.tiltShiftRadius=null,de(e,"tiltShiftRadius"),e},gB=function(e){if(Ot(e,"vignetteRadius"))return e;var t=_e(e);if(!t)return e;var i,r=.5,g=.5,S=.5;return Object.defineProperty(e,"vignetteRadius",{get:function(){return i},set:function(n){i!==n&&(i=n,i===null||i===!1?e._vignette&&(t.remove(e._vignette),e._vignette=void 0):(e._vignette||(e._vignette=t.addVignette(r,g,i,S)),e._vignette.radius=i))}}),Object.defineProperty(e,"vignetteX",{get:function(){return r},set:function(n){r!==n&&(r=n,e._vignette&&(e._vignette.x=r))}}),Object.defineProperty(e,"vignetteY",{get:function(){return g},set:function(n){g!==n&&(g=n,e._vignette&&(e._vignette.y=g))}}),Object.defineProperty(e,"vignetteStrength",{get:function(){return S},set:function(n){S!==n&&(S=n,e._vignette&&(e._vignette.strength=S))}}),e.vignetteRadius=null,de(e,"vignetteRadius"),e},mB=function(e){return Xe(e,"vintagePinhole"),e},xB=function(e){if(Ot(e,"wipeLeft"))return e;var t=_e(e);if(!t)return e;var i,r,g,S,n=.1,C=function(){i=null,r=null,g=null,S=null},s=function(o){o._wipeEffect&&(t.remove(o._wipeEffect),o._wipeEffect=void 0)};return Object.defineProperty(e,"wipeLeft",{get:function(){return i},set:function(o){i!==o&&(C(),i=o,i===null||i===!1?s(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=0,e._wipeEffect.progress=i))}}),Object.defineProperty(e,"wipeRight",{get:function(){return r},set:function(o){r!==o&&(C(),r=o,r===null||r===!1?s(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=0,e._wipeEffect.progress=r))}}),Object.defineProperty(e,"wipeUp",{get:function(){return g},set:function(o){g!==o&&(C(),g=o,g===null||g===!1?s(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=1,e._wipeEffect.progress=g))}}),Object.defineProperty(e,"wipeDown",{get:function(){return S},set:function(o){S!==o&&(C(),S=o,S===null||S===!1?s(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=1,e._wipeEffect.progress=S))}}),Object.defineProperty(e,"wipeWidth",{get:function(){return n},set:function(o){n!==o&&(n=o,e._wipeEffect&&(e._wipeEffect.wipeWidth=n))}}),e.wipeLeft=null,de(e,"wipeLeft"),de(e,"wipeRight"),de(e,"wipeUp"),de(e,"wipeDown"),e};const $u={barrel:U5,blackWhite:X5,bloom:W5,blur:Y5,bokeh:H5,brightness:$5,brown:K5,circle:Z5,contrast:J5,desaturate:Q5,desaturateLuminance:j5,displacement:q5,glow:_5,gradient:tB,grayscale:eB,hue:iB,kodachrome:sB,lsd:rB,negative:nB,pixelate:aB,polaroid:oB,reveal:hB,saturate:lB,sepia:uB,shadow:dB,shiftToBGR:fB,shine:cB,technicolor:vB,tiltShift:pB,vignette:gB,vintagePinhole:mB,wipe:xB};var Zo=function(e,t){if(t===void 0)t=!0;else if(typeof t=="string")t={config:!0};else if(Array.isArray(t))for(var i=t,t={},r=0,g=i.length;r<g;r++)t[i[r]]=!0;if(t===!0)for(var S in $u)$u[S](e);else for(var S in t)t[S]&&$u[S]&&$u[S](e);return e};const yB=Phaser.Utils.Array.Remove,CB={addGO(e,t){this.remove(e,!0),this.useTintFadeEffect(t)&&I5(t),this.viewportCoordinateEnable&&V5(t,this.viewport),this.effectPropertiesConfig&&Zo(t,this.effectPropertiesConfig),t.setName(e).once("destroy",function(){yB(this.removedGOs,t),this.isEmpty&&this.emit("empty")},this);var i=new this.BobClass(this,t,e);return this.bobs[e]=i,this},add(e,...t){var i=this.createGameObjectCallback,r=this.createGameObjectScope,g=i.call(r,this.scene,...t);this.addGO(e,g),this.gameObjectDepth!=null&&g.setDepth(this.gameObjectDepth);var S=this.get(e);return this.fadeBob(S,0,1),this}},TB={remove(e,t){var i=this.get(e);if(i)Array.isArray(i)||(i=[i]);else return this;var r=this;return i.forEach(function(g){delete r.bobs[g.name];var S=g.gameObject;r.removedGOs.push(S),S.setName(),t?g.destroy():r.fadeBob(g,void 0,0,function(){g.destroy()})}),this},removeAll(){var e=this.bobs;for(var t in e)this.remove(t);return this},clear(e){e===void 0&&(e=!0);var t=this.bobs;for(var i in t)e&&t[i].destroy(),delete t[i];return this.removedGOs.length=0,this}},SB={hasProperty(e,t){var i=ra(e)?this.get(e):this.getFitst(e);return i?i.hasProperty(t):!1},getProperty(e,t){var i=ra(e)?this.get(e):this.getFitst(e);if(i)return i.getProperty(t)},isNumberProperty(e,t){var i=this.getProperty(e,t);return typeof i=="number"},setProperty(e,t,i){var r=this.get(e);if(r)Array.isArray(r)||(r=[r]);else return this;return this.symbols&&typeof i=="string"&&this.isNumberProperty(e,t)&&(i in this.symbols?i=this.symbols[i]:console.warn(`Can't find symbol ${i}`)),r.forEach(function(g){g.setProperty(t,i)}),this},easeProperty(e,t){var i=this.get(e);if(i)Array.isArray(i)||(i=[i]);else return this;var r=t.value,g=t.property;return this.symbols&&typeof r=="string"&&this.isNumberProperty(e,g)&&r in this.symbols&&(t.value=this.symbols[r]),i.forEach(function(S){S.easeProperty(t)}),this},hasTweenTask(e,t){var i=ra(e)?this.get(e):this.getFitst(e);return i?i.tweens.hasOwnProperty(t):!1},getTweenTask(e,t){var i=ra(e)?this.get(e):this.getFitst(e);return i&&i.tweens[t]||null}},PB={hasMethod(e,t){var i=ra(e)?this.get(e):this.getFitst(e);return i?i.hasMethod(t):!1},call(e,t,...i){var r=this.get(e);if(r)Array.isArray(r)||(r=[r]);else return this;return r.forEach(function(g){g.call(t,...i)}),this}},EB={hasData(e,t){var i=ra(e)?this.get(e):this.getFitst(e);return i?i.hasData(t):!1},getData(e,t){if(this.has(e))return this.get(e).getData(t)},setData(e,t,i){var r=this.get(e);if(r)Array.isArray(r)||(r=[r]);else return this;return r.forEach(function(g){g.setData(t,i)}),this}},KM=0,ZM=1,M0=2,JM=3,QM=4,w0=5,MB={tint:KM,alpha:ZM,revealUp:M0,revealDown:JM,revealLeft:QM,revealRight:w0},wB={setGOFadeMode(e){return typeof e=="string"&&(e=MB[e]),this.fadeMode=e,this},setGOFadeTime(e){return this.fadeTime=e,this},useTintFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===KM)&&this.fadeTime>0&&e.setTint!==void 0},useAlphaFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===ZM)&&this.fadeTime>0&&e.setAlpha!==void 0},useRevealEffect(e){return this.fadeMode>=M0&&this.fadeMode<=w0&&this.fadeTime>0&&(e.preFX||e.postFX)},fadeBob(e,t,i,r){var g=e.gameObject;if(this.useTintFadeEffect(g))t!==void 0&&e.setProperty("tintGray",255*t),e.easeProperty({property:"tintGray",value:Math.floor(255*i),duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:r});else if(this.useAlphaFadeEffect(g))t!==void 0&&e.setProperty("alpha",t),e.easeProperty({property:"alpha",value:i,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:r});else if(this.useRevealEffect(g)){Zo(g,"reveal");var S;switch(this.fadeMode){case M0:S="revealUp";break;case JM:S="revealDown";break;case QM:S="revealLeft";break;case w0:S="revealRight";break}t===void 0&&(t=0),g[S]=t,e.easeProperty({property:S,value:i,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:r}),e.getTweenTask(S).once("complete",function(){g[S]=null})}else r&&r(g);return this}};var Ft=function(e){return e.displayWidth!==void 0?e.displayWidth:e.width},bt=function(e){return e.displayHeight!==void 0?e.displayHeight:e.height};const CC=Phaser.Geom.Rectangle,Hs=Phaser.Math.Vector2,RB=Phaser.Math.RotateAround,AB=Phaser.GameObjects.Container;var qm=function(e,t){if(t===void 0?t=new CC:t===!0&&(ip===void 0&&(ip=new CC),t=ip),e.getBounds&&!(e instanceof AB))return e.getBounds(t);var i,r,g,S,n,C,s,o;if(e.parentContainer){var y=e.parentContainer.getBoundsTransformMatrix();na(e,t),y.transformPoint(t.x,t.y,t),i=t.x,r=t.y,Ml(e,t),y.transformPoint(t.x,t.y,t),g=t.x,S=t.y,wl(e,t),y.transformPoint(t.x,t.y,t),n=t.x,C=t.y,R0(e,t),y.transformPoint(t.x,t.y,t),s=t.x,o=t.y}else na(e,t),i=t.x,r=t.y,Ml(e,t),g=t.x,S=t.y,wl(e,t),n=t.x,C=t.y,R0(e,t),s=t.x,o=t.y;return t.x=Math.min(i,g,n,s),t.y=Math.min(r,S,C,o),t.width=Math.max(i,g,n,s)-t.x,t.height=Math.max(r,S,C,o)-t.y,t},ip=void 0,na=function(e,t,i){return t===void 0?t=new Hs:t===!0&&(ni===void 0&&(ni=new Hs),t=ni),e.getTopLeft?e.getTopLeft(t):(t.x=e.x-Ft(e)*e.originX,t.y=e.y-bt(e)*e.originY,Wl(e,t,i))},Ml=function(e,t,i){return t===void 0?t=new Hs:t===!0&&(ni===void 0&&(ni=new Hs),t=ni),e.getTopRight?e.getTopRight(t):(t.x=e.x-Ft(e)*e.originX+Ft(e),t.y=e.y-bt(e)*e.originY,Wl(e,t,i))},wl=function(e,t,i){return t===void 0?t=new Hs:t===!0&&(ni===void 0&&(ni=new Hs),t=ni),e.getBottomLeft?e.getBottomLeft(t):(t.x=e.x-Ft(e)*e.originX,t.y=e.y-bt(e)*e.originY+bt(e),Wl(e,t,i))},R0=function(e,t,i){return t===void 0?t=new Hs:t===!0&&(ni===void 0&&(ni=new Hs),t=ni),e.getBottomRight?e.getBottomRight(t):(t.x=e.x-Ft(e)*e.originX+Ft(e),t.y=e.y-bt(e)*e.originY+bt(e),Wl(e,t,i))},TC=function(e,t,i){t===void 0?t=new Hs:t===!0&&(ni===void 0&&(ni=new Hs),t=ni);var r=Ft(e),g=bt(e);return t.x=e.x+r*(.5-e.originX),t.y=e.y+g*(.5-e.originY),Wl(e,t,i)},ni=void 0,Wl=function(e,t,i){if(i===void 0&&(i=!1),e.rotation!==0&&RB(t,e.x,e.y,e.rotation),i&&e.parentContainer){var r=e.parentContainer.getBoundsTransformMatrix();r.transformPoint(t.x,t.y,t)}return t};const fh=Phaser.Utils.Objects.GetValue;var jM=function(e,t,i){var r,g,S,n,C;if(typeof i=="number"?r=i:(r=fh(i,"color"),g=fh(i,"lineWidth"),S=fh(i,"fillColor"),n=fh(i,"fillAlpha",1),C=fh(i,"padding",0)),Array.isArray(e))for(var s=0,o=e.length;s<o;s++)SC(e[s],t,r,g,S,n,C);else SC(e,t,r,g,S,n,C)},SC=function(e,t,i,r,g,S,n){var C=e.getBounds||e.width!==void 0&&e.height!==void 0;if(C){i===void 0&&(i=16777215),r===void 0&&(r=1),g===void 0&&(g=null),S===void 0&&(S=1),n===void 0&&(n=0);var s=na(e,Da[0]);s.x-=n,s.y-=n;var o=Ml(e,Da[1]);o.x+=n,o.y-=n;var y=R0(e,Da[2]);y.x+=n,y.y+=n;var f=wl(e,Da[3]);f.x-=n,f.y+=n,g!==null&&t.fillStyle(g,S).fillPoints(Da,!0,!0),i!==null&&t.lineStyle(r,i).strokePoints(Da,!0,!0)}},Da=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],LB=function(e,t){return this.forEachGO(function(i){i.drawBounds?i.drawBounds(e,t):jM(i,e,t)}),this},qM=function(e,t){var i=e.cameras,r;if(t===void 0)r=i.main;else{var g=typeof t;switch(g){case"string":r=i.getCamera(t);break;case"number":r=i.cameras[t];break;default:r=t;break}}return r};const OB={setCamera(e,t){var i=this.get(e);if(!i)return this;var r=qM(this.scene,t);return r?(i.gameObject.cameraFilter=4294967295^r.id,i.camera=r,this):this},getCamera(e){var t=this.get(e);return t?t.camera:null}};var _M={drawGameObjectsBounds:LB};Object.assign(_M,R5,CB,TB,SB,PB,EB,wB,OB);const FB=Phaser.Cameras.Scene2D.BaseCamera;var bB=function(e){return e instanceof FB};const tw=Phaser.Geom.Rectangle;var Jo=function(e,t,i){return bB(t)||(i=t,t=void 0),i===void 0?i=new tw:i===!0&&(i=DB),t?e.scale.getViewPort(t,i):e.scale.getViewPort(i)},DB=new tw;const ui=Phaser.Utils.Objects.GetValue;class Vo{constructor(t,i){this.scene=t,this.BobClass=ui(i,"BobClass",jm),this.setCreateGameObjectCallback(ui(i,"createGameObject"),ui(i,"createGameObjectScope")),this.setEventEmitter(ui(i,"eventEmitter",void 0)),this.setGameObjectDepth(ui(i,"depth",void 0));var r=ui(i,"fade",500);typeof r=="number"?(this.setGOFadeMode(),this.setGOFadeTime(r)):(this.setGOFadeMode(ui(r,"mode")),this.setGOFadeTime(ui(r,"time",500)));var g=ui(i,"viewportCoordinate",!1);g!==!1?(this.setViewportCoordinateEnable(ui(i,"enable",!0)),this.setViewport(ui(g,"viewport"))):this.setViewportCoordinateEnable(!1);var S=ui(i,"effectProperties",!1);this.setEffectPropertiesConfig(S),this.setSymbols(ui(i,"symbols")),this.bobs={},this.removedGOs=[],this._timeScale=1,this.name=ui(i,"name")}destroy(t){this.clear(!t),this.createGameObjectCallback=void 0,this.viewport=void 0,this.scene=void 0}set timeScale(t){if(this._timeScale!==t){this._timeScale=t;var i=this.bobs;for(var r in i)i[r].setTimeScale(t)}}get timeScale(){return this._timeScale}setTimeScale(t){return this.timeScale=t,this}setCreateGameObjectCallback(t,i){return this.createGameObjectCallback=t,this.createGameObjectScope=i,this}setGameObjectDepth(t){return this.gameObjectDepth=t,this}setViewportCoordinateEnable(t){return t===void 0&&(t=!0),this.viewportCoordinateEnable=t,this}setEffectPropertiesConfig(t){return t===void 0&&(t=!0),this.effectPropertiesConfig=t,this}setViewport(t){return t===void 0&&(t=Jo(this.scene,this.scene.cameras.main)),this.viewport=t,this}setSymbols(t){return this.symbols=t,this}get isEmpty(){return Xl(this.bobs)&&this.removedGOs.length===0}}Object.assign(Vo.prototype,Ul,_M);const BB=Phaser.GameObjects.GameObject,IB=Phaser.GameObjects.Layer;var yi=function(e){return e instanceof BB||e instanceof IB};const GB=Phaser.GameObjects.Layer;var el=function(e){return e instanceof GB},ew=function(e){var t=e.displayList;return el(t)?t:null},Zi=function(e,t){if(e.length<=1)return e;t===void 0&&(t=!1);for(var i,r=0,g=e.length;r<g;r++){var S=e[r];if(S.displayList?i=S.displayList:S.parentContainer&&(i=S.parentContainer.list),i)break}return i||(i=S.scene.sys.displayList),i.depthSort&&(i.depthSort(),i=i.list),t?e.sort(function(n,C){return i.indexOf(C)-i.indexOf(n)}):e.sort(function(n,C){return i.indexOf(n)-i.indexOf(C)}),e};const kB={getLayer(e){return this.getGO(e)},getLayers(e){return e===void 0&&(e=[]),this.forEachGO(function(t){e.push(t)}),Zi(e,!1),e},addToLayer(e,t){var i=this.getGO(e);if(!i){console.warn(`[LayerManager] Can't get layer "${e}"`);return}Array.isArray(t)||(t=[t]);for(var r=0,g=t.length;r<g;r++){var S=t[r];S.isRexContainerLite?S.addToLayer(i):i.add(S)}return i.scrollFactorX!==void 0&&S.setScrollFactor(i.scrollFactorX,i.scrollFactorY),this},addToBottomLayer(e){var t=this.getLayers()[0];return this.addToLayer(t.goName,e),this},addToTopLayer(e){var t=this.getLayers(),i=t[t.length-1];return this.addToLayer(i.goName,e),this},removeFromLayer(e,t,i){var r=this.getGO(e);if(!r){console.warn(`[LayerManager] Can't get layer "${e}"`);return}return i===void 0&&(i=!0),t.isRexContainerLite?t.removeFromLayer(r,i):(r.remove(t),i&&t.addToDisplayList()),this},clearLayer(e,t){t===void 0&&(t=!0);var i=this.getGO(e);if(!i){console.warn(`Can't get layer "${e}"`);return}if(t)for(var r=i.getAll(),g=0,S=r.length;g<S;g++)r[g].destroy();else i.removeAll();return this}},NB={setScrollFactor(e,t,i){i===void 0&&(i=t);var r=this.getLayer(e);if(!r)return this;r.scrollFactorX=t,r.scrollFactorY=i;for(var g=r.getAll(),S=0,n=g.length;S<n;S++)g[S].setScrollFactor(t,i);return this}},yc=Phaser.Utils.Array,zB=function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(yc.BringToTop(e,this),this):this},VB=function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(yc.SendToBack(e,this),this):this},iw=function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&e.parentContainer.add(this)):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&e.displayList.add(this)),t?(yc.MoveBelow(t,this,e),this):this},sw=function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToContainer(e.parentContainer):e.parentContainer.add(e))):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToLayer(e.displayList):e.displayList.add(e))),t?(yc.MoveAbove(t,this,e),this):this},Ku={bringMeToTop:zB,sendMeToBack:VB,moveMyDepthBelow:iw,moveMyDepthAbove:sw},UB={bringLayerToTop(e){var t=this.getLayer(e);return t?(Ku.bringMeToTop.call(t),this):this},sendLayerToBack(e){var t=this.getLayer(e);return t?(Ku.sendMeToBack.call(t),this):this},moveLayerBelow(e,t){if(e===t)return this;var i=this.getLayer(e),r=this.getLayer(t);return!i||!r?this:(Ku.moveMyDepthBelow.call(i,r),this)},moveLayerAbove(e,t){if(e===t)return this;var i=this.getLayer(e),r=this.getLayer(t);return!i||!r?this:(Ku.moveMyDepthAbove.call(i,r),this)}},XB=Vo.prototype.setCamera,WB={setCamera(e,t){var i=qM(this.scene,t);return i||(i=this.scene.cameras.add(void 0,void 0,void 0,void 0,!1,t)),XB.call(this,e,i),this}};var rw={};Object.assign(rw,kB,NB,UB,WB);const Zu=Phaser.Utils.Objects.GetValue;class Cc extends Vo{constructor(t,i){i===void 0?i={}:Array.isArray(i)&&(i={layers:i}),i.hasOwnProperty("fade")||(i.fade=0),i.viewportCoordinate=!1,super(t,i);var r=Zu(i,"rootLayer");this.setRootLayer(r);var g=Zu(i,"layers");if(g)for(var S=0,n=g.length;S<n;S++){var C=g[S];if(typeof C=="string")this.add(C);else{var s=C.name;this.add(s);var o=C.scrollFactor,y=Zu(C,"scrollFactorX",o),f=Zu(C,"scrollFactorY",o);y!==void 0&&this.setScrollFactor(s,y,f),this.setCamera(s,C.cameraName)}}}setCreateGameObjectCallback(t,i){return t||(t=YB),super.setCreateGameObjectCallback(t,i),this}setRootLayer(t){if(t===this.rootLayer)return this;var i=this.getAllGO();return t?t.add(i):this.scene.displayList.add(i),this.rootLayer=t,this}addGO(t,i){return super.addGO(t,i),i.name=t,this.rootLayer&&this.rootLayer.add(i),this}get(t,i){if(yi(t)){var r=ew(t);if(!r||(t=r.name,!t))return}return super.get(t,i)}}var YB=function(e,t){var i=e.add.layer();return t!==void 0&&i.setDepth(t),i};Object.assign(Cc.prototype,rw);var HB=function(e){return ha(e)?e.sys.sound:e.sound},$B=function(e){return this.sound.game.cache.audio.has(e)},Qo=function(e){return e==null||typeof e!="object"?null:ha(e)?e:e.scene&&ha(e.scene)?e.scene:e.parent&&e.parent.scene&&ha(e.parent.scene)?e.parent.scene:null};const KB=Phaser.Utils.Objects.GetValue;class Qt{constructor(t,i){this.setParent(t),this.isShutdown=!1,this.setEventEmitter(KB(i,"eventEmitter",!0)),this.parent&&(this.parent===this.scene?this.scene.sys.events.once("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.once("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this))}shutdown(t){this.isShutdown||(this.parent&&(this.parent===this.scene?this.scene.sys.events.off("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.off("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this)),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.game=void 0,this.isShutdown=!0)}destroy(t){this.shutdown(t)}onEnvDestroy(){this.destroy(!0)}onParentDestroy(t,i){this.destroy(i)}setParent(t){return this.parent=t,this.scene=Qo(t),this.game=pa(t),this}}Object.assign(Qt.prototype,Ul);const ZB=Phaser.Utils.Objects.GetValue;class Tc extends Qt{constructor(t,i){super(t,i),this._isRunning=!1,this.isPaused=!1,this.tickingState=!1,this.setTickingMode(ZB(i,"tickingMode",1))}boot(){this.tickingMode===2&&!this.tickingState&&this.startTicking()}shutdown(t){this.isShutdown||(this.stop(),this.tickingState&&this.stopTicking(),super.shutdown(t))}setTickingMode(t){typeof t=="string"&&(t=JB[t]),this.tickingMode=t}startTicking(){this.tickingState=!0}stopTicking(){this.tickingState=!1}get isRunning(){return this._isRunning}set isRunning(t){this._isRunning!==t&&(this._isRunning=t,this.tickingMode===1&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}start(){return this.isPaused=!1,this.isRunning=!0,this}pause(){return this.isRunning&&(this.isPaused=!0,this.isRunning=!1),this}resume(){return this.isPaused&&(this.isPaused=!1,this.isRunning=!0),this}stop(){return this.isPaused=!1,this.isRunning=!1,this}complete(){this.isPaused=!1,this.isRunning=!1,this.emit("complete",this.parent,this)}}const JB={no:0,lazy:1,always:2},QB=Phaser.Utils.Objects.GetValue;class jB extends Tc{constructor(t,i){super(t,i);var r=this.scene?"update":"step";this.tickEventName=QB(i,"tickEventName",r),this.isSceneTicker=!qB(this.tickEventName)}startTicking(){super.startTicking(),this.isSceneTicker?this.scene.sys.events.on(this.tickEventName,this.update,this):this.game.events.on(this.tickEventName,this.update,this)}stopTicking(){super.stopTicking(),this.isSceneTicker&&this.scene?this.scene.sys.events.off(this.tickEventName,this.update,this):this.game&&this.game.events.off(this.tickEventName,this.update,this)}}var qB=function(e){return e==="step"||e==="poststep"};const Qs=Phaser.Utils.Objects.GetValue,PC=Phaser.Math.Clamp;let nw=class{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){this.state=Qs(t,"state",ch),this.timeScale=Qs(t,"timeScale",1),this.delay=Qs(t,"delay",0),this.repeat=Qs(t,"repeat",0),this.repeatCounter=Qs(t,"repeatCounter",0),this.repeatDelay=Qs(t,"repeatDelay",0),this.duration=Qs(t,"duration",0),this.nowTime=Qs(t,"nowTime",0),this.justRestart=Qs(t,"justRestart",!1)}toJSON(){return{state:this.state,timeScale:this.timeScale,delay:this.delay,repeat:this.repeat,repeatCounter:this.repeatCounter,repeatDelay:this.repeatDelay,duration:this.duration,nowTime:this.nowTime,justRestart:this.justRestart}}destroy(){}setTimeScale(t){return this.timeScale=t,this}setDelay(t){return t===void 0&&(t=0),this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatInfinity(){return this.repeat=-1,this}setRepeatDelay(t){return this.repeatDelay=t,this}start(){return this.nowTime=this.delay>0?-this.delay:0,this.state=this.nowTime>=0?Ba:vh,this.repeatCounter=0,this}stop(){return this.state=ch,this}update(t,i){this.state===ch||this.state===Ju||i===0||this.timeScale===0||(this.nowTime+=i*this.timeScale,this.justRestart=!1,this.nowTime>=this.duration?this.repeat===-1||this.repeatCounter<this.repeat?(this.repeatCounter++,this.justRestart=!0,this.nowTime-=this.duration,this.repeatDelay>0&&(this.nowTime-=this.repeatDelay,this.state=EC)):(this.nowTime=this.duration,this.state=Ju):this.nowTime>=0&&(this.state=Ba))}get t(){var t;switch(this.state){case ch:case vh:case EC:t=0;break;case Ba:t=this.nowTime/this.duration;break;case Ju:t=1;break}return PC(t,0,1)}set t(t){t=PC(t,-1,1),t<0?(this.state=vh,this.nowTime=-this.delay*t):(this.state=Ba,this.nowTime=this.duration*t,t===1&&this.repeat!==0&&this.repeatCounter++)}setT(t){return this.t=t,this}get isIdle(){return this.state===ch}get isDelay(){return this.state===vh}get isCountDown(){return this.state===Ba}get isRunning(){return this.state===vh||this.state===Ba}get isDone(){return this.state===Ju}get isOddIteration(){return(this.repeatCounter&1)===1}get isEvenIteration(){return(this.repeatCounter&1)===0}};const ch=0,vh=1,Ba=2,EC=3,Ju=-1;class _B extends jB{constructor(t,i){super(t,i),this.timer=new nw}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}start(){return this.timer.start(),super.start(),this}stop(){return this.timer.stop(),super.stop(),this}complete(){return this.timer.stop(),super.complete(),this}}const ph=Phaser.Utils.Objects.GetValue,MC=Phaser.Utils.Objects.GetAdvancedValue,tI=Phaser.Tweens.Builders.GetEaseFunction;class Sa extends _B{resetFromJSON(t){return this.timer.resetFromJSON(ph(t,"timer")),this.setEnable(ph(t,"enable",!0)),this.setTarget(ph(t,"target",this.parent)),this.setDelay(MC(t,"delay",0)),this.setDuration(MC(t,"duration",1e3)),this.setEase(ph(t,"ease","Linear")),this.setRepeat(ph(t,"repeat",0)),this}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setTarget(t){return t===void 0&&(t=this.parent),this.target=t,this}setDelay(t){return this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return t===void 0&&(t="Linear"),this.ease=t,this.easeFn=tI(t),this}start(){return this.timer.isRunning?this:(super.start(),this)}restart(){return this.timer.stop(),this.start.apply(this,arguments),this}stop(t){return t===void 0&&(t=!1),super.stop(),t&&(this.timer.setT(1),this.updateTarget(this.target,this.timer),this.complete()),this}update(t,i){if(!this.isRunning||!this.enable||this.parent.hasOwnProperty("active")&&!this.parent.active)return this;var r=this.target,g=this.timer;return g.update(t,i),g.isDelay||this.updateTarget(r,g),this.emit("update",r,this),g.isDone&&this.complete(),this}updateTarget(t,i){}}const eI=Phaser.Sound.BaseSound;var _m=function(e){return e instanceof eI};const wC=Phaser.Utils.Objects.GetValue,RC=Phaser.Utils.Objects.GetAdvancedValue,iI=Phaser.Math.Linear;let aw=class extends Sa{constructor(t,i,r){_m(t)&&(r=i,i=t,t=void 0),i.active=!0,i.scene=t,i.game=i.manager.game,super(i,r),this.volume={},this.resetFromJSON(r)}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(wC(t,"mode",0)),this.setEnable(wC(t,"enable",!0)),this.setVolumeRange(RC(t,"volume.start",this.parent.volume),RC(t,"volume.end",0)),this}setMode(t){return typeof t=="string"&&(t=sI[t]),this.mode=t,this}setVolumeRange(t,i){return this.volume.start=t,this.volume.end=i,this}start(){return this.timer.isRunning?this:(this.parent.setVolume(this.volume.start),this.timer.setDelay(this.delay).setDuration(this.duration),super.start(),this)}updateTarget(t,i){t.volume=iI(this.volume.start,this.volume.end,i.t)}complete(){switch(super.complete(),this.mode){case 1:this.parent.stop();break;case 2:this.parent.stop(),this.parent.destroy();break}return this}};const sI={stop:1,destroy:2};var Sc=function(e,t,i,r,g){_m(e)&&(g=r,r=i,i=t,t=e,e=void 0),r===void 0&&(r=1),g===void 0&&(g=0);var S={mode:0,volume:{start:g,end:r},duration:i};typeof t=="string"&&(t=e.sys.sound.add(t));var n;return t.hasOwnProperty("_fade")?(n=t._fade,n.stop().resetFromJSON(S)):(n=new aw(e,t,S),t._fade=n),n.start(),t.isPlaying||t.setVolume(g).play(),t},Uo=function(e,t,i,r){_m(e)&&(r=i,i=t,t=e,e=void 0),r===void 0&&(r=!0);var g={mode:r?2:1,volume:{start:t.volume,end:0},duration:i},S;return t.hasOwnProperty("_fade")?(S=t._fade,S.stop().resetFromJSON(g)):(S=new aw(e,t,g),t._fade=S),S.start(),t.isPlaying||t.play(),t};const gh=Phaser.Utils.Objects.GetValue,rI={setBackgroundMusicLoop(e){return e===void 0&&(e=!0),this.backgroundMusicLoop=e,this},setBackgroundMusicFadeTime(e){return this.backgroundMusicFadeTime=e,this},getBackgroundMusic(){return this.backgroundMusic},setCurrentBackgroundMusic(e){return this.backgroundMusic=e,e&&(e.once("complete",function(){this.backgroundMusic===e&&(this.backgroundMusic.destroy(),this.backgroundMusic=void 0)},this).once("destroy",function(){this.backgroundMusic===e&&(this.backgroundMusic=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic&&this.backgroundMusic.key===e)return this;this.stopBackgroundMusic();var i=this.sound.add(e,{loop:gh(t,"loop",this.backgroundMusicLoop),mute:gh(t,"mute",this.backgroundMusicMute),volume:gh(t,"volume",this.backgroundMusicVolume),detune:gh(t,"detune",0),rate:gh(t,"rate",1)});return this.setCurrentBackgroundMusic(i),this.backgroundMusicFadeTime>0&&this.fadeInBackgroundMusic(this.backgroundMusicFadeTime),this},pauseBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.pause(),this},resumeBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.resume(),this},stopBackgroundMusic(){return this.backgroundMusic&&(this.backgroundMusicFadeTime>0?this.fadeOutBackgroundMusic(this.backgroundMusicFadeTime,!0):(this.backgroundMusic.stop(),this.backgroundMusic.destroy(),this.backgroundMusic=void 0)),this},fadeInBackgroundMusic(e){return this.backgroundMusic&&Sc(this.backgroundMusic,e,this.backgroundMusicVolume,0),this},fadeOutBackgroundMusic(e,t){return this.backgroundMusic&&Uo(this.backgroundMusic,e,t),this},crossFadeBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.backgroundMusicFadeTime;return this.backgroundMusicFadeTime=0,this.fadeOutBackgroundMusic(t,!0).playBackgroundMusic(e).fadeInBackgroundMusic(t),this.backgroundMusicFadeTime=i,this},setBackgroundMusicMute(e){return e===void 0&&(e=!0),this.backgroundMusicMute=e,this},setBackgroundMusicVolume(e){return this.backgroundMusicVolume=e,this},setBackgroundMusicRate(e){return this.backgroundMusic&&this.backgroundMusic.setRate(e),this},setBackgroundMusicDetune(e){return this.backgroundMusic&&this.backgroundMusic.setDetune(e),this}},mh=Phaser.Utils.Objects.GetValue,nI={setBackgroundMusic2Loop(e){return e===void 0&&(e=!0),this.backgroundMusic2Loop=e,this},setBackgroundMusic2FadeTime(e){return this.backgroundMusic2FadeTime=e,this},getBackgroundMusic2(){return this.backgroundMusic2},setCurrentBackgroundMusic2(e){return this.backgroundMusic2=e,e&&(e.once("complete",function(){this.backgroundMusic2===e&&(this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)},this).once("destroy",function(){this.backgroundMusic2===e&&(this.backgroundMusic2=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic2&&this.backgroundMusic2.key===e)return this;this.stopBackgroundMusic2();var i=this.sound.add(e,{loop:mh(t,"loop",this.backgroundMusicLoop),mute:mh(t,"mute",this.backgroundMusic2Mute),volume:mh(t,"volume",this.backgroundMusic2Volume),detune:mh(t,"detune",0),rate:mh(t,"rate",1)});return this.setCurrentBackgroundMusic2(i),this.backgroundMusic2FadeTime>0&&this.fadeInBackgroundMusic2(this.backgroundMusic2FadeTime),this},pauseBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.pause(),this},resumeBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.resume(),this},stopBackgroundMusic2(){return this.backgroundMusic2&&(this.backgroundMusic2FadeTime>0?this.fadeOutBackgroundMusic2(this.backgroundMusic2FadeTime,!0):(this.backgroundMusic2.stop(),this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)),this},fadeInBackgroundMusic2(e){return this.backgroundMusic2&&Sc(this.backgroundMusic2,e,this.backgroundMusic2Volume,0),this},fadeOutBackgroundMusic2(e,t){return this.backgroundMusic2&&Uo(this.backgroundMusic2,e,t),this},crossFadeBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.backgroundMusic2FadeTime;return this.backgroundMusic2FadeTime=0,this.fadeOutBackgroundMusic2(t,!0).playBackgroundMusic2(e).fadeInBackgroundMusic2(t),this.backgroundMusic2FadeTime=i,this},setBackgroundMusic2Mute(e){return e===void 0&&(e=!0),this.backgroundMusic2Mute=e,this},setBackgroundMusic2Volume(e){return this.backgroundMusic2Volume=e,this},setBackgroundMusic2Rate(e){return this.backgroundMusic2&&this.backgroundMusic2.setRate(e),this},setBackgroundMusic2Detune(e){return this.backgroundMusic2&&this.backgroundMusic2.setDetune(e),this}},AC=Phaser.Utils.Array.Remove,Qu=Phaser.Utils.Objects.GetValue,aI={getSoundEffects(){return this.soundEffects},getLastSoundEffect(){return this.soundEffects[this.soundEffects.length-1]},playSoundEffect(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.sound.add(e,{mute:Qu(t,"mute",this.soundEffectsMute),volume:Qu(t,"volume",this.soundEffectsVolume),detune:Qu(t,"detune",0),rate:Qu(t,"rate",1)});return this.soundEffects.push(i),i.once("complete",function(){i.destroy(),this.sound&&AC(this.soundEffects,i)},this).once("destroy",function(){this.sound&&AC(this.soundEffects,i)},this).play(),this},stopAllSoundEffects(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect(e){var t=this.getLastSoundEffect();return t&&Sc(t,e,this.soundEffectsVolume,0),this},fadeOutSoundEffect(e,t){var i=this.getLastSoundEffect();return i&&Uo(i,e,t),this},fadeOutAllSoundEffects(e,t){for(var i=this.soundEffects.length-1;i>=0;i--)Uo(this.soundEffects[i],e,t);return this},setSoundEffectMute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var i=this.getLastSoundEffect();i&&i.setMute(e)}else this.soundEffectsMute=e;return this},setSoundEffectVolume(e,t){if(t===void 0&&(t=!1),t){var i=this.getLastSoundEffect();i&&i.setVolume(e)}else this.soundEffectsVolume=e;return this},setSoundEffectDetune(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect()]:i=this.soundEffects;for(var r=0,g=i.length;r<g;r++)i[r].setDetune(e);return this},setSoundEffectRate(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect()]:i=this.soundEffects;for(var r=0,g=i.length;r<g;r++)i[r].setRate(e);return this}},LC=Phaser.Utils.Array.Remove,ju=Phaser.Utils.Objects.GetValue,oI={getSoundEffects2(){return this.soundEffects2},getLastSoundEffect2(){return this.soundEffects2[this.soundEffects2.length-1]},playSoundEffect2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.sound.add(e,{mute:ju(t,"mute",this.soundEffects2Mute),volume:ju(t,"volume",this.soundEffects2Volume),detune:ju(t,"detune",0),rate:ju(t,"rate",1)});return this.soundEffects2.push(i),i.once("complete",function(){i.destroy(),this.sound&&LC(this.soundEffects2,i)},this).once("destroy",function(){this.sound&&LC(this.soundEffects2,i)},this).play(),this},stopAllSoundEffects2(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect2(e){var t=this.getLastSoundEffect2();return t&&Sc(t,e,this.soundEffects2Volume,0),this},fadeOutSoundEffect2(e,t){var i=this.getLastSoundEffect2();return i&&Uo(i,e,t),this},fadeOutAllSoundEffects2(e,t){for(var i=this.soundEffects2.length-1;i>=0;i--)Uo(this.soundEffects2[i],e,t);return this},setSoundEffect2Mute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var i=this.getLastSoundEffect2();i&&i.setMute(e)}else this.soundEffects2Mute=e;return this},setSoundEffect2Volume(e,t){if(t===void 0&&(t=!1),t){var i=this.getLastSoundEffect2();i&&i.setVolume(e)}else this.soundEffects2Volume=e;return this},setSoundEffect2Detune(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect2()]:i=this.soundEffects2;for(var r=0,g=i.length;r<g;r++)i[r].setDetune(e);return this},setSoundEffect2Rate(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect2()]:i=this.soundEffects2;for(var r=0,g=i.length;r<g;r++)i[r].setRate(e);return this}};var ow={hasAudio:$B};Object.assign(ow,rI,nI,aI,oI);const Vi=Phaser.Utils.Objects.GetValue;class hw{constructor(t,i){this.sound=HB(t),this.backgroundMusic=void 0,this._backgroundMusicVolume=Vi(i,"bgm.volume",1),this._backgroundMusicMute=Vi(i,"bgm.mute",!1),this.setBackgroundMusicLoop(Vi(i,"bgm.loop",!0)),this.setBackgroundMusicFadeTime(Vi(i,"bgm.fade",500)),this.backgroundMusic2=void 0,this._backgroundMusic2Volume=Vi(i,"bgm2.volume",1),this._backgroundMusic2Mute=Vi(i,"bgm2.mute",!1),this.setBackgroundMusic2Loop(Vi(i,"bgm2.loop",!0)),this.setBackgroundMusic2FadeTime(Vi(i,"bgm2.fade",500)),this.soundEffects=[],this._soundEffectsVolume=Vi(i,"soundEffect.volume",1),this.soundEffects2=[],this._soundEffects2Volume=Vi(i,"soundEffect2.volume",1);var r=Vi(i,"bgm.initial",void 0);r&&this.setCurrentBackgroundMusic(r);var g=Vi(i,"bgm2.initial",void 0);g&&this.setCurrentBackgroundMusic2(g)}destroy(){if(this.backgroundMusic&&this.backgroundMusic.destroy(),this.backgroundMusic=void 0,this.backgroundMusic2&&this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0,this.soundEffects.length)for(var t=this.soundEffects.length-1;t>=0;t--)this.soundEffects[t].destroy();if(this.soundEffects.length=0,this.soundEffects2.length)for(var t=this.soundEffects2.length-1;t>=0;t--)this.soundEffects2[t].destroy();return this.soundEffects2.length=0,this.sound=void 0,this}get backgroundMusicMute(){return this._backgroundMusicMute}set backgroundMusicMute(t){this._backgroundMusicMute=t,this.backgroundMusic&&this.backgroundMusic.setMute(mute)}get backgroundMusicVolume(){return this._backgroundMusicVolume}set backgroundMusicVolume(t){this._backgroundMusicVolume=t,this.backgroundMusic&&this.backgroundMusic.setVolume(t)}get backgroundMusic2Mute(){return this._backgroundMusic2Mute}set backgroundMusic2Mute(t){this._backgroundMusic2Mute=t,this.backgroundMusic2&&this.backgroundMusic2.setMute(mute)}get backgroundMusic2Volume(){return this._backgroundMusic2Volume}set backgroundMusic2Volume(t){this._backgroundMusic2Volume=t,this.backgroundMusic2&&this.backgroundMusic2.setVolume(t)}get soundEffectsMute(){return this._soundEffectsMute}set soundEffectsMute(t){this._soundEffectsMute=t;for(var i=this.soundEffects,r=0,g=i.length;r<g;r++)i[r].setMute(t)}get soundEffectsVolume(){return this._soundEffectsVolume}set soundEffectsVolume(t){this._soundEffectsVolume=t;for(var i=this.soundEffects,r=0,g=i.length;r<g;r++)i[r].setVolume(t)}get soundEffects2Mute(){return this._soundEffects2Mute}set soundEffects2Mute(t){this._soundEffects2Mute=t;for(var i=this.soundEffects,r=0,g=soundEffects2.length;r<g;r++)i[r].setMute(t)}get soundEffects2Volume(){return this._soundEffects2Volume}set soundEffects2Volume(t){this._soundEffects2Volume=t;for(var i=this.soundEffects2,r=0,g=i.length;r<g;r++)i[r].setVolume(t)}}Object.assign(hw.prototype,ow);const sp=Phaser.Utils.Objects.GetValue;class hI extends Tc{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.isRunning=sp(t,"isRunning",!1),this.timeScale=sp(t,"timeScale",1),this.now=sp(t,"now",0),this}toJSON(){return{isRunning:this.isRunning,timeScale:this.timeScale,now:this.now,tickingMode:this.tickingMode}}start(t){return t===void 0&&(t=0),this.delta=0,this.now=t,super.start(),this}seek(t){return this.now=t,this}setTimeScale(t){return this.timeScale=t,this}tick(t){return t*=this.timeScale,this.now+=t,this.delta=t,this.emit("update",this.now,this.delta),this}}class lw extends hI{startTicking(){super.startTicking(),this.scene.sys.events.on("update",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&this.scene.sys.events.off("update",this.update,this)}update(t,i){return!this.isRunning||this.timeScale===0?this:(this.tick(i),this)}}var Vt=function(e,t){return t===void 0&&(t=.5),e<=t?e=e/t:e=1-(e-t)/(1-t),e};const OC=Phaser.Math.Clamp;class lI{constructor(t,i){this.setTimeline(t).reset(i)}setTimeline(t){return this.timeline=t,this}setName(t){return this.name=t,this}setCallbacks(t,i,r,g){return this.target=t,this.onStart=i,this.onProgress=r,this.onComplete=g,this}setDuration(t,i){return i===void 0&&(i=!1),this.duration=t,this.remainder=t,this.t=0,this.yoyo=i,this}setPaused(t){return this.isPaused=t,this}pause(){return this.isPaused=!0,this}resume(){return this.isPaused=!1,this}setRemoved(t){return this.removed=t,this}remove(){return this.removed=!0,this}seek(t){return this.remainder=this.duration*(1-t),this}reset(t){return this.setName(t.name).setDuration(t.duration,t.yoyo).setCallbacks(t.target,t.onStart,t.onProgress,t.onComplete).setPaused(!1).setRemoved(!1),this}onFree(){this.setTimeline().setCallbacks()}getProgress(){var t=1-this.remainder/this.duration;return t=OC(t,0,1),this.yoyo&&(t=Vt(t)),t}setProgress(t){t=OC(t,0,1),this.remainder=this.duration*(1-t)}runCallback(t){t&&t(this.target,this.t,this)}update(t,i){if(this.removed)return!0;if(this.isPaused)return!1;this.remainder-=i,this.t=this.getProgress(),this.runCallback(this.onProgress);var r=this.remainder<=0;return r&&this.runCallback(this.onComplete),r}}let uI=class extends Xs{allocate(){return this.pop()}free(t){t.onFree(),this.push(t)}freeMultiple(t){for(var i=0,r=t.length;i<r;i++)this.free(t[i]);return this}};const dI=Phaser.Utils.Objects.GetValue,fI=new uI;class cI extends lw{constructor(t,i){super(t,i),this.addedTimers=[],this.timers=[],this.timerPool=dI(i,"pool",fI)}shutdown(){this.isShutdown||(this.timerPool.freeMultiple(this.addedTimers).freeMultiple(this.timers),this.timerPool=void 0,this.addedTimers=void 0,this.timers=void 0,super.shutdown())}addTimer(t){var i=this.timerPool.allocate();return i?i.setTimeline(this).reset(t):i=new lI(this,t),this.addedTimers.push(i),i.runCallback(i.onStart),this.isRunning||this.start(),i}delayCall(t,i,r,g){var S=this.addTimer({duration:t,onComplete:function(n,C,s){r===void 0&&(r=[]),r.push(s),i.apply(g,r)}});return S}delayEvent(t,i){this.removeDelayEvent(i);var r=this.delayCall(t,function(){this.removeDelayEvent(i),this.emit(i)},[],this);return this.once(`_remove.${i}`,function(){r.remove(),r=void 0}),this}removeDelayEvent(t){return this.emit(`_remove.${t}`),this}getTimers(t){for(var i=[],r=[this.addedTimers,this.timers],g=0,S=r.length;g<S;g++)for(var n=r[g],C=0,s=n.length;C<s;C++){var o=n[C];o.name===t&&i.push(o)}return i}update(t,i){if(super.update(t,i),!!this.isRunning){this.timers.push(...this.addedTimers),this.addedTimers.length=0;for(var r=[],g=0,S=this.timers.length;g<S;g++){var n=this.timers[g],C=n.update(this.now,this.delta);C?this.timerPool.free(n):r.push(n)}this.timers=r,this.timers.length===0&&this.addedTimers.length===0&&this.complete()}}}const vI="_wait.complete",pI="_remove.wait";var gI=function(e,t,i,r,g){var S=Qo(e),n=S.time.delayedCall(t,function(){S.sys.events.once("preupdate",function(){i.call(r,g)})});return n};let uw=class{constructor(t){t||(this.setEventEmitter(!0),t=this),this.parent=t,this.waitId=0,this.waitCompleteEventName=vI,this.removeWaitEventsEventName=pI}destroy(){this.removeWaitEvents(),this.clearWaitCompleteCallbacks(),this.parent=null}waitEvent(t,i,r){var g=this.getWaitCompleteTriggerCallback(r);return t.once(i,g,this),this.parent.once(this.removeWaitEventsEventName,function(){t.off(i,g,this)}),this.parent}getWaitCompleteTriggerCallback(t){t===void 0&&(t=!0);var i=this.waitId,r=this,g=function(){i<r.waitId||(r.waitId++,r.removeWaitEvents(),r.parent.emit(r.waitCompleteEventName))};if(t){var S=function(){gI(r.parent,0,g)};return S}else return g}removeWaitEvents(){return this.parent.emit(this.removeWaitEventsEventName),this}addWaitCompleteCallback(t,i){return this.parent.on(this.waitCompleteEventName,t,i),this}clearWaitCompleteCallbacks(){return this.parent.off(this.waitCompleteEventName),this}};Object.assign(uw.prototype,Ul);const mI={waitTime(e){var t=this.parent.timeline;return t.delayEvent(e,"delay"),this.parent.once(this.removeWaitEventsEventName,function(){t.removeDelayEvent("delay")}),this.waitEvent(t,"delay")}};var xI=function(e,t){var i=`(?<!\\\\)\\${t}`,r=`\\${t}`;return e.split(new RegExp(i,"g")).map(function(g){return g.replace(r,t)})};const yI={setClickTarget(e){return this.clickTarget=e,e?ha(e)?this.touchEE=e.input:this.touchEE=e.setInteractive():this.touchEE=null,this},clearClickTarget(){return this.setClickTarget(),this},setClickShortcutKeys(e){return this.clickShortcutKeys=e,this},clearClickShortcutKeys(){return this.setClickShortcutKeys(),this},waitClick(){var e=this.touchEE,t=this.clickShortcutKeys;return e||t?(e&&this.waitEvent(e,"pointerdown"),t&&this.waitKeyDown(t)):this.waitTime(0),this},waitKeyDown(e){var t=this.scene.input.keyboard;if(typeof e=="string"){if(e.indexOf("|")===-1)return this.waitEvent(t,`keydown-${e.toUpperCase()}`);for(var i=xI(e,"|"),r=0,g=i.length;r<g;r++)this.waitEvent(t,`keydown-${i[r].toUpperCase()}`);return this.parent}else return this.waitEvent(t,"keydown")}},CI={waitGameObjectTweenComplete(e,t,i){var r=this.parent.getGameObjectTweenTask(e,t,i);return r?this.waitEvent(r,"complete"):this.waitTime(0)},waitGameObjectDataFlag(e,t,i,r){var g=this.parent.getGameObject(e,t);if(!g)return this.waitTime(0);if(g.getData(i)===r)return this.waitTime(0);var S=`changedata-${i}`,n=function(C,s,o){s=!!s,s===r&&C.emit("_dataFlagMatch")};return g.on(S,n),this.parent.once(this.removeWaitEventsEventName,function(){g.off(S,n)}),this.waitEvent(g,"_dataFlagMatch")},waitGameObjectDestroy(e,t){var i=this.parent.getGameObject(e,t);return i?this.waitEvent(i,"destroy"):this.waitTime(0)},waitGameObjectManagerEmpty(e){if(e){var t=this.parent.getGameObjectManager(e);return t?this.waitEvent(t,"empty"):this.waitTime(0)}else{var i=this.parent.gameObjectManagers,r=!1;for(var g in i)r=!0,this.waitEvent(i[g],"empty");return r?this.parent:this.waitTime(0)}}},TI={setCameraTarget(e){return this.cameraTarget=e,this},clearCameraTarget(){return this.setCameraTarget(),this},waitCameraEffectComplete(e,t){var i;if(t?i=this.scene.cameras.getCamera(t):i=this.cameraTarget,!i)return this.waitTime(0);var r,g;switch(e){case"camera.fadein":r=i.fadeEffect,g="camerafadeincomplete";break;case"camera.fadeout":r=i.fadeEffect,g="camerafadeoutcomplete";break;case"camera.flash":r=i.flashEffect,g="cameraflashcomplete";break;case"camera.shake":r=i.shakeEffect,g="camerashakecomplete";break;case"camera.zoom":r=i.zoomEffect,g="camerazoomcomplete";break;case"camera.rotate":r=i.rotateToEffect,g="camerarotatecomplete";break;case"camera.scroll":r=i.panEffect,g="camerapancomplete";break}return r.isRunning?this.waitEvent(i,g):this.waitTime(0)}},SI={waitSoundEffectComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitSoundEffect2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect2();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusicComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusic2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic2();return e?this.waitEvent(e,"complete"):this.waitTime(0)}};var PI=function(e){if(!e)return this.waitTime(0);var t=!1;for(var i in e)switch(i){case"time":t=!0,this.waitTime(e.time);break;case"click":t=!0,this.waitClick();break;case"key":t=!0,this.waitKeyDown(e.key);break;case"bgm":t=!0,this.waitBackgroundMusicComplete();break;case"bgm2":t=!0,this.waitBackgroundMusic2Complete();break;case"se":t=!0,this.waitSoundEffectComplete();break;case"se2":t=!0,this.waitSoundEffect2Complete();break;case"camera":t=!0,this.waitCameraEffectComplete(`camera.${e.camera.toLowerCase()}`,e.cameraName);break;default:var r=i.split(".");if(r.length===2){var g=r[0],S=r[1],n=this.parent.getGameObjectManager(void 0,g);if(!n)continue;if(S==="destroy")return this.waitGameObjectDestroy(void 0,g);var C=n.getProperty(g,S);if(typeof C=="number"){t=!0,this.waitGameObjectTweenComplete(void 0,g,S);continue}var s=S,o=s.startsWith("!");if(o&&(s=s.substring(1)),n.hasData(g,S)){t=!0,this.waitGameObjectDataFlag(void 0,g,s,!o);continue}this.waitEvent(gameObject,S);continue}else r.length;break}return t||this.waitTime(0),this.parent},dw={waitAny:PI};Object.assign(dw,mI,yI,CI,TI,SI);class fw extends uw{constructor(t,i){super(t),this.waitCompleteEventName=Bt(i,"completeEventName",this.waitCompleteEventName),this.setClickTarget(Bt(i,"clickTarget",this.scene)),this.setClickShortcutKeys(Bt(i,"clickShortcutKeys",void 0)),this.setCameraTarget(Bt(i,"camera",this.scene.cameras.main))}get clickTarget(){return this.parent.clickTarget}set clickTarget(t){this.parent.clickTarget=t}get clickShortcutKeys(){return this.parent.clickShortcutKeys}set clickShortcutKeys(t){this.parent.clickShortcutKeys=t}get cameraTarget(){return this.parent.cameraTarget}set cameraTarget(t){this.parent.cameraTarget=t}destroy(){this.clearClickTarget(),this.clearClickShortcutKeys(),this.clearCameraTarget(),super.destroy()}get scene(){return this.parent.managersScene}}Object.assign(fw.prototype,dw);const qu=Phaser.Utils.Objects.GetValue;var EI=function(e,t){this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=e,this.gameObjectManagers={};var i=qu(t,"layers",!1);if(i!==!1){var r=new Cc(e,{name:"LAYER",layers:i,rootLayer:qu(t,"rootLayer",void 0),depth:qu(t,"layerDepth",void 0)});this.addGameObjectManager(r),this.layerManager=r}var g=qu(t,"sounds");return g!==!1&&(this.soundManager=new hw(e,g)),this.timeline=new cI(this),this.waitEventManager=new fw(this,t),this},MI=function(e){this.timeline.timeScale=e;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].setTimeScale(e);return this},wI=function(){return this.timeline.timeScale},RI=function(e){this.waitEventManager.destroy(),this.waitEventManager=void 0,delete this.gameObjectManagers.layer;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].destroy(e),delete this.gameObjectManagers[t];this.layerManager&&(this.layerManager.destroy(e),this.layerManager=void 0),this.soundManager&&(this.soundManager.destroy(),this.soundManager=void 0),this.timeline&&(this.timeline.destroy(),this.timeline=void 0),this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=void 0};const cw={addGameObjectManager(e,t){var i;return e instanceof Vo?i=e:typeof e=="string"?(i=t,i.name=e):(e===void 0&&(e={}),t===void 0&&(t=Vo),e.createGameObjectScope||(e.createGameObjectScope=this),i=new t(this.managersScene,e)),this.gameObjectManagers[i.name]=i,this},getGameObjectManager(e,t){if(e){var i=this.gameObjectManagers[e];return i}else{t&&t.charAt(0)==="!"&&(t=t.substring(1));for(var e in this.gameObjectManagers){var i=this.gameObjectManagers[e];if(i.has(t))return i}}},getGameObjectManagerNames(){var e=[];for(var t in this.gameObjectManagers)e.push(t);return e},getGameObjectManagerName(e){var t=this.getGameObjectManager(void 0,e);if(t)return t.name},hasGameObjectMananger(e){return e in this.gameObjectManagers}},AI={createGameObject(e,t,...i){return this.getGameObjectManager(e,t).add(t,...i),this},destroyGameObject(e,t){var i=this.getGameObjectManager(e,t);return t===void 0?i.removeAll():i.remove(t),this},hasGameObject(e,t){return!!this.getGameObjectManager(e,t)},callGameObjectMethod(e,t,i,...r){return this.getGameObjectManager(e,t).call(t,i,...r),this},setGameObjectProperty(e,t,i,r){return this.getGameObjectManager(e,t).setProperty(t,i,r),this},easeGameObjectProperty(e,t,i){return this.getGameObjectManager(e,t).easeProperty(t,i),this},getGameObjectTweenTask(e,t,i){return this.getGameObjectManager(e,t).getTweenTask(t,i)},getGameObject(e,t,i){var r=this.getGameObjectManager(e,t);if(!r)return i;if(typeof t=="string")return r.getGO(t);i===void 0&&(i=[]);var g=t;g===void 0&&(g=Object.keys(r.bobs));for(var S=Array.isArray(i),n=0,C=g.length;n<C;n++){t=g[n];var s=r.getGO(t);s&&(S?i.push(s):i[t]=s)}return i},addGameObject(e,t,i){var r=this.getGameObjectManager(e,t);if(typeof t=="string")r.addGO(t,i);else{var g=t;for(t in g)r.addGO(t,g[t])}return this},drawGameObjectsBounds(e,t,i){e instanceof Phaser.GameObjects.Graphics&&(i=t,t=e,e=void 0),e===void 0&&(e=this.getGameObjectManagerNames()),Array.isArray(e)||(e=[e]);for(var r=0,g=e.length;r<g;r++)this.getGameObjectManager(e[r]).drawGameObjectsBounds(t,i);return this}};var LI=function(e){class t extends e{}var i={initManagers:EI,setTimeScale:MI,getTimeScale:wI,destroyManagers:RI};return Object.assign(t.prototype,i,cw,AI),t},vw={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,i="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(i=!1));function g(s,o,y){this.fn=s,this.context=o,this.once=y||!1}function S(s,o,y,f,u){if(typeof y!="function")throw new TypeError("The listener must be a function");var l=new g(y,f||s,u),a=i?i+o:o;return s._events[a]?s._events[a].fn?s._events[a]=[s._events[a],l]:s._events[a].push(l):(s._events[a]=l,s._eventsCount++),s}function n(s,o){--s._eventsCount===0?s._events=new r:delete s._events[o]}function C(){this._events=new r,this._eventsCount=0}C.prototype.eventNames=function(){var o=[],y,f;if(this._eventsCount===0)return o;for(f in y=this._events)t.call(y,f)&&o.push(i?f.slice(1):f);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(y)):o},C.prototype.listeners=function(o){var y=i?i+o:o,f=this._events[y];if(!f)return[];if(f.fn)return[f.fn];for(var u=0,l=f.length,a=new Array(l);u<l;u++)a[u]=f[u].fn;return a},C.prototype.listenerCount=function(o){var y=i?i+o:o,f=this._events[y];return f?f.fn?1:f.length:0},C.prototype.emit=function(o,y,f,u,l,a){var d=i?i+o:o;if(!this._events[d])return!1;var v=this._events[d],h=arguments.length,c,p;if(v.fn){switch(v.once&&this.removeListener(o,v.fn,void 0,!0),h){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,y),!0;case 3:return v.fn.call(v.context,y,f),!0;case 4:return v.fn.call(v.context,y,f,u),!0;case 5:return v.fn.call(v.context,y,f,u,l),!0;case 6:return v.fn.call(v.context,y,f,u,l,a),!0}for(p=1,c=new Array(h-1);p<h;p++)c[p-1]=arguments[p];v.fn.apply(v.context,c)}else{var m=v.length,x;for(p=0;p<m;p++)switch(v[p].once&&this.removeListener(o,v[p].fn,void 0,!0),h){case 1:v[p].fn.call(v[p].context);break;case 2:v[p].fn.call(v[p].context,y);break;case 3:v[p].fn.call(v[p].context,y,f);break;case 4:v[p].fn.call(v[p].context,y,f,u);break;default:if(!c)for(x=1,c=new Array(h-1);x<h;x++)c[x-1]=arguments[x];v[p].fn.apply(v[p].context,c)}}return!0},C.prototype.on=function(o,y,f){return S(this,o,y,f,!1)},C.prototype.once=function(o,y,f){return S(this,o,y,f,!0)},C.prototype.removeListener=function(o,y,f,u){var l=i?i+o:o;if(!this._events[l])return this;if(!y)return n(this,l),this;var a=this._events[l];if(a.fn)a.fn===y&&(!u||a.once)&&(!f||a.context===f)&&n(this,l);else{for(var d=0,v=[],h=a.length;d<h;d++)(a[d].fn!==y||u&&!a[d].once||f&&a[d].context!==f)&&v.push(a[d]);v.length?this._events[l]=v.length===1?v[0]:v:n(this,l)}return this},C.prototype.removeAllListeners=function(o){var y;return o?(y=i?i+o:o,this._events[y]&&n(this,y)):(this._events=new r,this._eventsCount=0),this},C.prototype.off=C.prototype.removeListener,C.prototype.addListener=C.prototype.on,C.prefixed=i,C.EventEmitter=C,e.exports=C})(vw);var OI=vw.exports;const FI=Y0(OI);class pw extends FI{shutdown(){this.removeAllListeners()}destroy(){this.removeAllListeners()}}const gw={setEventEmitter(e,t){return t===void 0&&(t=pw),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}};var bI=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,DI=/^0x[0-9A-F]+$/i,tx=function(e){if(typeof e!="string")return e;if(e==="")e=null;else if(bI.test(e))e=parseFloat(e);else if(DI.test(e))e=parseInt(e,16);else switch(e){case"false":e=!1;break;case"true":e=!0;break;case"null":e=null;break;case"undefined":e=void 0;break}return e};let mw=class{constructor(t){this.setEventEmitter(Bt(t,"eventEmitter",void 0)),this.setValueConverter(Bt(t,"valueConvert",!0)),this.setLoopEnable(Bt(t,"loop",!1)),this.setMultipleLinesTagEnable(Bt(t,"multipleLinesTag",!1));var i=Bt(t,"delimiters","<>");this.setDelimiters(i[0],i[1]),this.setTranslateTagNameCallback(Bt(t,"translateTagNameCallback")),this.isRunning=!1,this.isPaused=!1,this.skipEventFlag=!1,this.justCompleted=!1,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}setMultipleLinesTagEnable(t){return t===void 0&&(t=!0),this.multipleLinesTagEnable=t,this}setDelimiters(t,i){i===void 0&&(i=t[1],t=t[0]),this.delimiterLeft=t,this.delimiterRight=i,t=zo(this.delimiterLeft),i=zo(this.delimiterRight);var r=this.multipleLinesTagEnable?"gs":"gi";return this.reSplit=RegExp(`${t}(.+?)${i}`,r),this}setTranslateTagNameCallback(t){return this.translateTagNameCallback=t,this}setValueConverter(t){return t===!0?t=tx:t||(t=BI),this.valueConverter=t,this}setLoopEnable(t){return t===void 0&&(t=!0),this.loopEnable=t,this}setSource(t){return this.source=t,this}resetIndex(t){return t===void 0&&(t=0),this.progressIndex=t,this.reSplit.lastIndex=t,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null,this.justCompleted=!1,this.isRunning=!1,this}start(t){return this.setSource(t).restart(),this}restart(){this.resetIndex().next()}next(){if(this.isPaused&&this.onResume(),this.isRunning)return this;if(this.isRunning=!0,this.justCompleted)return this.isRunning=!1,this;this.reSplit.lastIndex===0&&this.onStart();var t=this.source,i=t.length;for(this.reSplit.lastIndex=this.progressIndex;;){var r=this.reSplit.exec(t);if(!r){if(this.progressIndex<i&&(this.onContent(t.substring(this.progressIndex,i)),this.isPaused)){this.progressIndex=i;break}this.onComplete(),this.isRunning=!1;return}var g=this.reSplit.lastIndex,S=g-r[0].length;if(this.progressIndex<S&&(this.onContent(t.substring(this.progressIndex,S)),this.isPaused)){this.progressIndex=S;break}if(this.lastTagSource=r[0],this.onTag(r[1]),this.lastTagSource=void 0,this.progressIndex=g,this.isPaused)break}return this.isRunning=!1,this}skipEvent(){return this.skipEventFlag=!0,this}pause(){return this.isPaused||this.onPause(),this}pauseUntilEvent(t,i){return this.isPaused?this:(this.pause(),t.once(i,function(){this.next()},this),this)}onContent(t){this.skipEventFlag=!1,this.emit("content",t),this.lastContent=t}onTag(t){}onStart(){this.isRunning=!0,this.emit("start",this)}onComplete(){this.isRunning=!1,this.justCompleted=!0,this.emit("complete",this),this.loopEnable&&this.resetIndex()}onPause(){this.isPaused=!0,this.emit("pause",this)}onResume(){this.isPaused=!1,this.emit("resume",this)}};const BI=function(e){return e};Object.assign(mw.prototype,gw);var II=function(e,t,i){if(e==null)return[];t===void 0&&(t=tx),i===void 0&&(i=",");for(var r=e.split(i),g=0,S=r.length;g<S;g++)r[g]=t(r[g]);return r};class GI extends mw{constructor(t){t===void 0&&(t={}),t.hasOwnProperty("multipleLinesTag")||(t.multipleLinesTag=!1),super(t),this.setTagExpression(Bt(t,"regex.tag",void 0)),this.setValueExpression(Bt(t,"regex.value",void 0));var i=Bt(t,"delimiters","<>");this.setDelimiters(i[0],i[1])}setTagExpression(t){return t||(t=_u),this.tagExpression=t,this}setValueExpression(t){return t||(t=_u),this.valueExpression=t,this}setDelimiters(t,i){super.setDelimiters(t,i);var r=`(${this.tagExpression})(=(${this.valueExpression}))?`;if(this.reTag=RegExp(r,"i"),this.tagExpression!==_u||this.valueExpression!==_u){var g=`${this.tagExpression}(=${this.valueExpression})?`,S=`/${this.tagExpression}`;t=zo(this.delimiterLeft),i=zo(this.delimiterRight);var n=this.multipleLinesTagEnable?"gs":"gi";this.reSplit=RegExp(`${t}((${g})|(${S}))${i}`,n)}return this}onTag(t){var i=t.match(this.reTag),r=i[1],g=r.charAt(0)==="/";if(g&&(r=r.substring(1,r.length)),this.translateTagNameCallback&&(r=this.translateTagNameCallback(r)),this.skipEventFlag=!1,g)this.emit(`-${r}`),this.skipEventFlag||this.emit("-",r),this.lastTagEnd=r;else{var S=II(i[3],this.valueConverter);this.emit(`+${r}`,...S),this.skipEventFlag||this.emit("+",r,...S),this.lastTagStart=r}}}const _u="[^=]+";var kI=function(e,t,i){var r="color",g;t.on("start",function(){g=e.textStyle.color}).on(`+${r}`,function(S){e.textStyle.setColor(S),t.skipEvent()}).on(`-${r}`,function(){e.textStyle.setColor(g),t.skipEvent()}).on("complete",function(){e.textStyle.setColor(g)})},NI=function(e,t,i){var r="stroke",g;t.on("start",function(){g=e.textStyle.stroke,e.textStyle.setStrokeStyle(null)}).on(`+${r}`,function(S){S===void 0&&(S=g),e.textStyle.setStrokeStyle(S),t.skipEvent()}).on(`-${r}`,function(){e.textStyle.setStrokeStyle(null),t.skipEvent()}).on("complete",function(){e.textStyle.setStrokeStyle(g)})},zI=function(e,t,i){var r="b";t.on("start",function(){e.textStyle.setBold(!1)}).on(`+${r}`,function(){e.textStyle.setBold(!0),t.skipEvent()}).on(`-${r}`,function(){e.textStyle.setBold(!1),t.skipEvent()})},VI=function(e,t,i){var r="i";t.on("start",function(){e.textStyle.setItalic(!1)}).on(`+${r}`,function(){e.textStyle.setItalic(!0),t.skipEvent()}).on(`-${r}`,function(){e.textStyle.setItalic(!1),t.skipEvent()})},UI=function(e,t,i){var r="size",g;t.on("start",function(){g=e.textStyle.fontSize}).on(`+${r}`,function(S){e.textStyle.setFontSize(S),t.skipEvent()}).on(`-${r}`,function(){e.textStyle.setFontSize(g),t.skipEvent()}).on("complete",function(){e.textStyle.setFontSize(g)})},XI=function(e,t,i){var r="y",g;t.on("start",function(){g=e.textStyle.offsetY,e.textStyle.setOffsetY(0)}).on(`+${r}`,function(S){S===void 0&&(S=g),e.textStyle.setOffsetY(S),t.skipEvent()}).on(`-${r}`,function(){e.textStyle.setOffsetY(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetY(0)})},WI=function(e,t,i){var r="x",g;t.on("start",function(){g=e.textStyle.offsetY,e.textStyle.setOffsetX(0)}).on(`+${r}`,function(S){S===void 0&&(S=g),e.textStyle.setOffsetX(S),t.skipEvent()}).on(`-${r}`,function(){e.textStyle.setOffsetX(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetX(0)})},YI=function(e,t,i){var r="left",g;t.on("start",function(){g=e.textStyle.leftSpace,e.textStyle.setLeftSpace(0)}).on(`+${r}`,function(S){S===void 0&&(S=g),e.textStyle.setLeftSpace(S),t.skipEvent()}).on(`-${r}`,function(){e.textStyle.setLeftSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setLeftSpace(0)})},HI=function(e,t,i){var r="right",g;t.on("start",function(){g=e.textStyle.rightSpace,e.textStyle.setRightSpace(0)}).on(`+${r}`,function(S){S===void 0&&(S=g),e.textStyle.setRightSpace(S),t.skipEvent()}).on(`-${r}`,function(){e.textStyle.setRightSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setRightSpace(0)})},$I=function(e,t,i){var r="shadow",g;t.on("start",function(){g=e.textStyle.shadowColor,e.textStyle.setShadowColor(null)}).on(`+${r}`,function(S){S===void 0&&(S=g),e.textStyle.setShadowColor(S),t.skipEvent()}).on(`-${r}`,function(){e.textStyle.setShadowColor(null),t.skipEvent()}).on("complete",function(){e.textStyle.setShadowColor(g)})},KI=function(e,t,i){var r="align";t.on(`+${r}`,function(g){e.textStyle.setAlign(g),t.skipEvent()}).on(`-${r}`,function(){e.textStyle.setAlign(),t.skipEvent()}).on("complete",function(){e.textStyle.setAlign()})},ZI=function(e,t,i){var r="img";t.on(`+${r}`,function(g){var S=e.imageManager.get(g);S&&UM.call(e,S.key,S.frame,{width:S.width,hieght:S.height,leftSpace:S.left,rightSpace:S.right,color:S.tintFill?e.textStyle.color:void 0}),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})},JI=function(e,t,i){var r="space";t.on(`+${r}`,function(g){XM.call(e,g),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})},QI=function(e,t,i){var r="speed";t.on(`+${r}`,function(g){FC(e,g),t.skipEvent()}).on(`-${r}`,function(){FC(e,void 0),t.skipEvent()})},jI=function(e){this.typeWriter.setTypingSpeed(e)},FC=function(e,t){ct.call(e,"speed",jI,t,e)},qI=function(e,t,i){var r="se";t.on(`+${r}`,function(g,S){ct.call(e,r,_I,[g,S],e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="se2";t.on(`+${r}`,function(g,S){ct.call(e,r,t9,[g,S],e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})},_I=function(e){if(!this.skipSoundEffect){var t=e[0],i=e[1];this.soundManager.playSoundEffect(t),i&&this.soundManager.fadeInSoundEffect(i)}},t9=function(e){if(!this.skipSoundEffect){var t=e[0],i=e[1];this.soundManager.playSoundEffect2(t),i&&this.soundManager.fadeInSoundEffect2(i)}},e9=function(e,t,i){var r="se.fadein";t.on(`+${r}`,function(g){ct.call(e,r,i9,g,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="se2.fadein";t.on(`+${r}`,function(g){ct.call(e,r,s9,g,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})},i9=function(e){this.soundManager.fadeInSoundEffect(e)},s9=function(e){this.soundManager.fadeInSoundEffect2(e)},r9=function(e,t,i){var r="se.fadeout";t.on(`+${r}`,function(g,S){S=S==="stop",ct.call(e,r,n9,[g,S],e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="se2.fadeout";t.on(`+${r}`,function(g,S){S=S==="stop",ct.call(e,r,a9,[g,S],e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})},n9=function(e){this.soundManager.fadeOutSoundEffect(...e)},a9=function(e){this.soundManager.fadeOutSoundEffect2(...e)},o9=function(e,t,i){var r="se.volume";t.on(`+${r}`,function(g){ct.call(e,r,h9,g,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="se2.volume";t.on(`+${r}`,function(g){ct.call(e,r,l9,g,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})},h9=function(e){this.soundManager.setSoundEffectVolume(e,!0)},l9=function(e){this.soundManager.setSoundEffectVolume2(e,!0)},u9=function(e,t,i){var r="se.mute";t.on(`+${r}`,function(){ct.call(e,r,d9,void 0,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="se2.mute";t.on(`+${r}`,function(){ct.call(e,r,f9,void 0,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="se.unmute";t.on(`+${r}`,function(){ct.call(e,r,c9,void 0,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="se2.unmute";t.on(`+${r}`,function(){ct.call(e,r,v9,void 0,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})},d9=function(){this.soundManager.setSoundEffectMute(!0)},f9=function(){this.soundManager.setSoundEffect2Mute(!0)},c9=function(){this.soundManager.setSoundEffectMute(!1)},v9=function(){this.soundManager.setSoundEffect2Mute(!1)},p9=function(e,t,i){var r="bgm";t.on(`+${r}`,function(g,S){ct.call(e,r,g9,[g,S],e),t.skipEvent()}).on(`-${r}`,function(){ct.call(e,"bgm.stop",m9,void 0,e),t.skipEvent()});var r="bgm2";t.on(`+${r}`,function(g,S){ct.call(e,r,x9,[g,S],e),t.skipEvent()}).on(`-${r}`,function(){ct.call(e,"bgm2.stop",y9,void 0,e),t.skipEvent()})},g9=function(e){var t=e[0],i=e[1];this.soundManager.playBackgroundMusic(t),i&&this.soundManager.fadeInBackgroundMusic(i)},m9=function(){this.soundManager.stopBackgroundMusic()},x9=function(e){var t=e[0],i=e[1];this.soundManager.playBackgroundMusic2(t),i&&this.soundManager.fadeInBackgroundMusic2(i)},y9=function(){this.soundManager.stopBackgroundMusic2()},C9=function(e,t,i){var r="bgm.fadein";t.on(`+${r}`,function(g){ct.call(e,r,T9,g,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="bgm2.fadein";t.on(`+${r}`,function(g){ct.call(e,r,S9,g,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})},T9=function(e){this.soundManager.fadeInBackgroundMusic(e)},S9=function(e){this.soundManager.fadeInBackgroundMusic2(e)},P9=function(e,t,i){var r="bgm.fadeout";t.on(`+${r}`,function(g,S){S=S==="stop",ct.call(e,r,E9,[g,S],e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="bgm2.fadeout";t.on(`+${r}`,function(g,S){S=S==="stop",ct.call(e,r,M9,[g,S],e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})},E9=function(e){this.soundManager.fadeOutBackgroundMusic(...e)},M9=function(e){this.soundManager.fadeOutBackgroundMusic2(...e)},w9=function(e,t,i){var r="bgm.cross";t.on(`+${r}`,function(g,S){ct.call(e,r,R9,[g,S],e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="bgm2.cross";t.on(`+${r}`,function(g,S){ct.call(e,r,A9,[g,S],e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})},R9=function(e){this.soundManager.crossFadeBackgroundMusic(...e)},A9=function(e){this.soundManager.crossFadeBackgroundMusic2(...e)},L9=function(e,t,i){var r="bgm.pause";t.on(`+${r}`,function(){ct.call(e,r,O9,void 0,e),t.skipEvent()}).on(`-${r}`,function(){ct.call(e,"bgm.resume",F9,void 0,e),t.skipEvent()});var r="bgm2.pause";t.on(`+${r}`,function(){ct.call(e,r,b9,void 0,e),t.skipEvent()}).on(`-${r}`,function(){ct.call(e,"bgm2.resume",D9,void 0,e),t.skipEvent()})},O9=function(){this.soundManager.pauseBackgroundMusic()},F9=function(){this.soundManager.resumeBackgroundMusic()},b9=function(){this.soundManager.pauseBackgroundMusic2()},D9=function(){this.soundManager.resumeBackgroundMusic2()},B9=function(e,t,i){var r="bgm.volume";t.on(`+${r}`,function(g){ct.call(e,r,I9,g,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="bgm2.volume";t.on(`+${r}`,function(g){ct.call(e,r,G9,g,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})},I9=function(e){this.soundManager.setBackgroundMusicVolume(e)},G9=function(e){this.soundManager.setBackgroundMusicVolume2(e)},k9=function(e,t,i){var r="bgm.mute";t.on(`+${r}`,function(){ct.call(e,r,N9,void 0,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="bgm2.mute";t.on(`+${r}`,function(){ct.call(e,r,z9,void 0,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="bgm.unmute";t.on(`+${r}`,function(){ct.call(e,r,V9,void 0,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="bgm2.unmute";t.on(`+${r}`,function(){ct.call(e,r,U9,void 0,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})},N9=function(){this.soundManager.setBackgroundMusicMute(!0)},z9=function(){this.soundManager.setBackgroundMusic2Mute(!0)},V9=function(){this.soundManager.setBackgroundMusicMute(!1)},U9=function(){this.soundManager.setBackgroundMusic2Mute(!1)},X9=function(e,t,i){var r="camera.fadein";t.on(`+${r}`,function(g,S,n,C){ct.call(e,r,W9,[g,S,n,C],e),t.skipEvent()})},W9=function(e){this.cameraTarget.fadeIn(...e)},Y9=function(e,t,i){var r="camera.fadeout";t.on(`+${r}`,function(g,S,n,C){ct.call(e,r,H9,[g,S,n,C],e),t.skipEvent()})},H9=function(e){this.cameraTarget.fadeOut(...e)},$9=function(e,t,i){var r="camera.shake";t.on(`+${r}`,function(g,S){ct.call(e,r,K9,[g,S],e),t.skipEvent()})},K9=function(e){this.cameraTarget.shake(...e)},Z9=function(e,t,i){var r="camera.flash";t.on(`+${r}`,function(g,S,n,C){ct.call(e,r,J9,[g,S,n,C],e),t.skipEvent()})},J9=function(e){this.cameraTarget.flash(...e)},Q9=function(e,t,i){var r="camera.zoom";t.on(`+${r}`,function(g){ct.call(e,r,j9,g,e),t.skipEvent()}).on(`+${r}.to`,function(g,S,n){ct.call(e,"camera.zoom.to",q9,[g,S,n],e),t.skipEvent()})},j9=function(e){this.cameraTarget.setZoom(e)},q9=function(e){this.cameraTarget.zoomTo(...e)};const bC=Phaser.Math.DegToRad;var _9=function(e,t,i){var r="camera.rotate";t.on(`+${r}`,function(g){g=bC(g),ct.call(e,r,t8,g,e),t.skipEvent()}).on(`+${r}.to`,function(g,S,n){g=bC(g),ct.call(e,"camera.rotate.to",e8,[g,S,n],e),t.skipEvent()})},t8=function(e){this.cameraTarget.setRotation(e)},e8=function(e){var t=e[0],i=e[1],r=e[2];this.cameraTarget.rotateTo(t,!1,i,r)},i8=function(e,t,i){var r="camera.scroll";t.on(`+${r}`,function(g,S){ct.call(e,r,s8,[g,S],e),t.skipEvent()}).on(`+${r}.to`,function(g,S,n,C){ct.call(e,"camera.scroll.to",r8,[g,S,n,C],e),t.skipEvent()})},s8=function(e){this.cameraTarget.setScroll(...e)},r8=function(e){var t=e[0],i=e[1],r=e[2],g=e[3],S=this.cameraTarget,n=S.scrollX,C=S.scrollY;S.setScroll(t,i),t+=S.centerX,i+=S.centerY,S.setScroll(n,C),S.pan(t,i,r,g)},n8=function(e,t,i){var r="wait",g="click";t.on(`+${r}`,function(S){DC(e,S),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()}).on(`+${g}`,function(){DC(e,"click"),t.skipEvent()}).on(`-${g}`,function(){t.skipEvent()})},a8=function(e){this.typeWriter.wait(e)},DC=function(e,t){ct.call(e,"wait",a8,t,e)},o8=function(e,t,i){var r="r";t.on(`+${r}`,function(){Vl.call(e,`
`),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})},h8=function(e,t,i){for(var r=["pagebreak","pb"],g=0,S=r.length;g<S;g++){var n=r[g];t.on(`+${n}`,function(){Vl.call(e,"\f"),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})}},l8=function(e,t,i){var r="content.off";t.on(`+${r}`,function(){t.setContentOutputEnable(!1),t.skipEvent()})},u8=function(e,t,i){var r="content.on";t.on(`+${r}`,function(){t.setContentOutputEnable(),t.skipEvent()})},d8=function(e,t,i){t.on("content",function(r){if(t.contentOutputEnable)Vl.call(e,r);else{var g=`+${t.lastTagStart}`;e.emit(`parser.${g}#content`,t,r)}})},f8=function(e,t,i){t.on("start",function(){e.emit("parser.start",t)}).on("+",function(r,...g){if(!t.skipEventFlag){var S=`+${r}`,n=g;e.emit(`parser.${S}`,t,...g,n),BC(e,S,n)}}).on("-",function(r){if(!t.skipEventFlag){var g=`-${r}`,S=[];e.emit(`parser.${g}`,t,S),BC(e,g,S)}}).on("complete",function(){e.emit("parser.complete",t)})},c8=function(e,t){var i=`tag.${t}`;e==null?this.emit(i):this.emit(i,...e)},BC=function(e,t,i){ct.call(e,t,c8,i,e)};const IC=[kI,NI,zI,VI,UI,$I,KI,XI,WI,YI,HI,ZI,JI,QI,qI,e9,r9,o9,u9,p9,C9,P9,w9,L9,B9,k9,X9,Y9,$9,Z9,Q9,_9,i8,n8,o8,h8,l8,u8,d8,f8];var v8=function(e,t,i){for(var r=0,g=IC.length;r<g;r++)IC[r](e,t,i)},p8=function(e,t){for(var i=e.commentLineStart,r=t.split(`
`),g=0,S=r.length;g<S;g++){var n=r[g];n===""||(n.trim().length===0||i&&n.startsWith(i))&&(r[g]="")}return r.join("")};const g8=Phaser.Utils.Objects.GetValue;class m8 extends GI{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("delimiters")||(i.delimiters="[]"),super(i),v8(t,this,i),this.setCommentLineStartSymbol(g8(i,"comment","//")),this.setContentOutputEnable()}setCommentLineStartSymbol(t){return this.commentLineStart=t,this}setContentOutputEnable(t){return t===void 0&&(t=!0),this.contentOutputEnable=t,this}start(t){return super.start(p8(this,t)),this}}const x8={setDefaultTypingSpeed(e){return this.defaultSpeed=e,this},setTypingSpeed(e){return e===void 0&&(e=this.defaultSpeed),this.speed=e,this}},_n="page.fadeout",A0="_remove.play",GC=[_n,A0];var y8=function(){if(!this.fadeOutPageCallback||!this.children)return this.emit(_n),this;var e=this.children.filter(function(r){return r.renderable}),t=this.fadeOutPageCallback(e,this.fadeOutPageDuration);if(!t)this.emit(_n);else if(t.once)t.once("complete",function(){this.emit(_n)},this);else if(t.then){var i=this;t.then(function(){i.emit(_n)})}else this.emit(_n);return this},Pc=function(e,t){return new Promise(function(i,r){e.once(t,function(){i()})})},Ne=function(e){return Pc(e,"complete")},C8=function(e){return this.children=e,this.index=0,this.isPageTyping=!0,this.onTypeStart&&this.onTypeStart(e),this.typing(),Ne(this)};const T8="delay",xw="anim";var yw=function(e){e===void 0&&(e=0);var t=0;for(this.inTypingProcessLoop=!0;this.inTypingProcessLoop;){var i=this.getNextChild();if(!i){this.timeline.isRunning?this.timeline.once("complete",function(){this.isPageTyping=!1,this.emit("complete")},this):(this.isPageTyping=!1,this.emit("complete"));break}if(i.renderable){var r=this.animationConfig;if(r.duration>0){var g=this.timeline.addTimer({name:xw,target:i,duration:r.duration,yoyo:r.yoyo,onStart:r.onStart,onProgress:r.onProgress,onComplete:r.onComplete});this.skipTypingAnimation&&g.seek(1)}else r.onStart&&r.onStart(i,0);this.minSizeEnable&&this.textPlayer.setToMinSize(),this.textPlayer.emit("typing",i);var S=this.nextChild;if(S&&!(this.skipSpaceEnable&&fD(S))){if(t+=this.speed+e,e=0,t>0){this.typingTimer=this.timeline.addTimer({name:T8,target:this,duration:t,onComplete:function(n,C,s){n.typingTimer=void 0,yw.call(n,s.remainder)}});break}}}else cD(i)&&i.exec()}this.minSizeEnable&&this.textPlayer.setToMinSize(),this.inTypingProcessLoop=!1},S8=function(){return this.timeline.pause(),this},P8=function(){return this.timeline.resume(),this},E8=function(){return this.isTypingPaused?this:(this.typingTimer?(this.typingTimer.pause(),this.isTypingPaused=!0):this.inTypingProcessLoop&&(this.inTypingProcessLoop=!1,this.isTypingPaused=!0),this)},M8=function(e){return this.isTypingPaused?(e===void 0&&(e=0),this.typingTimer?(this.isTypingPaused=!1,this.typingTimer.resume(),this.typingTimer.remainder+=e):this.isTypingPaused&&(this.isTypingPaused=!1,this.typing(e)),this):this},w8=function(e){switch(e){case"camera.fadein":case"camera.fadeout":case"camera.flash":case"camera.shake":case"camera.zoom":case"camera.rotate":case"camera.scroll":return!0;default:return!1}},R8=function(e,t){var i=t.split(".");return e.gameObjectManagers.hasOwnProperty(i[0])},A8=function(e,t,i,r){var g=e.waitEventManager,S=t.split("."),n=S[0],C=e.getGameObjectManager(n),s=`wait.${n}`;switch(S.length){case 1:g.waitGameObjectManagerEmpty(n),e.emit(s);return;case 2:var o=S[1];g.waitGameObjectDestroy(n,o),e.emit(s,o);return;case 3:var o=S[1],y=S[2],f=C.getProperty(o,y);if(typeof f=="number"){g.waitGameObjectTweenComplete(n,o,y),e.emit(s,o,y);return}var u=y,l=u.startsWith("!");if(l&&(u=u.substring(1)),C.hasData(o,u)){g.waitGameObjectDataFlag(n,o,u,!l),e.emit(s,o,u);return}else{g.waitTime(0);return}}};const L8=Phaser.Input.Keyboard.KeyCodes;var Cw=function(e,t,i,r){var g=e.waitEventManager;g.clearWaitCompleteCallbacks().addWaitCompleteCallback(i,r),typeof t=="string"&&t.length>1&&t.indexOf("|")!==-1?t=t.split("|"):t=[t];for(var S=0,n=t.length;S<n;S++){var C=t[S];if(C==null||C==="wait"){var s=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit("wait",s)}else if(typeof C=="number"||!isNaN(C)){var o=parseFloat(C);g.waitTime(o),e.emit("wait.time",o)}else if(C==="click")g.waitClick(),e.emit("wait.click");else if(C==="se"){g.waitSoundEffectComplete();var y=e.soundManager.getLastSoundEffect();e.emit("wait.music",y)}else if(C==="se2"){g.waitSoundEffect2Complete();var y=e.soundManager.getLastSoundEffect2();e.emit("wait.music",y)}else if(C==="bgm"){g.waitBackgroundMusicComplete();var y=e.soundManager.getBackgroundMusic();e.emit("wait.music",y)}else if(C==="bgm2"){g.waitBackgroundMusic2Complete();var y=e.soundManager.getBackgroundMusic2();e.emit("wait.music",y)}else if(L8.hasOwnProperty(C.toUpperCase()))g.waitKeyDown(C),e.emit("wait.keydown",C);else if(w8(C))g.waitCameraEffectComplete(C),e.emit("wait.camera",C);else if(R8(e,C))A8(e,C);else{var s=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit(`wait.${C}`,s)}}},O8=function(e){return this.ignoreWait?this:(this.pauseTyping(),Cw(this.textPlayer,e,this.resumeTyping,this),this)},F8=function(e){return e===void 0&&(e=!0),this.ignoreWait=e,this},b8=function(e){return e===void 0&&(e=!0),this.skipSpaceEnable=e,this},D8=function(e){if(e===void 0&&(e=!0),this.skipTypingAnimation=e,e)for(var t=this.timeline.getTimers(xw),i=0,r=t.length;i<r;i++)t[i].seek(1);return this},B8=function(e){if(e===void 0&&(e=!0),this.skipSoundEffect=e,e){var t=this.textPlayer._soundManager;t&&t.fadeOutAllSoundEffects(100,!0)}return this},I8=function(){return this.typingTimer&&this.typingTimer.seek(1),this},Tw={fadeOutPage:y8,start:C8,typing:yw,pause:S8,resume:P8,pauseTyping:E8,resumeTyping:M8,wait:O8,setIgnoreWait:F8,setSkipSpaceEnable:b8,setSkipTypingAnimation:D8,setSkipSoundEffect:B8,skipCurrentTypingDelay:I8};Object.assign(Tw,x8);const Ia=Phaser.Utils.Objects.GetValue;class Sw{constructor(t,i){this.setEventEmitter(),this.textPlayer=t,this.isPageTyping=!1,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.inTypingProcessLoop=!1,this.isTypingPaused=!1,this.setIgnoreWait(!1),this.setSkipTypingAnimation(!1),this.setTypingStartCallback(Ia(i,"onTypingStart",k8)),this.setDefaultTypingSpeed(Ia(i,"speed",250)),this.setTypingSpeed(),this.setSkipSpaceEnable(Ia(i,"skipSpace",!1)),this.setAnimationConfig(Ia(i,"animation",void 0)),this.setMinSizeEnable(Ia(i,"minSizeEnable",!1)),this.setFadeOutPageCallback(Ia(i,"fadeOutPage"))}destroy(){this.destroyEventEmitter(),this.textPlayer=void 0,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.onTypeStart=void 0,this.animationConfig=void 0}get timeline(){return this.textPlayer.timeline}setTypingStartCallback(t){return this.onTypeStart=t,this}setAnimationConfig(t){return t||(t={}),t.hasOwnProperty("duration")||(t.duration=0),t.hasOwnProperty("onStart")||(t.onStart=G8),this.animationConfig=t,this}setFadeOutPageCallback(t){return this.fadeOutPageCallback=t,this}setMinSizeEnable(t){return t===void 0&&(t=!0),this.minSizeEnable=t,this}getNextChild(){var t=this.nextChild;return this.index=Math.min(this.index+1,this.children.length),this._nextChild=void 0,t}get nextChild(){return this._nextChild||(this._nextChild=this.children[this.index]),this._nextChild}}var G8=function(e){e.setVisible&&e.setVisible()},k8=function(e){for(var t=0,i=e.length;t<i;t++){var r=e[t];r.setVisible&&r.setVisible(!1)}};Object.assign(Sw.prototype,Ul,Tw);class N8 extends jm{playAnimation(t){return this.gameObject.anims.timeScale=this.timeScale,this.gameObject.play(t),this}stopAnimation(){return this.gameObject.stop(),this}chainAnimation(t){return this.gameObject.chain(t),this}pauseAnimation(){return this.gameObject.anims.pause(),this}setTimeScale(t){return super.setTimeScale(t),this.gameObject.anims&&(this.gameObject.anims.timeScale=t),this}}const z8={playAnimation(e,t){return this.has(e)||this.add(e),this.get(e).playAnimation(t),this},stopAnimation(e){return this.has(e)?(this.get(e).stopAnimation(),this):this},chainAnimation(e,t){return this.has(e)?(this.get(e).chainAnimation(t),this):this},pauseAnimation(e){return this.has(e)?(this.get(e).pauseAnimation(),this):this}};var Pw={};Object.assign(Pw,z8);var Ew=function(e){return!e||e==="sprite"?e=V8:e==="image"&&(e=U8),e},V8=function(e,t,i){return typeof i!="string"&&typeof i!="number"&&(i=void 0),e.add.sprite(0,0,t,i)},U8=function(e,t,i){return typeof i!="string"&&typeof i!="number"&&(i=void 0),e.add.image(0,0,t,i)};class Mw extends Vo{constructor(t,i){i===void 0&&(i={}),i.BobClass=N8,super(t,i)}setCreateGameObjectCallback(t,i){return t=Ew(t),super.setCreateGameObjectCallback(t,i),this}}Object.assign(Mw.prototype,Pw);var kC=function(e,t){return e.length===3&&e[0]===t&&e[2]==="play"},X8=function(e,t){return e.length===3&&e[0]===t&&e[2]==="stop"},W8=function(e,t,i){var r=i.name;t.on("+",function(g,...S){if(!t.skipEventFlag){var n=g.split("."),C;if(kC(n,r))C=n[1];else return;ct.call(e,`${r}.play`,Y8,[r,C,S],e),t.skipEvent()}}).on("+",function(g){if(!t.skipEventFlag){var S=g.split("."),n;if(X8(S,r))n=S[1];else return;ct.call(e,`${r}.stop`,NC,[r,n],e),t.skipEvent()}}).on("-",function(g){if(!t.skipEventFlag){var S=g.split("."),n;if(kC(S,r))n=S[1];else return;ct.call(e,`${r}.stop`,NC,[r,n],e),t.skipEvent()}})},Y8=function(e){var t,i,r;[t,i,r]=e;var g=r.shift(),S=this.getGameObjectManager(t);S.playAnimation(i,g),r.length>0&&S.chainAnimation(i,r)},NC=function(e){var t,i;[t,...i]=e;var r=this.getGameObjectManager(t);r.stopAnimation(...i)},H8=function(e,t){return e.length===3&&e[0]===t&&e[2]==="pause"},$8=function(e,t,i){var r=i.name;t.on("+",function(g){if(!t.skipEventFlag){var S=g.split("."),n;if(H8(S,r))n=S[1];else return;ct.call(e,`${r}.pause`,K8,[r,n],e),t.skipEvent()}})},K8=function(e){var t,i;[t,...i]=e;var r=this.getGameObjectManager(t);r.pauseAnimation(...i)},Z8=function(e,t){return e.length===3&&e[0]===t&&e[2]==="chain"},J8=function(e,t,i){var r=i.name;t.on("+",function(g){if(!t.skipEventFlag){var S=g.split("."),n;if(Z8(S,r))n=S[1];else return;var C=Array.prototype.slice.call(arguments,1);ct.call(e,`${r}.chain`,Q8,[r,n,C],e),t.skipEvent()}})},Q8=function(e){var t,i;[t,...i]=e;var r=this.getGameObjectManager(t);r.chainAnimation(...i)};const j8=[W8,$8,J8];var q8=function(e){e===void 0&&(e={}),e.name="sprite",e.parseCallbacks=j8,e.createGameObject=Ew(e.createGameObject),this.addGameObjectManager(e,Mw)},zC=function(e,t){return e.length===2&&e[0]===t},_8=function(e,t,i){var r=i.name;t.on("+",function(g,...S){if(!t.skipEventFlag){var n=g.split("."),C;if(zC(n,r))C=n[1];else return;ct.call(e,`${r}.add`,tG,[r,C,...S],e),t.skipEvent()}}).on("-",function(g){if(!t.skipEventFlag){var S=g.split("."),n;if(zC(S,r))n=S[1];else return;ct.call(e,`${r}.remove`,eG,[r,n],e),t.skipEvent()}})},tG=function(e){var t,i;[t,...i]=e;var r=this.getGameObjectManager(t);r.add(...i)},eG=function(e){var t,i;[t,...i]=e;var r=this.getGameObjectManager(t);r.remove(...i)},iG=function(e,t,i){var r=i.name;t.on("-",function(g){t.skipEventFlag||g===r&&(ct.call(e,`${r}.removeall`,sG,r,e),t.skipEvent())})},sG=function(e){var t=this.getGameObjectManager(e);t.removeAll()},rG=function(e,t){return e.length===3&&e[0]===t},nG=function(e,t,i){var r=i.name;t.on("+",function(g,...S){if(!t.skipEventFlag){var n=g.split("."),C,s;if(rG(n,r))C=n[1],s=n[2];else return;ct.call(e,`${r}.call`,aG,[r,C,s,...S],e),t.skipEvent()}})},aG=function(e){var t,i,r,g;[t,i,r,...g]=e;var S=`${t}.${r}`;if(this.emit(S,i,...g),!(this.listenerCount(S)>0)){var n=this.getGameObjectManager(t);n.hasMethod(i,r)?n.call(i,r,...g):n.setProperty(i,r,g[0])}},oG={to:!0,yoyo:!0,from:!0,toLeft:!0,toRight:!0,toUp:!0,toDown:!0,yoyoLeft:!0,yoyoRight:!0,yoyoUp:!0,yoyoDown:!0,fromLeft:!0,fromRight:!0,fromUp:!0,fromDown:!0},hG=function(e,t){return e.length===4&&e[0]===t&&oG[e[3]]},lG=function(e,t,i){var r=i.name;e.getGameObjectManager(r),t.on("+",function(g,S,n,C,s){if(!t.skipEventFlag){var o=g.split("."),y,f,u;if(hG(o,r))y=o[1],f=o[2],u=o[3];else return;typeof C=="number"&&(s=C,C=void 0),ct.call(e,`${r}.ease`,uG,[r,y,f,S,n,C,s,u],e),t.skipEvent()}})},uG=function(e){var t,i,r,g,S,n,C,s;[t,i,r,g,S,n,C,s]=e;var o=this.getGameObjectManager(t),y=o.getProperty(i,r);if(typeof y=="number"){s.endsWith("Left")||s.endsWith("Up")?s.startsWith("to")||s.startsWith("yoyo")?g=y-g:s.startsWith("from")&&(o.setProperty(i,r,y-g),g=y):s.endsWith("Right")||s.endsWith("Down")?s.startsWith("to")||s.startsWith("yoyo")?g=y+g:s.startsWith("from")&&(o.setProperty(i,r,y+g),g=y):s==="from"&&(o.setProperty(i,r,g),g=y);var f=s.startsWith("yoyo");o.easeProperty(i,{property:r,value:g,duration:S,ease:n,repeat:C,yoyo:f})}};const VC=[_8,iG,nG,lG],dG=cw.addGameObjectManager,fG={addGameObjectManager(e,t){e=e?Ps(e):{};var i=e.name;i||console.warn("[TextPlayer] Parameter 'name' is required in addGameObjectManager(config) method");var r=e.defaultLayer,g=e.createGameObject,S=this.layerManager;e.createGameObject=function(o,...y){var f=g.call(this,o,...y);return r&&S&&S.addToLayer(r,f),f},dG.call(this,e,t);var n=e.parseCallbacks;n?n=[...n,...VC]:n=VC;for(var C=0,s=n.length;C<s;C++)n[C](this,this.parser,e);return this}};var cG=function(e){return this.waitEventManager.setClickTarget(e),this},vG=function(e){return this.waitEventManager.setCameraTarget(e),this},pG=function(e){var t=this;e?typeof e=="function"?this.nextPageInput=function(i,r){var g=t.waitEventManager;g.clearWaitCompleteCallbacks().addWaitCompleteCallback(i,r);var S=g.getWaitCompleteTriggerCallback();e.call(t,S)}:this.nextPageInput=function(i,r){Cw(t,e,i,r)}:this.nextPageInput=null},gG=function(e,t){return this.imageManager.add(e,t),this};const mG={play(e){return this.isPlaying?this:(this.removeChildren(),this.parser.start(e),this.isPlaying=!0,this.once("complete",function(){this.isPlaying=!1},this),this.lastWrapResult=void 0,this.typingNextPage(),this)},playPromise(e){var t=Ne(this);return this.play(e),t}};var L0=function(){return!this.isPlaying||this.isPageTyping?this:(this.typeWriter.once(_n,xG,this).fadeOutPage(),this)},xG=function(){var e=this.runWrap(this.lastWrapResult);this.lastWrapResult=e,this.emit("page.start");var t=function(){this.emit(A0),e.isLastPage?this.emit("complete"):(this.emit("page.complete"),this.ignoreNextPageInput?L0.call(this):this.nextPageInput&&this.nextPageInput(L0,this))};this.once(A0,function(){this.typeWriter.off("complete",t,this)},this),this.typeWriter.once("complete",t,this).start(e.children)};const yG={pauseTyping(){return this.typeWriter.pauseTyping(),this},pause(){return this.pauseTyping(),this.timeline.pause(),this}},CG={resumeTyping(e){return this.typeWriter.resumeTyping(e),this},resume(){return this.resumeTyping(),this.timeline.resume(),this}};var TG=function(e){return this.typeWriter.wait(e),this};const SG={setDefaultTypingSpeed(e){return this.defaultTypingSpeed=e,this},setTypingSpeed(e){return this.typingSpeed=e,this}};var PG=function(e){return this.typeWriter.setIgnoreWait(e),this},EG=function(e){return e===void 0&&(e=!0),this.ignoreNextPageInput=e,this},MG=function(){if(!this.isPlaying||!this.isPageTyping)return this;var e=this.typeWriter.speed,t=this.typeWriter.ignoreWait,i=this.typeWriter.skipTypingAnimation,r=this.typeWriter.skipSoundEffect;return this.typeWriter.once("complete",function(){this.typeWriter.setTypingSpeed(e).setIgnoreWait(t).setSkipTypingAnimation(i).setSkipSoundEffect(r)},this).setTypingSpeed(0).skipCurrentTypingDelay().setIgnoreWait(!0).setSkipTypingAnimation(!0).setSkipSoundEffect(!0),this};const wG={getSprite(e){return this.getGameObject("sprite",e)},addSprite(e,t){return this.addGameObject("sprite",e,t),this}},RG={setContentOutputEnable(e){return this.parser.setContentOutputEnable(e),this},setContentCallback(e,t){return this.contentCallback=e,this.contentCallbackScope=t,this}};var ww={setClickTarget:cG,setCameraTarget:vG,setNextPageInput:pG,addImage:gG,typingNextPage:L0,wait:TG,setIgnoreWait:PG,setIgnoreNextPageInput:EG,showPage:MG};Object.assign(ww,fG,mG,yG,CG,SG,wG,RG);var AG=function(e){for(var t=0,i=GC.length;t<i;t++)e.emit(GC[t])};const UC=Phaser.Utils.Objects.IsPlainObject,Ga=Phaser.Utils.Objects.GetValue;class ex extends LI(Ko){constructor(t,i,r,g,S,n){UC(i)?n=i:UC(g)&&(n=g),n===void 0&&(n={});var C=n.text;delete n.text,super(t,i,r,g,S,n),this.type="rexTextPlayer",this.initManagers(t,n),this.parser=new m8(this,Ga(n,"parser",void 0)),this.typeWriter=new Sw(this,Ga(n,"typing",void 0)),this._imageManager=void 0;var s=Ga(n,"images",void 0);s&&this.addImage(s);var o=Ga(n,"sprites");o!==!1&&o!==null&&q8.call(this,o),this.setIgnoreNextPageInput(Ga(n,"ignoreNextPageInput",!1)),this.setNextPageInput(Ga(n,"nextPageInput",null)),this.isPlaying=!1,C&&this.play(C)}get imageManager(){return this._imageManager===void 0&&(this._imageManager=new $m(this.scene)),this._imageManager}get spriteManager(){return this.getGameObjectManager("sprite")}destroy(t){!this.scene||this.ignoreDestroy||(AG(this),this.parser.destroy(),this.parser=void 0,this.typeWriter.destroy(t),this.typeWriter=void 0,this._imageManager&&this._imageManager.destroy(t),this._imageManager=void 0,this.destroyManagers(t),super.destroy(t))}get isPageTyping(){return this.typeWriter.isPageTyping}set defaultTypingSpeed(t){this.typeWriter.setDefaultTypingSpeed(t)}get defaultTypingSpeed(){return this.typeWriter.defaultTypingSpeed}set typingSpeed(t){this.typeWriter.setTypingSpeed(t)}get typingSpeed(){return this.typeWriter.speed}set timeScale(t){this.setTimeScale(t)}get timeScale(){return this.getTimeScale()}}Object.assign(ex.prototype,ww);st.register("textPlayer",function(e,t,i,r,g){var S=new ex(this.scene,e,t,i,r,g);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.TextPlayer",ex);const Rw={maxLength:["maxLength",void 0],minLength:["minLength",void 0],readOnly:["readOnly",!1]},Aw={direction:["direction",void 0]};var Qr=function(e,t,i){if(typeof i=="string")e.hasOwnProperty(i)&&(t[i]=e[i]);else{var r=i;if(Array.isArray(r))for(var g=0,S=r.length;g<S;g++)Qr(e,t,r[g]);else for(var i in r)Qr(e,t,i)}},LG=function(e){e===void 0&&(e={});var t={};return Qr(e,t,"inputType"),Qr(e,t,"type"),Qr(e,t,"style"),Qr(e,t,Aw),Qr(e,t,Rw),t},ix=function(e,t,i,r,g){if(t)return!(i&&!i(e,t)||!XC(e,t)||r&&!r(e,t));g===void 0&&(g=!1);for(var S=e.scene.input.manager,n=S.pointersTotal,C=S.pointers,t,s=0;s<n;s++)if(t=C[s],!(i&&!i(e,t))&&XC(e,t)&&!(r&&!r(e,t)))return g?t:!0;return!1},XC=function(e,t){for(var i=e.scene,r=i.input.cameras.getCamerasBelowPointer(t),g=i.input.manager,S=[e],n=0,C=r.length;n<C;n++)if(g.hitTest(t,S,r[n],td),td.length>0)return td.length=0,!0;return td.length=0,!1},td=[],To=void 0,OG=function(e){e!==To&&(To!==void 0&&To.close(),To=e)},FG=function(e){e===To&&(To=void 0)};const bG=Phaser.Utils.Objects.GetValue;var zf=function(e,t,i){i===void 0&&(i={});var r,g;for(var S in e)r=e[S],g=bG(t,S,r[1]),g!==void 0&&(i[r[0]]=g);return i},Lw=function(e){e.addEventListener("touchstart",ka,!1),e.addEventListener("touchmove",ka,!1),e.addEventListener("touchend",ka,!1),e.addEventListener("mousedown",ka,!1),e.addEventListener("mouseup",ka,!1),e.addEventListener("mousemove",ka,!1)},ka=function(e){e.stopPropagation()},Ow=function(){return this.close(),this.emit("keydown-ENTER",this.parent,this),this},DG=function(){this.isOpened=!0,this.initText(),this.enterCloseEnable&&this.scene.input.keyboard.once("keydown-ENTER",Ow,this),this.scene.sys.events.on("postupdate",this.updateText,this),this.clickOutSideTarget?(sw.call(this.clickOutSideTarget,this.parent),iw.call(this.clickOutSideTarget,this.parent),this.clickOutSideTarget.setInteractive().on("pointerdown",this.onClickOutside,this)):this.scene.input.on("pointerdown",this.onClickOutside,this),this.onOpenCallback&&this.onOpenCallback(this.parent,this),this.emit("open",this)},BG=function(e){if(e){var t=e.parentElement;t&&t.removeChild(e)}},IG=function(){this.isOpened=!1,this.updateText(),this.enterCloseEnable&&this.scene.input.keyboard.off("keydown-ENTER",Ow,this),this.scene.sys.events.off("postupdate",this.updateText,this),this.clickOutSideTarget?this.clickOutSideTarget.disableInteractive().off("pointerdown",this.onClickOutside,this):this.scene.input.off("pointerdown",this.onClickOutside,this),this.onCloseCallback&&this.onCloseCallback(this.parent,this),BG(this.node),this.node=void 0,this.emit("close",this)};const rp=Phaser.Utils.Objects.GetValue;var GG=function(e,t){var i,r=rp(t,"inputType",void 0);r===void 0&&(r=rp(t,"type","text")),r==="textarea"?(i=document.createElement("textarea"),i.style.resize="none"):(i=document.createElement("input"),i.type=r);var g=rp(t,"style",void 0),S=i.style;zf(Aw,g,S),S.position="absolute",S.opacity=0,S.pointerEvents="none",S.zIndex=0,S.transform="scale(0)",zf(Rw,t,i),Lw(i);var n=e.scene.sys.scale,C=n.isFullscreen?n.fullscreenTarget:document.body;return C.appendChild(i),i.addEventListener("focus",function(s){DG.call(e)}),i.addEventListener("blur",function(s){IG.call(e)}),i},kG=function(){return this.isOpened?this:this.readOnly?this:(OG(this),this.node||(this.node=GG(this,this.nodeConfig)),this.setFocus(),this)},NG=function(){return this.isOpened?(FG(this),this.setBlur(),this):this},zG={open:kG,close:NG};const js=Phaser.Utils.Objects.GetValue;class sx extends Qt{constructor(t,i){super(t);var r=js(i,"inputType",void 0);r===void 0&&(r=js(i,"type","text")),this.setEnterCloseEnable(js(i,"enterClose",r!=="textarea"));var g=js(i,"onOpen",void 0);g||(g=js(i,"onFocus",void 0)),this.onOpenCallback=g,this.clickOutSideTarget=js(i,"clickOutSideTarget",void 0);var S=js(i,"onClose",void 0);S||(S=js(i,"onBlur",void 0)),this.onCloseCallback=S,this.onUpdateCallback=js(i,"onUpdate",void 0),this.isOpened=!1,t.on("pointerdown",function(){this.open()},this).setInteractive(),this.nodeConfig=LG(i),this.node=void 0}destroy(){this.close(),this.clickOutSideTarget&&this.clickOutSideTarget.destroy(),super.destroy()}onClickOutside(t){ix(this.parent,t)||this.close()}setEnterCloseEnable(t){return t===void 0&&(t=!0),this.enterCloseEnable=t,this}initText(){}updateText(){}get text(){return this.node?this.node.value:""}set text(t){this.node&&(this.node.value=t)}setText(t){return this.text=t,this}get maxLength(){return this.nodeConfig.maxLength}set maxLength(t){this.nodeConfig.maxLength=t,this.node&&(this.node.maxLength=t)}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.nodeConfig.minLength}set minLength(t){this.nodeConfig.minLength=t,this.node&&(this.node.minLength=t)}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node&&(this.node.placeholder=t)}setPlaceholder(t){return this.placeholder=t,this}selectText(t,i){return this.node?(t===void 0?this.node.select():this.node.setSelectionRange(t,i),this):this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node?this.node.selectionStart:0}get selectionEnd(){return this.node?this.node.selectionEnd:0}get selectedText(){if(!this.node)return"";var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node?this.node.selectionStart:0}set cursorPosition(t){this.node&&this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node?this.node.title:""}set tooltip(t){if(!this.node)return this;this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.nodeConfig.readOnly}set readOnly(t){this.nodeConfig.readOnly=t,this.node&&(this.node.readOnly=t)}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node?this.node.spellcheck:""}set spellCheck(t){this.node&&(this.node.spellcheck=t)}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){if(this.node)return this.node.style.color}set fontColor(t){this.node&&(this.node.style.color=t)}setFontColor(t){return this.fontColor=t,this}setStyle(t,i){return this.node?(this.node.style[t]=i,this):this}getStyle(t){if(this.node)return this.node.style[t]}scrollToBottom(){return this.node?(this.node.scrollTop=this.node.scrollHeight,this):this}setEnabled(t){return this.node?(t===void 0&&(t=!0),this.node.disabled=!t,this):this}setBlur(){return this.node?(this.node.blur(),this):this}setFocus(){return this.node?(this.node.focus(),this):this}get isFocused(){return this.isOpened}}Object.assign(sx.prototype,zG);var Fw=function(e,t,i){e=e.replace(" ","");var r=i.previousText;if(e===r)return e;if(isNaN(e)){i.emit("nan",e,i),e=r;var g=i.cursorPosition-1;i.setText(e),i.setCursorPosition(g)}else i.previousText=e;return e},VG=function(e){var t=e.parent,i=e.isOpened?e.selectionStart:null,r=e.isOpened?e.selectionEnd:null,g=e.prevSelectionStart,S=e.prevSelectionEnd;if(!(g===i&&S===r)){var n,C;g===null?(n=i,C=r):i===null?(n=g,C=S):(n=Math.min(g,i),C=Math.max(S,r));for(var s=n;s<C;s++){var o;g===null?o=!1:o=s>=g&&s<S;var y;if(i===null?y=!1:y=s>=i&&s<r,o!==y){var f=t.getCharChild(s);if(f){var u=o?"rangeout":"rangein";t.emit(u,f,s,t)}}}e.prevSelectionStart=i,e.prevSelectionEnd=r}},UG=function(e){var t=e.parent,i=0,r=t.width,g=0,S=t.height,n=e.drawX,C=e.drawY,s=n+e.drawTLX,o=n+e.drawTRX,y=C+e.drawTLY,f=C+e.drawBLY,u;s<i?u=i-s:o>r?u=r-o:u=0;var l;y<g?l=g-y:f>S?l=S-f:l=0,t._textOX+=u,t._textOY+=l},XG=function(e){var t=e.parent,i=t.text;e.requestCursorPosition!==null&&(e.setCursorPosition(e.requestCursorPosition),e.requestCursorPosition=null);var r=e.cursorPosition;if(e.prevCursorPosition!==r){if(e.prevCursorPosition!==null&&e.prevCursorPosition>i.length&&(e.prevCursorPosition=null),e.prevCursorPosition!==null){var g=t.getCharChild(e.prevCursorPosition);g&&(g.text===`
`&&g.clearTextSize(),t.emit("cursorout",g,e.prevCursorPosition,t))}if(r!=null){var g=t.getCharChild(r);g&&(g.text===`
`&&g.copyTextSize(t.lastInsertCursor),UG(g),t.emit("cursorin",g,r,t))}t.emit("movecursor",r,e.prevCursorPosition,t),e.prevCursorPosition=r}},WC=function(e){var t=e.prevSelectionStart;if(t!==null){for(var i=e.prevSelectionEnd,r=e.parent,g=t;g<i;g++){var S=r.getCharChild(g);S&&r.emit("cursorout",S,g,r)}e.prevSelectionStart=null,e.prevSelectionEnd=null}},YC=function(e){var t=e.prevCursorPosition;if(t!==null){var i=e.parent,r=i.getCharChild(t);r&&i.emit("cursorout",r,t,i),e.prevCursorPosition=null}};const WG=Phaser.Utils.Objects.GetValue;let YG=class extends sx{constructor(t,i){super(t,i),this.setSelectAllWhenFocusEnable(WG(i,"selectAll",!1)),this.cursorMoveStartIndex=null,this.prevCursorPosition=null,this.prevSelectionStart=null,this.prevSelectionEnd=null,this.firstClickAfterOpen=!1,this.requestCursorPosition=null,t.on("pointerdown",function(r,g,S,n){var C=t.getNearestChild(g,S),s=t.getCharIndex(C);(!this.selectAllWhenFocus||!this.firstClickAfterOpen)&&this.setCursorPosition(s),this.cursorMoveStartIndex=s,this.firstClickAfterOpen=!1},this).on("pointermove",function(r,g,S,n){if(r.isDown){var C=t.getNearestChild(g,S),s=t.getCharIndex(C);this.cursorMoveStartIndex<s?this.selectText(this.cursorMoveStartIndex,s+1):this.selectText(s,this.cursorMoveStartIndex+1)}},this),this.on("open",function(){this.selectAllWhenFocus&&this.selectAll(),this.firstClickAfterOpen=!0,t.emit("open")},this).on("close",function(){t.emit("close")}).on("keydown-ENTER",function(){t.emit("keydown-ENTER")})}initText(){var t=this.parent;return this.prevCursorPosition=null,this.setText(t.text),this}updateText(){var t=this.parent,i=this.text;if(this.onUpdateCallback){var r=this.onUpdateCallback(i,t,this);r!=null&&(i=r)}return t.text!==i&&t.setText(i),this.isOpened?this.selectionStart!==this.selectionEnd?(YC(this),VG(this)):(WC(this),XG(this)):(WC(this),YC(this)),this}setNumberInput(){return this.onUpdateCallback=Fw,this}setSelectAllWhenFocusEnable(t){return t===void 0&&(t=!0),this.selectAllWhenFocus=t,this}setRequestCursorPosition(t){return this.isOpened?(this.requestCursorPosition=t,this):this}};const HG=Phaser.Utils.Objects.GetValue,$G=["inputType","onOpen","clickOutSideTarget","onFocus","onClose","onBlur","onUpdate","enterClose","readOnly","maxLength","minLength","selectAll"];var KG=function(e,t){var i=HG(t,"edit");return i===void 0&&(i={}),Qr(t,i,$G),new YG(e,i)},ar=function(e,t){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(t))return!0;if(t.indexOf(".")!==-1){for(var i=t.split("."),r=e,g=0;g<i.length;g++)if(r.hasOwnProperty(i[g]))r=r[i[g]];else return!1;return!0}else return!1},O0=function(e){if(e.parentContainer)return O0(e.parentContainer);var t=ew(e);return t?O0(t):e},ZG=function(e){for(var t=O0(e).cameraFilter,i=e.scene.sys.cameras.cameras,r,g,S=0,n=i.length;S<n;S++)if(r=i[S],g=(t&r.id)>0,!g)return r;return null};class bw extends Qt{constructor(t,i){super(t),this.targetCamera=void 0,this.boot()}boot(){this.scene.sys.events.on("prerender",this.resize,this)}destroy(){this.scene&&(this.scene.sys.events.off("prerender",this.resize,this),super.destroy())}resize(){var t=this.scene,i=this.parent,r=ZG(i);if(r){i.setScrollFactor(0).setOrigin(.5);var g=t.sys.scale.gameSize,S=g.width,n=g.height,C=1/r.zoom,s=S/2,o=n/2,y=S*C,f=n*C;(i.x!==s||i.y!==o)&&i.setPosition(s,o),(i.width!==y||i.height!==f)&&i.setSize(y,f)}}}const JG=Phaser.GameObjects.Zone;let rx=class extends JG{constructor(t){super(t,0,0,2,2),this.fullWindow=new bw(this)}};var QG=function(e,t){var i=!t.textArea;if(!ar(t,"wrap.vAlign")){var r=i?"center":"top";et(t,"wrap.vAlign",r)}if(ar(t,"wrap.wrapMode")||et(t,"wrap.wrapMode","char"),!ar(t,"wrap.maxLines")){var r=i?1:void 0;et(t,"wrap.maxLines",r)}if(i&&et(t,"wrap.wrapWidth",1/0),ar(t,"wrap.useDefaultTextHeight")||et(t,"wrap.useDefaultTextHeight",!0),t.edit||(t.edit={}),!ar(t.edit,"inputType")){var r=i?"text":"textarea";et(t.edit,"inputType",r)}if(t.clickOutSideTarget===!0){var g=new rx(e);e.add.existing(g),t.clickOutSideTarget=g}return t},lf=function(e,t,i,r){if(i===void 0&&(i="."),r===void 0&&(r={}),!e)return r;if(t in e)return Object.assign(r,e[t]);t+=i;for(var g in e)g.startsWith(t)&&(r[g.replace(t,"")]=e[g]);return r},jG=function(){var e=this.scene.input.keyboard;this.textEdit.on("open",function(){e.on("keydown-UP",this.cursorMoveUp,this).on("keydown-DOWN",this.cursorMoveDown,this)},this).on("close",function(){e.off("keydown-UP",this.cursorMoveUp,this).off("keydown-DOWN",this.cursorMoveDown,this)},this)},Ec=function(e,t,i){if(i===void 0&&(i={}),Array.isArray(t))for(var r,g=0,S=t.length;g<S;g++)r=t[g],i[r]=e[r];else for(var r in t)i[r]=e[r];return i},Yl=function(e,t){for(var i in e)if(!(i in t)||e[i]!==t[i])return!1;for(var i in t)if(!(i in e))return!1;return!0},qG=function(e){Xl(e)||this.setCursorStyle(e).on("cursorin",function(t){var i=this.cursorStyle,r=Ec(t.style,i);Yl(i,r)||(t.styleSave=r,t.modifyStyle(i))},this).on("cursorout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},_G=function(e){Xl(e)||this.setRangeStyle(e).on("rangein",function(t){var i=this.rangeStyle,r=Ec(t.style,i);Yl(i,r)||(t.styleSave=r,t.modifyStyle(i))},this).on("rangeout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},t6=function(e){Xl(e)||this.setFocusStyle(e).on("open",function(){var t=this.background,i=this.focusStyle,r=Ec(t,i);Yl(i,r)||(t.styleSave=r,t.modifyStyle(i))},this).on("close",function(){var t=this.background;t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},e6=function(e){var t=e.createCharChild("|");return t.text="",t};function Tr(){}Tr.prototype={diff(e,t,i={}){let r=i.callback;typeof i=="function"&&(r=i,i={}),this.options=i;let g=this;function S(l){return r?(setTimeout(function(){r(void 0,l)},0),!0):l}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));let n=t.length,C=e.length,s=1,o=n+C;i.maxEditLength&&(o=Math.min(o,i.maxEditLength));let y=[{newPos:-1,components:[]}],f=this.extractCommon(y[0],t,e,0);if(y[0].newPos+1>=n&&f+1>=C)return S([{value:this.join(t),count:t.length}]);function u(){for(let l=-1*s;l<=s;l+=2){let a,d=y[l-1],v=y[l+1],h=(v?v.newPos:0)-l;d&&(y[l-1]=void 0);let c=d&&d.newPos+1<n,p=v&&0<=h&&h<C;if(!c&&!p){y[l]=void 0;continue}if(!c||p&&d.newPos<v.newPos?(a=s6(v),g.pushComponent(a.components,void 0,!0)):(a=d,a.newPos++,g.pushComponent(a.components,!0,void 0)),h=g.extractCommon(a,t,e,l),a.newPos+1>=n&&h+1>=C)return S(i6(g,a.components,t,e,g.useLongestToken));y[l]=a}s++}if(r)(function l(){setTimeout(function(){if(s>o)return r();u()||l()},0)})();else for(;s<=o;){let l=u();if(l)return l}},pushComponent(e,t,i){let r=e[e.length-1];r&&r.added===t&&r.removed===i?e[e.length-1]={count:r.count+1,added:t,removed:i}:e.push({count:1,added:t,removed:i})},extractCommon(e,t,i,r){let g=t.length,S=i.length,n=e.newPos,C=n-r,s=0;for(;n+1<g&&C+1<S&&this.equals(t[n+1],i[C+1]);)n++,C++,s++;return s&&e.components.push({count:s}),e.newPos=n,C},equals(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty(e){let t=[];for(let i=0;i<e.length;i++)e[i]&&t.push(e[i]);return t},castInput(e){return e},tokenize(e){return e.split("")},join(e){return e.join("")}};function i6(e,t,i,r,g){let S=0,n=t.length,C=0,s=0;for(;S<n;S++){let y=t[S];if(y.removed){if(y.value=e.join(r.slice(s,s+y.count)),s+=y.count,S&&t[S-1].added){let f=t[S-1];t[S-1]=t[S],t[S]=f}}else{if(!y.added&&g){let f=i.slice(C,C+y.count);f=f.map(function(u,l){let a=r[s+l];return a.length>u.length?a:u}),y.value=e.join(f)}else y.value=e.join(i.slice(C,C+y.count));C+=y.count,y.added||(s+=y.count)}}let o=t[n-1];return n>1&&typeof o.value=="string"&&(o.added||o.removed)&&e.equals("",o.value)&&(t[n-2].value+=o.value,t.pop()),t}function s6(e){return{newPos:e.newPos,components:e.components.slice(0)}}const r6=new Tr;function n6(e,t,i){return r6.diff(e,t,i)}const HC=/^[a-zA-Z\u{C0}-\u{FF}\u{D8}-\u{F6}\u{F8}-\u{2C6}\u{2C8}-\u{2D7}\u{2DE}-\u{2FF}\u{1E00}-\u{1EFF}]+$/u,$C=/\S/,Dw=new Tr;Dw.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!$C.test(e)&&!$C.test(t)};Dw.tokenize=function(e){let t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/);for(let i=0;i<t.length-1;i++)!t[i+1]&&t[i+2]&&HC.test(t[i])&&HC.test(t[i+2])&&(t[i]+=t[i+2],t.splice(i+1,2),i--);return t};const Bw=new Tr;Bw.tokenize=function(e){let t=[],i=e.split(/(\n|\r\n)/);i[i.length-1]||i.pop();for(let r=0;r<i.length;r++){let g=i[r];r%2&&!this.options.newlineIsToken?t[t.length-1]+=g:(this.options.ignoreWhitespace&&(g=g.trim()),t.push(g))}return t};const a6=new Tr;a6.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};const o6=new Tr;o6.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};const h6=Object.prototype.toString,Rl=new Tr;Rl.useLongestToken=!0;Rl.tokenize=Bw.tokenize;Rl.castInput=function(e){const{undefinedReplacement:t,stringifyReplacer:i=(r,g)=>typeof g>"u"?t:g}=this.options;return typeof e=="string"?e:JSON.stringify(F0(e,null,null,i),i,"  ")};Rl.equals=function(e,t){return Tr.prototype.equals.call(Rl,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function F0(e,t,i,r,g){t=t||[],i=i||[],r&&(e=r(g,e));let S;for(S=0;S<t.length;S+=1)if(t[S]===e)return i[S];let n;if(h6.call(e)==="[object Array]"){for(t.push(e),n=new Array(e.length),i.push(n),S=0;S<e.length;S+=1)n[S]=F0(e[S],t,i,r,g);return t.pop(),i.pop(),n}if(e&&e.toJSON&&(e=e.toJSON()),typeof e=="object"&&e!==null){t.push(e),n={},i.push(n);let C=[],s;for(s in e)e.hasOwnProperty(s)&&C.push(s);for(C.sort(),S=0;S<C.length;S+=1)s=C[S],n[s]=F0(e[s],t,i,r,s);t.pop(),i.pop()}else n=e;return n}const b0=new Tr;b0.tokenize=function(e){return e.slice()};b0.join=b0.removeEmpty=function(e){return e};const l6=Phaser.Utils.Array.Remove;var u6=function(e,t){var i=e.text;if(t!==i){if(i==null&&(i=""),l6(e.children,e.lastInsertCursor),t==="")e.removeChildren();else for(var r=n6(i,t),g=0,S=0,n=r.length;S<n;S++){var C=r[S];C.removed?e.removeText(g,C.count):(C.added&&e.insertText(g,C.value),g+=C.count)}e.children.push(e.lastInsertCursor),e.runWrap(),e.isOpened&&e.textEdit.setText(t),e.emit("textchange",t,e)}};const d6={setTextOYByPercentage(e){return this.setTextOY(-this.textVisibleHeight*e),this},getTextOYPercentage(){var e=this.textVisibleHeight;return e===0?0:this._textOY/-e},setTextOXByPercentage(e){return this.setTextOX(-this.textVisibleWidth*e),this},getTextOXPercentage(){var e=this.textVisibleWidth;return e===0?0:this._textOX/-e}},ed=Phaser.Math.Clamp;var KC=function(e,t){var i={lineIndex:0,position:0};if(t<0)return i;for(var r=0,g=e.length;r<g;r++){var S=e[r];if(t<=S){i.lineIndex=r;break}t-=S}return i.position=t,i},ZC=function(e,t){var i=0,r=t.lineIndex;if(r<0)return i;for(var g=0,S=e.length;g<S;g++){var n=e[g];if(r>g)i+=n;else if(r===g)i+=Math.min(t.position,n);else break}return i};const f6={cursorMoveLeft(){if(!this.isOpened)return this;var e=ed(this.cursorPosition-1,0,this.inputText.length);return this.setCursorPosition(e),this},cursorMoveRight(){if(!this.isOpened)return this;var e=ed(this.cursorPosition+1,0,this.inputText.length);return this.setCursorPosition(e),this},cursorMoveUp(){if(!this.isOpened)return this;var e=KC(this.characterCountOfLines,this.cursorPosition);e.lineIndex-=1;var t=ed(ZC(this.characterCountOfLines,e),0,this.inputText.length);return this.setCursorPosition(t),this},cursorMoveDown(){if(!this.isOpened)return this;var e=KC(this.characterCountOfLines,this.cursorPosition);e.lineIndex+=1;var t=ed(ZC(this.characterCountOfLines,e),0,this.inputText.length);return this.setCursorPosition(t),this}},JC=Phaser.Utils.Objects.IsPlainObject;class Hl extends Ko{constructor(t,i,r,g,S,n){JC(i)?n=i:JC(g)&&(n=g),n===void 0&&(n={}),QG(t,n);var C=n.text;C&&delete n.text;var s=lf(n.background,"focus"),o=lf(n.style,"cursor"),y=lf(n.style,"range");super(t,i,r,g,S,n),this.type="rexCanvasInput",this.contentWidth=void 0,this.contentHeight=void 0,this.lineHeight=void 0,this.linesCount=void 0,this.characterCountOfLines=[],this._text,this.textEdit=KG(this,n),jG.call(this),n.focusStyle&&Object.assign(s,n.focusStyle),t6.call(this,s),n.cursorStyle&&Object.assign(o,n.cursorStyle),qG.call(this,o),n.rangeStyle&&Object.assign(y,n.rangeStyle),Xl(y)&&Object.assign(y,o),_G.call(this,y);var f=n.onAddChar;f&&this.on("addchar",f);var u=n.onCursorIn;u&&this.on("cursorin",u);var l=n.onCursorOut;l&&this.on("cursorout",l);var a=!n.onRangeIn&&!n.onRangeOut,d=a?n.onCursorIn:n.onRangeIn;d&&this.on("rangein",d);var v=a?n.onCursorOut:n.onRangeOut;v&&this.on("rangeout",v);var h=n.onMoveCursor;h&&this.on("movecursor",h),this.setParseTextCallback(n.parseTextCallback),this.lastInsertCursor=e6(this),C||(C=""),this.setText(C)}addChild(t,i){if(super.addChild(t,i),Array.isArray(t))for(var r=t,g=0,S=r.length;g<S;g++){var t=r[g];la(t)&&this.emit("addchar",t,i+g,this)}else la(t)&&this.emit("addchar",t,i,this);return this}get text(){return this._text}set text(t){t==null?t="":t=t.toString(),this._text!==t&&(u6(this,t),this._text=t)}setText(t){return this.text=t,this}appendText(t){return this.setText(this.text+t),this}runWrap(t){var i=super.runWrap(t);this.contentWidth=i.maxLineWidth,this.contentHeight=i.linesHeight,this.lineHeight=i.lineHeight,this.linesCount=i.lines.length,this.characterCountOfLines.length=0;for(var r=i.lines,g=0,S=r.length;g<S;g++){for(var n=r[g].children,C=0,s=0,o=n.length;s<o;s++){var y=n[s];y.active&&!y.removed&&la(y)&&C++}this.characterCountOfLines.push(C)}return i}setSize(t,i){return this.width===t&&this.height===i?this:(super.setSize(t,i),this.runWrap(),this)}get displayText(){return this.text}set displayText(t){this.text=t}setDisplayText(t){return this.displayText=t,this}get inputText(){return this.textEdit.text}set inputText(t){this.textEdit.text=t}setInputText(t){return this.inputText=t,this}setParseTextCallback(t){return t||(t=c6),this.parseTextCallback=t,this}get value(){return this.parseTextCallback(this.text)}set value(t){this.setText(t)}getValue(){return this.value}setValue(t){return this.value=t,this}get readOnly(){return this.textEdit.readOnly}set readOnly(t){this.textEdit.readOnly=t}setReadOnly(t){return this.textEdit.setReadOnly(t),this}open(t){return t&&this.textEdit.once("close",t),this.textEdit.open(),this}close(){return this.textEdit.close(),this}get isOpened(){return this.textEdit.isOpened}setFocusStyle(t){return this.focusStyle=t,this}setCursorStyle(t){return this.cursorStyle=t,this}setRangeStyle(t){return this.rangeStyle=t,this}setNumberInput(){return this.textEdit.setNumberInput().setSelectAllWhenFocusEnable(),this.parseTextCallback=Number,this}get maxLength(){return this.textEdit.maxLength}set maxLength(t){this.textEdit.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.textEdit.minLength}set minLength(t){this.textEdit.minLength=t}setMinLength(t){return this.minLength=t,this}get cursorPosition(){return this.textEdit.cursorPosition}set cursorPosition(t){this.isOpened&&(this.textEdit.cursorPosition=t,this.textEdit.requestCursorPosition=t)}setCursorPosition(t){return this.cursorPosition=t,this}get topTextOY(){return 0}get bottomTextOY(){return-this.tableVisibleHeight}get leftTextOX(){return 0}get rightTextOX(){return-this.textVisibleWidth}get textVisibleHeight(){var t=this.contentHeight-this.height;return t<0&&(t=0),t}get textVisibleWidth(){var t=this.contentWidth-this.width;return t<0&&(t=0),t}set t(t){this.setTextOYByPercentage(t).updateTexture()}get t(){return this.getTextOYPercentage()}set s(t){this.setTextOXByPercentage(t).updateTexture()}get s(){return this.getTextOXPercentage()}}var c6=function(e){return e};Object.assign(Hl.prototype,d6,f6);st.register("canvasInput",function(e,t,i,r,g){var S=new Hl(this.scene,e,t,i,r,g);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.CanvasInput",Hl);var nx=function(e){return pa(e).loop.delta};const QC=Phaser.Utils.Objects.GetValue,v6=Phaser.Math.Wrap;class Iw extends sx{constructor(t,i){i===void 0&&(i={}),i.onUpdate==="number"&&(i.onUpdate=Fw),super(t,i),this.setCursor(QC(i,"cursor","|")),this.setCursorFlashDuration(QC(i,"cursorFlashDuration",1e3)),this.cursorFlashTimer=0}initText(){return this.cursorFlashTimer=0,this.prevCursorPosition=void 0,this.setText(this.parent.text),this.setCursorPosition(),this}updateText(){var t=this.parent,i=this.text;if(this.onUpdateCallback){var r=this.onUpdateCallback(i,t,this);r!=null&&(i=r)}if(this.isOpened&&this.hasCursor){var g=this.cursorPosition;i=i.substring(0,g)+this.cursor+i.substring(g),this.prevCursorPosition!==g&&(this.prevCursorPosition=g)}return t.text!==i&&(t.setText(i),this.emit("textchange",i,t,this)),this}setCursor(t){return this._cursor=t,this.hasCursor=t&&t!=="",t}setCursorFlashDuration(t){return this.cursorFlashDuration=t,this}get cursor(){if(!this._isFocused)return this._cursor;var t;this.cursorFlashTimer<this.cursorFlashDuration/2?t=this._cursor:t=" ";var i=this.cursorFlashTimer+nx(this.scene);return this.cursorFlashTimer=v6(i,0,this.cursorFlashDuration),t}}st.register("hiddenEdit",function(e,t){var i=new Iw(e,t);return i});et(window,"RexPlugins.UI.HiddenEdit",Iw);const p6=Phaser.GameObjects.GetCalcMatrix;var g6=function(e,t,i,r){t.updateData(),i.addToRenderList(t);var g=e.pipelines.set(t.pipeline),S=p6(t,i,r),n=g.calcMatrix.copyFrom(S.calc),C=t._displayOriginX,s=t._displayOriginY,o=i.alpha*t.alpha;e.pipelines.preBatch(t);for(var y=t.geom,f,u=0,l=y.length;u<l;u++)f=y[u],f.visible&&f.webglRender(g,n,o,C,s);e.pipelines.postBatch(t)};const m6=Phaser.Renderer.Canvas.SetTransform;var x6=function(e,t,i,r){t.updateData(),i.addToRenderList(t);var g=e.currentContext;if(m6(e,g,t,i,r)){for(var S=t._displayOriginX,n=t._displayOriginY,C=t.geom,s,o=0,y=C.length;o<y;o++)s=C[o],s.visible&&s.canvasRender(g,S,n);g.restore()}};const y6={renderWebGL:g6,renderCanvas:x6},C6=Phaser.GameObjects.Shape,T6=Phaser.Utils.Array.Remove;class Sr extends C6{constructor(t,i,r,g,S){i===void 0&&(i=0),r===void 0&&(r=0),g===void 0&&(g=2),S===void 0&&(S=g),super(t,"rexShapes",[]),this._width=-1,this._height=-1,this.dirty=!0,this.isSizeChanged=!0,this.shapes={},this.setPosition(i,r),this.setSize(g,S),this.updateDisplayOrigin()}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSize(t,i){this.isSizeChanged=this.isSizeChanged||this._width!==t||this._height!==i,this.dirty=this.dirty||this.isSizeChanged,this._width=t,this._height=i,this.updateDisplayOrigin();var r=this.input;return r&&!r.customHitArea&&(r.hitArea.width=t,r.hitArea.height=i),this}resize(t,i){return this.setSize(t,i),this}get fillColor(){return this._fillColor}set fillColor(t){this.setFillStyle(t,this._fillAlpha)}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this.setFillStyle(this._fillColor,t)}setFillStyle(t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.fillColor!==t||this.fillAlpha!==i,this._fillColor=t,this._fillAlpha=i,this}get lineWidth(){return this._lineWidth}set lineWidth(t){this.setStrokeStyle(t,this._strokeColor,this._strokeAlpha)}get strokeColor(){return this._strokeColor}set strokeColor(t){this.setStrokeStyle(this._lineWidth,t,this._strokeAlpha)}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this.setStrokeStyle(this._lineWidth,this._strokeColor,t)}setStrokeStyle(t,i,r){return r===void 0&&(r=1),this.dirty=this.dirty||this.lineWidth!==t||this.strokeColor!==i||this.strokeAlpha!==r,this._lineWidth=t,this._strokeColor=i,this._strokeAlpha=r,this}updateShapes(){}updateData(){if(!this.dirty)return this;this.updateShapes();for(var t=this.geom,i=0,r=t.length;i<r;i++){var g=t[i];g.dirty&&g.updateData()}return this.isSizeChanged=!1,this.dirty=!1,this}clear(){return this.geom.length=0,dn(this.shapes),this.dirty=!0,this}getShape(t){return this.shapes[t]}getShapes(){return this.geom}addShape(t){this.geom.push(t);var i=t.name;return i&&(this.shapes[i]=t),this.dirty=!0,this}deleteShape(t){var i=this.getShape(t);return i&&(delete this.shapes[t],T6(this.geom,i)),this}}Object.assign(Sr.prototype,y6);const S6={setBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.boxFillColor!==e||this.boxFillAlpha!==t,this.boxFillColor=e,this.boxFillAlpha=t,this},setUncheckedBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.uncheckedBoxFillColor!==e||this.uncheckedBoxFillAlpha!==t,this.uncheckedBoxFillColor=e,this.uncheckedBoxFillAlpha=t,this},setBoxStrokeStyle(e,t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.boxLineWidth!==e||this.boxStrokeColor!==t||this.boxStrokeAlpha!==i,this.boxLineWidth=e,this.boxStrokeColor=t,this.boxStrokeAlpha=i,this},setUncheckedBoxStrokeStyle(e,t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.uncheckedBoxLineWidth!==e||this.uncheckedBoxStrokeColor!==t||this.uncheckedBoxStrokeAlpha!==i,this.uncheckedBoxLineWidth=e,this.uncheckedBoxStrokeColor=t,this.uncheckedBoxStrokeAlpha=i,this},setCheckerStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.checkerColor!==e||this.checkAlpha!==t,this.checkerColor=e,this.checkAlpha=t,this},setBoxShape(e){return e===void 0&&(e=!1),this.isCircleShape===e?this:(this.isCircleShape=e,this.isSizeChanged=!0,this.dirty=!0,this)}},P6={setBoxSize(e){return this.dirty=this.dirty||this.boxSize!==e,this.boxSize=e,this},setCheckerSize(e){return this.dirty=this.dirty||this.checkerSize!==e,this.checkerSize=e,this}};var E6=function(e,t){return e==null?this.isFilled=!1:(t===void 0&&(t=1),this.isFilled=!0,this.fillColor=e,this.fillAlpha=t),this},M6=function(e,t,i){return e==null||t==null?this.isStroked=!1:(i===void 0&&(i=1),this.isStroked=!0,this.lineWidth=e,this.strokeColor=t,this.strokeAlpha=i),this};const w6={fillStyle:E6,lineStyle:M6};class Mc{constructor(){this.name=void 0,this.dirty=!0,this.visible=!0,this.data=void 0,this.isFilled=!1,this.fillColor=void 0,this.fillAlpha=1,this.isStroked=!1,this.lineWidth=1,this.strokeColor=void 0,this.strokeAlpha=1}setName(t){return this.name=t,this}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}reset(){return this.setVisible().fillStyle().lineStyle(),this}webglRender(t,i,r,g,S){}canvasRender(t,i,r){}updateData(){this.dirty=!1}}Object.assign(Mc.prototype,w6,gc);const R6=Phaser.Geom.Polygon.Earcut;class $l extends Mc{constructor(){super(),this.pathData=[],this.pathIndexes=[],this.closePath=!1}updateData(){return this.pathIndexes=R6(this.pathData),super.updateData(),this}webglRender(t,i,r,g,S){this.isFilled&&mM(t,i,this,r,g,S),this.isStroked&&mc(t,this,r,g,S)}canvasRender(t,i,r){var g=this.pathData,S=g.length-1,n=g[0]-i,C=g[1]-r;t.beginPath(),t.moveTo(n,C),this.closePath||(S-=2);for(var s=2;s<S;s+=2){var o=g[s]-i,y=g[s+1]-r;t.lineTo(o,y)}this.closePath&&t.closePath(),this.isFilled&&(Nl(t,this),t.fill()),this.isStroked&&(zl(t,this),t.stroke())}}const jC=Phaser.Math.DegToRad;class jo extends $l{constructor(t,i,r,g,S,n,C,s){t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),g===void 0&&(g=0),S===void 0&&(S=0),n===void 0&&(n=360),C===void 0&&(C=!1),s===void 0&&(s=!1),super(),this.setCenterPosition(t,i),this.setRadius(r,g),this.setAngle(S,n,C),this.setPie(s),this.setIterations(32)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setCenterPosition(t,i){return i===void 0&&(i=t),this.x=t,this.y=i,this}get radiusX(){return this._radiusX}set radiusX(t){this.dirty=this.dirty||this._radiusX!==t,this._radiusX=t}get radiusY(){return this._radiusY}set radiusY(t){this.dirty=this.dirty||this._radiusY!==t,this._radiusY=t}setRadius(t,i){return i===void 0&&(i=t),this.radiusX=t,this.radiusY=i,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!==t,this._startAngle=t}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!==t,this._endAngle=t}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!==t,this._anticlockwise=t}setAngle(t,i,r){return r===void 0&&(r=!1),this.startAngle=t,this.endAngle=i,this.anticlockwise=r,this}get pie(){return this._pie}set pie(t){this.dirty=this.dirty||this._pie!==t,this._pie=t}setPie(t){return t===void 0&&(t=!0),this.pie=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){return this.pathData.length=0,this.pie&&this.pathData.push(this.x,this.y),Le(this.x,this.y,this.radiusX,this.radiusY,this.startAngle,this.endAngle,this.anticlockwise,this.iterations,this.pathData),this.pie&&this.pathData.push(this.x,this.y),this.pathData.push(this.pathData[0],this.pathData[1]),super.updateData(),this}canvasRender(t,i,r){t.beginPath();var g=this.x-i,S=this.y-r,n=jC(this.startAngle),C=jC(this.endAngle);this.pie&&(t.moveTo(g,S),t.lineTo(g+Math.cos(n)*this.radiusX,S+Math.sin(n)*this.radiusY)),t.ellipse(g,S,this.radiusX,this.radiusY,0,n,C,this.anticlockwise),this.pie&&t.lineTo(g,S),this.isFilled&&(Nl(t,this),t.fill()),this.isStroked&&(zl(t,this),t.stroke())}}class es extends jo{constructor(t,i,r){super(t,i,r,r,0,360)}}class A6 extends $l{constructor(t){super(),this.setCurve(t),this.setIterations(32)}get curve(){return this._curve}set curve(t){this.dirty=this.dirty||this._curve!==t,this._curve=t}setCurve(t){return this.curve=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){this.pathData.length=0;for(var t=this.curve.getPoints(this.iterations),i=0,r=t.length;i<r;i++)this.pathData.push(t[i].x,t[i].y);return this.pathData.push(t[0].x,t[0].y),super.updateData(),this}}class L6 extends jo{constructor(t,i,r,g){super(t,i,r,g,0,360)}}class gn extends $l{constructor(t,i,r,g){t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),g===void 0&&(g=0),super(),this.setP0(t,i),this.setP1(r,g)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,i){return this.x0=t,this.y0=i,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,i){return this.x1=t,this.y1=i,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x0,this.y0),super.updateData(),this}}var O6=function(e,t,i){return i.length=0,e!=null&&i.push(e,t),i};const qC=Phaser.Math.Interpolation.QuadraticBezier;var F6=function(e,t,i,r,g,S){for(var n=S.length,C=S[n-2],s=S[n-1],o=1,y=g-1;o<=y;o++){var f=o/y;S.push(qC(f,C,e,i),qC(f,s,t,r))}return S};const _C=Phaser.Math.Interpolation.CubicBezier;var b6=function(e,t,i,r,g,S,n,C){for(var s=C.length,o=C[s-2],y=C[s-1],f=1,u=n-1;f<=u;f++){var l=f/u;C.push(_C(l,o,e,i,g),_C(l,y,t,r,S))}return C};const tT=Phaser.Math.Interpolation.CatmullRom;var D6=function(e,t,i){for(var r=i.length,g=i[r-2],S=i[r-1],n=[g],C=[S],s=0,o=e.length;s<o;s+=2)n.push(e[s]),C.push(e[s+1]);for(var s=1,y=t-1;s<=y;s++){var f=s/y;i.push(tT(n,f),tT(C,f))}return i},Gw=function(e){var t=e.length;if(t<2)return e;var i=e[t-2],r=e[t-1];return e.push(i),e.push(r),e};const B6={clear(){return this.start(),this},start(){return this.startAt(),this},startAt(e,t){return this.restorePathData(),this.accumulationLengths=void 0,O6(e,t,this.pathData),this.firstPointX=e,this.firstPointY=t,this.lastPointX=e,this.lastPointY=t,this},lineTo(e,t,i){return i===void 0&&(i=!1),i&&(e+=this.lastPointX,t+=this.lastPointY),Ae(e,t,this.pathData),this.lastPointX=e,this.lastPointY=t,this},verticalLineTo(e,t){return this.lineTo(e,this.lastPointY,t),this},horizontalLineTo(e,t){return this.lineTo(this.lastPointX,e,t),this},ellipticalArc(e,t,i,r,g,S,n){return n===void 0&&(n=!1),Le(e,t,i,r,g,S,n,this.iterations,this.pathData),this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this},arc(e,t,i,r,g,S){return this.ellipticalArc(e,t,i,i,r,g,S),this},quadraticBezierTo(e,t,i,r){return F6(e,t,i,r,this.iterations,this.pathData),this.lastPointX=i,this.lastPointY=r,this},cubicBezierTo(e,t,i,r,g,S){return b6(e,t,i,r,g,S,this.iterations,this.pathData),this.lastPointX=g,this.lastPointY=S,this},catmullRomTo(...e){return D6(e,this.iterations,this.pathData),this.lastPointX=e[e.length-2],this.lastPointY=e[e.length-1],this},close(){var e=this.pathData[0],t=this.pathData[1];return(e!==this.lastPointX||t!==this.lastPointY)&&this.lineTo(e,t),this.closePath=!0,this},end(){return Gw(this.pathData),this}},I6=Phaser.Math.RotateAround;var G6=function(e,t,i,r){for(var g={x:0,y:0},S=0,n=r.length-1;S<n;S+=2)g.x=r[S],g.y=r[S+1],I6(g,e,t,i),r[S]=g.x,r[S+1]=g.y;return r},k6=function(e,t,i,r,g){for(var S=0,n=g.length-1;S<n;S+=2){var C=g[S]-e,s=g[S+1]-t;C*=i,s*=r,g[S]=C+e,g[S+1]=s+t}return g},kw=function(e,t,i){for(var r=0,g=i.length-1;r<g;r+=2)i[r]+=e,i[r+1]+=t;return i};const N6=Phaser.Math.DegToRad;Phaser.Math.RotateAround;const z6={rotateAround(e,t,i){if(this.pathData.length===0)return this;i=N6(i),G6(e,t,i,this.pathData);var r=this.pathData.length;return this.lastPointX=this.pathData[r-2],this.lastPointY=this.pathData[r-1],this},scale(e,t,i,r){return this.pathData.length===0?this:(k6(e,t,i,r,this.pathData),this.lastPointX=this.pathData[pathDataCnt-2],this.lastPointY=this.pathData[pathDataCnt-1],this)},offset(e,t){return kw(e,t,this.pathData),this}};var Vf=function(e,t,i,r){i===void 0&&(i=0),r===void 0&&(r=t.length),e.length=r-i;for(var g=0,S=e.length;g<S;g++)e[g]=t[g+i];return e};const V6={savePathData(){return this.pathDataSaved?this:(this.pathDataSave=[...this.pathData],this.pathData.length=0,this.pathDataSaved=!0,this)},restorePathData(){return this.pathDataSaved?(Vf(this.pathData,this.pathDataSave),this.pathDataSave=void 0,this.pathDataSaved=!1,this):this}},U6=Phaser.Math.Distance.Between,X6=Phaser.Math.Wrap,W6=Phaser.Math.Linear;var eT=function(e,t,i,r,g){if(r===void 0&&(r=i,i=0),i=iT(i),r=iT(r),i!==r){var S=t[t.length-1],n=S*i,C=S*r;i<r?np(e,t,n,C,g):(np(e,t,n,S,g),np(e,t,0,C,g)),Gw(g)}},np=function(e,t,i,r,g){for(var S=i>0,n=0,C=t.length;n<C;n++){var s=n*2,o=t[n];if(S){if(o<i)continue;if(o==i)S=!1;else{var y=o-t[n-1],f=1-(o-i)/y;g.push(id(e,s-2,s,f)),g.push(id(e,s-1,s+1,f)),S=!1}}if(o<=r){if(g.push(e[s]),g.push(e[s+1]),o===r)break}else{var y=o-t[n-1],f=1-(o-r)/y;g.push(id(e,s-2,s,f)),g.push(id(e,s-1,s+1,f));break}}},id=function(e,t,i,r){var g=e[t],S=e[i];return W6(g,S,r)},iT=function(e){return e===0?0:e%1===0?1:X6(e,0,1)};const Y6={updateAccumulationLengths(){if(this.accumulationLengths==null)this.accumulationLengths=[];else if(this.accumulationLengths.length===this.pathData.length/2)return this;for(var e=this.accumulationLengths,t=this.pathData,i,r,g,S,n,C=0,s=0,o=t.length;s<o;s+=2)g=t[s],S=t[s+1],n=i===void 0?0:U6(i,r,g,S),C+=n,e.push(C),i=g,r=S;return this.totalPathLength=C,this},setDisplayPathSegment(e,t){return this.pathDataSaved||(this.updateAccumulationLengths(),this.savePathData()),this.pathData.length=0,eT(this.pathDataSave,this.accumulationLengths,e,t,this.pathData),this},appendFromPathSegment(e,t,i){return t===void 0?this.pathData.push(...e.pathData):(e.updateAccumulationLengths(),eT(e.pathData,e.accumulationLengths,t,i,this.pathData)),this.firstPointX=this.pathData[0],this.firstPointY=this.pathData[1],this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this}},H6={draw(e,t,i){var r=this.toPoints();return t&&e.fillPoints(r,this.closePath,this.closePath),i&&e.strokePoints(r,this.closePath,this.closePath),this}};var $6=function(e,t){t===void 0&&(t=[]);for(var i=0,r=e.length-1;i<r;i+=2)t.push({x:e[i],y:e[i+1]});return t};const K6=Phaser.Geom.Polygon;var Z6=function(e,t){return t===void 0&&(t=new K6),t.setTo(e),t};class Nw{constructor(t){t===void 0&&(t=[]),this.pathData=t,this.closePath=!1,this.setIterations(32),this.firstPointX=void 0,this.firstPointY=void 0,this.lastPointX=void 0,this.lastPointY=void 0,this.accumulationLengths=void 0}setIterations(t){return this.iterations=t,this}toPoints(){return $6(this.pathData)}toPolygon(t){return Z6(this.pathData,t)}}Object.assign(Nw.prototype,B6,z6,V6,Y6,H6);class Ve extends $l{constructor(){super(),this.builder=new Nw(this.pathData)}get iterations(){return this.builder.iterations}set iterations(t){this.dirty=this.dirty||this.builder.iterations!==t,this.builder.setIterations(t)}setIterations(t){return this.iterations=t,this}get lastPointX(){return this.builder.lastPointX}get lastPointY(){return this.builder.lastPointY}start(){return this.builder.start(),this.dirty=!0,this}startAt(t,i){return this.builder.startAt(t,i),this.dirty=!0,this}lineTo(t,i,r){return this.builder.lineTo(t,i,r),this.dirty=!0,this}verticalLineTo(t,i){return this.builder.verticalLineTo(t,i),this.dirty=!0,this}horizontalLineTo(t,i){return this.builder.horizontalLineTo(t,i),this.dirty=!0,this}ellipticalArc(t,i,r,g,S,n,C){return this.builder.ellipticalArc(t,i,r,g,S,n,C),this.dirty=!0,this}arc(t,i,r,g,S,n){return this.builder.arc(t,i,r,g,S,n),this.dirty=!0,this}quadraticBezierTo(t,i,r,g){return this.builder.quadraticBezierTo(t,i,r,g),this.dirty=!0,this}cubicBezierTo(t,i,r,g,S,n){return this.builder.cubicBezierTo(t,i,r,g,S,n),this.dirty=!0,this}catmullRomTo(...t){return this.builder.catmullRomTo(...t),this.dirty=!0,this}close(){return this.builder.close(),this.closePath=this.builder.closePath,this.dirty=!0,this}end(){return this.builder.end(),this.dirty=!0,this}rotateAround(t,i,r){return this.builder.rotateAround(t,i,r),this.dirty=!0,this}scale(t,i,r,g){return this.builder.scale(t,i,r,g),this.dirty=!0,this}offset(t,i){return this.builder.offset(t,i),this.dirty=!0,this}toPolygon(t){return this.builder.toPolygon(t)}appendPathFrom(t,i,r){return this.builder.appendFromPathSegment(t.builder,i,r),this}copyPathFrom(t,i,r){return this.builder.clear().appendFromPathSegment(t.builder,i,r),this}setDisplayPathSegment(t,i){return this.builder.setDisplayPathSegment(t,i),this}}const J6=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let Q6=class extends Mc{constructor(t,i,r,g){t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),g===void 0&&(g=r),super(),this.pathData=[],this.closePath=!0,this.setTopLeftPosition(t,i),this.setSize(r,g)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,i){return this.x=t,this.y=i,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,i){return this.width=t,this.height=i,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,i){return this.centerX=t,this.centerY=i,this}updateData(){this.pathData.length=0;var t=this.x,i=t+this.width,r=this.y,g=r+this.height;return this.pathData.push(t,r),this.pathData.push(i,r),this.pathData.push(i,g),this.pathData.push(t,g),this.pathData.push(t,r),super.updateData(),this}webglRender(t,i,r,g,S){if(this.isFilled){var n=t.fillTint,C=J6(this.fillColor,this.fillAlpha*r);n.TL=C,n.TR=C,n.BL=C,n.BR=C,t.batchFillRect(-g+this.x,-S+this.y,this.width,this.height)}this.isStroked&&mc(t,this,r,g,S)}canvasRender(t,i,r){this.isFilled&&(Nl(t,this),t.fillRect(-i,-r,this.width,this.height)),this.isStroked&&(zl(t,this),t.beginPath(),t.rect(-i,-r,this.width,this.height),t.stroke())}};const sd=Phaser.Utils.Objects.GetValue;class Uf extends $l{constructor(t,i,r,g,S,n){t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),g===void 0&&(g=r),S===void 0&&(S=0),n===void 0&&(n=6),super(),this.setTopLeftPosition(t,i),this.setSize(r,g),this.setRadius(S),this.setIterations(n),this.closePath=!0}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,i){return this.x=t,this.y=i,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,i){return this.width=t,this.height=i,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,i){return this.centerX=t,this.centerY=i,this}get radiusTL(){return this._radiusTL}set radiusTL(t){var i=t>0;this.dirty=this.dirty||this._radiusTL!==t||this._convexTL!==i,this._convexTL=i,this._radiusTL=Math.abs(t)}get radiusTR(){return this._radiusTR}set radiusTR(t){var i=t>0;this.dirty=this.dirty||this._radiusTR!==t||this._convexTR!==i,this._convexTR=i,this._radiusTR=Math.abs(t)}get radiusBL(){return this._radiusBL}set radiusBL(t){var i=t>0;this.dirty=this.dirty||this._radiusBL!==t||this._convexBL!==i,this._convexBL=i,this._radiusBL=Math.abs(t)}get radiusBR(){return this._radiusBR}set radiusBR(t){var i=t>0;this.dirty=this.dirty||this._radiusBR!==t||this._convexBR!==i,this._convexBR=i,this._radiusBR=Math.abs(t)}get radius(){return Math.max(this.radiusTL,this.radiusTR,this.radiusBL,this.radiusBR)}set radius(t){typeof t=="number"?(this.radiusTL=t,this.radiusTR=t,this.radiusBL=t,this.radiusBR=t):(this.radiusTL=sd(t,"tl",0),this.radiusTR=sd(t,"tr",0),this.radiusBL=sd(t,"bl",0),this.radiusBR=sd(t,"br",0))}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){var t=this.pathData;t.length=0;var i=this.width,r=this.height,g,S=this.iterations+1;if(g=this.radiusTL,g>0)if(this._convexTL){var n=g,C=g;Le(n,C,g,g,180,270,!1,S,t)}else{var n=0,C=0;Le(n,C,g,g,90,0,!0,S,t)}else Ae(0,0,t);if(g=this.radiusTR,g>0)if(this._convexTR){var n=i-g,C=g;Le(n,C,g,g,270,360,!1,S,t)}else{var n=i,C=0;Le(n,C,g,g,180,90,!0,S,t)}else Ae(i,0,t);if(g=this.radiusBR,g>0)if(this._convexBR){var n=i-g,C=r-g;Le(n,C,g,g,0,90,!1,S,t)}else{var n=i,C=r;Le(n,C,g,g,270,180,!0,S,t)}else Ae(i,r,t);if(g=this.radiusBL,g>0)if(this._convexBL){var n=g,C=r-g;Le(n,C,g,g,90,180,!1,S,t)}else{var n=0,C=r;Le(n,C,g,g,360,270,!0,S,t)}else Ae(0,r,t);return t.push(t[0],t[1]),kw(this.x,this.y,t),super.updateData(),this}}const j6=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let q6=class extends Mc{constructor(t,i,r,g,S,n){t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),g===void 0&&(g=0),S===void 0&&(S=0),n===void 0&&(n=0),super(),this.pathData=[],this.closePath=!0,this.setP0(t,i),this.setP1(r,g),this.setP2(S,n)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,i){return this.x0=t,this.y0=i,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,i){return this.x1=t,this.y1=i,this}get x2(){return this._x2}set x2(t){this.dirty=this.dirty||this._x2!==t,this._x2=t}get y2(){return this._y2}set y2(t){this.dirty=this.dirty||this._y2!==t,this._y2=t}setP2(t,i){return this.dirty=this.dirty||this.x2!==t||this.y2!==i,this.x2=t,this.y2=i,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x2,this.y2),this.pathData.push(this.x0,this.y0),super.updateData(),this}webglRender(t,i,r,g,S){if(this.isFilled){var n=j6(this.fillColor,this.fillAlpha*r),C=this.x0-g,s=this.y0-S,o=this.x1-g,y=this.y1-S,f=this.x2-g,u=this.y2-S,l=i.getX(C,s),a=i.getY(C,s),d=i.getX(o,y),v=i.getY(o,y),h=i.getX(f,u),c=i.getY(f,u);t.batchTri(l,a,d,v,h,c,n,n,n)}this.isStroked&&mc(t,this,r,g,S)}canvasRender(t,i,r){var g=this.x1-i,S=this.y1-r,n=this.x2-i,C=this.y2-r,s=this.x3-i,o=this.y3-r;t.beginPath(),t.moveTo(g,S),t.lineTo(n,C),t.lineTo(s,o),t.closePath(),this.isFilled&&(Nl(t,this),t.fill()),this.isStroked&&(zl(t,this),t.stroke())}};const _6={buildShapes(){this.addShape(new Uf().setName("box")).addShape(new Ve().setName("checker"))},updateShapes(){var e=this.width/2,t=this.height/2,i=Math.min(e,t),r=i*2,g=e-i,S=t-i,n=this.boxLineWidth,C=Math.max(r/10,2),s=this.getShape("box"),o=this.getShape("checker");if(this.isSizeChanged){var u=r*(1-this.boxSize)/2,y=n/2,f=r*this.boxSize-n;s.setTopLeftPosition(g+y+u,S+y+u).setSize(f,f),this.isCircleShape?s.setRadius(f/2):s.setRadius(0);var u=r*(1-this.checkerSize)/2,l=r*this.checkerSize/4,a=l*1,d=l*2,v=l*3;o.startAt(a,d).lineTo(d,v).lineTo(v,a).offset(g+u,S+u).end()}this.checked?(s.fillStyle(this.boxFillColor,this.boxFillAlpha).lineStyle(n,this.boxStrokeColor,this.boxStrokeAlpha),o.lineStyle(C,this.checkerColor)):(s.fillStyle(this.uncheckedBoxFillColor,this.uncheckedBoxFillAlpha).lineStyle(n,this.uncheckedBoxStrokeColor,this.uncheckedBoxStrokeAlpha),o.lineStyle()),this.checked&&o.setDisplayPathSegment(this.checkerAnimProgress)}},Dr=Phaser.Utils.Objects.GetValue,t7=Phaser.Math.Linear;class yr extends Sa{constructor(t,i){super(t,i),this.resetFromJSON(),this.boot()}start(t){if(this.timer.isRunning)return this;var i=this.target;this.propertyKey=Dr(t,"key","value");var r=i[this.propertyKey];return this.fromValue=Dr(t,"from",r),this.toValue=Dr(t,"to",r),this.setEase(Dr(t,"ease",this.ease)),this.setDuration(Dr(t,"duration",this.duration)),this.setRepeat(Dr(t,"repeat",0)),this.setDelay(Dr(t,"delay",0)),this.setRepeatDelay(Dr(t,"repeatDelay",0)),this.timer.setDuration(this.duration).setRepeat(this.repeat).setDelay(this.delay).setRepeatDelay(this.repeatDelay),i[this.propertyKey]=this.fromValue,super.start(),this}updateTarget(t,i){var r=i.t;r=this.easeFn(r),t[this.propertyKey]=t7(this.fromValue,this.toValue,r)}}const e7={setCheckerAnimationDuration(e){return e===void 0&&(e=0),this.checkerAnimDuration=e,this},playCheckerAnimation(){return this.checkerAnimProgressTask===void 0&&(this.checkerAnimProgressTask=new yr(this,{eventEmitter:null})),this.checkerAnimProgressTask.restart({key:"checkerAnimProgress",from:0,to:1,duration:this.checkerAnimDuration}),this},stopCheckerAnimation(){return this.checkerAnimProgressTask===void 0?this:(this.checkerAnimProgressTask.stop(),this)}};var zw={};Object.assign(zw,S6,P6,_6,e7);const il=23730,i7=16777215,ne=Phaser.Utils.Objects.GetValue,sT=Phaser.Utils.Objects.IsPlainObject;class Vw extends Sr{constructor(t,i,r,g,S,n,C){sT(i)?(C=i,i=ne(C,"x",0),r=ne(C,"y",0),g=ne(C,"width",2),S=ne(C,"height",2),n=ne(C,"color",il)):sT(n)&&(C=n,n=ne(C,"color",il)),super(t,i,r,g,S),this.type="rexCheckbox",n===void 0&&(n=il),this.setBoxShape(ne(C,"circleBox",!1)),this.setBoxFillStyle(n,ne(C,"boxFillAlpha",1)),this.setUncheckedBoxFillStyle(ne(C,"uncheckedColor",null),ne(C,"uncheckedBoxFillAlpha",1)),this.setBoxStrokeStyle(ne(C,"boxLineWidth",4),ne(C,"boxStrokeColor",n),ne(C,"boxStrokeAlpha",1)),this.setUncheckedBoxStrokeStyle(this.boxLineWidth,ne(C,"uncheckedBoxStrokeColor",this.boxStrokeColor),ne(C,"uncheckedBoxStrokeAlpha",this.boxStrokeAlpha)),this.setCheckerStyle(ne(C,"checkerColor",i7),ne(C,"checkerAlpha",1)),this.setBoxSize(ne(C,"boxSize",1)),this.setCheckerSize(ne(C,"checkerSize",1)),this.setCheckerAnimationDuration(ne(C,"animationDuration",150)),this.buildShapes();var s=ne(C,"checked");s===void 0&&(s=ne(C,"value",!1)),this.setValue(s)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,t?this.playCheckerAnimation():this.stopCheckerAnimation(),this.emit("valuechange",t))}setValue(t){return this.value=t,this}toggleValue(){return this.setValue(!this.value),this}get checked(){return this.value}set checked(t){this.value=t}setChecked(t){return t===void 0&&(t=!0),this.setValue(t),this}toggleChecked(){return this.toggleValue(),this}get checkerAnimProgress(){return this._checkerAnimProgress}set checkerAnimProgress(t){this._checkerAnimProgress!==t&&(this._checkerAnimProgress=t,this.dirty=!0)}}Object.assign(Vw.prototype,zw);const xh=Phaser.Utils.Objects.GetValue;class Pr extends Qt{constructor(t,i){super(t,i),this._enable=void 0,t.setInteractive(xh(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.isDown=!1,this.isOver=!1,this.setEnable(xh(t,"enable",!0)),this.setMode(xh(t,"mode",1)),this.setClickInterval(xh(t,"clickInterval",100)),this.setDragThreshold(xh(t,"threshold",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPress,this),t.on("pointerup",this.onRelease,this),t.on("pointerout",this.onPointOut,this),t.on("pointermove",this.onMove,this),t.on("pointerover",this.onOver,this),t.on("pointerout",this.onOut,this)}shutdown(t){this.isShutdown||(this.pointer=null,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var i=t?"enable":"disable";this.emit(i,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=s7[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}onPress(t,i,r,g){this.pointer===void 0&&(this.pointer=t,this.isDown=!0,this.emit("down",this,this.parent,t,g),this.mode===0&&this.click(t.downTime,t,g))}onRelease(t,i,r,g){this.pointer===t&&(this.isDown=!1,this.emit("up",this,this.parent,t,g),this.mode===1&&this.click(t.upTime,t,g),this.pointer=void 0)}onPointOut(t,i){this.pointer===t&&this.cancel()}onMove(t,i,r,g){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&t.getDistance()>=this.dragThreshold&&this.cancel()}onOver(t,i,r,g){return this.enable?(this.isOver=!0,this.emit("over",this,this.parent,t,g),this):this}onOut(t,i){return this.enable?(this.isOver=!1,this.emit("out",this,this.parent,t,i),this):this}click(t,i,r){if(!this.enable)return this;if(t===void 0)return this.emit("click",this,this.parent,i,r),this;this.pointer=void 0;var g=this.lastClickTime;return g!==void 0&&t-g<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.parent,i,r),this)}cancel(){return this.pointer=void 0,this}}const s7={press:0,pointerdown:0,release:1,pointerup:1},Br=Phaser.Utils.Objects.GetValue,rT=Phaser.Utils.Objects.IsPlainObject;class ax extends Vw{constructor(t,i,r,g,S,n,C){rT(i)?(C=i,i=Br(C,"x",0),r=Br(C,"y",0),g=Br(C,"width",2),S=Br(C,"height",2),n=Br(C,"color",il)):rT(n)&&(C=n,n=Br(C,"color",il)),super(t,i,r,g,S,n,C),this._click=new Pr(this,Br(C,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(Br(C,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}st.register("checkbox",function(e,t,i,r,g,S){var n=new ax(this.scene,e,t,i,r,g,S);return this.scene.add.existing(n),n});et(window,"RexPlugins.UI.Checkbox",ax);const r7={setTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.trackFillColor!==e||this.trackFillAlpha!==t,this.trackFillColor=e,this.trackFillAlpha=t,this},setFalseValueTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.falseValueTrackColor!==e||this.uncheckedTrackFillAlpha!==t,this.falseValueTrackColor=e,this.falseValueTrackFillAlpha=t,this},setThumbStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.thumbColor!==e||this.checkAlpha!==t,this.thumbColor=e,this.thumbAlpha=t,this}},n7={setTrackSize(e,t){return this.dirty=this.dirty||this.trackWidth!==e||this.trackHeight!==t,this.trackWidth=e,this.trackHeight=t,this},setTrackRadius(e){return this.dirty=this.dirty||this.trackRadius!==e,this.trackRadius=e,this},setThumbSize(e,t){return t===void 0&&(t=e),this.dirty=this.dirty||this.thumbWidth!==e||this.thumbHeight!==t,this.thumbWidth=e,this.thumbHeight=t,this},setThumbRadius(e){return this.dirty=this.dirty||this.thumbRadius!==e,this.thumbRadius=e,this}},a7={setThumbPosition(e,t){return t===void 0&&(t=1-e),this.thumbLeftX=e,this.thumbRightX=t,this},setRTL(e){return e===void 0&&(e=!0),this.rtl=e,this}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ap=function(e,t,i){return(t-e)*i+e},o7=function(e,t,i){var r=ap(Sl(e),Sl(t),i),g=ap(Pl(e),Pl(t),i),S=ap(El(e),El(t),i);return(r&255)<<16|(g&255)<<8|S&255};const nT=Phaser.Math.Linear,h7={buildShapes(){this.addShape(new Uf().setName("track")).addShape(new Uf().setName("thumb"))},updateShapes(){var e=this.width,t=this.height,i=this.value?this.toggleAnimProgress:1-this.toggleAnimProgress,r=this.getShape("track");if(this.isSizeChanged){var g=e*this.trackWidth,S=t*this.trackHeight,n=(e-g)/2,C=(t-S)/2,s=t*this.trackRadius;r.setTopLeftPosition(n,C).setSize(g,S).setRadius(s)}var o=o7(this.falseValueTrackColor,this.trackFillColor,i),y=nT(this.falseValueTrackFillAlpha,this.trackFillAlpha,i);r.fillStyle(o,y);var f=this.getShape("thumb");if(this.isSizeChanged){var u=e*this.thumbWidth,l=t*this.thumbHeight,a=t*this.thumbRadius;f.setSize(u,l).setRadius(a)}var d=nT(this.thumbLeftX,this.thumbRightX,i)*e;this.rtl&&(d=e-d);var v=t/2;f.setCenterPosition(d,v),f.fillStyle(this.thumbColor,this.thumbAlpha)}},l7={setToggleAnimationDuration(e){return e===void 0&&(e=0),this.toggleAnimDuration=e,this},playToggleAnimation(){return this.toggleAnimProgressTask===void 0&&(this.toggleAnimProgressTask=new yr(this,{eventEmitter:null})),this.toggleAnimProgressTask.restart({key:"toggleAnimProgress",from:0,to:1,duration:this.toggleAnimDuration}),this},stopToggleAnimation(){return this.toggleAnimProgressTask===void 0?this:(this.toggleAnimProgressTask.stop(),this)}};var Uw={};Object.assign(Uw,r7,n7,a7,h7,l7);var u7=function(e){var t=.3*Sl(e)+.59*Pl(e)+.11*El(e);return(t&255)<<16|(t&255)<<8|t&255};const ae=Phaser.Utils.Objects.GetValue,aT=Phaser.Utils.Objects.IsPlainObject,op=23730,d7=16777215;class Xw extends Sr{constructor(t,i,r,g,S,n,C){aT(i)?(C=i,i=ae(C,"x",0),r=ae(C,"y",0),g=ae(C,"width",2),S=ae(C,"height",2),n=ae(C,"color",op)):aT(n)&&(C=n,n=ae(C,"color",op)),super(t,i,r,g,S),this.type="rexToggleSwitch",n===void 0&&(n=op),this.setTrackFillStyle(n,ae(C,"trackFillAlpha",1)),this.setFalseValueTrackFillStyle(ae(C,"falseValueTrackColor",u7(n)),ae(C,"falseValueTrackFillAlpha",1)),this.setThumbStyle(ae(C,"thumbColor",d7),ae(C,"thumbAlpha",1)),this.setTrackSize(ae(C,"trackWidth",.9),ae(C,"trackHeight",.5)),this.setTrackRadius(ae(C,"trackRadius",this.trackHeight*.5));var s=ae(C,"thumbHeight",void 0),o=ae(C,"thumbWidth",s);o===void 0&&(o=this.trackHeight*.9),this.setThumbSize(o,s),this.setThumbRadius(ae(C,"thumbRadius",this.thumbHeight*.5)),this.setThumbPosition(ae(C,"thumbLeft",.3),ae(C,"thumbRight",void 0)),this.setRTL(ae(C,"rtl",!1)),this.setToggleAnimationDuration(ae(C,"animationDuration",150)),this.buildShapes(),this.setValue(ae(C,"value",!1),0)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,this.playToggleAnimation(),this.emit("valuechange",t))}setValue(t,i){i===void 0&&(i=this.toggleAnimDuration);var r=this.toggleAnimDuration;return this.toggleAnimDuration=i,this.value=t,this.toggleAnimDuration=r,this}toggleValue(t){return this.setValue(!this.value,t),this}get toggleAnimProgress(){return this._toggleAnimProgress}set toggleAnimProgress(t){this._toggleAnimProgress!==t&&(this._toggleAnimProgress=t,this.dirty=!0)}}Object.assign(Xw.prototype,Uw);const oT=Phaser.Utils.Objects.GetValue;class ox extends Xw{constructor(t,i,r,g,S,n,C){super(t,i,r,g,S,n,C),this._click=new Pr(this,oT(C,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(oT(C,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}st.register("toggleSwitch",function(e,t,i,r,g,S){var n=new ox(this.scene,e,t,i,r,g,S);return this.scene.add.existing(n),n});et(window,"RexPlugins.UI.ToggleSwitch",ox);const f7={loadFromURL(e,t){var i=this,r=new Image;return r.onload=function(){i.width!==r.width||i.height!==r.height?i.resize(r.width,r.height):i.clear(),i.context.drawImage(r,0,0),i.updateTexture(),t&&t(),r.onload=null,r.src="",r.remove()},r.src=e,this},loadFromURLPromise(e){var t=this;return new Promise(function(i,r){t.loadFromURL(e,i)})},loadFromFile(e,t){var i=URL.createObjectURL(e);return this.loadFromURL(i,function(){URL.revokeObjectURL(i),t&&t()}),this},loadFromFilePromise(e){var t=this;return new Promise(function(i,r){t.loadFromFile(e,i)})}};class Pa extends Pn{}Object.assign(Pa.prototype,f7);st.register("canvas",function(e,t,i,r){var g=new Pa(this.scene,e,t,i,r);return this.scene.add.existing(g),g});et(window,"RexPlugins.UI.Canvas",Pa);const Na=Phaser.Utils.Objects.GetValue;class Ww extends Pn{constructor(t,i,r,g,S,n){super(t,i,r),this.type="rexCircleMaskImage",this.setTexture(g,S,n)}setTexture(t,i,r){typeof i=="object"&&(r=i,i=void 0),typeof r=="string"&&(r={maskType:r});var g=Na(r,"maskType",0),S=Na(r,"backgroundColor",void 0),n=Na(r,"strokeColor",void 0),C=n!=null?10:0,s=Na(r,"strokeWidth",C);if(g===void 0?g=0:typeof g=="string"&&(g=c7[g]),this._textureKey=t,this._frameName=i,g===null)return this.loadTexture(t,i),this.dirty=!0,this;var o=this.scene.sys.textures.getFrame(t,i);if(!o)return this;o.cutWidth!==this.width||o.cutHeight!==this.height?this.setCanvasSize(o.cutWidth,o.cutHeight):this.clear();var y=this.canvas,f=this.context,u=y.width,l=y.height;S!=null&&(f.fillStyle=S,f.fillRect(0,0,u,l)),f.save(),f.beginPath();var a=s/2;switch(g){case 1:var p=Math.floor(u/2),m=Math.floor(l/2),d=p-a,v=m-a;f.ellipse(p,m,d,v,0,0,2*Math.PI);break;case 2:var h=Na(r,"radius",0),c=Na(r,"iteration",void 0);CM(f,a,a,u-s,l-s,h,c);break;default:var p=Math.floor(u/2),m=Math.floor(l/2),x=Math.min(p,m)-a;f.arc(p,m,x,0,2*Math.PI);break}return n!=null&&(f.strokeStyle=n,f.lineWidth=s,f.stroke()),f.clip(),this.loadTexture(t,i),f.restore(),this.dirty=!0,this}resize(t,i){return this.setDisplaySize(t,i),this}}const c7={circle:0,ellipse:1,roundRectangle:2};st.register("circleMaskImage",function(e,t,i,r,g){var S=new Ww(this.scene,e,t,i,r,g);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.CircleMaskImage",Ww);const yh=Phaser.Utils.Objects.GetValue;class Yw extends Pn{constructor(t,i,r,g,S,n){super(t,i,r),this.type="rexAlphaMaskImage",this.maskFrame=null,this.setTexture(g,S,n)}setTexture(t,i,r){typeof i=="object"&&(r=i,i=void 0),typeof r=="string"&&(r={mask:{key:r}});var g=yh(r,"mask.key"),S=yh(r,"mask.frame"),n=yh(r,"mask.invertAlpha",!1),C=yh(r,"mask.scale"),s=yh(r,"backgroundColor");if(g){this._maskKey=g,this._maskFrame=S,this._maskScale=C;var o=g?this.scene.sys.textures.get(g):null;this.maskFrame=o?o.get(S):null}this._textureKey=t,this._frameName=i;var y=this.maskFrame;if(y===null)return this.loadTexture(t,i),this.dirty=!0,this;var f=s!=null;this.loadTexture(t,i);var u=this.canvas,l=this.context,a=u.width,d=u.height;l.save(),l.globalCompositeOperation=n?"destination-out":"destination-in";var v,h;this._maskScale!=null?(v=y.cutWidth*this._maskScale,h=y.cutHeight*this._maskScale):(v=a,h=d);var c=(a-v)/2,p=(d-h)/2;return this.drawFrame(this._maskKey,this._maskFrame,c,p,v,h),l.restore(),f&&(l.save(),l.globalCompositeOperation="destination-over",l.fillStyle=s,l.fillRect(0,0,a,d),l.restore()),this.dirty=!0,this}resize(t,i){return this.setDisplaySize(t,i),this}}st.register("alphaMaskImage",function(e,t,i,r,g){var S=new Yw(this.scene,e,t,i,r,g);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.AlphaMaskImage",Yw);const v7=Phaser.Math.Linear,hT=Phaser.Math.Percent,p7={setValue(e,t,i){return e==null?this:(t!==void 0&&(e=hT(e,t,i)),this.value=e,this)},addValue(e,t,i){return t!==void 0&&(e=hT(e,t,i)),this.value+=e,this},getValue(e,t){var i=this.value;return e!==void 0&&t!==void 0&&(i=v7(e,t,i)),i}},g7=Phaser.Math.Percent,m7={setEaseValuePropName(e){return this.easeValuePropName=e,this},setEaseValueDuration(e){return this.easeValueDuration=e,this},setEaseValueFunction(e){return this.easeFunction=e,this},stopEaseValue(){return this.easeValueTask&&this.easeValueTask.stop(),this},easeValueTo(e,t,i){return e==null?this:(t!==void 0&&(e=g7(e,t,i)),this.easeValueTask===void 0&&(this.easeValueTask=new yr(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,to:e,duration:this.easeValueDuration,ease:this.easeFunction}),this)},easeValueRepeat(e,t,i,r){return i===void 0&&(i=-1),r===void 0&&(r=0),this.easeValueTask===void 0&&(this.easeValueTask=new yr(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,from:e,to:t,duration:this.easeValueDuration,ease:this.easeFunction,repeat:i,repeatDelay:r}),this}},Ch=Phaser.Utils.Objects.GetValue,x7=Phaser.Math.Clamp;function En(e){class t extends e{bootProgressBase(r){this.eventEmitter=Ch(r,"eventEmitter",this);var g=Ch(r,"valuechangeCallback",null);if(g!==null){var S=Ch(r,"valuechangeCallbackScope",void 0);this.eventEmitter.on("valuechange",g,S)}return this.setEaseValuePropName("value").setEaseValueDuration(Ch(r,"easeValue.duration",0)).setEaseValueFunction(Ch(r,"easeValue.ease","Linear")),this}get value(){return this._value}set value(r){r=x7(r,0,1);var g=this._value,S=g!=r;this.dirty=this.dirty||S,this._value=r,S&&this.eventEmitter.emit("valuechange",this._value,g,this.eventEmitter)}}return Object.assign(t.prototype,p7,m7),t}const y7=Phaser.Math.RadToDeg,lT=Phaser.Math.DegToRad;var uT=function(e,t,i,r,g,S,n,C){var s=Math.abs(n-S)===360,o=lT(S),y=lT(n),f=Math.cos(o),u=Math.sin(o),l=Math.cos(y),a=Math.sin(y);return e.startAt(t+f*r,i+u*r),e.arc(t,i,r,S,n,C),s&&g===0||(e.lineTo(t+l*g,i+a*g),g>0&&e.arc(t,i,g,n,S,!0)),e.close(),e};const C7={buildShapes(){var e=this.iterations;this.addShape(new Ve().setIterations(e).setName("track")).addShape(new Ve().setIterations(e).setName("bar")).addShape(new es().setIterations(e).setName("center"))},updateShapes(){var e=this.radius,t=this.thickness*this.radius,i=this.radius,r=i-t,g=this.getShape("track");this.trackColor!=null&&this.thickness>0?(g.fillStyle(this.trackColor),uT(g,e,e,i,r,0,360,!1)):g.reset();var S=this.getShape("bar");if(this.barColor!=null&&this.thickness>0){var n,C,s;if(this.value===1)n=!1,C=0,s=360;else{n=this.anticlockwise,C=y7(this.startAngle);var o=360*(n?1-this.value:this.value);s=o+C}S.fillStyle(this.barColor),uT(S,e,e,i+1,r-1,C,s,!1)}else S.reset();var y=this.getShape("center");this.centerColor&&r>0?y.setCenterPosition(e,e).setRadius(r).fillStyle(this.centerColor):y.reset()}},ns=Phaser.Utils.Objects.GetValue,T7=Phaser.Utils.Objects.IsPlainObject,S7=Phaser.Math.Clamp,P7=Phaser.Math.DegToRad(270);let hx=class extends En(Sr){constructor(t,i,r,g,S,n,C){T7(i)&&(C=i,i=ns(C,"x",0),r=ns(C,"y",0),g=ns(C,"radius",1),S=ns(C,"barColor",void 0),n=ns(C,"value",0)),g===void 0&&(g=1);var s=g*2;super(t,i,r,s,s),this.type="rexCircularProgress",this.bootProgressBase(C),this.setRadius(g),this.setTrackColor(ns(C,"trackColor",void 0)),this.setBarColor(S),this.setCenterColor(ns(C,"centerColor",void 0)),this.setThickness(ns(C,"thickness",.2)),this.setStartAngle(ns(C,"startAngle",P7)),this.setAnticlockwise(ns(C,"anticlockwise",!1)),this.iterations=ns(C,"iterations",128),this.buildShapes(),this.setValue(n)}resize(t,i){return t=Math.floor(Math.min(t,i)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var i=t*2;this.resize(i,i)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t}setStartAngle(t){return this.startAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=S7(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}setCenterColor(t){return this.centerColor=t,this}};Object.assign(hx.prototype,C7);st.register("circularProgress",function(e,t,i,r,g,S){var n=new hx(this.scene,e,t,i,r,g,S);return this.scene.add.existing(n),n});et(window,"RexPlugins.UI.CircularProgress",hx);var hp=function(e,t,i,r,g,S,n,C,s,o,y,f){o===void 0&&(o=0),y===void 0&&(y=2*Math.PI),f===void 0&&(f=!1),t.beginPath(),t.ellipse(i,r,g,S,0,o,y,f),n!=null&&(t.fillStyle=n,t.fill()),C!=null&&(t.strokeStyle=C,t.lineWidth=s,t.stroke())};const dT=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],E7=[15792383,16444375,65535,8388564,15794175,16119260,16770244,0,16772045,255,9055202,10824234,14596231,6266528,8388352,13789470,16744272,6591981,16775388,14423100,65535,139,35723,12092939,11119017,11119017,25600,12433259,9109643,5597999,16747520,10040012,9109504,15308410,9419919,4734347,3100495,3100495,52945,9699539,16716947,49151,6908265,6908265,2003199,11674146,16775920,2263842,16711935,14474460,16316671,16766720,14329120,8421504,8421504,32768,11403055,15794160,16738740,13458524,4915330,16777200,15787660,15132410,16773365,8190976,16775885,11393254,15761536,14745599,16448210,13882323,13882323,9498256,16758465,16752762,2142890,8900346,7833753,7833753,11584734,16777184,65280,3329330,16445670,16711935,8388608,6737322,205,12211667,9662683,3978097,8087790,64154,4772300,13047173,1644912,16121850,16770273,16770229,16768685,128,16643558,8421376,7048739,16753920,16729344,14315734,15657130,10025880,11529966,14381203,16773077,16767673,13468991,16761035,14524637,11591910,8388736,6697881,16711680,12357519,4286945,9127187,16416882,16032864,3050327,16774638,10506797,12632256,8900331,6970061,7372944,7372944,16775930,65407,4620980,13808780,32896,14204888,16737095,4251856,15631086,16113331,16777215,16119285,16776960,10145074];var D0={},fT;for(var rd=0,M7=dT.length;rd<M7;rd++)fT=dT[rd].toLowerCase(),D0[fT]=E7[rd];var w7=function(e){return e=e.toLowerCase(),D0.hasOwnProperty(e)?D0[e]:null},B0=function(e){return typeof e!="string"||(e.startsWith("#")?e=parseInt(e.substring(1),16):e.startsWith("0x")?e=parseInt(e.substring(2),16):e=w7(e)),e};const R7=Phaser.Math.DegToRad,lp=Phaser.Math.Linear;var A7=function(e,t,i,r,g,S,n,C,s,o,y,f,u){o===void 0&&(o=0),y===void 0&&(y=2*Math.PI),f===void 0&&(f=!1),u===void 0&&(u=2),n=B0(n),C=B0(C),Th=yC(n,Th),Sh=yC(C,Sh);var l=R7(u),a;f?a=o-y:a=y-o,a<0&&(a+=2*Math.PI);var d=Math.ceil(a/l),v=a/d;f&&(v=-v);for(var h=0;h<d;h++){var c=h/d,p=Math.round(lp(Th.r,Sh.r,c)),m=Math.round(lp(Th.g,Sh.g,c)),x=Math.round(lp(Th.b,Sh.b,c)),T=o+h*v,P=T+v;h<d-1&&(P+=v/2),t.beginPath(),t.ellipse(i,r,g,S,0,T,P,f),t.strokeStyle=`rgb(${p},${m},${x})`,t.lineWidth=s,t.stroke()}},Th,Sh,L7=function(e,t,i,r,g,S,n,C,s,o,y){s===void 0&&C!=null&&(s=2),t.font=S,t.textAlign=o,t.textBaseline=y,t.fillStyle=n,t.strokeStyle=C,t.lineWidth=s,t.lineCap="round",t.lineJoin="round",C!=null&&C!=="none"&&s>0&&t.strokeText(g,i,r),n!=null&&n!=="none"&&t.fillText(g,i,r)};const up=Phaser.Math.PI2;var O7=function(){var e=this.radius,t=this.thickness*this.radius,i=this.radius-t/2,r=this.radius-t,g=this.canvas,S=this.context,n=this.anticlockwise,C=this.startAngle,s=this.endAngle,o=this._deltaAngle;if(this.trackColor&&t>0&&(S.save(),hp(g,S,e,e,i,i,void 0,this.trackColor,t,C,s,n),S.restore()),this.barColor&&i>0){var y;this.value>=1?y=s:n?y=(C-o*this.value+up)%up:y=(C+o*this.value)%up,S.save(),this.barColor2?A7(g,S,e,e,i,i,this.barColor2,this.barColor,t,C,y,n):hp(g,S,e,e,i,i,void 0,this.barColor,t,C,y,n),S.restore()}if(this.centerColor&&r>0){var f;this.centerColor2?(f=this.context.createRadialGradient(e,e,0,e,e,r),f.addColorStop(0,this.centerColor),f.addColorStop(1,this.centerColor2)):f=this.centerColor,S.save(),hp(g,S,e,e,r,r,f),S.restore()}this.textFormatCallback&&(this.textColor||this.textStrokeColor)&&(S.save(),L7(g,S,e,e,this.getFormatText(),this.textFont,this.textColor,this.textStrokeColor,this.textStrokeThickness,"center","middle"),S.restore())};const qt=Phaser.Utils.Objects.GetValue,F7=Phaser.Utils.Objects.IsPlainObject,b7=Phaser.Math.Clamp,D7=Phaser.Math.DegToRad(270),Xf=Phaser.Math.PI2;class wc extends En(Pn){constructor(t,i,r,g,S,n,C){F7(i)&&(C=i,i=qt(C,"x",0),r=qt(C,"y",0),g=qt(C,"radius",1),S=qt(C,"barColor",void 0),n=qt(C,"value",0));var s=g*2,o=qt(C,"resolution",1);super(t,i,r,s,s,o),this.type="rexCircularProgressCanvas",this.bootProgressBase(C),this.setRadius(g),this.setTrackColor(qt(C,"trackColor",void 0)),this.setBarColor(S),this.setBarColor2(qt(C,"barColor2",void 0)),this.setCenterColor(qt(C,"centerColor",void 0)),this.setThickness(qt(C,"thickness",.2)),this.setAnticlockwise(qt(C,"anticlockwise",!1)),this.setStartAngle(qt(C,"startAngle",D7));var y=qt(C,"endAngle");y===void 0&&(this.anticlockwise?y=this.startAngle-Xf:y=this.startAngle+Xf),this.setEndAngle(qt(C,"endAngle",y)),this.setTextColor(qt(C,"textColor",void 0)),this.setTextStrokeColor(qt(C,"textStrokeColor",void 0),qt(C,"textStrokeThickness",void 0));var f=qt(C,"textFont",void 0);f?this.setTextFont(f):this.setTextFont(qt(C,"textSize","16px"),qt(C,"textFamily","Courier"),qt(C,"textStyle","")),this.setTextFormatCallback(qt(C,"textFormatCallback",void 0),qt(C,"textFormatCallbackScope",void 0)),this.setValue(n)}resize(t,i){return t=Math.floor(Math.min(t,i)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var i=t*2;this.resize(i,i)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){t=xt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){t=xt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get barColor2(){return this._barColor2}set barColor2(t){t=xt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}setBarColor2(t){return this.barColor2=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t,this._deltaAngle=dp(this._startAngle,this._endAngle,this._anticlockwise)}setStartAngle(t){return this.startAngle=t,this}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!=t,this._endAngle=t,this._deltaAngle=dp(this._startAngle,this._endAngle,this._anticlockwise)}setEndAngle(t){return this.endAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t,this._deltaAngle=dp(this._startAngle,this._endAngle,this._anticlockwise)}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=b7(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){t=xt(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}get centerColor2(){return this._centerColor2}set centerColor2(t){t=xt(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor2!=t,this._centerColor2=t}setCenterColor(t,i){return this.centerColor=t,this.centerColor2=i,this}get textColor(){return this._textColor}set textColor(t){t=xt(t,this.canvas,this.context),this.dirty=this.dirty||this._textColor!=t,this._textColor=t}setTextColor(t){return this.textColor=t,this}get textStrokeColor(){return this._textStrokeColor}set textStrokeColor(t){t=xt(t,this.canvas,this.context),this.dirty=this.dirty||this._textStrokeColor!=t,this._textStrokeColor=t}get textStrokeThickness(){return this._textStrokeThickness}set textStrokeThickness(t){this.dirty=this.dirty||this._textStrokeThickness!=t,this._textStrokeThickness=t}setTextStrokeColor(t,i){return i===void 0&&(i=2),this.textStrokeColor=t,this.textStrokeThickness=i,this}get textFont(){return this._textFont}set textFont(t){this.dirty=this.dirty||this._textFont!=t,this._textFont=t}setTextFont(t,i,r){var g;return i===void 0?g=t:g=r+" "+t+" "+i,this.textFont=g,this}setTextFormatCallback(t,i){return this.textFormatCallback=t,this.textFormatCallbackScope=i,this}updateTexture(){return super.updateTexture(function(){this.clear(),O7.call(this)},this),this}getFormatText(t){t===void 0&&(t=this.value);var i;return this.textFormatCallbackScope?i=this.textFormatCallback(t):i=this.textFormatCallback.call(this.textFormatCallbackScope,t),i}}var dp=function(e,t,i){return i?e<=t?Xf+e-t:e-t:e>=t?Xf+t-e:t-e};st.register("circularProgressCanvas",function(e,t,i,r,g,S){var n=new wc(this.scene,e,t,i,r,g,S);return this.scene.add.existing(n),n});et(window,"RexPlugins.UI.CircularProgressCanvas",wc);var B7=function(){var e=this.skewX,t=this.width-Math.abs(e),i=this.height,r=this.getShape("trackFill");r.fillStyle(this.trackColor),r.isFilled&&fp(r,0,0,t,i,e);var g=this.getShape("bar");if(g.fillStyle(this.barColor),g.isFilled){var S,n;this.rtl?(S=t*(1-this.value),n=t):(S=0,n=t*this.value),fp(g,S,0,n,i,e)}var C=this.getShape("trackStroke");C.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),C.isStroked&&fp(C,0,0,t,i,e)},fp=function(e,t,i,r,g,S){var n=(t+r)/2;return S>=0?e.startAt(n+S,i).lineTo(r+S,i).lineTo(r,g).lineTo(t,g).lineTo(t+S,i).lineTo(n+S,i):e.startAt(n,i).lineTo(r,i).lineTo(r-S,g).lineTo(t-S,g).lineTo(t,i).lineTo(n,i),e.close(),e};const Ph=Phaser.Utils.Objects.GetValue,cp=Phaser.Utils.Objects.IsPlainObject;let Rc=class extends En(Sr){constructor(t,i,r,g,S,n,C,s){cp(i)?(s=i,i=s.x,r=s.y,g=s.width,S=s.height,n=s.barColor,C=s.value):cp(g)?(s=g,g=s.width,S=s.height,n=s.barColor,C=s.value):cp(n)&&(s=n,n=s.barColor,C=s.value),i===void 0&&(i=0),r===void 0&&(r=0),g===void 0&&(g=2),S===void 0&&(S=g),C===void 0&&(C=0),super(t,i,r,g,S,s),this.type="rexLineProgress",this.bootProgressBase(s),this.addShape(new Ve().setName("trackFill")).addShape(new Ve().setName("bar")).addShape(new Ve().setName("trackStroke")),this.setTrackColor(Ph(s,"trackColor",void 0)),this.setBarColor(n),this.setTrackStroke(Ph(s,"trackStrokeThickness",2),Ph(s,"trackStrokeColor",void 0)),this.setSkewX(Ph(s,"skewX",0)),this.setRTL(Ph(s,"rtl",!1)),this.setValue(C)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}};var I7={updateShapes:B7};Object.assign(Rc.prototype,I7);st.register("lineProgress",function(e,t,i,r,g,S,n){var C=new Rc(this.scene,e,t,i,r,g,S,n);return this.scene.add.existing(C),C});et(window,"RexPlugins.UI.LineProgress",Rc);var I0=function(e,t,i,r,g){e.setIterations(g).start();var C=r.tl;if(Jt(C))if(C.convex){var S=C.x,n=C.y;e.ellipticalArc(S,n,C.x,C.y,180,270,!1)}else{var S=0,n=0;e.ellipticalArc(S,n,C.x,C.y,90,0,!0)}else e.lineTo(0,0);var C=r.tr;if(Jt(C))if(C.convex){var S=t-C.x,n=C.y;e.ellipticalArc(S,n,C.x,C.y,270,360,!1)}else{var S=t,n=0;e.ellipticalArc(S,n,C.x,C.y,180,90,!0)}else e.lineTo(t,0);var C=r.br;if(Jt(C))if(C.convex){var S=t-C.x,n=i-C.y;e.ellipticalArc(S,n,C.x,C.y,0,90,!1)}else{var S=t,n=i;e.ellipticalArc(S,n,C.x,C.y,270,180,!0)}else e.lineTo(t,i);var C=r.bl;if(Jt(C))if(C.convex){var S=C.x,n=i-C.y;e.ellipticalArc(S,n,C.x,C.y,90,180,!1)}else{var S=0,n=i;e.ellipticalArc(S,n,C.x,C.y,360,270,!0)}else e.lineTo(0,i);return e.close(),e},nd=Phaser.Math.RadToDeg,G7=function(e,t,i,r,g){var S=t*g,o=r.tl;if(Jt(o)){var n;S>o.x?n=90:n=nd(Math.acos((o.x-S)/o.x));var C=o.x,s=o.y;e.ellipticalArc(C,s,o.x,o.y,180,180+n,!1)}else e.lineTo(0,0);var o=r.tr;if(Jt(o)&&S>t-o.x){var n=90-nd(Math.acos((S-(t-o.x))/o.x)),C=t-o.x,s=o.y;e.ellipticalArc(C,s,o.x,o.y,270,270+n,!1)}else e.lineTo(S,0);var o=r.br;if(Jt(o)&&S>t-o.x){var n=90-nd(Math.acos((S-(t-o.x))/o.x)),C=t-o.x,s=i-o.y;e.ellipticalArc(C,s,o.x,o.y,90-n,90,!1)}else e.lineTo(S,i);var o=r.bl;if(Jt(o)){var n;S>o.x?n=90:n=nd(Math.acos((o.x-S)/o.x));var C=o.x,s=i-o.y;e.ellipticalArc(C,s,o.x,o.y,180-n,180,!1)}else e.lineTo(0,i)},ad=Phaser.Math.RadToDeg,k7=function(e,t,i,r,g){var S=i*g,o=r.tl;if(Jt(o)){var n;S>o.y?n=90:n=ad(Math.acos((o.y-S)/o.y));var C=o.x,s=o.y;e.ellipticalArc(C,s,o.x,o.y,270-n,270,!1)}else e.lineTo(0,0);var o=r.tr;if(Jt(o)){var n;S>o.y?n=90:n=ad(Math.acos((o.y-S)/o.y));var C=t-o.x,s=o.y;e.ellipticalArc(C,s,o.x,o.y,270,270+n,!1)}else e.lineTo(t,0);var o=r.br;if(Jt(o)&&S>i-o.y){var n=90-ad(Math.acos((S-(i-o.y))/o.y)),C=t-o.x,s=i-o.y;e.ellipticalArc(C,s,o.x,o.y,0,0+n,!1)}else e.lineTo(t,S);var o=r.bl;if(Jt(o)&&S>i-o.y){var n=90-ad(Math.acos((S-(i-o.y))/o.y)),C=o.x,s=i-o.y;e.ellipticalArc(C,s,o.x,o.y,180-n,180,!1)}else e.lineTo(0,S)},od=Phaser.Math.RadToDeg,N7=function(e,t,i,r,g){var S=t*g,o=r.tr;if(Jt(o)){var n;S>o.x?n=90:n=od(Math.acos((o.x-S)/o.x));var C=t-o.x,s=o.y;e.ellipticalArc(C,s,o.x,o.y,360-n,360,!1)}else e.lineTo(t,0);var o=r.br;if(Jt(o)){var n;S>o.x?n=90:n=od(Math.acos((o.x-S)/o.x));var C=t-o.x,s=i-o.y;e.ellipticalArc(C,s,o.x,o.y,0,0+n,!1)}else e.lineTo(t,i);var o=r.bl;if(Jt(o)&&S>t-o.x){var n=90-od(Math.acos((S-(t-o.x))/o.x)),C=o.x,s=i-o.y;e.ellipticalArc(C,s,o.x,o.y,90,90+n,!1)}else e.lineTo(t-S,i);var o=r.tl;if(Jt(o)&&S>t-o.x){var n=90-od(Math.acos((S-(t-o.x))/o.x)),C=o.x,s=o.y;e.ellipticalArc(C,s,o.x,o.y,270-n,270,!1)}else e.lineTo(t-S,0)},hd=Phaser.Math.RadToDeg,z7=function(e,t,i,r,g){var S=i*g,o=r.br;if(Jt(o)){S>o.y?s=90:s=hd(Math.acos((o.y-S)/o.y));var n=t-o.x,C=i-o.y;e.ellipticalArc(n,C,o.x,o.y,90-s,90,!1)}else e.lineTo(t,i);var o=r.bl;if(Jt(o)){S>o.y?s=90:s=hd(Math.acos((o.y-S)/o.y));var n=o.x,C=i-o.y;e.ellipticalArc(n,C,o.x,o.y,90,90+s,!1)}else e.lineTo(0,i);var o=r.tl;if(Jt(o)&&S>i-o.y){var s=90-hd(Math.acos((S-(i-o.y))/o.y)),n=o.x,C=o.y;e.ellipticalArc(n,C,o.x,o.y,180,180+s,!1)}else e.lineTo(0,i-S);var o=r.tr;if(Jt(o)&&S>i-o.y){var s=90-hd(Math.acos((S-(i-o.y))/o.y)),n=t-o.x,C=o.y;e.ellipticalArc(n,C,o.x,o.y,360-s,360,!1)}else e.lineTo(t,i-S)},V7=function(e,t,i,r,g,S,n,C){if(e.setIterations(C).start(),g===0)return e;if(g===1)return I0(e,t,i,r,C);var s;return S===0?s=n?N7:G7:s=n?z7:k7,s(e,t,i,r,g),e.close(),e},U7=function(){var e=this.width,t=this.height,i=this.rrGeom.cornerRadius,r=this.value,g=this.orientation,S=this.rtl,n=this.iteration+1,C=this.getShape("trackFill");C.fillStyle(this.trackColor),C.isFilled&&I0(C,e,t,i,n);var s=this.getShape("bar");s.fillStyle(this.barColor),s.isFilled&&V7(s,e,t,i,r,g,S,n);var o=this.getShape("trackStroke");o.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),o.isStroked&&I0(o,e,t,i,n)},X7={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1},Ea=function(e){return typeof e=="string"&&(e=X7[e]),e};const za=Phaser.Utils.Objects.GetValue,vp=Phaser.Utils.Objects.IsPlainObject;class lx extends En(Sr){constructor(t,i,r,g,S,n,C,s,o){vp(i)?(o=i,i=o.x,r=o.y,g=o.width,S=o.height,n=o.radius,C=o.barColor,s=o.value):vp(g)?(o=g,g=o.width,S=o.height,n=o.radius,C=o.barColor,s=o.value):vp(n)&&(o=n,n=o.radius,C=o.barColor,s=o.value),i===void 0&&(i=0),r===void 0&&(r=0),g===void 0&&(g=1),S===void 0&&(S=g),n===void 0&&(n=0),s===void 0&&(s=0),super(t,i,r,g,S,o),this.type="rexRoundRectangleProgress",this.rrGeom=new Um,this.bootProgressBase(o),this.addShape(new Ve().setName("trackFill")).addShape(new Ve().setName("bar")).addShape(new Ve().setName("trackStroke")),this.setTrackColor(za(o,"trackColor",void 0)),this.setBarColor(C),this.setTrackStroke(za(o,"trackStrokeThickness",2),za(o,"trackStrokeColor",void 0)),this.setOrientation(za(o,"orientation",0)),this.setRTL(za(o,"rtl",!1)),this.setRadius(n),this.setIteration(za(n,"iteration",void 0)),this.setValue(s)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get orientation(){return this._orientation}set orientation(t){t=Ea(t),this.dirty=this.dirty||this._orientation!=t,this._orientation=t}setOrientation(t){return this.orientation=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get radius(){return this.rrGeom.radius}set radius(t){this.rrGeom.setRadius(t),this.dirty=!0}get radiusTL(){return this.rrGeom.radiusTL}set radiusTL(t){this.rrGeom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.rrGeom.radiusTR}set radiusTR(t){this.rrGeom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.rrGeom.radiusBL}set radiusBL(t){this.rrGeom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.rrGeom.radiusBR}set radiusBR(t){this.rrGeom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.rrGeom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}}var W7={updateShapes:U7};Object.assign(lx.prototype,W7);st.register("roundRectanleProgress",function(e,t,i,r,g,S,n,C){var s=new lx(this.scene,e,t,i,r,g,S,n,C);return this.scene.add.existing(s),s});et(window,"RexPlugins.UI.RoundRectangleProgress",lx);var Y7=function(e,t){e.save(),e.beginPath();var i=t[0];e.moveTo(i.x,i.y);for(var r=1,g=t.length;r<g;r++)i=t[r],e.lineTo(i.x,i.y);e.closePath(),e.restore()},pp=function(e,t,i,r,g,S,n){n===void 0&&(n="round"),Y7(t,i),t.lineJoin=n,r!=null&&(t.fillStyle=r,t.fill()),g!=null&&(t.strokeStyle=g,t.lineWidth=S,t.stroke())},H7=function(){var e=this.skewX,t=this.width-Math.abs(e),i=this.height,r=this.canvas,g=this.context;(this.trackColor||this.trackStrokeColor)&&cT(0,0,t,i,e,this.trackPoints);var S,n;if(this.barColor&&(this.rtl?(S=t*(1-this.value),n=t):(S=0,n=t*this.value),cT(S,0,n,i,e,this.barPoints)),this.trackColor&&(g.save(),pp(r,g,this.trackPoints,this.trackColor),g.restore()),this.barColor){g.save();var C;if(this.barColor2){var s;if(this.isHorizontalGradient){var o=i/2;s=g.createLinearGradient(S,o,n,o)}else{var y=t/2;s=g.createLinearGradient(y,0,y,i)}s.addColorStop(0,this.rtl?this.barColor:this.barColor2),s.addColorStop(1,this.rtl?this.barColor2:this.barColor),C=s}else C=this.barColor;pp(r,g,this.barPoints,C),g.restore()}this.trackStrokeColor&&this.trackStrokeThickness>0&&(g.save(),pp(r,g,this.trackPoints,void 0,this.trackStrokeColor,this.trackStrokeThickness),g.restore())},cT=function(e,t,i,r,g,S){S===void 0&&(S=[]),S.length=4;for(var n=0;n<4;n++)S[n]||(S[n]={});var C;return g>=0?(C=S[0],C.x=e+g,C.y=t,C=S[1],C.x=i+g,C.y=t,C=S[2],C.x=i,C.y=r,C=S[3],C.x=e,C.y=r):(C=S[0],C.x=e,C.y=t,C=S[1],C.x=i,C.y=t,C=S[2],C.x=i-g,C.y=r,C=S[3],C.x=e-g,C.y=r),S};const ge=Phaser.Utils.Objects.GetValue,gp=Phaser.Utils.Objects.IsPlainObject;class ux extends En(Pn){constructor(t,i,r,g,S,n,C,s){gp(i)?(s=i,i=ge(s,"x",0),r=ge(s,"y",0),g=ge(s,"width",2),S=ge(s,"height",2),n=ge(s,"barColor",void 0),C=ge(s,"value",0)):gp(g)?(s=g,g=ge(s,"width",2),S=ge(s,"height",2),n=ge(s,"barColor",void 0),C=ge(s,"value",0)):gp(n)&&(s=n,n=ge(s,"barColor",void 0),C=ge(s,"value",0));var o=ge(s,"resolution",1);super(t,i,r,g,S,o),this.type="rexLineProgressCanvas",this.trackPoints=[],this.barPoints=[],this.bootProgressBase(s),this.setTrackColor(ge(s,"trackColor",void 0)),this.setBarColor(n,ge(s,"barColor2",void 0),ge(s,"isHorizontalGradient",void 0)),this.setTrackStroke(ge(s,"trackStrokeThickness",2),ge(s,"trackStrokeColor",void 0)),this.setSkewX(ge(s,"skewX",0)),this.setRTL(ge(s,"rtl",!1)),this.setValue(C)}get trackColor(){return this._trackColor}set trackColor(t){t=xt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){t=xt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){t=xt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}get barColor2(){return this._barColor2}set barColor2(t){t=xt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setBarColor(t,i,r){return r===void 0&&(r=!0),this.barColor=t,this.barColor2=i,this.isHorizontalGradient=r,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}updateTexture(){return super.updateTexture(function(){this.clear(),H7.call(this)},this),this}}st.register("circularProgressCanvas",function(e,t,i,r,g,S,n){var C=new ux(this.scene,e,t,i,r,g,S,n);return this.scene.add.existing(C),C});et(window,"RexPlugins.UI.LineProgressCanvas",ux);Phaser.Math.Wrap;const Va=Phaser.Math.Linear;var $7=function(){var e=this.getShape("triangle"),t=this.padding,i=this.width-t.right,r=0+t.left,g=this.height-t.bottom,S=0+t.top,n=(r+i)/2,C=(S+g)/2,s={0:{a:{x:r,y:S},b:{x:i,y:C},c:{x:r,y:g}},1:{a:{x:r,y:S},b:{x:n,y:g},c:{x:i,y:S}},2:{a:{x:i,y:S},b:{x:r,y:C},c:{x:i,y:g}},3:{a:{x:r,y:g},b:{x:n,y:S},c:{x:i,y:g}}},o,y,f,u,l,a;if(this.previousDirection===void 0){var d=s[this.direction],v=d.a,h=d.b,c=d.c;o=v.x,y=v.y,f=h.x,u=h.y,l=c.x,a=c.y}else{var p=s[this.previousDirection],m=s[this.direction],x=this.easeDirectionProgress;o=Va(p.a.x,m.a.x,x),y=Va(p.a.y,m.a.y,x),f=Va(p.b.x,m.b.x,x),u=Va(p.b.y,m.b.y,x),l=Va(p.c.x,m.c.x,x),a=Va(p.c.y,m.c.y,x)}e.startAt(o,y).lineTo(f,u).lineTo(l,a),this.arrowOnly?e.end():e.close()};const K7=Phaser.Math.DegToRad,ld=K7(120);var Z7=function(t){var t=this.getShape("triangle"),i=this.width/2,r=this.height/2,g=Math.min(i,r)*this.radius,S=this.verticeRotation;t.startAt(i+g*Math.cos(S+ld),r+g*Math.sin(S+ld)).lineTo(i+g*Math.cos(S),r+g*Math.sin(S)).lineTo(i+g*Math.cos(S-ld),r+g*Math.sin(S-ld)),this.arrowOnly?t.end():t.close()};const J7={buildShapes(){this.addShape(new Ve().setName("triangle"))},updateShapes(){var e=this.getShape("triangle");this.arrowOnly?e.fillStyle().lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha):e.fillStyle(this.fillColor,this.fillAlpha).lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha),this.shapeMode===0?$7.call(this):Z7.call(this)}},Q7={setEaseDuration(e){return e===void 0&&(e=0),this.easeDuration=e,this},playEaseDirectionation(){return this.easeDirectionProgressTask===void 0&&(this.easeDirectionProgressTask=new yr(this,{eventEmitter:null})),this.easeDirectionProgressTask.restart({key:"easeDirectionProgress",from:0,to:1,duration:this.easeDuration}),this},stopEaseDirection(){return this.easeDirectionProgressTask===void 0?this:(this.easeDirectionProgressTask.stop(),this)}},Ua=Phaser.Utils.Objects.GetValue,j7=Phaser.Utils.Objects.IsPlainObject,q7=Phaser.Math.DegToRad,_7=Phaser.Math.RadToDeg;class Kl extends Sr{constructor(t,i,r,g,S,n,C){var s,o,y,f,u,l,a,d;if(j7(i)){var v=i;i=v.x,r=v.y,g=v.width,S=v.height,n=v.color,C=v.alpha,s=v.strokeColor,o=v.strokeAlpha,y=v.strokeWidth,f=v.arrowOnly,u=v.direction,l=v.easeDuration,a=v.padding,d=v.radius}i===void 0&&(i=0),r===void 0&&(r=0),g===void 0&&(g=1),S===void 0&&(S=g),f===void 0&&(f=!1),u===void 0&&(u=0),l===void 0&&(l=0),a===void 0&&(a=0),d===void 0&&(d=void 0),super(t,i,r,g,S),this.type="rexTriangle",this.setFillStyle(n,C),s!==void 0&&y===void 0&&(y=2),this.setStrokeStyle(y,s,o),this.setArrowOnly(f),this.setDirection(u,l),this.setPadding(a),this.setRadius(d),this.buildShapes()}get arrowOnly(){return this._arrowOnly}set arrowOnly(t){this.dirty=this.dirty||this._arrowOnly!=t,this._arrowOnly=t}setArrowOnly(t){return t===void 0&&(t=!0),this.arrowOnly=t,this}get direction(){return this._direction}set direction(t){t=ek(t),this._direction!==t&&(this.easeDuration>0&&this._direction!==void 0?this.previousDirection=this._direction:this.previousDirection=void 0,this._direction=t,this.verticeAngle=t*90,this.dirty=!0,this.previousDirection!==void 0?this.playEaseDirectionation():this.stopEaseDirection())}setDirection(t,i){return i!==void 0&&this.setEaseDuration(i),this.direction=t,this}toggleDirection(t){return this.setDirection(this.direction+2,t),this}get easeDirectionProgress(){return this._easeDirectionProgress}set easeDirectionProgress(t){this._easeDirectionProgress!==t&&(this._easeDirectionProgress=t,this.dirty=!0)}setPadding(t,i,r,g){if(typeof t=="object"){var S=t,n=Ua(S,"x",null);n!==null?(t=n,r=n):(t=Ua(S,"left",0),r=Ua(S,"right",t));var C=Ua(S,"y",null);C!==null?(i=C,g=C):(i=Ua(S,"top",0),g=Ua(S,"bottom",i))}else t===void 0&&(t=0),i===void 0&&(i=t),r===void 0&&(r=t),g===void 0&&(g=i);return this.padding===void 0&&(this.padding={}),this.dirty=this.dirty||this.padding.left!=t||this.padding.top!=i||this.padding.right!=r||this.padding.bottom!=g,this.padding.left=t,this.padding.top=i,this.padding.right=r,this.padding.bottom=g,this.setRadius(),this}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this.shapeMode=t==null?0:1,this}get verticeRotation(){return this._verticeRotation}set verticeRotation(t){this.dirty=this.dirty||this._verticeRotation!=t,this._verticeRotation=t}setVerticeRotation(t){return this.verticeRotation=t,this}get verticeAngle(){return _7(this.verticeRotation)}set verticeAngle(t){this.verticeRotation=q7(t)}setVerticeAngle(t){return this.verticeAngle=t,this}}const tk={right:0,down:1,left:2,up:3};var ek=function(e){return typeof e=="string"&&(e=tk[e]),e=e%4,e};Object.assign(Kl.prototype,J7,Q7);st.register("triangle",function(e,t,i,r,g,S){var n=new Kl(this.scene,e,t,i,r,g,S);return this.scene.add.existing(n),n});et(window,"RexPlugins.UI.Triangle",Kl);pc();const ik=Phaser.GameObjects.Zone,sk=Phaser.Utils.Array.Add,rk=Phaser.Utils.Array.Remove;let Zl=class extends ik{constructor(t,i,r,g,S){i===void 0&&(i=0),r===void 0&&(r=0),g===void 0&&(g=1),S===void 0&&(S=1),super(t,i,r,g,S),this.children=[]}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var i,r=this.children.length-1;r>=0;r--)i=this.children[r],!i.parentContainer&&!i.displayList&&i.destroy(t);this.clear(!t),super.destroy(t)}}contains(t){return this.children.indexOf(t)!==-1}add(t){var i=this;return sk(this.children,t,0,function(r){r.once("destroy",i.onChildDestroy,i)},this),this}remove(t,i){var r=this;return rk(this.children,t,function(g){g.off("destroy",r.onChildDestroy,r),i&&g.destroy()}),this}onChildDestroy(t,i){this.remove(t,!1)}clear(t){for(var i=this,r,g=0,S=this.children.length;g<S;g++)r=this.children[g],r.off("destroy",i.onChildDestroy,i),t&&r.destroy();return this.children.length=0,this}};const vT=Phaser.GameObjects.Components;Phaser.Class.mixin(Zl,[vT.Alpha,vT.Flip]);var Bi=function(e,t){var i;if(t===void 0)e.hasOwnProperty("rexContainer")&&(i=e.rexContainer.parent);else for(i=Bi(e);i&&i.name!==t;)i=Bi(i);return i},Hw=function(e){for(var t=Bi(e);t;)e=t,t=Bi(t);return e};const nk=Phaser.Math.DegToRad,ak=Phaser.Math.RadToDeg;var Tt=function(e){if(!e.hasOwnProperty("rexContainer")){var t={parent:null,self:null,layer:null,x:0,y:0,syncPosition:!0,rotation:0,syncRotation:!0,scaleX:0,scaleY:0,syncScale:!0,alpha:0,syncAlpha:!0,syncScrollFactor:!0,syncCameraFilter:!0,syncDisplayList:!0,visible:!0,active:!0};Object.defineProperty(t,"angle",{get:function(){return ak(this.rotation)},set:function(i){this.rotation=nk(i)}}),Object.defineProperty(t,"displayWidth",{get:function(){return e.width*this.scaleX},set:function(i){this.scaleX=i/e.width}}),Object.defineProperty(t,"displayHeight",{get:function(){return e.height*this.scaleY},set:function(i){this.scaleY=i/e.height}}),e.rexContainer=t}return e.rexContainer};const ok={setParent(e,t){t===void 0&&(t=this);var i=Tt(e);return t?(i.parent=t,i.self=e):(i.parent=null,i.self=null),this},getParent(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),Bi(e,t)},getTopmostParent(e){return e===void 0&&(e=this),Hw(e)}},In=Phaser.Utils.Objects.GetValue,$w=Zl.prototype.add;var pT=function(e,t){this.setParent(e);var i=Tt(e);return Kw(i,t),this.resetChildState(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e).updateCameraFilter(e),$w.call(this,e),Zw.call(this,e,i),this},mp=function(e,t){this.setParent(e);var i=Tt(e);return Kw(i,t),i.x=e.x,i.y=e.y,i.rotation=e.rotation,i.scaleX=e.scaleX,i.scaleY=e.scaleY,i.alpha=e.alpha,i.visible=e.visible,i.active=e.active,this.updateChildPosition(e).updateChildAlpha(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e),$w.call(this,e),Zw.call(this,e,i),this},Kw=function(e,t){t===void 0&&(t=!0),typeof t=="boolean"?(e.syncPosition=t,e.syncRotation=t,e.syncScale=t,e.syncAlpha=t,e.syncScrollFactor=t,e.syncCameraFilter=t,e.syncDisplayList=t):(e.syncPosition=In(t,"syncPosition",!0),e.syncRotation=In(t,"syncRotation",!0),e.syncScale=In(t,"syncScale",!0),e.syncAlpha=In(t,"syncAlpha",!0),e.syncScrollFactor=In(t,"syncScrollFactor",!0),e.syncCameraFilter=In(t,"syncCameraFilter",!0),e.syncDisplayList=In(t,"syncDisplayList",!0))},Zw=function(e,t){this.addToParentContainer(e),t.syncDisplayList&&this.addToPatentLayer(e),this.addToRenderLayer(e)};const hk={add(e){return Array.isArray(e)?this.addMultiple(e):pT.call(this,e),this},pin(e,t){return Array.isArray(e)?this.addMultiple(e,t):pT.call(this,e,t),this},addMultiple(e){for(var t=Array.from(arguments),i=0,r=e.length;i<r;i++)t[0]=e[i],this.add.apply(this,t);return this},addLocal(e){return Array.isArray(e)?this.addMultiple(e):mp.call(this,e),this},pinLocal(e,t){return Array.isArray(e)?this.addMultiple(e,t):mp.call(this,e,t),this},addLocalMultiple(e){for(var t=0,i=e.length;t<i;t++)mp.call(this,e[t]);return this}},gT=Zl.prototype.remove,lk=Zl.prototype.clear,uk={remove(e,t){return Bi(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),gT.call(this,e,t),this)},unpin(e,t){return Bi(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),gT.call(this,e,t),this)},clear(e){for(var t=this.children,i=0,r=t.length;i<r;i++){var g=t[i];this.setParent(g,null),e||this.removeFromRenderLayer(g)}return lk.call(this,e),this}},dk={getLocalState(e){return Tt(e)},resetChildState(e){return this.resetChildPositionState(e).resetChildVisibleState(e).resetChildAlphaState(e).resetChildActiveState(e),this},resetChildrenState(e){for(var t=0,i=e.length;t<i;t++)this.resetChildState(e[t]);return this},syncProperties(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}},fk={worldToLocal(e){e.x-=this.x,e.y-=this.y;var t=Math.cos(-this.rotation),i=Math.sin(-this.rotation),r=e.x,g=e.y;return e.x=r*t-g*i,e.y=r*i+g*t,e.x/=this.scaleX,e.y/=this.scaleY,e},localToWorld(e){e.x*=this.scaleX,e.y*=this.scaleY;var t=Math.cos(this.rotation),i=Math.sin(this.rotation),r=e.x,g=e.y;return e.x=r*t-g*i,e.y=r*i+g*t,e.x+=this.x,e.y+=this.y,e}};var Al=function(e,t){return e===t?1:e/t};const ck={updateChildPosition(e){e.isRexContainerLite&&(e.syncChildrenEnable=!1);var t=Tt(e),i=t.parent;return t.syncPosition&&(e.x=t.x,e.y=t.y,i.localToWorld(e)),t.syncRotation&&(e.rotation=t.rotation+i.rotation),t.syncScale&&(e.scaleX=t.scaleX*i.scaleX,e.scaleY=t.scaleY*i.scaleY),e.isRexContainerLite&&(e.syncChildrenEnable=!0,e.syncPosition()),this},syncPosition(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildPosition,this),this},resetChildPositionState(e){var t=Tt(e),i=t.parent;return t.x=e.x,t.y=e.y,i.worldToLocal(t),t.scaleX=Al(e.scaleX,i.scaleX),t.scaleY=Al(e.scaleY,i.scaleY),t.rotation=e.rotation-i.rotation,this},setChildPosition(e,t,i){return e.x=t,e.y=i,this.resetChildPositionState(e),this},setChildLocalPosition(e,t,i){var r=Tt(e);return r.x=t,r.y=i,this.updateChildPosition(e),this},resetLocalPositionState(){var e=Tt(this).parent;return e&&e.resetChildPositionState(this),this},getChildLocalX(e){var t=Tt(e);return t.x},getChildLocalY(e){var t=Tt(e);return t.y}},vk=Phaser.Math.DegToRad,pk={updateChildRotation(e){var t=Tt(e),i=t.parent;return t.syncRotation&&(e.rotation=i.rotation+t.rotation),this},syncRotation(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildRotation,this),this},resetChildRotationState(e){var t=Tt(e),i=t.parent;return t.rotation=e.rotation-i.rotation,this},setChildRotation(e,t){return e.rotation=t,this.resetChildRotationState(e),this},setChildAngle(e,t){return e.angle=t,this.resetChildRotationState(e),this},setChildLocalRotation(e,t){var i=Tt(e);return i.rotation=t,this.updateChildRotation(e),this},setChildLocalAngle(e,t){var i=Tt(e);return i.rotation=vk(t),this.updateChildRotation(e),this},resetLocalRotationState(){var e=Tt(this).parent;return e&&e.resetChildRotationState(this),this},getChildLocalRotation(e){var t=Tt(e);return t.rotation}},gk={updateChildScale(e){var t=Tt(e),i=t.parent;return t.syncScale&&(e.scaleX=i.scaleX*t.scaleX,e.scaleY=i.scaleY*t.scaleY),this},syncScale(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScale,this),this},resetChildScaleState(e){var t=Tt(e),i=t.parent;return t.scaleX=Al(e.scaleX,i.scaleX),t.scaleY=Al(e.scaleY,i.scaleY),this},setChildScale(e,t,i){return i===void 0&&(i=t),e.scaleX=t,e.scaleY=i,this.resetChildScaleState(e),this},setChildLocalScale(e,t,i){i===void 0&&(i=t);var r=Tt(e);return r.scaleX=t,r.scaleY=i,this.updateChildScale(e),this},setChildDisplaySize(e,t,i){return e.setDisplaySize(t,i),this.resetChildScaleState(e),this},resetLocalScaleState(){var e=Tt(this).parent;return e&&e.resetChildScaleState(this),this},getChildLocalScaleX(e){var t=Tt(e);return t.scaleX},getChildLocalScaleY(e){var t=Tt(e);return t.scaleY}},mk={updateChildVisible(e){var t=Tt(e),i=t.parent,r=t.hasOwnProperty("maskVisible")?t.maskVisible:!0,g=i?i.visible:!0;return e.visible=g&&t.visible&&r,this},syncVisible(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildVisible,this),this},resetChildVisibleState(e){var t=Tt(e);return t.hasOwnProperty("maskVisible")&&delete t.maskVisible,t.visible=e.visible,this},setChildVisible(e,t){return this.setChildLocalVisible(e,t),this},setChildLocalVisible(e,t){t===void 0&&(t=!0);var i=Tt(e);return i.visible=t,this.updateChildVisible(e),this},setChildMaskVisible(e,t){t===void 0&&(t=!0);var i=Tt(e);return i.maskVisible=t,this.updateChildVisible(e),this},resetLocalVisibleState(){var e=Tt(this).parent;return e&&e.resetChildVisibleState(this),this},getChildLocalVisible(e){var t=Tt(e);return t.visible}},xk={updateChildAlpha(e){var t=Tt(e),i=t.parent;return t.syncAlpha&&(e.alpha=i.alpha*t.alpha),this},syncAlpha(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildAlpha,this),this},resetChildAlphaState(e){var t=Tt(e),i=t.parent;return t.alpha=Al(e.alpha,i.alpha),this},setChildAlpha(e,t){return e.alpha=t,this.resetChildAlphaState(e),this},setChildLocalAlpha(e,t){var i=Tt(e);return i.alpha=t,this.updateChildAlpha(e),this},resetLocalAlphaState(){var e=Tt(this).parent;return e&&e.resetChildAlphaState(this),this},getChildLocalAlpha(e){var t=Tt(e);return t.alpha}},yk={updateChildActive(e){var t=Tt(e),i=t.parent;return e.active=i.active&&t.active,this},syncActive(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildActive,this),this},resetChildActiveState(e){var t=Tt(e);return t.active=e.active,this},setChildActive(e,t){return e.active=t,this.resetChildActiveState(e),this},setChildLocalActive(e,t){t===void 0&&(t=!0);var i=Tt(e);return i.active=t,this.updateChildActive(e),this},resetLocalActiveState(){var e=Tt(this).parent;return e&&e.resetChildActiveState(this),this},getChildLocalActive(e){var t=Tt(e);return t.active}},Ck={updateChildScrollFactor(e){var t=Tt(e),i=t.parent;return t.syncScrollFactor&&(e.scrollFactorX=i.scrollFactorX,e.scrollFactorY=i.scrollFactorY),this},syncScrollFactor(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScrollFactor,this),this}},Tk={updateCameraFilter(e){var t=Tt(e),i=t.parent;return t.syncCameraFilter&&(e.cameraFilter=i.cameraFilter),this},syncCameraFilter(){return this.syncChildrenEnable&&this.children.forEach(this.updateCameraFilter,this),this}},Sk={updateChildMask(e){if(this.mask==null)return this;var t=this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask;return t!==e&&(e.mask=this.mask),this},syncMask(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildMask,this),this},setMask(e){return this.mask=e,this},clearMask(e){e===void 0&&(e=!1);var t=this;return this._mask=null,this.setChildMaskVisible(this),this.children.forEach(function(i){i.clearMask&&i.clearMask(!1),i.hasOwnProperty("isRexContainerLite")||t.setChildMaskVisible(i)}),e&&this.mask&&this.mask.destroy(),this}};var ud=function(e){return e.filter(function(t){if(t.displayList)return!0;if(t.parentContainer)return!0})};const Pk={setDepth(e,t){if(this.depth=e,!t&&this.children)for(var i=this.getAllChildren(),r=0,g=i.length;r<g;r++)i[r].depth=e;return this},swapDepth(e){var t=this.depth,i=e.depth;return this.setDepth(i),e.setDepth(t),this},incDepth(e){if(this.depth+=e,this.children)for(var t=this.getAllChildren(),i=0,r=t.length;i<r;i++)t[i].depth+=e;return this},bringToTop(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);Zi(t,!1);for(var i=0,r=t.length;i<r;i++){var g=t[i];e.exists(g)&&e.bringToTop(g)}return this},bringMeToTop(){return this.bringToTop()},sendToBack(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);Zi(t,!0);for(var i=0,r=t.length;i<r;i++){var g=t[i];e.exists(g)&&e.sendToBack(g)}return this},sendMeToBack(){return this.sendToBack()},moveDepthBelow(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var i=this.getAllChildren([this]);Zi(i,!1);for(var r=0,g=i.length;r<g;r++){var S=i[r];if(t.exists(S)){t.moveBelow(e,S);break}}return this},moveMyDepthBelow(e){return this.moveDepthBelow(e)},moveDepthAbove(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var i=this.getAllChildren([this]);Zi(i,!0);for(var r=0,g=i.length;r<g;r++){var S=i[r];if(t.exists(S)){t.moveAbove(e,S);break}}return this},moveMyDepthAbove(e){return this.moveDepthAbove(e)},bringChildToTop(e){var t;e!==this&&e.isRexContainerLite?(t=e.getAllChildren([e]),t=ud(t),t=Zi(t,!1)):t=[e];var i=this.getAllChildren([this]);i=ud(i),i=Zi(i,!1);for(var r=i[i.length-1],g=0,S=t.length;g<S;g++){var n=t[g];r!==n&&(n!==this&&r.displayList!==n.displayList||(r.displayList.moveAbove(n,r),r=n))}return this},sendChildToBack(e){var t;e!==this&&e.isRexContainerLite?(t=e.getAllChildren([e]),t=ud(t),t=Zi(t,!1)):t=[e];var i=this.getAllChildren([this]);i=ud(i),i=Zi(i,!1);for(var r=i[0],g=t.length-1;g>=0;g--){var S=t[g];r!==S&&(S!==this&&r.displayList!==S.displayList||(r.displayList.moveBelow(S,r),r=S))}return this}};var Jw=function(e,t){var i=t(e);if(!i&&e.isRexContainerLite)for(var r=e.children,g=0,S=r.length;g<S;g++)Jw(r[g],t)},xp=function(e,t){for(var i=[e];i.length>0;){var r=i.shift(),g=t(r);!g&&r.isRexContainerLite&&i.push(...r.children)}};const Gn=Phaser.Utils.Array,Ek={getChildren(e){if(!e)e=this.children;else for(var t=0,i=this.children.length;t<i;t++)e.push(this.children[t]);return e},getAllChildren(e){e===void 0&&(e=[]);var t=this;return xp(t,function(i){i!==t&&e.push(i)}),e},getAllVisibleChildren(e){e===void 0&&(e=[]);var t=this;return xp(t,function(i){if(i!==t){if(!i.visible)return!0;e.push(i)}}),e},bfs(e,t){return t===void 0&&(t=this),xp(t,e),this},dfs(e,t){return t===void 0&&(t=this),Jw(t,e),this},contains(e){var t=Bi(e);return t?t===this?!0:this.contains(t):!1},getByName(e,t){if(t){for(var i=[this],r,g;i.length;){r=i.shift();for(var S=0,n=r.children.length;S<n;S++){if(g=r.children[S],g.name===e)return g;g.isRexContainerLite&&i.push(g)}}return null}else return Gn.GetFirst(this.children,"name",e)},getRandom(e,t){return Gn.GetRandom(this.children,e,t)},getFirst(e,t,i,r){return Gn.GetFirstElement(this.children,e,t,i,r)},getAll(e,t,i,r){return Gn.GetAll(this.children,e,t,i,r)},count(e,t,i,r){return Gn.CountAllMatching(this.children,e,t,i,r)},swap(e,t){return Gn.Swap(this.children,e,t),this},setAll(e,t,i,r){return Gn.SetAll(this.children,e,t,i,r),this}};var mT=function(e){for(var t=[],i=0,r=e.length;i<r;i++){var g=e[i];g.hasOwnProperty("rexContainer")&&t.push(g.rexContainer)}return t},Mk=function(e){for(var t=0,i=e.length;t<i;t++){var r=e[t].scene;if(r)return r}return null},xT=function(e,t,i){if(!i.parent){e.remove();return}var r=i.parent,g=i.self;switch(t){case"x":case"y":r.updateChildPosition(g);break;case"angle":case"rotation":r.updateChildRotation(g);break;case"scaleX":case"scaleY":case"displayWidth":case"displayHeight":r.updateChildScale(g);break;case"alpha":r.updateChildAlpha(g);break;default:r.updateChildPosition(g),r.updateChildRotation(g),r.updateChildScale(g),r.updateChildAlpha(g);break}};const wk={tweenChild(e){var t=e.targets;Array.isArray(t)||(t=[t]);var i=this.scene||Mk(t);if(i){e.targets=mT(t);var r=i.tweens.add(e);return r.on("update",xT),r}},tweenSelf(e){return e.targets=[this],this.tweenChild(e)},createTweenChildConfig(e){var t=e.targets;t&&(Array.isArray(t)||(t=[t]),e.targets=mT(t));var i=e.onUpdate;return e.onUpdate=function(r,g){i&&i(r,g),xT(r,void 0,g)},e},tween(e){var t=this.scene;return e.targets||(e.targets=this),t.tweens.add(e)}},Rk=Phaser.GameObjects.Container;var Ak=function(e){return e instanceof Rk},Qw=function(e){var t=e.getAllChildren([e]);return t=t.filter(function(i){return!!i.displayList||!!i.parentContainer}),t},yT=function(e){var t=Qw(this);t.indexOf(this)===-1&&t.push(this),Zi(t),e.add(t)},CT=function(e,t,i){if(this.scene){var r=Qw(this);Zi(r,t),e.remove(r),i&&r.forEach(function(g){g.addToDisplayList()})}};const Lk={addToContainer(e){return Ak(e)?(this._setParentContainerFlag=!0,yT.call(this,e),this._setParentContainerFlag=!1,this):this},addToLayer(e){return el(e)?(yT.call(this,e),this):this},removeFromContainer(){return this.parentContainer?(this._setParentContainerFlag=!0,CT.call(this,this.parentContainer,!0,!1),this._setParentContainerFlag=!1,this):this},removeFromLayer(e){return e===void 0&&(e=!0),el(this.displayList)?(CT.call(this,this.displayList,!1,e),this):this},getParentContainer(){if(this.parentContainer)return this.parentContainer;for(var e=this.getParent();e;){var t=e.parentContainer;if(t)return t;e=e.getParent()}return null},addToParentContainer(e){if(!e.displayList)return this;var t=this.getParentContainer();return t?(e.isRexContainerLite?e.addToContainer(t):t.add(e),this):this},addToPatentLayer(e){if(!e.displayList)return this;var t=this.displayList;return t===e.displayList?this:(el(t)&&(e.isRexContainerLite?e.addToLayer(t):t.add(e)),this)}},Ok={hasLayer(){return!!this.privateRenderLayer},enableLayer(){if(this.hasLayer())return this;var e=this.scene.add.layer();return this.moveDepthBelow(e),this.addToLayer(e),this.privateRenderLayer=e,this},getLayer(){return this.hasLayer()||this.enableLayer(),this.privateRenderLayer},getRenderLayer(){if(this.hasLayer())return this.privateRenderLayer;for(var e=this.getParent();e;){var t=e.privateRenderLayer;if(t)return t;e=e.getParent()}return null},addToRenderLayer(e){if(!e.displayList)return this;var t=this.getRenderLayer();if(!t)return this;if(t===e.displayList)return this;e.isRexContainerLite?e.addToLayer(t):t.add(e);var i=Tt(e);return i.layer=t,this},removeFromRenderLayer(e){var t=Tt(e),i=t.layer;return i?(e.isRexContainerLite?e.removeFromLayer(!0):i.remove(e),t.layer=null,this):this}},TT=Phaser.Geom.Rectangle,Fk=Phaser.Geom.Rectangle.Union;var bk=function(e,t){t===void 0?t=new TT:t===!0&&(yp===void 0&&(yp=new TT),t=yp),t.setTo(0,0,0,0);for(var i,r=!0,g=0,S=e.length;g<S;g++)if(i=e[g],!!i.getBounds){var n=qm(i,!0);r?(t.setTo(n.x,n.y,n.width,n.height),r=!1):Fk(n,t,t)}return t},yp,kn=Phaser.Utils.Objects.GetValue,dx=function(e){if(e){var t=e.gameObjects,i=e.renderTexture,r=e.saveTexture,g=kn(e,"x",void 0),S=kn(e,"y",void 0),n=kn(e,"width",void 0),C=kn(e,"height",void 0),s=kn(e,"originX",0),o=kn(e,"originY",0),y=kn(e,"padding",0),f,u;if(n===void 0||C===void 0||g===void 0||S===void 0){var l=bk(t,!0),a=g!==void 0&&S!==void 0;a?(n=Math.max(g-l.left,l.right-g)*2,C=Math.max(S-l.top,l.bottom-S)*2,s=.5,o=.5):(g=l.x,S=l.y,n=l.width,C=l.height,s=0,o=0),f=l.x,u=l.y}else f=g+(0-s)*n,u=S+(0-o)*C;f-=y,u-=y,n+=y*2,C+=y*2;var d=t[0].scene,v=d.sys.textures;return r&&!i&&(i=v.addDynamicTexture(r,n,C)),i||(i=d.add.renderTexture(0,0,n,C)),i.setPosition&&i.setPosition(g,S),(i.width!==n||i.height!==C)&&i.setSize(n,C),i.setOrigin&&i.setOrigin(s,o),i.camera.setScroll(f,u),t=Zi(Ps(t)),i.draw(t),r&&(yi(i)?i.saveTexture(r):i.key!==r&&v.renameTexture(i.key,key)),i}};const Dk={snapshot(e){var t=this.scaleX,i=this.scaleY,r=t===1&&i===1;r||this.setScale(1),e===void 0&&(e={}),e.gameObjects=this.getAllVisibleChildren(),e.x=this.x,e.y=this.y,e.originX=this.originX,e.originY=this.originY;var g=dx(e),S=!!g.scene;return r||(this.setScale(t,i),S&&g.setScale(t,i)),S?g:this}},ST=Phaser.Utils.Objects.GetValue;var Bk=function(e,t){var i=ST(t,"drawContainer",!0),r=ST(t,"children");return r===void 0&&(r=this.getAllVisibleChildren([this])),i||(r=r.filter(function(g){return!g.isRexContainerLite})),jM(r,e,t),this};const Ik=Phaser.Math.RotateAround;var Gk=function(e,t,i){i===void 0&&(i=t);var r={x:(t-e.originX)*e.displayWidth,y:(i-e.originY)*e.displayHeight};return Ik(r,0,0,e.rotation),e.originX=t,e.originY=i,e.x=e.x+r.x,e.y=e.y+r.y,e},kk=function(e,t){this.syncChildrenEnable=!1,Gk(this,e,t),this.syncChildrenEnable=!0;for(var i=this.getAllChildren(),r=0,g=i.length;r<g;r++)this.resetChildPositionState(i[r]);return this},jw={changeOrigin:kk,drawBounds:Bk};Object.assign(jw,ok,hk,uk,dk,fk,ck,pk,gk,mk,xk,yk,Ck,Tk,Sk,Pk,Ek,wk,Lk,Ok,Dk);class ki extends Zl{constructor(t,i,r,g,S,n){Array.isArray(g)&&(n=g,g=void 0,S=void 0),super(t,i,r,g,S),this.type="rexContainerLite",this.isRexContainerLite=!0,this.syncChildrenEnable=!0,this._active=!0,this._mask=null,this._scrollFactorX=1,this._scrollFactorY=1,this._cameraFilter=0,this.privateRenderLayer=void 0,n&&this.add(n)}destroy(t){!this.scene||this.ignoreDestroy||(this.syncChildrenEnable=!1,super.destroy(t),this.privateRenderLayer&&this.privateRenderLayer.scene&&(this.privateRenderLayer.list.length=0,this.privateRenderLayer.destroy()))}resize(t,i){return this.setSize(t,i),this}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.syncPosition())}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.syncPosition())}get rotation(){return super.rotation}set rotation(t){this.rotation!==t&&(super.rotation=t,this.syncPosition())}get scaleX(){return super.scaleX}set scaleX(t){this.scaleX!==t&&(super.scaleX=t,this.syncPosition())}get scaleY(){return super.scaleY}set scaleY(t){this.scaleY!==t&&(super.scaleY=t,this.syncPosition())}get scale(){return super.scale}set scale(t){this.scale!==t&&(super.scale=t,this.syncPosition())}get visible(){return super.visible}set visible(t){super.visible!==t&&(super.visible=t,this.syncVisible())}get alpha(){return super.alpha}set alpha(t){super.alpha!==t&&(super.alpha=t,this.syncAlpha())}get active(){return this._active}set active(t){this._active!==t&&(this._active=t,this.syncActive())}get mask(){return this._mask}set mask(t){this._mask!==t&&(this._mask=t,this.syncMask())}get scrollFactorX(){return this._scrollFactorX}set scrollFactorX(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}get scrollFactorY(){return this._scrollFactorY}set scrollFactorY(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}get cameraFilter(){return this._cameraFilter}set cameraFilter(t){this._cameraFilter!==t&&(this._cameraFilter=t,this.syncCameraFilter())}get list(){return this.children}static GetParent(t){return Bi(t)}get parentContainer(){return this._parentContainer}set parentContainer(t){if(!this._parentContainer&&!t){this._parentContainer=t;return}if(this.setParentContainerFlag){this._parentContainer=t;return}this._parentContainer&&!t?(this.removeFromContainer(),this._parentContainer=t):t?(this._parentContainer=t,this.addToContainer(t)):this._parentContainer=t}get setParentContainerFlag(){if(this._setParentContainerFlag)return!0;var t=Bi(this);return t?t.setParentContainerFlag:!1}}Object.assign(ki.prototype,jw);var Ac=function(e){return e.hasOwnProperty("rexSizer")||(e.rexSizer={}),e.rexSizer};function Nk(e){return e===void 0&&(e=this),Ac(e)}var zk=function(e){var t=Ac(e);return t.hasOwnProperty("prevState")||(t.prevState={}),t.prevState},Vk=function(e){return e===void 0&&(e=Jo(this.scene)),this.left=Math.max(this.left,e.left),this.right=Math.min(this.right,e.right),this.top=Math.max(this.top,e.top),this.bottom=Math.min(this.bottom,e.bottom),this};const oe=Phaser.Display.Align,qo={center:oe.CENTER,left:oe.LEFT_CENTER,right:oe.RIGHT_CENTER,top:oe.TOP_CENTER,bottom:oe.BOTTOM_CENTER,"left-top":oe.TOP_LEFT,"top-left":oe.TOP_LEFT,"left-center":oe.LEFT_CENTER,"center-left":oe.LEFT_CENTER,"left-bottom":oe.BOTTOM_LEFT,"bottom-left":oe.BOTTOM_LEFT,"center-top":oe.TOP_CENTER,"top-center":oe.TOP_CENTER,"center-center":oe.CENTER,"center-bottom":oe.BOTTOM_CENTER,"bottom-center":oe.BOTTOM_CENTER,"right-top":oe.TOP_RIGHT,"top-right":oe.TOP_RIGHT,"right-center":oe.RIGHT_CENTER,"center-right":oe.RIGHT_CENTER,"right-bottom":oe.BOTTOM_RIGHT,"bottom-right":oe.BOTTOM_RIGHT};var G0=new Phaser.GameObjects.Zone({sys:{queueDepthSort:Ee,events:{once:Ee}}},0,0,1,1);G0.setOrigin(0);var Er={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_CENTER:4,CENTER:6,RIGHT_CENTER:8,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12},fx=function(e){var t=bt(e);return e.y+t-t*e.originY},cx=function(e){var t=Ft(e);return e.x-t*e.originX+t*.5},vx=function(e,t){var i=bt(e);return e.y=t-i+i*e.originY,e},px=function(e,t){var i=Ft(e),r=i*e.originX;return e.x=t+r-i*.5,e},Uk=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),px(e,cx(t)+i),vx(e,fx(t)+r),e},gx=function(e){var t=Ft(e);return e.x-t*e.originX},mx=function(e,t){var i=Ft(e);return e.x=t+i*e.originX,e},Xk=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),mx(e,gx(t)-i),vx(e,fx(t)+r),e},xx=function(e){var t=Ft(e);return e.x+t-t*e.originX},yx=function(e,t){var i=Ft(e);return e.x=t-i+i*e.originX,e},Wk=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),yx(e,xx(t)+i),vx(e,fx(t)+r),e},Cx=function(e,t){var i=bt(e),r=i*e.originY;return e.y=t+r-i*.5,e},Yk=function(e,t,i){return px(e,t),Cx(e,i)},Tx=function(e){var t=bt(e);return e.y-t*e.originY+t*.5},Hk=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),Yk(e,cx(t)+i,Tx(t)+r),e},$k=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),mx(e,gx(t)-i),Cx(e,Tx(t)+r),e},Kk=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),yx(e,xx(t)+i),Cx(e,Tx(t)+r),e},Sx=function(e){var t=bt(e);return e.y-t*e.originY},Px=function(e,t){var i=bt(e);return e.y=t+i*e.originY,e},Zk=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),px(e,cx(t)+i),Px(e,Sx(t)-r),e},Jk=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),mx(e,gx(t)-i),Px(e,Sx(t)-r),e},Qk=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),yx(e,xx(t)+i),Px(e,Sx(t)-r),e},Zs=[];Zs[Er.BOTTOM_CENTER]=Uk;Zs[Er.BOTTOM_LEFT]=Xk;Zs[Er.BOTTOM_RIGHT]=Wk;Zs[Er.CENTER]=Hk;Zs[Er.LEFT_CENTER]=$k;Zs[Er.RIGHT_CENTER]=Kk;Zs[Er.TOP_CENTER]=Zk;Zs[Er.TOP_LEFT]=Jk;Zs[Er.TOP_RIGHT]=Qk;var qw=function(e,t,i,r,g){return Zs[i](e,t,r,g)},Jl=function(e,t,i,r,g,S){G0.setPosition(t,i).setSize(r,g),qw(e,G0,S)};const Xa=Phaser.Utils.Objects.GetValue,jk=Phaser.GameObjects.Group,qk=Phaser.GameObjects.Container;var _k=function(e,t){var i=e.scene,r,g,S,n,C;if(typeof t=="number")r=t;else{r=Xa(t,"color"),g=Xa(t,"lineWidth");var s=Xa(t,"name",!1);s&&(S=Xa(s,"createTextCallback",tN),n=Xa(s,"createTextCallbackScope",void 0),C=Xa(s,"align","left-top"),typeof C=="string"&&(C=qo[C]))}if(r===void 0&&(r=16777215),g===void 0&&(g=1),S&&!e.children){e.children=new jk(i),e.once("destroy",function(d,v){d.children.destroy(!v),d.children=void 0});var o=e.clear.bind(e);e.clear=function(){o(),e.children.clear(!1,!0)}}var y=this.getAllShownChildren([this]);_w(y,y);for(var f,u,l=0,a=y.length;l<a;l++){if(f=y[l],f.getBounds||f.width!==void 0&&f.height!==void 0)Nn=qm(f,Nn);else continue;r!=null&&e.lineStyle(g,r).strokeRectShape(Nn),f.name&&S&&(n?u=S.call(n,i):u=S(i),u&&(u.setText(f.name),e.children.add(u),Jl(u,Nn.x,Nn.y,Nn.width,Nn.height,C)))}return this},tN=function(e,t,i){return e.add.text(0,0,"")},_w=function(e,t){Array.isArray(e)||(e=[e]),t===void 0&&(t=[]);for(var i=0,r=e.length;i<r;i++){var g=e[i];g instanceof qk&&(t.push(...g.list),_w(g.list,t))}return t},Nn=void 0;const dd=Phaser.Utils.Objects.GetValue;var Ma=function(e,t){return e===void 0&&(e=0),t===void 0&&(t={}),typeof e=="number"?(t.left=e,t.right=e,t.top=e,t.bottom=e):(t.left=dd(e,"left",0),t.right=dd(e,"right",0),t.top=dd(e,"top",0),t.bottom=dd(e,"bottom",0)),t};const eN=ki.prototype.add;var Ql=function(e){return eN.call(this,e),this.sizerEventsEnable&&(e.emit("sizer.add",e,this),this.emit("add",e,this)),this};const iN={addBackground(e,t,i){this.backgroundChildren===void 0&&(this.backgroundChildren=[]),typeof t=="string"&&(i=t,t=void 0),t===void 0&&(t=0),Ql.call(this,e),this.backgroundChildren.push(e);var r=this.getSizerConfig(e);return r.padding=Ma(t),i!==void 0&&this.addChildrenMap(i,e),this},isBackground(e){return this.backgroundChildren===void 0?!1:this.backgroundChildren.indexOf(e)!==-1}};var cn=function(e,t){var i=null;if(t===void 0)e.hasOwnProperty("rexContainer")&&(i=e.rexContainer.parent,i?i.isRexSizer||(i=cn(i)):i=null);else for(i=cn(e);i&&i.name!==t;)i=cn(i);return i},sN=function(e){for(var t=cn(e);t;)e=t,t=cn(t);return e};const _o={getParentSizer(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),cn(e,t)},getTopmostSizer(e){return e===void 0&&(e=this),sN(e)},hasParentSizer(e,t){t===void 0&&(t=this);for(var i=cn(t);i;){if(i===e)return!0;i=cn(i)}return!1},hasChild(e,t){return t===void 0&&(t=this),this.hasParentSizer(t,e)}},rN=Phaser.Utils.Array.Remove,nN=ki.prototype.remove,PT=_o.getParentSizer;var jl=function(e,t){for(var i=PT(e);i;)i.removeChildCallback&&i.removeChildCallback(e,t),i=PT(i);return this.isBackground(e)&&rN(this.backgroundChildren,e),nN.call(this,e,t),!t&&this.sizerEventsEnable&&(e.emit("sizer.remove",e,this),this.emit("remove",e,this)),this};const aN=Phaser.Utils.Array.Remove,oN=_o.getParentSizer,hN={removeFromParentSizer(){var e=oN(gameObject);return e&&e.remove(this),this},removeBackground(e,t){return this.backgroundChildren===void 0?this:this.getParentSizer(e)!==this?this:(aN(this.backgroundChildren,e),jl.call(this,e,t),this)},removeAllBackgrounds(e){if(this.backgroundChildren===void 0)return this;for(var t=this.backgroundChildren.length-1;t>=0;t--)this.remove(this.backgroundChildren[t],e);return this}};var ET=function(e,t){if(typeof e=="string")this.childrenMap[e]=t;else{var i=e;for(e in i)this.childrenMap[e]=i[e]}return this},lN=function(e){if(typeof e=="object"){var t=e;for(var e in this.childrenMap)if(this.childrenMap[e]===t)return delete this.childrenMap[e],this}return delete this.childrenMap[e],this},uN=function(e,t){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){t===void 0&&(t=!1);var i=e.shift(),r=null;if(i.charAt(0)==="#")i=i.substring(1),r=this.getByName(i,t);else if(e.length===0&&t){var g=this.childrenMap;if(g)for(var S=[g],n;S.length;){g=S.shift();for(var C in g)if(n=g[C],C===i){r=n;break}else n&&typeof n=="object"&&n.childrenMap&&S.push(n.childrenMap);if(r)break}}else if(i.indexOf("[")===-1)this.childrenMap&&(r=this.childrenMap[i]);else{var s=i.match(dN);if(s!=null&&this.childrenMap){var o=this.childrenMap[s[1]];o&&(r=o[s[2]])}}return e.length===0?r:r&&r.childrenMap?r.getElement(e):null}};const dN=/(\S+)\[(\d+)\]/i;var fN=function(e){if(Array.isArray(this.sizerChildren)){var t=this.sizerChildren.indexOf(e);return t===-1&&(t=null),t}else{if(this.getParentSizer(e)!==this)return null;for(var i in this.sizerChildren)if(this.sizerChildre[i]===e)return i;return null}};const cN={getInnerPadding(e){return hf(this.space,e)},setInnerPadding(e,t){return fn(this.space,e,t),this},getOuterPadding(e){return hf(this.getSizerConfig(this).padding,e)},setOuterPadding(e,t){return fn(this.getSizerConfig(this).padding,e,t),this},getChildOuterPadding(e,t){return typeof e=="string"&&(e=this.getElement(e)),hf(this.getSizerConfig(e).padding,t)},setChildOuterPadding(e,t,i){return typeof e=="string"&&(e=this.getElement(e)),fn(this.getSizerConfig(e).padding,t,i),this}};var Ex=function(e){var t=this.childrenWidth;if(t!==void 0){var i=this.minWidth!==void 0?this.minWidth*this.scaleX:0;return e===void 0?(e=Math.max(i,t),this.layoutWarnEnable&&i>0&&t>i&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${i}) < childrenWidth (${t})`)):this.layoutWarnEnable&&(i>e||t>e)&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${i}) or childrenWidth (${t} > targetWidth ${e})`),e}},Mx=function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runWidthWrap)&&(!e.hasWidthWrap||e.hasWidthWrap()))return!0;return!1},vN=function(e){var t,i,r;for(var g in this.sizerChildren)t=this.sizerChildren[g],t&&t.isRexSizer&&!t.ignoreLayout&&(i=this.getExpandedChildWidth(t,e),r=t.resolveWidth(i),r===void 0&&(r=i),t.resolveChildrenWidth(r))},wx=function(e){var t,i,r;for(var g in this.sizerChildren)t=this.sizerChildren[g],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(i=this.getExpandedChildWidth(t,e),t.isRexSizer?(r=t.resolveWidth(i),r===void 0&&(r=i)):r=i,t.runWidthWrap(r));return this},Rx=function(e){var t=this.childrenHeight;if(t!==void 0){var i=this.minHeight!==void 0?this.minHeight*this.scaleY:0;return e===void 0?(e=Math.max(i,t),this.layoutWarnEnable&&i>0&&t>i&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${i}) < childrenHeight (${t})`)):this.layoutWarnEnable&&(i>e||t>e)&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${i}) or childrenHeight (${t}) > targetHeight (${e})`),e}},Ax=function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runHeightWrap)&&(!e.hasHeightWrap||e.hasHeightWrap()))return!0;return!1},pN=function(e){var t,i,r;for(var g in this.sizerChildren)t=this.sizerChildren[g],t&&t.isRexSizer&&!t.ignoreLayout&&(i=this.getExpandedChildHeight(t,e),r=t.resolveHeight(i),r===void 0&&(r=i),t.resolveChildrenHeight(r))},Lx=function(e){var t,i,r;for(var g in this.sizerChildren)t=this.sizerChildren[g],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(i=this.getExpandedChildHeight(t,e),t.isRexSizer?(r=t.resolveHeight(i),r===void 0&&(r=i)):r=i,t.runHeightWrap(r));return this},gN=function(e){var t;if(e.isRexSizer){var i=e.childrenWidth;if(i==null)return;var r=e.minWidth*e.scaleX;t=Math.max(r,i)}else e.minWidth!==void 0?t=e.minWidth:e._minWidth!==void 0?t=e._minWidth:t=Ft(e);return t},mN=function(e){var t;if(e.isRexSizer){var i=e.childrenHeight;if(i===void 0)return;var r=e.minHeight*e.scaleY;t=Math.max(r,i)}else e.minHeight!==void 0?t=e.minHeight:e._minHeight!==void 0?t=e._minHeight:t=bt(e);return t},xN=function(e,t){return t},yN=function(e,t){return t},CN=function(){return 0},TN=function(){return 0},SN=function(e){e===void 0&&(e=[]);for(var t=e.length,i=this.getChildrenSizers(e),r=e.length,g=t;g<r;g++)i[g].getAllChildrenSizers(e);return e},PN=function(e){return e===void 0&&(e=[]),e};const EN={getShownChildren(e){e===void 0&&(e=[]);for(var t=this.children,i,r=0,g=t.length;r<g;r++)i=t[r],!(i.rexSizer&&i.rexSizer.hidden)&&e.push(i);return e},getAllShownChildren(e){e===void 0&&(e=[]);for(var t=[this];t.length>0;){var i=t.shift();i.rexSizer&&i.rexSizer.hidden||(i!==this&&e.push(i),i.isRexContainerLite&&t.push(...i.children))}return e}};var ql=function(){this._childrenWidth=void 0,this._childrenHeight=void 0;for(var e=this.getChildrenSizers(),t,i=0,r=e.length;i<r;i++)t=e[i],!t.ignoreLayout&&t.preLayout()},MN=function(){return this.runLayout(),this},wN=function(e){if(e.resize)return!0;if(!e.setSize)return!1;for(var t=0,i=MT.length;t<i;t++){var r=MT[t];if(r&&e instanceof r)return!1}return!0},MT=[Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Mesh,Phaser.GameObjects.Shader,Phaser.GameObjects.Video],RN=function(e){if(e.displayWidth===void 0)return!1;for(var t=0,i=wT.length;t<i;t++){var r=wT[t];if(r&&e instanceof r)return!1}return!0},wT=[Phaser.GameObjects.BitmapText],Je=function(e,t,i){if(!(!e||t===void 0&&i===void 0))if(wN(e)){var r,g;t===void 0?r=e.width:r=t/e.scaleX,i===void 0?g=e.height:g=i/e.scaleY,e.resize?e.resize(r,g):e.setSize(r,g)}else{var S=RN(e);t!==void 0&&(S?e.displayWidth=t:e.scaleX=t/e.width),i!==void 0&&(S?e.displayHeight=i:e.scaleY=i/e.height)}},AN=function(e,t,i){if(this.ignoreLayout)return this;var r=!e;r&&this.preLayout();var g,S;r||e.runChildrenWrapFlag?(g=this.hasWidthWrap(),S=this.hasHeightWrap()):(g=!1,S=!1);var n=LN(this,t,i,g,S);n||console.error("Can't resolve size of ",this);var C=n.width,s=n.height;return Je(this,C,s),this.sizerEventsEnable&&this.layoutedChildren===void 0&&(this.layoutedChildren=[]),this.layoutChildren(),this.layoutBackgrounds(),this.sizerEventsEnable&&(this.emit("postlayout",this.layoutedChildren,this),this.layoutedChildren.length=0),this.postLayout(e,C,s),r&&this._anchor&&this._anchor.updatePosition(),this},LN=function(e,t,i,r,g){var S=RT(e,t,r),n=ON(e,i,g);return S===void 0&&(S=RT(e,t,r)),S!==void 0&&n!==void 0?{width:S,height:n}:!1},RT=function(e,r,i){var r=e.resolveWidth(r);return r!==void 0&&i&&(e.resolveChildrenWidth(r),e.runWidthWrap(r)),r},ON=function(e,r,i){var r=e.resolveHeight(r);return r!==void 0&&i&&(e.resolveChildrenHeight(r),e.runHeightWrap(r)),r},FN=function(){},bN=function(e,t,i){return this},DN=function(e,t,i,r){Je(i,e,t)};const fd=Phaser.Utils.Objects.GetValue;class Ox extends Qt{constructor(t,i){super(t,{eventEmitter:!1}),this.viewport=void 0,this.resetFromJSON(i)}shutdown(t){this.isShutdown||(this.autoAnchor(!1),this.viewport=void 0,this.onUpdateViewportCallback=void 0,this.onUpdateViewportCallbackScope=void 0,this.onResizeCallback=void 0,this.onResizeCallbackScope=void 0,super.shutdown(t))}resetFromJSON(t){t===void 0&&(t={});var i,r;t.x!==void 0?(i=null,r=t.x):t.left!==void 0?(i=0,r=t.left):t.right!==void 0?(i=1,r=t.right):t.centerX!==void 0&&(i=.5,r=t.centerX);var g,S;t.y!==void 0?(g=null,S=t.y):t.top!==void 0?(g=0,S=t.top):t.bottom!==void 0?(g=1,S=t.bottom):t.centerY!==void 0&&(g=.5,S=t.centerY);var n,C;r!==void 0&&(r=r.replace("left","0%").replace("right","100%").replace("center","50%").split("%"),n=parseFloat(r[0])/100,C=r[1]===""?0:parseFloat(r[1]));var s,o;S!==void 0&&(S=S.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%"),s=parseFloat(S[0])/100,o=S[1]===""?0:parseFloat(S[1]));var y=t.width,f,u;y!==void 0&&(y=y.split("%"),f=parseFloat(y[0])/100,u=y[1]===""?0:parseFloat(y[1]));var l=t.height,a,d;l!==void 0&&(l=l.split("%"),a=parseFloat(l[0])/100,d=l[1]===""?0:parseFloat(l[1])),this.setAlign(i,g),this.setPercentage(n,s),this.setOffset(C,o),this.setSizePercentage(f,a),this.setSizePadding(u,d);var v=fd(t,"onResizeCallback",DN),h=fd(t,"onResizeCallbackScope");this.setResizeCallback(v,h);var c=fd(t,"onUpdateViewportCallback"),p=fd(t,"onUpdateViewportCallbackScope");return this.setUpdateViewportCallback(c,p),this.autoAnchor(t.enable),this}autoAnchor(t){return t===void 0&&(t=!0),t=!!t,this.autoAnchorEnable===t?this:(t?(this.scene.sys.scale.on("resize",this.anchor,this),this.anchor()):this.scene.sys.scale.off("resize",this.anchor,this),this.autoAnchorEnable=t,this)}setAlign(t,i){return this.alignX=t,this.alignY=i,this}setPercentage(t,i){return this.percentageX=t,this.percentageY=i,this}setOffset(t,i){return this.offsetX=t,this.offsetY=i,this}setSizePercentage(t,i){return this.percentageWidth=t,this.percentageHeight=i,this}setSizePadding(t,i){return this.paddingWidth=t,this.paddingHeight=i,this}setResizeCallback(t,i){return this.onResizeCallback=t,this.onResizeCallbackScope=i,this}setUpdateViewportCallback(t,i){return this.onUpdateViewportCallback=t,this.onUpdateViewportCallbackScope=i,this}anchor(){return this.updateViewport(),this.updateSize(),this.updatePosition(),this}updateSize(){var t=this.onResizeCallback,i=this.onResizeCallbackScope,r=this.anchorWidth,g=this.anchorHeight;if(!(r===void 0&&g===void 0||!t)){var S=this.parent;r===void 0&&(r=S.width),g===void 0&&(g=S.height),i?t.call(i,r,g,S,this):t(r,g,S,this)}}updatePosition(){var t=this.parent;return this.alignX===null?t.x=this.anchorX:this.alignX!==void 0&&(t.x=this.anchorX+t.displayWidth*(t.originX-this.alignX)),this.alignY===null?t.y=this.anchorY:this.alignY!==void 0&&(t.y=this.anchorY+t.displayHeight*(t.originY-this.alignY)),this}get anchorX(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}get anchorY(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}get anchorWidth(){if(this.percentageWidth!==void 0)return this.viewport.width*this.percentageWidth+this.paddingWidth}get anchorHeight(){if(this.percentageHeight!==void 0)return this.viewport.height*this.percentageHeight+this.paddingHeight}updateViewport(){var t=this.parent.scene.cameras.main;this.viewport=Jo(this.scene,t,this.viewport);var i=this.viewport,r=this.onUpdateViewportCallback,g=this.onUpdateViewportCallbackScope;r&&(g?r.call(g,i,this.parent,this):r(i,this.parent,this))}}var BN=function(e){e===void 0&&(e={});var t=e.hasOwnProperty("width"),i=e.hasOwnProperty("height"),r=e.hasOwnProperty("onResizeCallback");return(t||i)&&!r&&(e.onResizeCallback=function(g,S,n){t&&n.setMinWidth(g),i&&n.setMinHeight(S),n.layout()}),this._anchor===void 0?this._anchor=new Ox(this,e):this._anchor.resetFromJSON(e),this};const IN=Phaser.Utils.Objects.GetValue,Wa=Phaser.Utils.Objects.GetAdvancedValue,AT=Phaser.Math.Linear;class Ll extends Sa{constructor(t,i){super(t,i),this.scaleStart={},this.scaleEnd={},this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(IN(t,"mode",0)),this.setScaleRange(Wa(t,"start",void 0),Wa(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=GN[t]),this.mode=t,this}setScaleRange(t,i){return typeof t=="number"?(this.startX=t,this.startY=t):(this.startX=Wa(t,"x",this.parent.scaleX),this.startY=Wa(t,"y",this.parent.scaleY)),typeof i=="number"?(this.endX=i,this.endY=i):(this.endX=Wa(i,"x",void 0),this.endY=Wa(i,"y",void 0)),this.hasScaleX=this.startX!==void 0&&this.endX!==void 0,this.hasScaleY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;this.hasScaleX&&(t.scaleX=this.startX),this.hasScaleY&&(t.scaleY=this.startY);var i=this.repeat;return this.mode===2&&i!==-1&&(i=(i+1)*2-1),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(i),super.start(),this}updateTarget(t,i){var r=i.t;i.isOddIteration&&(r=1-r),r=this.easeFn(r),this.hasScaleX&&(t.scaleX=AT(this.startX,this.endX,r)),this.hasScaleY&&(t.scaleY=AT(this.startY,this.endY,r))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const GN={stop:0,destroy:1,yoyo:2};var Fx=function(e,t,i,r,g){r===void 0&&(r="Cubic");var S,n;switch(i){case 0:case"x":S={x:0},n={x:e.scaleX};break;case 1:case"y":S={y:0},n={y:e.scaleY};break;default:S=0,n=e.scale;break}var C={mode:0,start:S,end:n,duration:t,ease:r};return g===void 0?g=new Ll(e,C):g.resetFromJSON(C),g.restart(),g},tR=function(e,t,i,r,g,S){r===void 0&&(r="Linear"),g instanceof Ll&&(S=g,g=void 0),g===void 0&&(g=!0);var n={};switch(n.mode=g?1:0,i){case 0:case"x":n.end={x:0};break;case 1:case"y":n.end={y:0};break;default:n.end=0;break}return n.duration=t,n.ease=r,S===void 0?S=new Ll(e,n):S.resetFromJSON(n),S.restart(),S},kN=function(e,t,i,r,g,S,n){i===void 0&&(i=1.2),r===void 0&&(r=0),S===void 0&&(S="Cubic");var C,s;switch(g){case 0:case"x":C={x:e.scaleX},s={x:i};break;case 1:case"y":C={y:e.scaleX},s={y:i};break;default:C=e.scaleX,s=i;break}var o={mode:2,start:C,end:s,duration:t/2,ease:S,repeat:r};return n===void 0?n=new Ll(e,o):n.resetFromJSON(o),n.restart(),n};const Cp=Phaser.Utils.Objects.IsPlainObject,eR={onInitScale(){var e=this,t=this._scaleBehavior;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},popUp(e,t,i){if(Cp(e)){var r=e;e=r.duration,t=r.orientation,i=r.ease}var g=this._scaleBehavior===void 0;return this._scaleBehavior=Fx(this,e,t,i,this._scaleBehavior),g&&this.onInitScale(),this._scaleBehavior.completeEventName="popup.complete",this},popUpPromise(e,t,i){return this.popUp(e,t,i),Ne(this._scaleBehavior)},isRunningPopUp(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="popup.complete"},scaleDownDestroy(e,t,i,r){if(Cp(e)){var g=e;e=g.duration,t=g.orientation,i=g.ease,r=g.destroy}var S=this._scaleBehavior===void 0;return this._scaleBehavior=tR(this,e,t,i,r,this._scaleBehavior),S&&this.onInitScale(),this._scaleBehavior.completeEventName="scaledown.complete",this},scaleDownDestroyPromise(e,t,i,r){return this.scaleDownDestroy(e,t,i,r),Ne(this._scaleBehavior)},scaleDown(e,t,i){return this.scaleDownDestroy(e,t,i,!1),this},scaleDownPromise(e,t,i){return this.scaleDown(e,t,i),Ne(this._scaleBehavior)},isRunningScaleDown(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="scaledown.complete"},scaleYoyo(e,t,i,r,g){if(Cp(e)){var S=e;e=S.duration,t=S.peakValue,i=S.repeat,r=S.orientation,g=S.ease}var n=this._scaleBehavior===void 0;return this._scaleBehavior=kN(this,e,t,i,r,g,this._scaleBehavior),n&&this.onInitScale(),this._scaleBehavior.completeEventName="scaleyoyo.complete",this},scaleYoyoPromise(e,t,i,r,g){return this.scaleYoyo(e,t,i,r,g),Ne(this._scaleBehavior)},isRunningScaleYoyo(){return this._scaleBehavior&&(this._scaleBehavior.completeEventName="scaleyoyo.complete")},isRunningEaseScale(){return this.isRunningPopUp()||this.isRunningScaleDown()||this.isRunningScaleYoyo()}};var ur={};Object.assign(ur,eR);ur.onInitScale=function(){eR.onInitScale.call(this);var e=this,t=this._scaleBehavior;t.on("update",function(){var i=_o.getParentSizer(e);i&&i.resetChildPositionState(e)})};const NN=Phaser.Utils.Objects.GetValue,LT=Phaser.Utils.Objects.GetAdvancedValue,zN=Phaser.Math.Linear;let k0=class extends Sa{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(NN(t,"mode",0)),this.setAlphaRange(LT(t,"start",this.parent.alpha),LT(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=VN[t]),this.mode=t,this}setAlphaRange(t,i){return this.alphaStart=t,this.alphaEnd=i,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return t.setAlpha(this.alphaStart),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(t,i){var r=i.t;i.isOddIteration&&(r=1-r),t.alpha=zN(this.alphaStart,this.alphaEnd,r)}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}};const VN={stop:0,destroy:1,yoyo:2},UN=Phaser.Utils.Objects.IsPlainObject;var Lc=function(e,t,i,r){var g,S;UN(i)?(g=i.start,S=i.end):S=i,g===void 0&&(g=0),S===void 0&&(S=1);var n={mode:0,start:g,end:S,duration:t};return r===void 0?r=new k0(e,n):r.resetFromJSON(n),r.restart(),r},Oc=function(e,t,i,r){i instanceof k0&&(r=i,i=void 0),i===void 0&&(i=!0);var g={mode:i?1:0,end:0,duration:t};return r===void 0?r=new k0(e,g):r.resetFromJSON(g),r.restart(),r};const OT=Phaser.Utils.Objects.IsPlainObject,iR={onInitFade(){var e=this,t=this._fade;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},fadeIn(e,t){if(OT(e)){var i=e;e=i.duration,t=i.alpha}var r=this._fade===void 0;return this._fade=Lc(this,e,t,this._fade),r&&this.onInitFade(),this._fade.completeEventName="fadein.complete",this},fadeInPromise(e,t){return this.fadeIn(e,t),Ne(this._fade)},isRunningFadeIn(){return this._fade&&this._fade.completeEventName==="fadein.complete"},fadeOutDestroy(e,t){if(OT(e)){var i=e;e=i.duration,t=i.destroy}var r=this._fade===void 0;return this._fade=Oc(this,e,t,this._fade),r&&this.onInitFade(),this._fade.completeEventName="fadeout.complete",this},fadeOutDestroyPromise(e,t){return this.fadeOutDestroy(e,t),Ne(this._fade)},fadeOut(e){return this.fadeOutDestroy(e,!1),this},fadeOutPromise(e){return this.fadeOut(e),Ne(this._fade)},isRunningFadeOut(){return this._fade&&this._fade.completeEventName==="fadeout.complete"},isRunningEaseFade(){return this.isRunningFadeIn()||this.isRunningFadeOut()}};var Ol={};Object.assign(Ol,iR);Ol.onInitFade=function(){iR.onInitFade.call(this);var e=this,t=this._fade;t.on("update",function(){var i=_o.getParentSizer(e);i&&i.resetChildAlphaState(e)})};const XN=Phaser.Utils.Objects.GetValue,Ya=Phaser.Utils.Objects.GetAdvancedValue,FT=Phaser.Math.Linear;class Wf extends Sa{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){if(super.resetFromJSON(t),this.setMode(XN(t,"mode",0)),t&&(t.hasOwnProperty("x")||t.hasOwnProperty("y"))){var i=Ya(t,"x",void 0),r=Ya(t,"y",void 0);this.setTargetPosition(i,r)}else this.setTargetPosition(t);return this}setMode(t){return typeof t=="string"&&(t=WN[t]),this.mode=t,this}setTargetPosition(t,i){if(typeof t=="number"||typeof i=="number")this.startX=this.parent.x,this.startY=this.parent.y,this.endX=t,this.endY=i;else{var r=t;this.startX=Ya(r,"startX",void 0),this.startY=Ya(r,"startY",void 0),this.endX=Ya(r,"endX",void 0),this.endY=Ya(r,"endY",void 0)}return this.hasMoveX=this.startX!==void 0&&this.endX!==void 0,this.hasMoveY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.hasMoveX&&(t.x=this.startX),this.hasMoveY&&(t.y=this.startY),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(t,i){var r=i.t;i.isOddIteration&&(r=1-r),r=this.easeFn(r),this.hasMoveX&&(t.x=FT(this.startX,this.endX,r)),this.hasMoveY&&(t.y=FT(this.startY,this.endY,r))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const WN={stop:0,destroy:1,yoyo:2};var Yf=function(e,t){if(typeof e=="number")return e;var i=e[0],r=parseFloat(e.substr(2));switch(i){case"+":return t+r;case"-":return t-r;case"*":return t*r;case"/":return t/r}},sR=function(e,t,i,r,g,S,n){S instanceof Wf&&(n=S,S=void 0),S===void 0&&(S=!1);var C={};return C.mode=S?1:0,i!==void 0&&(C.startX=e.x,C.endX=Yf(i,e.x)),r!==void 0&&(C.startY=e.y,C.endY=Yf(r,e.y)),C.duration=t,C.ease=g===void 0?"Linear":g,n===void 0?n=new Wf(e,C):n.resetFromJSON(C),n.restart(),n},rR=function(e,t,i,r,g,S,n){S instanceof Wf&&(n=S,S=void 0),S===void 0&&(S=!1);var C={};return C.mode=S?1:0,i!==void 0&&(C.startX=Yf(i,e.x),C.endX=e.x),r!==void 0&&(C.startY=Yf(r,e.y),C.endY=e.y),C.duration=t,C.ease=g===void 0?"Linear":g,n===void 0?n=new Wf(e,C):n.resetFromJSON(C),n.restart(),n};const bT=Phaser.Utils.Objects.IsPlainObject,DT=Phaser.Math.Distance.Between,nR={onInitEaseMove(){var e=this,t=this._easeMove;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},moveFrom(e,t,i,r,g){if(bT(e)){var S=e;t=S.x,i=S.y,S.hasOwnProperty("speed")?e=DT(t,i,this.x,this.y)*1e3/S.speed:e=S.duration,r=S.ease}var n=this._easeMove===void 0;return this._easeMove=rR(this,e,t,i,r,g,this._easeMove),n&&this.onInitEaseMove(),this._easeMove.completeEventName="movefrom.complete",this},moveFromPromise(e,t,i,r,g){return this.moveFrom(e,t,i,r,g),Ne(this._easeMove)},moveFromDestroy(e,t,i,r){return this.moveFrom(e,t,i,r,!0),this},moveFromDestroyPromise(e,t,i,r){return this.moveFromDestroy(e,t,i,r),Ne(this._easeMove)},isRunningMoveFrom(){return this._easeMove&&(this._easeMove.completeEventName="movefrom.complete")},moveTo(e,t,i,r,g){if(bT(e)){var S=e;t=S.x,i=S.y,S.hasOwnProperty("speed")?e=DT(t,i,this.x,this.y)*1e3/S.speed:e=S.duration,r=S.ease}var n=this._easeMove===void 0;return this._easeMove=sR(this,e,t,i,r,g,this._easeMove),n&&this.onInitEaseMove(),this._easeMove.completeEventName,this},moveToPromise(e,t,i,r,g){return this.moveTo(e,t,i,r,g),Ne(this._easeMove)},moveToDestroy(e,t,i,r){return this.moveTo(e,t,i,r,!0),this},moveToDestroyPromise(e,t,i,r){return this.moveToDestroy(e,t,i,r,!0),Ne(this._easeMove)},isRunningMoveTo(){return this._easeMove&&this._easeMove.completeEventName==="moveto.complete"},isRunningEaseMove(){return this.isRunningMoveFrom()||this.isRunningMoveTo()},moveStop(e){return this._easeMove?(this._easeMove.stop(e),this):this}};var Fc={};Object.assign(Fc,nR);Fc.onInitEaseMove=function(){nR.onInitEaseMove.call(this);var e=this,t=this._easeMove;t.on("update",function(){var i=_o.getParentSizer(e);i&&i.resetChildPositionState(e)})};const Ui=Phaser.Utils.Objects.GetValue;class bx extends Tc{constructor(t,i){super(t,i),this.timer=new nw,this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.timer.resetFromJSON(Ui(t,"timer")),this.setEnable(Ui(t,"enable",!0)),this.setMode(Ui(t,"mode",1)),this.isRunning=Ui(t,"isRunning",!1),this.setMagnitudeMode(Ui(t,"magnitudeMode",1)),this.setAxisMode(Ui(t,"axis",0)),this.setDuration(Ui(t,"duration",500)),this.setMagnitude(Ui(t,"magnitude",10)),this.ox=Ui(t,"ox",void 0),this.oy=Ui(t,"oy",void 0),this}toJSON(){return{timer:this.timer.toJSON(),enable:this.enable,mode:this.mode,isRunning:this.isRunning,magnitudeMode,duration:this.duration,magnitude:this.magnitude,ox:this.ox,oy:this.oy}}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}startTicking(){super.startTicking(),this.mode===0?(this.scene.game.events.on("poststep",this.update,this),this.scene.game.events.on("prestep",this.backToOrigin,this)):this.scene.sys.events.on("preupdate",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&(this.mode===0?(this.scene.game.events.off("poststep",this.update,this),this.scene.game.events.off("prestep",this.backToOrigin,this)):this.scene.sys.events.off("preupdate",this.update,this))}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setMode(t){return typeof t=="string"&&(t=YN[t]),this.mode=t,this}setMagnitudeMode(t){return typeof t=="string"&&(t=$N[t]),this.magnitudeMode=t,this}setAxisMode(t){return typeof t=="string"&&(t=HN[t]),this.axisMode=t,this}setDuration(t){return this.duration=t,this}setMagnitude(t){return this.magnitude=t,this}start(t,i){if(typeof t!="number"){var r=t;i=Ui(r,"magnitude",void 0),t=Ui(r,"duration",void 0)}return i!==void 0&&this.setMagnitude(i),t!==void 0&&this.setDuration(t),this.timer.setDuration(this.duration).start(),super.start(),this}shake(t,i){return this.start(t,i),this}update(t,i){if(!this.isRunning||!this.enable)return this;var r=this.parent;if(!r.active)return this;if(this.timer.update(t,i),this.timer.isDone)this.backToOrigin(),this.complete();else{this.ox===void 0&&(this.ox=r.x,this.oy=r.y);var g=this.magnitude;this.magnitudeMode===1&&(g*=1-this.timer.t);var S=Math.random()*Math.PI*2,n=this.ox+Math.cos(S)*g,C=this.oy+Math.sin(S)*g;switch(this.axisMode){case 1:r.x=n;break;case 2:r.y=C;break;default:r.x=n,r.y=C;break}}return this}backToOrigin(){if(!this.isRunning||!this.enable)return this;if(this.ox===void 0)return this;var t=this.parent;switch(this.axisMode){case 1:t.x=this.ox;break;case 2:t.y=this.oy;break;default:t.x=this.ox,t.y=this.oy;break}return this.ox=void 0,this.oy=void 0,this}}const YN={effect:0,behavior:1},HN={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2},$N={constant:0,decay:1},KN=Phaser.Utils.Objects.IsPlainObject;var ZN=function(e,t){t.on("complete",function(){e.emit("shake.complete",e)})};const JN={shake(e,t,i){if(KN(e)){var r=e;e=r.duration,t=r.magnitude,i=r.magnitudeMode}return this._shake===void 0&&(this._shake=new bx(this,{mode:0,magnitudeMode:1}),ZN(this,this._shake)),e!==void 0&&this._shake.setDuration(e),t!==void 0&&this._shake.setMagnitude(t),i!==void 0&&this._shake.setMagnitudeMode(i),this._shake.shake(),this},shakePromise(e,t){return this.shake(e,t),Ne(this._shake)}},BT=Phaser.Utils.Objects.IsPlainObject;class QN extends Qt{constructor(t,i){super(t,i),this.parent.setDataEnabled(),this.easeTasks={}}complete(t){this.emit(`complete-${t}`,this.parent,this),this.emit("complete",t,this.parent,this)}getEaseTask(t){var i=this.easeTasks[t];return i===void 0&&(i=new yr(this.parent),this.easeTasks[t]=i,i.setTarget(this.parent.data.values).on("complete",function(){this.complete(t)},this)),i}easeTo(t,i,r,g){if(BT(t)){var S=t;t=S.key,i=S.value,r=S.duration,g=S.ease;var n=S.speed;r===void 0&&n!==void 0&&(r=Math.abs(i-this.parent.data.values[t])/n*1e3)}r===void 0&&(r=1e3),g===void 0&&(g="Linear");var C=this.getEaseTask(t);return C.restart({key:t,to:i,duration:r,ease:g}),this}easeFrom(t,i,r,g){if(BT(t)){var S=t;t=S.key,i=S.value,r=S.duration,g=S.ease;var n=S.speed;r===void 0&&n!==void 0&&(r=Math.abs(i-this.parent.data.values[t])/n*1e3)}r===void 0&&(r=1e3),g===void 0&&(g="Linear");var C=this.getEaseTask(t);return C.restart({key:t,from:i,duration:r,ease:g}),this}stopEase(t,i){i===void 0&&(i=!0);var r=this.easeTasks[t];return r&&r.stop(i),this}stopAll(t){t===void 0&&(t=!0);for(var i in this.easeTasks)this.stopEase(i,t);return this}}var jN=function(e,t){t.on("complete",function(i){e.emit(`easedata.${i}.complete`,e),e.emit("easedata.complete",i,e)})};const qN={easeDataTo(e,t,i,r){return this._easeData||(this._easeData=new QN(this),jN(this,this._easeData)),this._easeData.easeTo(e,t,i,r),this},easeDataToPromise(e,t,i,r){return this.easeDataTo(e,t,i,r),Pc(this._easeData,`complete-${e}`)},stopEaseData(e,t){return this._easeData?(this._easeData.stopEase(e,t),this):this},stopAllEaseData(e){return this._easeData?(this._easeData.stopAll(e),this):this}};var _N=Phaser.Utils.Array.Remove,tz=function(e){e._delayCallTimers=[],e.once("destroy",function(){for(var t=e._delayCallTimers,i=0,r=t.length;i<r;i++)t[i].remove();e._delayCallTimers=void 0})};const aR={delayCall(e,t,i){var r=this._delayCallTimers;r===void 0&&tz(this);var g,S=this,n=function(){_N(S._delayCallTimers,g),i?t.call(i):t()};return g=this.scene.time.delayedCall(e,n),this._delayCallTimers.push(g),this}};var jr=function(e){oR(e,!1)},qr=function(e){oR(e,!0)},Dx=function(e){if(!e)return!1;var t=Ac(e);return!t.hidden},oR=function(e,t){if(e){var i=Ac(e);i.hidden=t;var r=Bi(e);r?r.setChildVisible(e,!t):e.setVisible(!t)}};const ez={show(e){return e===void 0&&(e=this),jr(e),this},hide(e){return e===void 0&&(e=this),qr(e),this},isShow(e){return e===void 0&&(e=this),Dx(e)}},iz=["next","exit","enter"];let hR=class{constructor(t){var i=Bt(t,"states",void 0);i&&this.addStates(i);var r=Bt(t,"extend",void 0);if(r)for(var g in r)(!this.hasOwnProperty(g)||this[g]===void 0)&&(this[g]=r[g]);var S=Bt(t,"eventEmitter",void 0),n=Bt(t,"EventEmitterClass",void 0);this.setEventEmitter(S,n),this._stateLock=!1,this.resetFromJSON(t)}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}resetFromJSON(t){this.setEnable(Bt(t,"enable",!0)),this.start(Bt(t,"start",void 0));var i=Bt(t,"init",void 0);return i&&i.call(this),this}toJSON(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}set state(t){if(!(!this.enable||this._stateLock)&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),this._prevState!=null){var i="exit_"+this._prevState,r=this[i];r&&r.call(this),this.emit(i,this)}if(this._stateLock=!1,this._state!=null){var g="enter_"+this._state,S=this[g];S&&S.call(this),this.emit(g,this)}}}get state(){return this._state}get prevState(){return this._prevState}start(t){return this._start=t,this._prevState=void 0,this._state=t,this}goto(t){return t!=null&&(this.state=t),this}next(){var t,i=this["next_"+this.state];return i&&(typeof i=="string"?t=i:t=i.call(this)),this.goto(t),this}get stateProperties(){return iz}addState(t,i){typeof t!="string"&&(i=t,t=i.name);for(var r=this.stateProperties,g=0,S=r.length;g<S;g++){var n=r[g],C=i[n];C&&(this[`${n}_${t}`]=C)}return this}addStates(t){if(Array.isArray(t))for(var i=0,r=t.length;i<r;i++)this.addState(t[i]);else for(var g in t)this.addState(g,t[g]);return this}runMethod(t,i,r,g,S,n){var C=this[t+"_"+this.state];if(C){var s=arguments.length;switch(s){case 1:return C.call(this);case 2:return C.call(this,i);case 3:return C.call(this,i,r);case 4:return C.call(this,i,r,g);case 5:return C.call(this,i,r,g,S);case 6:return C.call(this,i,r,g,S,n)}for(var o=new Array(s-1),y=1;y<s;y++)o[y-1]=arguments[y];return C.apply(this,o)}}};Object.assign(hR.prototype,gw);var Tp=function(e,t,i,r,g){g===void 0&&(g=!1);var S=e._events[t];if(!S)return!1;for(var n=0,C=S.length;n<C;n++){var s=S[n];if(s.fn===i&&s.context===r&&s.once===g)return!0}return!1};const sz=["next","exit","enter","update","preupdate","postupdate"];class Mr extends hR{shutdown(){this.stopUpdate(),this.stopPreUpdate(),this.stopPostUpdate(),this._scene=void 0,super.shutdown()}resetFromJSON(t){return super.resetFromJSON(t),this._scene=Bt(t,"scene",void 0),this}get stateProperties(){return sz}update(t,i){this.runMethod("update",t,i)}preupdate(t,i){this.runMethod("preupdate",t,i)}postupdate(t,i){this.runMethod("postupdate",t,i)}startUpdate(t){t||(t=this._scene);var i=t.sys.events;return Tp(i,"update",this.update,this)?this:(this._scene=t,i.on("update",this.update,this),this)}stopUpdate(){return this._scene?(this._scene.sys.events.off("update",this.update,this),this):this}startPreUpdate(t){t||(t=this._scene);var i=t.sys.events;return Tp(i,"preupdate",this.preupdate,this)?this:(this._scene=t,i.on("preupdate",this.preupdate,this),this)}stopPreUpdate(){return this._scene?(this._scene.sys.events.off("preupdate",this.preupdate,this),this):this}startPostUpdate(t){t||(t=this._scene);var i=t.sys.events;return Tp(i,"postupdate",this.postupdate,this)?this:(this._scene=t,i.on("postupdate",this.postupdate,this),this)}stopPostUpdate(){return this._scene?(this._scene.sys.events.off("postupdate",this.postupdate,this),this):this}}let rz=class extends Mr{constructor(t,i){super(i),this.parent=t;var r=i.initState||"IDLE";this.start(r)}init(){this.start("IDLE")}next_IDLE(){return"TRANS_OPNE"}next_TRANS_OPNE(){return"OPEN"}enter_TRANS_OPNE(){var t=this.parent;if(t.transitInTime>0){var i=t.runTransitionInCallback();t.delayCall(i,this.next,this)}else this.next()}exit_TRANS_OPNE(){var t=this.parent;t.removeDelayCall()}next_OPEN(){return"TRANS_CLOSE"}enter_OPEN(){var t=this.parent;t.onOpen()}exit_OPEN(){var t=this.parent;t.removeDelayCall()}next_TRANS_CLOSE(){return"CLOSE"}enter_TRANS_CLOSE(){var t=this.parent;if(t.transitOutTime>0){var i=t.runTransitionOutCallback();t.delayCall(i,this.next,this)}else this.next()}exit_TRANS_CLOSE(){var t=this.parent;t.removeDelayCall()}next_CLOSE(){return"TRANS_OPNE"}enter_CLOSE(){var t=this.parent;t.onClose()}exit_CLOSE(){}canOpen(){return this.state==="IDLE"||this.state==="CLOSE"}canClose(){return this.state==="IDLE"||this.state==="OPEN"}};var nz=function(e,t,i,r,g){var S=Qo(e),n=S.time.delayedCall(t,function(){S.game.events.once("poststep",function(){i.call(r,g)})});return n};const az={delayCall(e,t,i){return this.delayCallTimer=nz(this,e,t,i),this},removeDelayCall(){return this.delayCallTimer&&(this.delayCallTimer.remove(!1),this.delayCallTimer=void 0),this}},oz={setTransitInTime(e){return this.transitInTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInCallback(e){return e||(e=Ee),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=Ee),this.transitOutCallback=e,this}},hz={runTransitionInCallback(){return this.transitInCallback(this.parent,this.transitInTime),this.transitInTime},onOpen(){},requestOpen(e,t){if(!this._state.canOpen())return this;this.openEventData=arguments.length>0?e:this.parent;var i=this.transitInTime;return t!==void 0&&(this.transitInTime=t),this._state.goto("TRANS_OPNE"),this.transitInTime=i,this}},lz={runTransitionOutCallback(){return this.transitOutCallback(this.parent,this.transitOutTime),this.transitOutTime},onClose(){this.oneShotMode&&this.parent.destroy()},requestClose(e,t){if(!this._state.canClose)return this;this.closeEventData=arguments.length>0?e:this.parent;var i=this.transitOutTime;return t!==void 0&&(this.transitOutTime=t),this._state.goto("TRANS_CLOSE"),this.transitOutTime=i,this}};var lR={};Object.assign(lR,az,oz,hz,lz);const Ha=Phaser.Utils.Objects.GetValue;class bc extends Qt{constructor(t,i){super(t,i),this.setTransitInTime(Ha(i,"duration.in",200)),this.setTransitOutTime(Ha(i,"duration.out",200)),this.setTransitInCallback(Ha(i,"transitIn")),this.setTransitOutCallback(Ha(i,"transitOut")),this.oneShotMode=Ha(i,"destroy",!1),this.delayCallTimer=void 0,this._state=new rz(this,{eventEmitter:!1,initState:Ha(i,"initState","IDLE")}),this.openEventData=void 0,this.closeEventData=void 0}get state(){return this._state.state}shutdown(t){this.isShutdown||(this.transitInCallback=void 0,this.transitOutCallback=void 0,this.openEventData=void 0,this.closeEventData=void 0,this.removeDelayCall(),super.shutdown(t))}}Object.assign(bc.prototype,lR);const uz=Phaser.GameObjects.Rectangle;class Bx extends uz{constructor(t,i,r){super(t,0,0,2,2,i,1),this.fullWindow=new bw(this),this.setAlpha(r)}get tint(){return this.fillColor}set tint(t){this.setFillStyle(t,this.fillAlpha)}}const Sp=Phaser.Utils.Objects.GetValue;class Dc extends Qt{constructor(t,i){super(t,{eventEmitter:!1}),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setHitAreaMode(Sp(t,"hitAreaMode",0)),this.setEnable(Sp(t,"enable",!0)),this.setStopMode(Sp(t,"stopAllLevels",!0)),this}boot(){this.parent.on("pointerdown",function(t,i,r,g){this.stopAllLevels&&g.stopPropagation()},this).on("pointerup",function(t,i,r,g){this.stopAllLevels&&g.stopPropagation()},this).on("pointermove",function(t,i,r,g){this.stopAllLevels&&g.stopPropagation()},this).on("pointerover",function(t,i,r,g){this.stopAllLevels&&g.stopPropagation()},this).on("pointerout",function(t,i){this.stopAllLevels&&i.stopPropagation()},this)}setHitAreaMode(t){typeof t=="string"&&(t=dz[t]);var i=this.parent;return i.input&&i.removeInteractive(),t===0?i.setInteractive():i.setInteractive({hitArea:{},hitAreaCallback:function(){return!0}}),this}setEnable(t){return t===void 0&&(t=!0),t?this.parent.setInteractive():this.parent.disableInteractive(),this.enable=t,this}setStopMode(t){return t===void 0&&(t=!0),this.stopAllLevels=t,this}toggleEnable(){return this.setEnable(!this.enable),this}}var dz={default:0,fullWindow:1};const IT=Phaser.Utils.Objects.GetValue;class Ix extends Bx{constructor(t,i){var r=IT(i,"color",0),g=IT(i,"alpha",.8);super(t,r,g),this.touchEventStop=new Dc(this,{hitAreaMode:1})}}var fz=function(e,t){var i=e.scene,r=new Ix(i,t);return i.add.existing(r),e.isRexContainerLite?(e.pin(r,{syncPosition:!1,syncRotation:!1,syncScale:!1,syncAlpha:!1,syncScrollFactor:!1}),e.moveDepthBelow(r)):i.children.moveBelow(r,e),r};const cd={popUp(e,t){e._modalScaleSave!==void 0?(e.scaleX=e._modalScaleSave,e.scaleY=e._modalScaleSave):e._modalScaleSave=e.scaleX,Fx(e,t)},scaleDown(e,t){tR(e,t,void 0,void 0,!1)},fadeIn(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,Lc(e,t)},fadeOut(e,t){Oc(e,t,!1)}};var cz=function(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,Lc(e,t,e.alpha)},vz=function(e,t){Oc(e,t,!1)},Bc=function(e,t,i,r,g){if(!e||r&&!r(e,t,i))return!1;var S=qm(e,!0);return!(!S.contains(t,i)||g&&!g(e,t,i))};const Ls=Phaser.Utils.Objects.GetValue;let pz=class extends bc{constructor(t,i){i===void 0&&(i={}),i.transitIn==null&&(i.transitIn=Ir.popUp),i.transitOut==null&&(i.transitOut=Ir.scaleDown),i.destroy=Ls(i,"destroy",!0),super(t,i);var r=Ls(i,"cover");this.cover=r!==!1?fz(t,r):void 0,this.cover&&(this.setCoverTransitInCallback(Ls(r,"transitIn",cz)),this.setCoverTransitOutCallback(Ls(r,"transitOut",vz)));var g=Ls(i,"touchOutsideClose",!1),S=Ls(i,"duration.hold",-1),n=Ls(i,"timeOutClose",S>=0),C=Ls(i,"anyTouchClose",!1),s=Ls(i,"manualClose",!1);s&&(g=!1,C=!1,n=!1),C&&(g=!1),n?this.setDisplayTime(S):this.setDisplayTime(-1),C?this.once("open",this.anyTouchClose,this):g&&this.once("open",this.touchOutsideClose,this),Ls(i,"openOnStart",!0)&&this.delayCall(0,this.requestOpen,this)}shutdown(t){this.isShutdown||(this.cover||this.scene.input.off("pointerup",this.touchCloseCallback,this),this.cover&&!t&&(this.cover.destroy(),this.cover=void 0),super.shutdown(t))}touchOutsideClose(){return this.cover?this.cover.on("pointerup",this.touchCloseCallback,this):this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.cover?this.cover.once("pointerup",this.touchCloseCallback,this):this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&Bc(this.parent,t.worldX,t.worldY)||this.requestClose()}runTransitionInCallback(){var t=super.runTransitionInCallback(),i=this.cover;return i&&this.coverTransitInCallback&&this.coverTransitInCallback(i,t),t}runTransitionOutCallback(){var t=super.runTransitionOutCallback(),i=this.cover;return i&&this.coverTransitOutCallback&&this.coverTransitOutCallback(i,t),t}onOpen(){var t=this.displayTime;t>=0&&this.delayCall(t,this.requestClose,this),this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.closeEventData),super.onClose()}setDisplayTime(t){return this.displayTime=t,this}setTransitInCallback(t){switch(typeof t=="string"&&(t=Ir[t]),t){case Ir.popUp:t=cd.popUp;break;case Ir.fadeIn:t=cd.fadeIn;break}return super.setTransitInCallback(t),this}setTransitOutCallback(t){switch(typeof t=="string"&&(t=Ir[t]),t){case Ir.scaleDown:t=cd.scaleDown;break;case Ir.fadeOut:t=cd.fadeOut;break}return super.setTransitOutCallback(t),this}setCoverTransitInCallback(t){return this.coverTransitInCallback=t,this}setCoverTransitOutCallback(t){return this.coverTransitOutCallback=t,this}};const Ir={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};var Gx=function(e,t){var i=new pz(e,t);return i.on("open",function(){e.emit("modal.open",i)}),i.on("close",function(r){e.emit("modal.close",r,i)}),e.on("modal.requestClose",i.requestClose,i),i},gz=function(e,t){var i=Gx(e,t);return new Promise(function(r,g){i.once("close",function(S){r(S)})})},uR=function(e,t){e.emit("modal.requestClose",t)},Es=function(e){return e&&typeof e=="function"};const Ic={modal(e,t){return Es(e)&&(t=e,e=void 0),this._modalBehavior===void 0&&(this.onCreateModalBehavior&&this.onCreateModalBehavior(this,e),this._modalBehavior=Gx(this,e)),t&&this._modalBehavior.once("close",t),this._modalBehavior.requestOpen(),this},modalPromise(e){var t=this;return new Promise(function(i,r){t.modal(e,i)})},modalClose(e){return uR(this,e),this}};var mz=function(e,t,i,r,g,S){return S===void 0&&(S=!1),t[S?"once":"on"](i,r,g),e.once("destroy",function(){t.off(i,r,g)}),e},qs=function(e,t,i,r,g){Es(t)&&(g=r,r=i,i=t,t=this);var S=this.scene.events;return this.bindEvent(t,S,e,i,r,g),this};const xz={bindEvent(e,t,i,r,g,S){return typeof t=="string"&&(S=g,g=r,r=i,i=t,t=e,e=this),mz(e,t,i,r,g,S),this},bindScenePreupdateEvent(e,t,i,r){return qs.call(this,"preupdate",e,t,i,r),this},bindSceneUpdateEvent(e,t,i,r){return qs.call(this,"update",e,t,i,r),this},bindScenePostupdateEvent(e,t,i,r){return qs.call(this,"postupdate",e,t,i,r),this},bindSceneRenderEvent(e,t,i,r){return qs.call(this,"render",e,t,i,r),this},bindScenePauseEvent(e,t,i,r){return qs.call(this,"pause",e,t,i,r),this},bindSceneResumeEvent(e,t,i,r){return qs.call(this,"resume",e,t,i,r),this},bindSceneSleepEvent(e,t,i,r){return qs.call(this,"sleep",e,t,i,r),this},bindSceneWakeEvent(e,t,i,r){return qs.call(this,"wake",e,t,i,r),this},bindSceneShutdownEvent(e,t,i,r){return qs.call(this,"shutdown",e,t,i,r),this}};var Hf=function(e,t,i){var r=e.camera;return r?(i===void 0?i={}:i===!0&&(i=yz),r===t?(i.x=e.worldX,i.y=e.worldY):r.getWorldPoint(e.x,e.y,i),i):null},yz={},Cz=function(e,t,i,r,g){var S=e.scene.sys.cameras.main,n,C=e.scrollFactorX===0&&e.scrollFactorY===0;if(t)return C?i(e,t.x,t.y,r,g):(n=Hf(t,S,!0),n?i(e,n.x,n.y,r,g):!1);for(var s=e.scene.input.manager,o=s.pointersTotal,y=s.pointers,f=0;f<o;f++)if(t=y[f],C){if(i(e,t.x,t.y,r,g))return!0}else{if(n=Hf(t,S,!0),!n)continue;if(i(e,n.x,n.y,r,g))return!0}return!1},$s=function(e,t,i,r){return Cz(e,t,Bc,i,r)},Tz=function(e,t){return(yi(e)||typeof e=="string")&&(t=e,e=void 0),t===void 0?t=this:typeof t=="string"&&(t=this.getElement(t)),$s(t,e)},Ms=function(e){return Object.prototype.toString.call(e)==="[object Array]"},ga=function(e,t,i,r,g){return Bc(e,t,i,Sz(r),g)},GT=function(e){var t=e.rexSizer&&e.rexSizer.hidden;return!t},Sz=function(e){return e?function(t,i,r){return GT(t)?(e(t,i,r),!0):!1}:GT},dR=function(e,t,i,r,g){if(Es(i)||(g=i,i=void 0,r=void 0),g===void 0&&(this.sizerChildren?g=this.sizerChildren:this.isRexContainerLite?g=this.children:g=this.list),Ms(g)){for(var S,n=0,C=g.length;n<C;n++)if(S=g[n],ga(S,e,t,i,r))return S}else{var S;for(var s in g)if(S=g[s],ga(S,e,t,i,r))return S}return null},Pz=function(e,t){return t===void 0?t={}:t===!0&&(t=Ez),t.x=e.x,t.y=e.y,t.scaleX=e.scaleX,t.scaleY=e.scaleY,t.width=e.width,t.height=e.height,t.displayWidth=e.displayWidth,t.displayHeight=e.displayHeight,t},Ez={},_l=function(e){this.sizerEventsEnable&&(Pz(e,this.getChildPrevState(e)),this.layoutedChildren.push(e))},tu=function(e,t,i,r,g,S,n,C){n===void 0&&(n=0),C===void 0&&(C=0),Jl(e,t,i,r,g,S),e.x+=n,e.y+=C,this.resetChildPositionState(e),this.sizerEventsEnable&&e.emit("sizer.postlayout",e,this)};const Mz=Phaser.Display.Align.CENTER;var wz=function(){if(this.backgroundChildren!==void 0)for(var e=this.backgroundChildren,t=this.left,i=this.top,r=this.width*this.scaleX,g=this.height*this.scaleY,S,n,C,s,o,y,f,u=0,l=e.length;u<l;u++)S=e[u],n=S.rexSizer,!n.hidden&&(C=n.padding,_l.call(this,S),s=t+C.left*this.scaleX,o=i+C.top*this.scaleY,y=r-(C.left+C.right)*this.scaleX,f=g-(C.top+C.bottom)*this.scaleY,Je(S,y,f),tu.call(this,S,s,o,y,f,Mz,0,0))};const Rz=Phaser.Utils.Objects.IsPlainObject;var Az=function(e,t,i){if(Rz(e)){var r=e;e=r.sensor,i=r.target,t=r.draggable}else typeof t!="boolean"&&(i=t,t=void 0);var g=typeof e;if(g==="string"){var S=e;if(e=this.getElement(S),!e)return console.error(`Can get element '${S}'`),this}else(e===void 0||g!="object")&&(t=e,e=this);return t===void 0&&(t=!0),e.input&&e.input._rexUIDragSizer?e.input.draggable=t:t&&(e.setInteractive(),e.scene.input.setDraggable(e),e.on("drag",function(n,C,s){var o=i===void 0?this.getTopmostSizer():i;o.x+=C-e.x,o.y+=s-e.y,o.emit("sizer.drag",n,C,s)},this).on("dragstart",function(n,C,s){var o=i===void 0?this.getTopmostSizer():i;o.emit("sizer.dragstart",n,C,s)},this).on("dragend",function(n,C,s,o){var y=i===void 0?this.getTopmostSizer():i;y.emit("sizer.dragend",n,C,s,o)},this).on("drop",function(n,C){var s=i===void 0?this.getTopmostSizer():i;s.emit("sizer.drop",n,C)}),e.input._rexUIDragSizer=!0),this};const kx={onClick(e,t,i,r){return e?(typeof e=="function"&&(r=i,i=t,t=e,e=this),e._click===void 0&&(e._click=new Pr(e,r)),e._click.on("click",t,i),this):this},offClick(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._click===void 0?this:(e._click.off("click",t,i),this)},enableClick(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(t),this)},disableClick(e){return e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(!1),this)}},Eh=Phaser.Utils.Objects.GetValue;class Nx extends Qt{constructor(t,i){super(t,i),this._enable=void 0;var r=Eh(i,"inputConfig",void 0);r&&t.setInteractive(r),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(Eh(t,"enable",!0)),this.setMode(Eh(t,"mode",1)),this.setClickInterval(Eh(t,"clickInterval",100)),this.setDragThreshold(Eh(t,"threshold",void 0)),this}boot(){var t=this.parent.scene;t.input.on("pointerdown",this.onPress,this),t.input.on("pointerup",this.onRelease,this),t.input.on("pointermove",this.onMove,this)}shutdown(t){if(!this.isShutdown){var i=this.parent.scene;i.input.off("pointerdown",this.onPress,this),i.input.off("pointerup",this.onRelease,this),i.input.off("pointermove",this.onMove,this),this.pointer=null,super.shutdown(t)}}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var i=t?"enable":"disable";this.emit(i,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=Lz[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}isPointerInside(t){var i=this.parent,r=i.input?ix:$s;return r(i,t)}onPress(t){this.parent.willRender(t.camera)&&this.pointer===void 0&&(this.isPointerInside(t)||(this.pointer=t,this.mode===0&&(this.isPointerInside(t)||this.click(t.downTime,t))))}onRelease(t){this.parent.willRender(t.camera)&&this.pointer===t&&(this.mode===1&&(this.isPointerInside(t)||this.click(t.upTime,t)),this.pointer=void 0)}onMove(t,i,r,g){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&(t.getDistance()>=this.dragThreshold||this.isPointerInside(t))&&this.cancel()}click(t,i){if(!this.enable)return this;if(t===void 0)return this.emit("clickoutside",this,this.parent,i),this;this.pointer=void 0;var r=this.lastClickTime;return r!==void 0&&t-r<=this.clickInterval?this:(this.lastClickTime=t,this.emit("clickoutside",this,this.parent,i),this)}cancel(){return this.pointer=void 0,this}}const Lz={press:0,pointerdown:0,release:1,pointerup:1},Oz={onClickOutside(e,t,i,r){return e?(typeof e=="function"&&(r=i,i=t,t=e,e=this),e._clickOutside===void 0&&(e._clickOutside=new Nx(e,r)),e._clickOutside.on("clickoutside",t,i),this):this},offClickOutside(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._clickOutside===void 0?this:(e._clickOutside.off("clickoutside",t,i),this)},enableClickOutside(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(t),this)},disableClickOutside(e){return e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(!1),this)}};class Fz extends Mr{constructor(){super({eventEmitter:!1}),this.goto("IDLE")}setCooldownTime(t){return this.cooldownTime=t,this.cooldownMode=t!==void 0,this}request(){return this.runMethod("request")}update_IDLE(){this.compensationTime=0}request_IDLE(){return this.next(),!0}next_IDLE(){if(this.cooldownMode)return"COOLDOWN"}enter_COOLDOWN(){this.remainderTime=this.cooldownTime+this.compensationTime}update_COOLDOWN(t,i){this.remainderTime-=i,this.remainderTime<0&&(this.compensationTime=this.cooldownTime>i?-this.remainderTime:0,this.goto("IDLE"))}request_COOLDOWN(){return!1}}const Pp=Phaser.Utils.Objects.GetValue;class Xo extends Qt{constructor(t,i){super(t,i),this._enable=void 0,this.cooldown=new Fz,this.parent.setInteractive(Pp(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.prevIsInTouch=!1,this.isInTouching=!1,this.setEnable(Pp(t,"enable",!0)),this.setCooldown(Pp(t,"cooldown",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPointIn,this),t.on("pointerover",this.onPointIn,this),t.on("pointerup",this.onPointOut,this),t.on("pointerout",this.onPointOut,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||(this.prevIsInTouch=!1,this.isInTouching=!1,this.pointer=void 0),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get cooldownTime(){return this.cooldown.cooldownTime}set cooldownTime(t){this.cooldown.setCooldownTime(t)}setCooldown(t){return this.cooldownTime=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointIn(t,i,r){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.isInTouching=!0)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0,this.isInTouching=!1)}preupdate(t,i){this.cooldown.update(t,i),!this.prevIsInTouch&&this.isInTouching&&this.emit("touchstart",this,this.parent),this.isInTouching&&this.cooldown.request()&&this.emit("intouch",this,this.parent,this.pointer),this.prevIsInTouch&&!this.isInTouching&&this.emit("touchend",this,this.parent),this.prevIsInTouch=this.isInTouching}}const bz={isPointerInBounds(e){return e===void 0?e=this:typeof e=="string"&&(e=this.getElement(e)),e?$s(e):!1},onTouching(e,t,i,r){return e?(typeof e=="function"&&(r=i,i=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new Xo(e,r)),e._inTouching.on("intouch",t,i),this):this},offTouching(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("intouch",t,i),this)},onTouchingEnd(e,t,i,r){return e?(typeof e=="function"&&(r=i,i=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new Xo(e,r)),e._inTouching.on("touchend",t,i),this):this},offTouchingEnd(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("touchend",t,i),this)},enableTouching(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(t),this)},disableTouching(e){return e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(!1),this)}},Dz={onOver(e,t,i){return e?(typeof e=="function"&&(i=t,t=e,e=this),e.setInteractive().on("pointerover",t,i),this):this},onOut(e,t,i){return e?(typeof e=="function"&&(i=t,t=e,e=this),e.setInteractive().on("pointerout",t,i),this):this}};var fR=function(e,t,i,r){if(e==="parent"){for(var g,S=0,n=t.length;S<n;S++)if(g=t[S],!!ga(g,i,r))return g.pointToChild?g.pointToChild(i,r):dR.call(g,i,r)}else for(var S=0,n=t.length;S<n;S++){var C=t[S];if(ga(C,i,r))return C}return null},is=function(e,t,i,r,g,S,n,C){var s;if(S===void 0)s=g;else{var o=i[0];if(!o)return;var y=n.camera,f=g+y.scrollX*(o.scrollFactorX-1),u=S+y.scrollY*(o.scrollFactorY-1);s=fR(r,i,f,u)}s&&e.emit(t,s,n,C)};const Bz=Phaser.Utils.Objects.GetValue;var Iz=function(e){var t=Bz(e,"down",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerdown",Gz,this))},Gz=function(e,t,i,r){var g=this._childrenInteractive;is(g.eventEmitter,`${g.eventNamePrefix}down`,g.targetSizers,g.targetMode,e.worldX,e.worldY,e,r)};const kz=Phaser.Utils.Objects.GetValue;var Nz=function(e){var t=kz(e,"up",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerup",zz,this))},zz=function(e,t,i,r){var g=this._childrenInteractive;is(g.eventEmitter,`${g.eventNamePrefix}up`,g.targetSizers,g.targetMode,e.worldX,e.worldY,e,r)};const Vz=Phaser.Utils.Objects.GetValue;var Uz=function(e){var t=Vz(e,"over",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointermove",kT,this).on("pointerover",kT,this).on("pointerout",Xz,this))},kT=function(e,t,i,r){var g=this._childrenInteractive,S=g.targetSizers[0];if(S){var n=e.camera,C=e.worldX+n.scrollX*(S.scrollFactorX-1),s=e.worldY+n.scrollY*(S.scrollFactorY-1),o=fR(g.targetMode,g.targetSizers,C,s),y=g.lastOverChild;o&&y&&o===y||(g.lastOverChild=o,is(g.eventEmitter,`${g.eventNamePrefix}out`,g.targetSizers,g.targetMode,y,void 0,e,r),is(g.eventEmitter,`${g.eventNamePrefix}over`,g.targetSizers,g.targetMode,o,void 0,e,r))}},Xz=function(e,t){var i=this._childrenInteractive,r=i.lastOverChild;i.lastOverChild=null,is(i.eventEmitter,`${i.eventNamePrefix}out`,i.targetSizers,i.targetMode,r,void 0,e,t)};const Wz=Phaser.Utils.Objects.GetValue;var Yz=function(e){var t=Wz(e,"click",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("threshold")||(t.threshold=10);var i=this._childrenInteractive;this._click=new Pr(this,t),this._click.on("click",function(r,g,S,n){is(i.eventEmitter,`${i.eventNamePrefix}click`,i.targetSizers,i.targetMode,S.worldX,S.worldY,S,n)},this)}};const Ep=Phaser.Utils.Objects.GetValue;class Gc extends Tc{constructor(t,i){var r=Qo(t);r===t&&(t=void 0),super(r,i),this.gameObject=t,t&&t.setInteractive(Ep(i,"inputConfig",void 0)),this._enable=void 0,this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setEnable(Ep(t,"enable",!0)),this.setDetectBounds(),this.gameObject===void 0?this.setDetectBounds(Ep(t,"bounds",void 0)):this.setDetectBounds(),this.tracerState=Mp,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}boot(){super.boot(),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(t){this.scene&&(this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setDetectBounds(t){return this.bounds=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t,i){if(this.enable&&this.pointer===void 0){var r=this.bounds?this.bounds.contains(t.x,t.y):!0;r&&this.pointer!==t&&(this.pointer=t,this.pointerCamera=t.camera,this.lastPointer=t,this.movedState=!1,this.tracerState=NT,this.gameObject===void 0&&(this.isTouchingAnyObject=i.length>0),this.onDragStart())}}onPointerUp(t){if(this.enable){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;i&&this.pointer===t&&(this.pointer=void 0,this.pointerCamera=void 0,this.movedState=!1,this.tracerState=Mp,this.onDragEnd())}}onPointerMove(t){if(this.enable&&t.isDown){var i=this.bounds?this.bounds.contains(t.x,t.y):!0,r=this.pointer===t;!r&&i||(r&&!i?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}dragCancel(){return this.tracerState===NT&&this.onDragEnd(),this.pointer=void 0,this.tracerState=Mp,this}onDragStart(){this.emit("dragstart",this)}onDragEnd(){this.emit("dragend",this)}onDrag(){this.emit("drag",this)}preUpdate(t,i){}postUpdate(t,i){}startTicking(){super.startTicking(),this.scene.sys.events.on("preupdate",this.preUpdate,this),this.scene.sys.events.on("postupdate",this.postUpdate,this)}stopTicking(){super.stopTicking(),this.scene&&(this.scene.sys.events.off("preupdate",this.preUpdate,this),this.scene.sys.events.off("postupdate",this.postUpdate,this))}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=Hz,this}isPointerInGameObject(t,i,r){var g=this.lastPointer;return g?$s(t,g,i,r):!1}}const Mp=0,NT=1,Hz="IDLE",zn=Phaser.Utils.Objects.GetValue,$z=Phaser.Math.Distance.Between;class kc extends Gc{constructor(t,i){super(t,i);var r=this,g={states:{IDLE:{enter:function(){r.stop(),r.tapsCount=0,r.x=0,r.y=0,r.worldX=0,r.worldY=0,r.lastPointer=void 0},exit:function(){var S=r.lastPointer;r.x=S.x,r.y=S.y,r.worldX=S.worldX,r.worldY=S.worldY}},BEGIN:{enter:function(){r.start(),r.tapsCount=0,r.emit("tappingstart",r,r.gameObject,r.lastPointer)}},RECOGNIZED:{enter:function(){r.start(),r.emit("tap",r,r.gameObject,r.lastPointer),r.emit(`${r.tapsCount}tap`,r,r.gameObject,r.lastPointer)}}},init:function(){this.state=Vn},eventEmitter:!1};this.setRecongizedStateObject(new Mr(g))}resetFromJSON(t){super.resetFromJSON(t),this.setHoldTime(zn(t,"time",250)),this.setTapInterval(zn(t,"tapInterval",200)),this.setDragThreshold(zn(t,"threshold",9)),this.setTapOffset(zn(t,"tapOffset",10));var i=zn(t,"taps",void 0);return i!==void 0?this.setTaps(i):(this.setMaxTaps(zn(t,"maxTaps",void 0)),this.setMinTaps(zn(t,"minTaps",void 0))),this}onDragStart(){switch(this.state){case Vn:this.state=$a;break;case $a:var t=this.lastPointer,i=$z(t.upX,t.upY,t.x,t.y);i>this.tapOffset&&(this.state=Ka,this.state=$a);break;case Ka:this.state=$a;break}}onDragEnd(){this.state===$a&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),this.maxTaps!==void 0&&this.tapsCount===this.maxTaps&&(this.state=Ka))}onDrag(){this.state!==Vn&&this.pointer.getDistance()>this.dragThreshold&&(this.state=Vn)}preUpdate(t,i){if(!(!this.isRunning||!this.enable)&&this.state===$a){var r=this.lastPointer;if(r.isDown){var g=t-r.downTime;g>this.holdTime&&(this.state=Vn)}else{var S=t-r.upTime;S>this.tapInterval&&(this.minTaps===void 0||this.tapsCount>=this.minTaps?this.state=Ka:this.state=Vn)}}}postUpdate(t,i){!this.isRunning||!this.enable||this.state===Ka&&(this.state=Vn)}get isTapping(){return this.state===Ka}get isTapped(){return this.isTapping}setHoldTime(t){return this.holdTime=t,this}setTapInterval(t){return this.tapInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setTapOffset(t){return this.tapOffset=t,this}setMaxTaps(t){return this.maxTaps=t,this}setMinTaps(t){return this.minTaps=t,this}setTaps(t,i){return i===void 0&&(i=t),this.setMinTaps(t).setMaxTaps(i),this}}const Vn="IDLE",$a="BEGIN",Ka="RECOGNIZED",zT=Phaser.Utils.Objects.GetValue;class Nc extends Gc{constructor(t,i){super(t,i);var r=this,g={states:{IDLE:{enter:function(){r.x=0,r.y=0,r.worldX=0,r.worldY=0,r.lastPointer=void 0},exit:function(){var S=r.lastPointer;r.x=S.x,r.y=S.y,r.worldX=S.worldX,r.worldY=S.worldY}},BEGIN:{enter:function(){r.start()},exit:function(){r.stop()}},RECOGNIZED:{enter:function(){r.emit("pressstart",r,r.gameObject,r.lastPointer)},exit:function(){r.emit("pressend",r,r.gameObject,r.lastPointer)}}},init:function(){this.state=vd},eventEmitter:!1};this.setRecongizedStateObject(new Mr(g))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(zT(t,"threshold",9)),this.setHoldTime(zT(t,"time",251)),this}onDragStart(){this.state=VT,this.holdTime===0&&(this.state=wp)}onDragEnd(){this.state=vd}onDrag(){this.state!==vd&&this.pointer.getDistance()>this.dragThreshold&&(this.state=vd)}preUpdate(t,i){if(!(!this.isRunning||!this.enable)&&this.state===VT){var r=t-this.pointer.downTime;r>=this.holdTime&&(this.state=wp)}}get isPressing(){return this.state===wp}get isPressed(){return this.isPressing}setHoldTime(t){return this.holdTime=t,this}setDragThreshold(t){return this.dragThreshold=t,this}}const vd="IDLE",VT="BEGIN",wp="RECOGNIZED",Kz=Phaser.Utils.Objects.GetValue;class cR extends Gc{constructor(t,i){super(t,i);var r=this,g={states:{IDLE:{},BEGIN:{enter:function(){var S=r.pointer;r.startX=S.x,r.startY=S.y,r.startWorldX=S.worldX,r.startWorldY=S.worldY}},RECOGNIZED:{enter:function(){r.emit("panstart",r,r.gameObject,r.lastPointer)},exit:function(){var S=r.lastPointer;r.endX=S.x,r.endY=S.y;var n=Hf(S,r.pointerCamera,!0);r.endWorldX=n.x,r.endWorldY=n.y,r.emit("panend",r,r.gameObject,r.lastPointer)}}},init:function(){this.state=UT},eventEmitter:!1};this.setRecongizedStateObject(new Mr(g))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Kz(t,"threshold",10)),this}onDragStart(){this.state=XT,this.dragThreshold===0&&(this.state=pd)}onDragEnd(){this.state=UT}onDrag(){switch(this.state){case XT:if(this.pointer.getDistance()>=this.dragThreshold){this.state=pd,this.dx=0,this.dy=0,this.dWorldX=0,this.dWorldY=0;var g=this.pointer;this.x=g.x,this.y=g.y,this.worldX=g.worldX,this.worldY=g.worldY}break;case pd:var t=this.pointerCamera,i=this.pointer.position,r=this.pointer.prevPosition;this.dx=i.x-r.x,this.dy=i.y-r.y,this.dWorldX=this.dx/t.zoom,this.dWorldY=this.dy/t.zoom;var g=this.pointer;this.x=g.x,this.y=g.y;var S=Hf(g,t,!0);this.worldX=S.x,this.worldY=S.y,this.emit("pan",this,this.gameObject,this.lastPointer);break}}get isPanning(){return this.state===pd}get isPanned(){return this.isPanning}setDragThreshold(t){return this.dragThreshold=t,this}}const UT="IDLE",XT="BEGIN",pd="RECOGNIZED",Zz=Phaser.Math.Distance.Between,Jz=Phaser.Math.Angle.Between,Qz={getDt:function(){var e=nx(this.scene);return e},getVelocity:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Zz(t.x,t.y,e.x,e.y),r=i/(this.getDt()*.001);return r},getVelocityX:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Math.abs(e.x-t.x),r=i/(this.getDt()*.001);return r},getVelocityY:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Math.abs(e.y-t.y),r=i/(this.getDt()*.001);return r},getVelocityAngle:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Jz(t.x,t.y,e.x,e.y);return i}},jz={"up&down":0,"left&right":1,"4dir":2,"8dir":3};var qz=function(e,t,i){switch(i===void 0?i={}:i===!0&&(i=_z),i.left=!1,i.right=!1,i.up=!1,i.down=!1,e=(e+360)%360,t){case 0:e<180?i.down=!0:i.up=!0;break;case 1:e>90&&e<=270?i.left=!0:i.right=!0;break;case 2:e>45&&e<=135?i.down=!0:e>135&&e<=225?i.left=!0:e>225&&e<=315?i.up=!0:i.right=!0;break;case 3:e>22.5&&e<=67.5?(i.down=!0,i.right=!0):e>67.5&&e<=112.5?i.down=!0:e>112.5&&e<=157.5?(i.down=!0,i.left=!0):e>157.5&&e<=202.5?i.left=!0:e>202.5&&e<=247.5?(i.left=!0,i.up=!0):e>247.5&&e<=292.5?i.up=!0:(e>292.5&&e<=337.5&&(i.up=!0),i.right=!0);break}return i},_z={};const Rp=Phaser.Utils.Objects.GetValue,tV=Phaser.Math.RadToDeg;class eu extends Gc{constructor(t,i){super(t,i);var r=this,g={states:{IDLE:{enter:function(){r.x=0,r.y=0,r.worldX=0,r.worldY=0},exit:function(){var S=r.lastPointer;r.x=S.x,r.y=S.y,r.worldX=S.worldX,r.worldY=S.worldY}},BEGIN:{enter:function(){r.validDrag=!1}},RECOGNIZED:{enter:function(){r.start(),r.updateDirectionStates(),r.emit("swipe",r,r.gameObject,r.lastPointer)},exit:function(){r.stop(),r.clearDirectionStates()}}},init:function(){this.state=Ap},eventEmitter:!1};this.setRecongizedStateObject(new Mr(g)),this.clearDirectionStates()}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Rp(t,"threshold",10)),this.setVelocityThreshold(Rp(t,"velocityThreshold",1e3)),this.setDirectionMode(Rp(t,"dir","8dir")),this}onDragStart(){this.state=WT}onDragEnd(){this.state=Ap}onDrag(){this.state===WT&&(this.validDrag||(this.validDrag=this.dragThreshold===0||this.pointer.getDistance()>=this.dragThreshold),this.validDrag&&this.dragVelocity>this.velocityThreshold&&(this.state=Lp))}postUpdate(t,i){!this.isRunning||!this.enable||this.state===Lp&&(this.state=Ap)}get isSwiping(){return this.state===Lp}get isSwiped(){return this.isSwiping}get dragVelocity(){var t;switch(this.dirMode){case 0:t=this.getVelocityY();break;case 1:t=this.getVelocityX();break;default:t=this.getVelocity();break}return t}setDragThreshold(t){return this.dragThreshold=t,this}setVelocityThreshold(t){return this.velocityThreshold=t,this}setDirectionMode(t){return typeof t=="string"&&(t=jz[t]),this.dirMode=t,this}updateDirectionStates(){var t=tV(this.getVelocityAngle());return qz(t,this.dirMode,this),this}clearDirectionStates(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}}Object.assign(eu.prototype,Qz);const Ap="IDLE",WT="BEGIN",Lp="RECOGNIZED",gd=Phaser.Utils.Objects.GetValue,eV=Phaser.Utils.Array.SpliceOne,iV=Phaser.Math.Distance.Between,sV=Phaser.Math.Angle.Between;class zx{constructor(t,i){var r=Qo(t);r===t&&(t=void 0);var g=r.input.manager.pointersTotal-1;g<2&&r.input.addPointer(2-g),this.scene=r,this.gameObject=t,t&&t.setInteractive(gd(i,"inputConfig",void 0)),this.setEventEmitter(gd(i,"eventEmitter",void 0)),this._enable=void 0,this.pointers=[],this.movedState={},this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setEnable(gd(t,"enable",!0)),this.bounds=gd(t,"bounds",void 0),this.tracerState=md,this.pointers.length=0,dn(this.movedState),this}boot(){this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(){this.scene&&(this.destroyEventEmitter(),this.pointers.length=0,dn(this.movedState),this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.scene=void 0,this.gameObject=void 0)}destroy(){this.shutdown()}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t){if(this.enable&&this.pointers.length!==2){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;if(i){var r=this.pointers.indexOf(t);if(r===-1)switch(this.movedState[t.id]=!1,this.pointers.push(t),this.pointerCamera=t.camera,this.tracerState){case md:this.tracerState=wh,this.onDrag1Start();break;case wh:this.tracerState=Os,this.onDrag2Start();break}}}}onPointerUp(t){if(this.enable){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;if(i){var r=this.pointers.indexOf(t);if(r!==-1)switch(delete this.movedState[t.id],eV(this.pointers,r),this.tracerState){case wh:this.tracerState=md,this.onDrag1End();break;case Os:this.tracerState=wh,this.onDrag2End(),this.onDrag1Start();break}}}}onPointerMove(t){if(this.enable&&t.isDown){var i=this.bounds?this.bounds.contains(t.x,t.y):!0,r=this.pointers.indexOf(t)!==-1;if(!(!r&&i)){if(r&&!i)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case wh:this.onDrag1();break;case Os:this.onDrag2();break}}}}dragCancel(){return this.tracerState===Os&&this.onDrag2End(),this.pointers.length=0,dn(this.movedState),this.tracerState=md,this}onDrag1Start(){this.emit("drag1start",this)}onDrag1End(){this.emit("drag1end",this)}onDrag1(){this.emit("drag1",this)}onDrag2Start(){this.emit("drag2start",this)}onDrag2End(){this.emit("drag2end",this)}onDrag2(){this.emit("drag2",this)}get distanceBetween(){if(this.tracerState!==Os)return 0;var t=this.pointers[0],i=this.pointers[1];return iV(t.x,t.y,i.x,i.y)}get angleBetween(){if(this.tracerState!==Os)return 0;var t=this.pointers[0],i=this.pointers[1];return sV(t.x,t.y,i.x,i.y)}get drag1Vector(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var i=t.position,r=t.prevPosition;Mh.x=i.x-r.x,Mh.y=i.y-r.y}else Mh.x=0,Mh.y=0;return Mh}get centerX(){if(this.tracerState!==Os)return 0;var t=this.pointers[0].position,i=this.pointers[1].position;return(t.x+i.x)/2}get centerY(){if(this.tracerState!==Os)return 0;var t=this.pointers[0].position,i=this.pointers[1].position;return(t.y+i.y)/2}get prevCenterX(){if(this.tracerState!==Os)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,i=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+i.x)/2}get prevCenterY(){if(this.tracerState!==Os)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,i=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+i.y)/2}get movementCenterX(){return this.centerX-this.prevCenterX}get movementCenterY(){return this.centerY-this.prevCenterY}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=rV,this}isPointer0InGameObject(t,i,r){var g=this.pointers[0];return g?$s(t,g,i,r):!1}isPointer1InGameObject(t,i,r){var g=this.pointers[1];return g?$s(t,g,i,r):!1}}Object.assign(zx.prototype,Ul);var Mh={};const md=0,wh=1,Os=2,rV="IDLE",nV=Phaser.Utils.Objects.GetValue;class vR extends zx{constructor(t,i){super(t,i);var r=this,g={states:{IDLE:{enter:function(){r.prevDistance=void 0,r.scaleFactor=1}},BEGIN:{},RECOGNIZED:{enter:function(){r.emit("pinchstart",r)},exit:function(){r.emit("pinchend",r)}}},init:function(){this.state=YT},eventEmitter:!1};this.setRecongizedStateObject(new Mr(g))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(nV(t,"threshold",0)),this}onDrag2Start(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=HT,this.dragThreshold===0&&(this.state=xd)}onDrag2End(){this.state=YT}onDrag2(){switch(this.state){case HT:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=xd}break;case xd:var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t;break}}get isPinching(){return this.state===xd}get isPinched(){return this.isPinching}setDragThreshold(t){return this.dragThreshold=t,this}}const YT="IDLE",HT="BEGIN",xd="RECOGNIZED",aV=Phaser.Math.RotateAround;var $T=function(e,t,i,r){return aV(e,t,i,r),e.rotation+=r,e},oV=function(e,t,i,r){return r===void 0?r={}:r===!0&&(r=hV),i.getWorldPoint(e,t,r),r},hV={},lV=function(e,t){if(!this.isRotation)return this;t===void 0&&(t=this.pointers[0].camera);var i=this.movementCenterX,r=this.movementCenterY,g=oV(this.centerX,this.centerY,t,!0),S=g.x,n=g.y,C=this.rotation;if(Array.isArray(e))for(var s=e,o=0,y=s.length;o<y;o++)e=s[o],e.x+=i,e.y+=r,$T(e,S,n,C);else e.x+=i,e.y+=r,$T(e,S,n,C);return this};const uV=Phaser.Utils.Objects.GetValue,Op=Phaser.Math.Angle.WrapDegrees,KT=Phaser.Math.Angle.ShortestBetween,Fp=Phaser.Math.RadToDeg,dV=Phaser.Math.DegToRad;class Vx extends zx{constructor(t,i){super(t,i);var r=this,g={states:{IDLE:{enter:function(){r.prevAngle=void 0,r.angle=0}},BEGIN:{},RECOGNIZED:{enter:function(){r.emit("rotatestart",r)},exit:function(){r.emit("rotateend",r)}}},init:function(){this.state=ZT},eventEmitter:!1};this.setRecongizedStateObject(new Mr(g))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(uV(t,"threshold",0)),this}onDrag2Start(){this.prevAngle=Op(Fp(this.angleBetween)),this.state=JT,this.dragThreshold===0&&(this.state=yd)}onDrag2End(){this.state=ZT}onDrag2(){switch(this.state){case JT:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=Op(Fp(this.angleBetween));this.angle=KT(this.prevAngle,t),this.prevAngle=t,this.state=yd}break;case yd:var t=Op(Fp(this.angleBetween));this.angle=KT(this.prevAngle,t),this.prevAngle=t,this.emit("rotate",this);break}}get isRotating(){return this.state===yd}get isRotated(){return this.isRotating}get rotation(){return dV(this.angle)}setDragThreshold(t){return this.dragThreshold=t,this}}var fV={spinObject:lV};Object.assign(Vx.prototype,fV);const ZT="IDLE",JT="BEGIN",yd="RECOGNIZED",cV=Phaser.Utils.Objects.GetValue;var vV=function(e){var t=cV(e,"tap",void 0);if(t!==!1){t===!0&&(t=void 0);var i=this._childrenInteractive;this._tap=new kc(this,t),this._tap.on("tap",function(r,g,S){is(i.eventEmitter,`${i.eventNamePrefix}${r.tapsCount}tap`,i.targetSizers,i.targetMode,r.worldX,r.worldY,S,r),is(i.eventEmitter,`${i.eventNamePrefix}tap`,i.targetSizers,i.targetMode,r.worldX,r.worldY,S,r)},this)}};const pV=Phaser.Utils.Objects.GetValue;var gV=function(e){var t=pV(e,"press",void 0);if(t!==!1){t===!0&&(t=void 0);var i=this._childrenInteractive;this._press=new Nc(this,t),this._press.on("pressstart",function(r,g,S){is(i.eventEmitter,`${i.eventNamePrefix}pressstart`,i.targetSizers,i.targetMode,r.worldX,r.worldY,S,r)},this).on("pressend",function(r,g,S){is(i.eventEmitter,`${i.eventNamePrefix}pressend`,i.targetSizers,i.targetMode,r.worldX,r.worldY,S,r)},this)}};const mV=Phaser.Utils.Objects.GetValue;var xV=function(e){var t=mV(e,"swipe",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("dir")||(t.dir="4dir");var i=this._childrenInteractive;this._swipe=new eu(this,t),this._swipe.on("swipe",function(r,g,S){var n=r.left?"left":r.right?"right":r.up?"up":"down";is(i.eventEmitter,`${i.eventNamePrefix}swipe${n}`,i.targetSizers,i.targetMode,r.worldX,r.worldY,S,r),is(i.eventEmitter,`${i.eventNamePrefix}swipe`,i.targetSizers,i.targetMode,r.worldX,r.worldY,S,r)},this)}};const Rh=Phaser.Utils.Objects.GetValue;var zc=function(e,t){return e.setInteractive(),Rh(t,"dropZone",!1)&&(e.input.dropZone=!0),e._childrenInteractive={targetSizers:Rh(t,"targets",[e]),targetMode:Rh(t,"targetMode","parent"),eventEmitter:Rh(t,"eventEmitter",e),eventNamePrefix:Rh(t,"inputEventPrefix","child.")},Iz.call(e,t),Nz.call(e,t),Uz.call(e,t),Yz.call(e,t),vV.call(e,t),gV.call(e,t),xV.call(e,t),e},yV=function(e){return zc(this,e),this},CV=function(){for(var e=this.getAllChildren([this]),t=0,i=e.length;t<i;t++){var r=e[t];r.emit.apply(r,arguments)}return this},pR={getSizerConfig:Nk,getChildPrevState:zk,pushIntoBounds:Vk,drawBounds:_k,resolveWidth:Ex,hasWidthWrap:Mx,resolveChildrenWidth:vN,runWidthWrap:wx,resolveHeight:Rx,hasHeightWrap:Ax,resolveChildrenHeight:pN,runHeightWrap:Lx,getChildWidth:gN,getChildHeight:mN,getExpandedChildWidth:xN,getExpandedChildHeight:yN,getChildrenWidth:CN,getChildrenHeight:TN,addChildrenMap:ET,addElement:ET,removeChildrenMap:lN,getElement:uN,getChildIndex:fN,getAllChildrenSizers:SN,getChildrenSizers:PN,preLayout:ql,layout:MN,runLayout:AN,layoutChildren:FN,layoutBackgrounds:wz,postLayout:bN,setAnchor:BN,isInTouching:Tz,pointToChild:dR,setDraggable:Az,setChildrenInteractive:yV,broadcastEvent:CV};Object.assign(pR,cN,iN,hN,_o,ur,Ol,Fc,JN,qN,aR,kx,Oz,bz,Dz,ez,Ic,EN,xz);const _s=Phaser.Utils.Objects.GetValue;let wa=class extends ki{constructor(t,i,r,g,S,n){super(t,i,r,1,1),this.isRexSizer=!0;var C=_s(n,"origin",.5),s=_s(n,"originX",C),o=_s(n,"originY",C);this.setOrigin(s,o),this.setMinSize(g,S),this.setName(_s(n,"name","")),this.rexSizer={},this.space={},this.backgroundChildren=void 0,this.sizerChildren=void 0,this.childrenMap={},this.layoutedChildren=void 0,this.runChildrenWrapFlag=!1,this.enableLayoutWarn(!1);var y=_s(n,"anchor",void 0);y&&this.setAnchor(y),this.setInnerPadding(_s(n,"space",0));var f=_s(n,"draggable",!1);f&&this.setDraggable(f),this.setSizerEventsEnable(_s(n,"sizerEvents",!1)),this.setDirty(!0),_s(n,"enableLayer",!1)&&this.enableLayer()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var i=this.getAllChildrenSizers([this]),r=0,g=i.length;r<g;r++)i[r].sizerEventsEnable=!1;super.destroy(t),dn(this.backgroundChildren),dn(this.sizerChildren),this.childrenMap=void 0,this.space=void 0,this.rexSizer=void 0,this.layoutedChildren=void 0}}setMinSize(t,i){return this.setMinWidth(t).setMinHeight(i),this}setMinWidth(t){return t==null&&(t=0),this.minWidth=t,this}setMinHeight(t){return t==null&&(t=0),this.minHeight=t,this}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSizerEventsEnable(t){return t===void 0&&(t=!0),this.sizerEventsEnable=t,this}enableLayoutWarn(t){return t===void 0&&(t=!0),this.layoutWarnEnable=t,this}get ignoreLayout(){return this.rexSizer.hidden||!this.dirty}get childrenWidth(){return this._childrenWidth===void 0&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}get childrenHeight(){return this._childrenHeight===void 0&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}get left(){return this.x-Ft(this)*this.originX}set left(t){this.x+=t-this.left}alignLeft(t){return this.left=t,this}get right(){return this.left+Ft(this)}set right(t){this.x+=t-this.right}alignRight(t){return this.right=t,this}get centerX(){return this.left+Ft(this)/2}set centerX(t){this.x+=t-this.centerX}alignCenterX(t){return this.centerX=t,this}get top(){return this.y-bt(this)*this.originY}set top(t){this.y+=t-this.top}alignTop(t){return this.top=t,this}get bottom(){return this.top+bt(this)}set bottom(t){this.y+=t-this.bottom}alignBottom(t){return this.bottom=t,this}get centerY(){return this.top+bt(this)/2}set centerY(t){this.y+=t-this.centerY}alignCenterY(t){return this.centerY=t,this}get innerLeft(){return this.left+this.space.left*this.scaleX}get innerRight(){return this.right-this.space.right*this.scaleX}get innerTop(){return this.top+this.space.top*this.scaleY}get innerBottom(){return this.bottom-this.space.bottom*this.scaleY}get innerWidth(){return(this.width-this.space.left-this.space.right)*this.scaleX}get innerHeight(){return(this.height-this.space.top-this.space.bottom)*this.scaleY}get minInnerWidth(){var t=(this.minWidth-this.space.left-this.space.right)*this.scaleX;return Math.max(t,0)}get minInnerHeight(){var t=(this.minHeight-this.space.top-this.space.bottom)*this.scaleY;return Math.max(t,0)}};Object.assign(wa.prototype,pR);var TV=function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,i,r,g,S=!1;for(var n in t)i=t[n],g=this.getChildWidth(i),g===void 0&&(S=!0),!S&&(r=i.rexSizer.padding,g+=(r.left+r.right)*this.scaleX,e=Math.max(g,e));if(!S)return e+(this.space.left+this.space.right)*this.scaleX},SV=function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,i,r,g,S=!1;for(var n in t)i=t[n],g=this.getChildHeight(i),g===void 0&&(S=!0),!S&&(r=i.rexSizer.padding,g+=(r.top+r.bottom)*this.scaleY,e=Math.max(g,e));if(!S)return e+(this.space.top+this.space.bottom)*this.scaleY},PV=function(e,t){t===void 0&&(t=this.width*this.scaleX);var i,r=e.rexSizer;if(r.expandWidth){var g=t-(this.space.left+this.space.right)*this.scaleX,S=r.padding;i=g-(S.left+S.right)*this.scaleX}return i},EV=function(e,t){t===void 0&&(t=this.height);var i,r=e.rexSizer;if(r.expandHeight){var g=t-(this.space.top+this.space.bottom)*this.scaleY,S=r.padding;i=g-(S.top+S.bottom)*this.scaleY}return i},MV=function(e){e===void 0&&(e=[]);var t=this.sizerChildren,i;for(var r in t)i=t[r],i.isRexSizer&&e.push(i);return e},Ux=function(e,t,i,r){if(i===void 0)i=0;else{var g=typeof i;g==="boolean"?(r=i,i=0):g==="string"&&(i=wV[i])}r===void 0?r={}:r===!0&&(r=RV);var S=t.width/e.width,n=t.height/e.height,C=i?Math.max(S,n):Math.min(S,n);return r.width=e.width*C,r.height=e.height*C,r};const wV={fit:0,FIT:0,envelop:1,ENVELOP:1};var RV={},Xx=function(e,t){e.layoutWarnEnable&&(e.width<e.childrenWidth&&console.warn(`Layout width error: Parent=${t.constructor.name}, Child=${e.constructor.name}`),e.height<e.childrenHeight&&console.warn(`Layout height error: Parent=${t.constructor.name}, Child=${e.constructor.name}`))},AV=function(){var e,t,i,r=this.innerLeft,g=this.innerTop,S=this.innerWidth,n=this.innerHeight,C,s,o,y,f,u,l,a,d,v=this.sizerChildren;for(var h in v)e=v[h],!e.rexSizer.hidden&&(t=e.rexSizer,i=t.padding,_l.call(this,e),l=this.getExpandedChildWidth(e),a=this.getExpandedChildHeight(e),t.aspectRatio>0&&(bp.width=t.aspectRatio,bp.height=1,Dp.width=l,Dp.height=a,d=Ux(bp,Dp,"FIT",!0),l=d.width,a=d.height),e.isRexSizer?(e.runLayout(this,l,a),Xx(e,this)):Je(e,l,a),C=r+i.left*this.scaleX,o=S-(i.left+i.right)*this.scaleX,s=g+i.top*this.scaleY,y=n-(i.top+i.bottom)*this.scaleY,l===void 0&&(l=Ft(e)),a===void 0&&(a=bt(e)),f=(t.alignOffsetX+t.alignOffsetOriginX*l)*this.scaleX,u=(t.alignOffsetY+t.alignOffsetOriginY*a)*this.scaleY,tu.call(this,e,C,s,o,y,t.align,f,u))},bp={},Dp={};const QT=Phaser.Utils.Objects.IsPlainObject,Si=Phaser.Utils.Objects.GetValue,jT=Phaser.Display.Align.CENTER,LV=Phaser.Utils.String.UUID;var OV=function(e,t,i,r,g,S,n,C,s,o){var y,f;if(Ql.call(this,e),QT(t)){var l=t;t=Si(l,"key",void 0),i=Si(l,"align",jT),r=Si(l,"padding",0),g=Si(l,"expand",!0),e.isRexSizer||(S=Si(l,"minWidth",e._minWidth),n=Si(l,"minHeight",e._minHeighted)),C=Si(l,"offsetX",0),s=Si(l,"offsetY",0),y=Si(l,"offsetOriginX",0),f=Si(l,"offsetOriginY",0),o=Si(l,"aspectRatio",0)}var u=t!==void 0;u||(t=LV()),typeof i=="string"&&(i=qo[i]),i===void 0&&(i=jT),r===void 0&&(r=0),g===void 0&&(g=!0),e.isRexSizer||(S===void 0&&(S=e._minWidth),n===void 0&&(n=e._minHeight)),C===void 0&&(C=0),s===void 0&&(s=0),y===void 0&&(y=0),f===void 0&&(f=0),o===void 0?o=0:o===!0&&(o=Ft(e)/bt(e)),o>0&&(g=!0,S===void 0&&(S=0),n===void 0&&(n=0));var l=this.getSizerConfig(e);return l.align=i,l.padding=Ma(r),QT(g)?(l.expandWidth=Si(g,"width",!1),l.expandHeight=Si(g,"height",!1)):(l.expandWidth=g,l.expandHeight=g),e.isRexSizer||(l.expandWidth&&(e.minWidth=S===void 0?Ft(e):S),l.expandHeight&&(e.minHeight=n===void 0?bt(e):n)),l.alignOffsetX=C,l.alignOffsetY=s,l.alignOffsetOriginX=y,l.alignOffsetOriginY=f,l.aspectRatio=o,this.sizerChildren.hasOwnProperty(t)&&this.sizerChildren[t].destroy(),this.sizerChildren[t]=e,u&&this.addChildrenMap(t,e),this};const FV={add:OV},bV=ki.prototype.clear;var Vc=function(e){this.backgroundChildren&&(this.backgroundChildren.length=0);var t=!e&&this.sizerEventsEnable,i;if(t&&(i=this.getChildren([])),bV.call(this,e),t)for(var r,g=0,S=i.length;g<S;g++)r=i[g],r.emit("sizer.remove",r,this),this.emit("remove",r,this);return this};const DV={remove(e,t){var i;if(typeof e=="string"){if(i=e,e=this.sizerChildren[i],!e)return this}else{if(this.getParentSizer(e)!==this)return this;i=this.childToKey(e)}return i&&(delete this.sizerChildren[i],this.childrenMap.hasOwnProperty(i)&&delete this.childrenMap[i]),jl.call(this,e,t),this},removeAll(e){for(var t in this.sizerChildren)this.remove(t,e);return this},clear(e){for(var t in this.sizerChildren)delete this.sizerChildren[t],this.childrenMap.hasOwnProperty(t)&&delete this.childrenMap[t];return Vc.call(this,e),this}};var gR={getChildrenWidth:TV,getChildrenHeight:SV,getExpandedChildWidth:PV,getExpandedChildHeight:EV,getChildrenSizers:MV,layoutChildren:AV};Object.assign(gR,FV,DV);var Uc=function(e,t){if(Array.isArray(e))return e.indexOf(t);for(var i in e)if(e[i]===t)return i;return null};const qT=Phaser.Utils.Objects.IsPlainObject,Za=Phaser.Utils.Objects.GetValue;class ss extends wa{constructor(t,i,r,g,S,n){qT(i)?(n=i,i=Za(n,"x",0),r=Za(n,"y",0),g=Za(n,"width",void 0),S=Za(n,"height",void 0)):qT(g)&&(n=g,g=Za(n,"width",void 0),S=Za(n,"height",void 0)),super(t,i,r,g,S,n),this.type="rexOverlapSizer",this.sizerChildren={},this.addChildrenMap("items",this.sizerChildren)}childToKey(t){if(typeof t=="string"){var i=t;if(this.sizerChildren.hasOwnPropery(i))return i}else return Uc(this.sizerChildren,t);return null}}Object.assign(ss.prototype,gR);var BV=Phaser.Math.Distance.Between,$f=function(e,t,i){var r=e.width/2;return BV(r,r,t,i)<=r};const IV=Phaser.Math.Angle.Between,GV=Phaser.Math.Angle.Normalize;var _T=function(e,t,i){if(this.enable&&e.isDown){var r=this.sizerChildren.knob;if($f(r,t,i)){var g=r.width/2,S=r.startAngle,n=IV(g,g,t,i),C=r.anticlockwise?S-n:n-S,s=GV(C)/(2*Math.PI);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-s)<.1?this.value=s:this.easeValueTo(s)}}},kV=function(){var e=this.sizerChildren.knob;e.on("pointerdown",_T,this).on("pointermove",_T,this).setInteractive()};const tS=Phaser.Math.Angle.Between,NV=Phaser.Math.Angle.Wrap;var zV=function(e,t,i){if(!(!this.enable||this.panPointer)){var r=this.sizerChildren.knob;$f(r,t,i)&&mR.call(this,e)}},VV=function(e,t,i){if(this.enable&&e.isDown){var r=this.sizerChildren.knob;switch(this.panState){case Wx:$f(r,t,i)&&mR.call(this,e);break;case yR:$f(r,t,i)?XV.call(this):xR.call(this);break}}},UV=function(e,t,i){!this.enable||this.panPointer!==e||xR.call(this)},mR=function(e){this.panPointer=e,this.panState=yR},xR=function(){this.panPointer=void 0,this.panState=Wx},XV=function(){var e=this.panPointer.prevPosition,t=this.panPointer.position,i=this.sizerChildren.knob,r=tS(i.x,i.y,e.x,e.y),g=tS(i.x,i.y,t.x,t.y),S=i.anticlockwise?r-g:g-r,n=NV(S)/(Math.PI*2);this.stopEaseValue(),this.value+=n};const Wx=0,yR=1;var WV=function(){var e=this.sizerChildren.knob;e.on("pointerdown",zV,this).on("pointermove",VV,this).on("pointerup",UV,this).setInteractive(),this.panPointer=void 0,this.panState=Wx},YV=function(e,t){return this.textFormatCallback=e,this.textFormatCallbackScope=t,this},CR=function(e){e===void 0&&(e=this.value);var t;return this.textFormatCallbackScope?t=this.textFormatCallback(e):t=this.textFormatCallback.call(this.textFormatCallbackScope,e),t},HV=function(e){var t=this.sizerChildren.text;return t&&this.textFormatCallback&&(t.setText(CR.call(this,e)),t.layout&&t.layout()),this};const $V={setTextFormatCallback:YV,getFormatText:CR,updateText:HV},as=Phaser.Utils.Objects.GetValue,KV=Phaser.Math.Snap.To;class Yx extends En(ss){constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexKnob",this.bootProgressBase(i);var r=as(i,"background",void 0),g=as(i,"text",void 0);r&&this.addBackground(r),g&&(i.textColor=void 0,i.textStrokeColor=void 0,this.setTextFormatCallback(as(i,"textFormatCallback",void 0),as(i,"textFormatCallbackScope",void 0)),i.textFormatCallback=void 0,i.textFormatCallbackScope=void 0);var S=new wc(t,i);S.setDepth(as(i,"knobDepth",0)),S._value=-1,t.add.existing(S),this.add(S,"knob"),g&&(this.add(g,"text","center",0,!1),t.children.moveBelow(S,g)),this.addChildrenMap("background",r),this.addChildrenMap("knob",S),this.addChildrenMap("text",g),this.setEnable(as(i,"enable",void 0)),this.setGap(as(i,"gap",void 0)),this.setValue(as(i,"value",0),as(i,"min",void 0),as(i,"max",void 0));var n=as(i,"input",0);switch(typeof n=="string"&&(n=ZV[n]),n){case 0:WV.call(this);break;case 1:kV.call(this);break}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t){return this.gap=t,this}get value(){return this.sizerChildren.knob.value}set value(t){this.gap!==void 0&&(t=KV(t,this.gap));var i=this.value;this.sizerChildren.knob.value=t;var r=this.value;i!==r&&(this.updateText(),this.eventEmitter.emit("valuechange",r,i,this.eventEmitter))}}const ZV={pan:0,drag:0,click:1,none:-1};Object.assign(Yx.prototype,$V);st.register("knob",function(e){var t=new Yx(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Knob",Yx);const JV={arc:jo,circle:es,curve:A6,ellipse:L6,line:gn,lines:Ve,rectangle:Q6,roundRectangle:Uf,triangle:q6},eS=Phaser.Utils.Objects.GetValue,QV=Phaser.Utils.Objects.IsPlainObject,jV=function(){for(var e=this.getShapes(),t=0,i=e.length;t<i;t++)e[t].lineStyle().fillStyle()},qV={createShape(e,t){var i=JV[e],r=new i;return t&&r.setName(t),r},buildShapes(e){var t=eS(e,"create",void 0);if(QV(t)){var i=t;for(var r in i){var g=i[r];switch(typeof g){case"number":for(var S=0;S<g;S++)this.addShape(this.createShape(r));break;case"string":this.addShape(this.createShape(r,g));break;default:for(var n=g,S=0,C=n.length;S<C;S++)this.addShape(this.createShape(r,n[S]));break}}}else if(Array.isArray(t))for(var i=t,S=0,C=i.length;S<C;S++){var s=i[S];this.addShape(this.createShape(s.type,s.name))}else typeof t=="function"&&t.call(this);this.setUpdateShapesCallback(eS(e,"update"))},setUpdateShapesCallback(e){return e===void 0&&(e=jV),this.dirty=this.dirty||this.updateCallback!==e,this.updateCallback=e,this},updateShapes(){this.updateCallback.call(this)}},Ah=Phaser.Utils.Objects.GetValue,_V=Phaser.Utils.Objects.IsPlainObject;class Xc extends Sr{constructor(t,i,r,g,S,n){_V(i)&&(n=i,i=Ah(n,"x",0),r=Ah(n,"y",0),g=Ah(n,"width",2),S=Ah(n,"height",2)),super(t,i,r,g,S),this.type=Ah(n,"type","rexCustomShapes"),this.buildShapes(n)}get centerX(){return this.width/2}get centerY(){return this.height/2}worldToLocalXY(t,i,r,g){return typeof r=="boolean"&&(g=r,r=void 0),PM(this,t,i,r,g)}}Object.assign(Xc.prototype,qV);st.register("customShapes",function(e,t,i,r,g){var S=new Xc(this.scene,e,t,i,r,g);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.CustomShapes",Xc);const Lh=Phaser.Utils.Objects.GetValue,tU=Phaser.Utils.Objects.IsPlainObject;class Js extends En(Xc){constructor(t,i,r,g,S,n){tU(i)&&(n=i,i=Lh(n,"x",0),r=Lh(n,"y",0),g=Lh(n,"width",2),S=Lh(n,"height",2)),n===void 0&&(n={}),n.type||(n.type="rexCustomProgress"),super(t,i,r,g,S,n),this.bootProgressBase(n),this.setValue(Lh(n,"value",0))}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}}st.register("customProgress",function(e,t,i,r,g){var S=new Js(this.scene,e,t,i,r,g);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.CustomProgress",Js);var eU=function(e){return this.easeValueTask||(this.easeValueTask=new yr(this,{eventEmitter:null})),e!==void 0&&(this.duration=e,this.easeValueTask.stop()),this.easeValueTask.isRunning?this:(this.easeValueTask.restart({key:"value",from:0,to:1,duration:this.duration,ease:this.ease,repeat:-1,delay:this.delay,repeatDelay:this.repeatDelay}),this.setDirty(),this)},iU=function(){return this.easeValueTask?(this.easeValueTask.stop(),this.setDirty(),this):this},sU=function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this},rU=function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this};const nU={start:eU,stop:iU,pause:sU,resume:rU},os=Phaser.Utils.Objects.GetValue;class TR extends Sr{constructor(t,i){var r=os(i,"x",0),g=os(i,"y",0),S=os(i,"width",64),n=os(i,"height",64);super(t,r,g,S,n),this.resetFromConfig(i,!0),this.buildShapes(i),os(i,"start",!0)&&this.start()}resetFromConfig(t,i){i===void 0&&(i=!1);var r;return r=i?1e3:this.duration,this.setDuration(os(t,"duration",r)),r=i?"Linear":this.ease,this.setEase(os(t,"ease",r)),r=i?0:this.delay,this.setDelay(os(t,"delay",r)),r=i?0:this.repeatDelay,this.setRepeatDelay(os(t,"repeatDelay",r)),r=i?16777215:this.color,this.setColor(os(t,"color",r)),r=i?0:this.value,this.setValue(os(t,"value",r)),this}buildShapes(){}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}get color(){return this._color}set color(t){this.isColorChanged=this.isColorChanged||this._color!==t,this.dirty=this.dirty||this.isColorChanged,this._color=t,this.setShapesColor(t)}setColor(t){return this.color=t,this}setShapesColor(t){}get value(){return this._value}set value(t){t=Phaser.Math.Clamp(t,0,1),this.dirty=this.dirty||this._value!=t,this._value=t}setValue(t){return this.value=t,this}setDuration(t){return this.duration=t,this}setDelay(t){return this.delay=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return this.ease=t,this}get isRunning(){return this.tweenTask?this.tweenTask.isRunning:!1}}Object.assign(TR.prototype,nU);const Gr=Phaser.Math.DegToRad,aU=Phaser.Math.Linear,oU=Phaser.Math.Easing.Expo.In,hU={right:0,down:1,left:2,up:3};var lU=function(e,t,i,r,g,S,n,C,s,o,y){var f=Ja(t,0,r,g,S,n,C,s,o,y);e.startAt(f.x,f.y);var u=Ja(i,0,r,g,S,n,C,s,o,y);e.lineTo(u.x,u.y);var l=Ja(i,i,r,g,S,n,C,s,o,y);e.lineTo(l.x,l.y);var a=Ja(0,i,r,g,S,n,C,s,o,y);e.lineTo(a.x,a.y);var d=Ja(0,t,r,g,S,n,C,s,o,y);e.lineTo(d.x,d.y);var v=Ja(t,t,r,g,S,n,C,s,o,y);e.lineTo(v.x,v.y),e.close()},Bp={},Ja=function(e,t,i,r,g,S,n,C,s,o){var y=e*i,f=t*r;return Bp.x=n*y+C*f+g,Bp.y=s*y+o*f+S,Bp};const Cd={setDirection(e){return typeof e=="string"&&(e=hU[e]),this.direction=e,this},buildShapes(){for(var e=0;e<3;e++)this.addShape(new Ve)},updateShapes(){var e,t,i,r,g,S;switch(this.direction){case 1:e=this.centerX,t=this.centerY-this.radius;var n=Gr(315);i=Math.cos(n),r=Math.sin(n);var C=Gr(45);g=Math.cos(C),S=Math.sin(C);break;case 3:e=this.centerX,t=this.centerY+this.radius;var n=Gr(135);i=Math.cos(n),r=Math.sin(n);var C=Gr(225);g=Math.cos(C),S=Math.sin(C);break;case 2:e=this.centerX+this.radius,t=this.centerY;var n=Gr(225);i=Math.cos(n),r=Math.sin(n);var C=Gr(315);g=Math.cos(C),S=Math.sin(C);break;default:e=this.centerX-this.radius,t=this.centerY;var n=Gr(45);i=Math.cos(n),r=Math.sin(n);var C=Gr(135);g=Math.cos(C),S=Math.sin(C);break}for(var s=this.radius/7,o=this.getShapes(),y=0,f=o.length;y<f;y++){var u=o[y],l=(this.value+(f-y)*.1)%1;l=oU(Vt(l));var a=aU(.25,1,l);u.fillStyle(this.color,a);var d=y*3+1,v=d+2;lU(u,d,v,s,s,e,t,i,r,g,S)}}},uU=Phaser.Math.Linear,dU={buildShapes(){for(var e=0;e<4;e++)this.addShape(new gn);this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,r=e-i,g=t+i,S=i*2,n=this.getShapes(),C=n.length,s=i*2/C,o=s*.7;if(this.prevValue===void 0||this.prevValue>this.value)for(var y=0;y<C;y++){var f=n[y],u=this.prevValue===void 0?Math.random():f.getData("to");f.setData("from",u).setData("to",Math.random())}this.prevValue=this.value;for(var y=0;y<C;y++){var f=n[y],u=f.getData("from"),l=f.getData("to"),a=uU(u,l,this.value),d=a*S,v=r+s*(y+.5);f.lineStyle(o,this.color,1).setP0(v,g).setP1(v,g-d)}}},fU=Phaser.Math.Linear,cU={buildShapes(){for(var e=0;e<3;e++)this.addShape(new es)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,r=i*.1,g=Math.ceil(r*.25),S=1-Vt(this.value),n=fU(.3,.9,S)*i,C=this.getShapes(),s=0,o=C.length;s<o;s++){var y=C[s],S=(this.value+s/o)%1,f=Math.PI*2*S;y.lineStyle(g,this.color).setRadius(r).setCenterPosition(e+Math.cos(f)*n,t+Math.sin(f)*n)}}},vU=Phaser.Math.Linear,pU=Phaser.Math.Easing.Expo.In,gU={buildShapes(){for(var e=5,t=0;t<e;t++){var i=new gn;this.addShape(i);var r=Vt(t/(e-1))/2;i.setData("offset",r)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,r=e-i,g=i*2,S=this.getShapes(),n=S.length,C=i*2/n,s=C*.7,o=0;o<n;o++){var y=S[o],f=(this.value+y.getData("offset"))%1;f=pU(Vt(f));var u=vU(.4,1,f)*g,l=r+C*(o+.5);y.lineStyle(s,this.color,1).setP0(l,t-u/2).setP1(l,t+u/2)}}},mU={buildShapes(){this.addShape(new Ve().setName("border")),this.addShape(new Ve().setName("fill"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,r=i*.7,g=e-r,S=t-r,n=r*2;if(this.getShape("border").lineStyle(2,this.color,1).startAt(g,S).lineTo(n,0,!0).lineTo(0,n,!0).lineTo(-n,0,!0).lineTo(0,-n,!0).close(),this.value<.5){var C=(.5-this.value)*2,s=n*C;this.getShape("fill").fillStyle(this.color,1).startAt(g,S).lineTo(n,0,!0).lineTo(0,s,!0).lineTo(-n,0,!0).lineTo(0,-s,!0).close()}else{var C=(this.value-.5)*2,o=180*C;this.getShape("border").rotateAround(e,t,o),this.getShape("fill").fillStyle().lineStyle()}}},iS=Phaser.Math.RadToDeg,sS=Phaser.Math.Angle.WrapDegrees,xU=Phaser.Math.Angle.Wrap,yU=Phaser.Math.Angle.ShortestBetween,CU=Phaser.Math.DegToRad,rS=Phaser.Math.DegToRad(270),TU={buildShapes(){this.addShape(new es().setName("border")),this.addShape(new gn().setName("minuteHand")),this.addShape(new gn().setName("hourHand")),this.minuteHandAngle=0,this.hourHandAngle=0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,r=Math.ceil(i/25),g=i-r/2,S=i*.8,n=i*.5,C=this.minuteHandAngle;this.minuteHandAngle=Math.PI*2*this.value;var s=sS(iS(C)),o=sS(iS(this.minuteHandAngle)),y=yU(s,o);this.hourHandAngle=xU(this.hourHandAngle+CU(y)/12),this.getShape("border").lineStyle(r,this.color).setRadius(g).setCenterPosition(e,t);var f=this.minuteHandAngle+rS;this.getShape("minuteHand").lineStyle(r,this.color).setP0(e,t).setP1(e+Math.cos(f)*S,t+Math.sin(f)*S);var f=this.hourHandAngle+rS;this.getShape("hourHand").lineStyle(r,this.color).setP0(e,t).setP1(e+Math.cos(f)*n,t+Math.sin(f)*n)}},nS=Phaser.Math.Linear,SU=Phaser.Math.Easing.Expo.In,Ip=2,Gp=2,PU={buildShapes(){for(var e=Ip*Gp,t=0;t<e;t++){var i=new gn;this.addShape(i)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,r=e-i,g=t-i,S=i*2/Gp,n=i*2/Ip,C=this.getShapes(),s=C.length,o=0;o<s;o++){var y=o%Gp,f=Math.floor(o/Ip),u=r+S*(y+.5),l=g+n*(f+.5),a=C[o],d=(this.value+(s-o)*.1)%1;d=SU(Vt(d));var v=(s-o)/s,h=nS(.7,1,d)*n,c=nS(.7,1,d)*S;a.lineStyle(c,this.color,v).setP0(u-h/2,l).setP1(u+h/2,l)}}},aS=Phaser.Math.Linear,EU={buildShapes(){for(var e=3,t=0;t<e;t++){var i=new es;this.addShape(i);var r=Vt(t/(e-1))/2;i.setData("offset",r)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,r=e-i,g=this.getShapes(),S=g.length,n=i*2/S,C=n/2,s=0;s<S;s++){var o=g[s],y=(this.value+o.getData("offset"))%1;y=Vt(y);var f=aS(.25,1,y),u=aS(.5,1,y)*C;o.fillStyle(this.color,f).setRadius(u).setCenterPosition(r+n*(s+.5),t)}}},oS=Phaser.Math.Linear,MU=Phaser.Math.Easing.Expo.In,wU={buildShapes(){for(var e=0;e<3;e++){var t=new gn;this.addShape(t)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,r=e-i,g=this.getShapes(),S=g.length,n=i*2/S,C=i*2,s=0;s<S;s++){var o=g[s],y=(this.value+(S-s)*.1)%1;y=MU(Vt(y));var f=(s+1)/S,u=oS(.7,1,y)*C,l=oS(.7,1,y)*n,a=r+n*(s+.5);o.lineStyle(l,this.color,f).setP0(a,t-u/2).setP1(a,t+u/2)}}},RU=Phaser.Math.Linear,kp=3,Np=3,AU={buildShapes(){for(var e=kp*Np,t=0;t<e;t++){var i=new es;this.addShape(i),i.setData("offset",Math.random())}this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,r=this.isInitialize||this.isSizeChanged,g=e-i,S=t-i,n=i*2/Np,C=i*2/kp,s=Math.min(n,C)/2*.8,o=this.getShapes(),y=0,f=o.length;y<f;y++){var u=y%Np,l=Math.floor(y/kp),a=g+n*(u+.5),d=S+C*(l+.5),v=o[y],h=(this.value+v.getData("offset"))%1;h=Vt(h),v.fillStyle(this.color,RU(.25,1,h)),r&&v.setRadius(s).setCenterPosition(a,d)}this.isInitialize=!1}},LU={buildShapes(){for(var e=0;e<2;e++)this.addShape(new Ve)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,r=Math.ceil(i/25),g=i-r,S=g*.6,n=g*.7,C=g*1.2,s=this.getShapes(),o=0,y=s.length;o<y;o++){var f=s[o],u=(this.value+o/y)%1,l=Vt(u),a=e,d=t-15*u,v=g*u,h=S*u,c=n*u,p=C*u;f.lineStyle(r,this.color,l).startAt(a,d).cubicBezierTo(a,d-h,a-v,d-h,a-v,d).cubicBezierTo(a-v,d+h,a,d+c,a,d+p).cubicBezierTo(a,d+c,a+v,d+h,a+v,d).cubicBezierTo(a+v,d-h,a,d-h,a,d).close()}}},OU=Phaser.Math.Linear,FU={buildShapes(){for(var e=0;e<12;e++)this.addShape(new gn);this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.isInitialize||this.isSizeChanged,r=this.radius,g=r/2,S=Math.ceil(r/20),n=this.getShapes(),C=0,s=n.length;C<s;C++){var o=n[C],y=C/s,f=Math.PI*2*y,u=OU(.25,1,(1-this.value+y)%1);o.lineStyle(S,this.color,u),i&&o.setP0(e+Math.cos(f)*g,t+Math.sin(f)*g).setP1(e+Math.cos(f)*r,t+Math.sin(f)*r)}this.isInitialize=!1}},bU={buildShapes(){this.addShape(new es().setName("track")),this.addShape(new es().setName("thumb"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,r=i*.9,g=Math.ceil(r/25),S=i*.1,n=Math.PI*2*this.value;this.getShape("track").lineStyle(g,this.color,.7).setRadius(r).setCenterPosition(e,t),this.getShape("thumb").fillStyle(this.color).setRadius(S).setCenterPosition(e+Math.cos(n)*r,t+Math.sin(n)*r)}},DU={buildShapes(){this.addShape(new es().setName("track")),this.addShape(new jo().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,r=Math.ceil(i/25),g=i-r/2;this.getShape("track").lineStyle(r,this.color,.5).setRadius(g).setCenterPosition(e,t);var S=this.value*360,n=S+60;this.getShape("arc").lineStyle(r,this.color,1).setRadius(g).setCenterPosition(e,t).setAngle(S,n)}},BU=Phaser.Math.Linear,IU={buildShapes(){for(var e=0;e<4;e++){var t=new jo().setPie();this.addShape(t),t.setData("speed",BU(180,360,Math.random()))}this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,r;this.prevValue!==void 0&&(r=this.value-this.prevValue,this.prevValue>this.value&&(r+=1));for(var g=this.getShapes(),S=0,n=g.length;S<n;S++){var C=g[S],s=(S+1)/n;if(this.prevValue===void 0){var o=S/n*360,y=o+90;C.fillStyle(this.color,s).setRadius(i).setCenterPosition(e,t).setAngle(o,y).setData("angle",o)}else{var o=C.getData("angle")+C.getData("speed")*r;o=o%360;var y=o+90;C.fillStyle(this.color,s).setRadius(i).setCenterPosition(e,t).setAngle(o,y).setData("angle",o)}}this.prevValue=this.value}},GU={buildShapes(){this.addShape(new es)},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,r=i*this.value,g=Math.ceil(i/25),S=Vt(this.value);this.getShapes()[0].lineStyle(g,this.color,S).setRadius(r).setCenterPosition(e,t)}},kU=Phaser.Math.Linear,NU=Phaser.Math.Easing.Expo.In,zU={buildShapes(){this.addShape(new es().setName("center")),this.addShape(new Ve().setName("arc0")),this.addShape(new Ve().setName("arc1")),this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,r=this.isInitialize||this.isSizeChanged,g=i*2/6,S=e-i+g,n=t+i-g,C=this.getShapes(),s=0,o=C.length;s<o;s++){var y=C[s],f=(this.value+(o-s)*.1)%1;f=NU(Vt(f));var u=kU(.25,1,f);switch(y.name){case"center":y.fillStyle(this.color,u),r&&y.setRadius(g).setCenterPosition(S,n);break;case"arc0":if(y.fillStyle(this.color,u),r){var l=g*2,a=g*3;y.startAt(S,n-l).lineTo(S,n-a).setIterations(8).arc(S,n,a,270,360).lineTo(S+l,n).setIterations(6).arc(S,n,l,360,270,!0).close()}break;case"arc1":if(y.fillStyle(this.color,u),r){var l=g*4,a=g*5;y.startAt(S,n-l).lineTo(S,n-a).setIterations(8).arc(S,n,a,270,360).lineTo(S+l,n).setIterations(6).arc(S,n,l,360,270,!0).close()}break}}this.isInitialize=!1}},VU={buildShapes(){for(var e=0;e<2;e++)this.addShape(new es)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,r=Math.ceil(i/25),g=i-r,S=this.getShapes(),n=0,C=S.length;n<C;n++){var s=S[n],o=(this.value+n/C)%1,y=Vt(o);s.lineStyle(r,this.color,y).setRadius(o*g).setCenterPosition(e,t)}}},UU={buildShapes(){this.addShape(new jo().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,r=Math.ceil(i/10),g=i-r,S=this.value*720,n=Vt(this.value)*180,C=S-n;this.getShape("arc").lineStyle(r,this.color,1).setRadius(g).setCenterPosition(e,t).setAngle(C+315,S+315)}};Phaser.Utils.Objects.GetValue;const N0={leftArrow:Cd,rightArrow:Cd,upArrow:Cd,downArrow:Cd,audio:dU,ball:cU,bars:gU,box:mU,clock:TU,cube:PU,dots:EU,facebook:wU,grid:AU,hearts:LU,ios:FU,oribit:bU,oval:DU,pie:IU,puff:GU,radio:zU,rings:VU,spinner:UU},z0=[];for(var XU in N0)z0.push(XU);const hS=Phaser.Utils.Array.GetRandom,WU={setAnimationMode(e,t){N0.hasOwnProperty(e)||(e=hS(z0)),this.animationMode=e;var i=N0[e];switch(t&&this.resetFromConfig(t),e){case"leftArrow":i.setDirection.call(this,"left");break;case"rightArrow":i.setDirection.call(this,"right");break;case"upArrow":i.setDirection.call(this,"up");break;case"downArrow":i.setDirection.call(this,"down");break}return this.clear(),i.buildShapes.call(this),this.updateShapes=i.updateShapes.bind(this),this.stop().start(),this},setRandomAnimationMode(e){var t=hS(z0);return this.setAnimationMode(t,e),this}},YU=Phaser.Utils.Objects.GetValue;class Hx extends TR{constructor(t,i){super(t,i),this.type="rexSpinnerAIO",this.setAnimationMode(YU(i,"animationMode"))}}Object.assign(Hx.prototype,WU);st.register("aioSpinner",function(e){var t=new Hx(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.AIOSpinner",Hx);const HU={setTransitionStartCallback(e,t){return this.onStartCallback=e,this.onStartCallbackScope=t,this},setTransitionProgressCallback(e,t){return this.onProgressCallback=e,this.onProgressCallbackScope=t,this},setTransitionCompleteCallback(e,t){return this.onCompleteCallback=e,this.onCompleteCallbackScope=t,this}};var SR=function(){for(var e=this.scaleMode-1,t=0,i=this.images.length;t<i;t++){var r=this.images[t],g=Ux(r,this,e,!0),S=g.width/r.width;this.setChildLocalScale(r,S),r.biasScale=S}},uf=function(e){this.scaleMode===0?this.resize(e.width,e.height):SR.call(this)};const lS=Phaser.Utils.Objects.IsPlainObject,zp=Phaser.Utils.Objects.GetValue,$U=Phaser.Utils.Array.GetRandom;var KU={out:0,in:1},Fs=function(e,t,...i){for(var r=0,g=i.length;r<g;r++){var S=i[r];if(S&&S.hasOwnProperty(e))return S[e]}return t};const ZU={setTransitionDirection(e){return typeof e=="string"&&(e=KU[e]),this.dir=e,this},setDuration(e){return this.duration=e,this},setEaseFunction(e){return this.easeFunction=e,this},setNextTexture(e,t){return this.nextImage.setTexture(e,t),uf.call(this,this.nextImage),this},transit(e,t,i){if(this.isRunning&&(this.ignoreCompleteEvent=!0,this.stop(),this.ignoreCompleteEvent=!1),i!==void 0&&(e={key:e,frame:t,mode:i}),this.currentTransitionMode=void 0,lS(e)){var r=e;e=zp(r,"key",void 0),t=zp(r,"frame",void 0),i=zp(r,"mode"),Array.isArray(i)&&(i=$U(i));var g;this.transitionModes&&this.transitionModes.hasOwnProperty(i)&&(g=this.transitionModes[i],this.currentTransitionMode=i),this.setDuration(Fs("duration",this.duration,r,g)).setEaseFunction(Fs("ease",this.easeFunction,r,g)).setTransitionDirection(Fs("dir",this.dir,r,g));var S=Fs("mask",void 0,r,g);S&&this.setMaskGameObject(S),this.setMaskEnable(S===!0);var n=Fs("onStart",void 0,r,g),C=Fs("onProgress",void 0,r,g),s=Fs("onComplete",void 0,r,g);(n!==void 0||C!==void 0||s!==void 0)&&this.setTransitionStartCallback(n,Fs("onStartScope",void 0,r,g)).setTransitionProgressCallback(C,Fs("onProgressScope",void 0,r,g)).setTransitionCompleteCallback(s,Fs("onCompleteScope",void 0,r,g))}return this.setNextTexture(e,t),this.start(),this},addTransitionMode(e,t){return this.transitionModes===void 0&&(this.transitionModes={}),lS(e)&&(t=e,e=t.name,delete t.name),this.transitionModes[e]=t,this},start(){return this.easeValueTask===void 0&&(this.easeValueTask=new yr(this,{eventEmitter:null})),this.easeValueTask.restart({key:"t",from:0,to:1,duration:this.duration,ease:this.easeFunction}),this},pause(){return this.easeValueTask&&this.easeValueTask.pause(),this},resume(){return this.easeValueTask&&this.easeValueTask.resume(),this},stop(){return this.easeValueTask&&this.easeValueTask.stop(),this.setT(1),this}},JU=Phaser.GameObjects.Graphics.prototype.setPosition;var QU=function(e,t){var i=this.parent;return e===void 0&&(e=i.x),t===void 0&&(t=i.y),JU.call(this,e,t),this};const uS=Phaser.Geom.Rectangle,dS=Phaser.Geom.Circle;var jU=function(e,t,i,r,g,S,n){switch(e){case 1:r=r.left;var C=-t*(g-.5),s=-i*(S-.5),o=Math.min(t,i)/2+r;(n===void 0||!(n instanceof dS))&&(n=new dS),n.setTo(C,s,o);break;default:var y=-(t*g)-r.left,f=-(i*S)-r.top,u=t+r.left+r.right,l=i+r.top+r.bottom;(n===void 0||!(n instanceof uS))&&(n=new uS),n.setTo(y,f,u,l);break}return n},PR=function(e,t,i,r,g){switch(this.geom=jU(this.shapeType,e,t,i,r,g,this.geom),this.clear().fillStyle(16777215),this.shapeType){case 1:this.fillCircleShape(this.geom);break;default:this.fillRectShape(this.geom);break}},qU=function(e,t,i){var r=this.parent;e===void 0&&(e=r.width),t===void 0&&(t=r.height),i===void 0?i=this.padding:typeof i=="number"&&(i=GetBoundsConfig(i));var g=this.width!==e||this.height!==t,S=this.padding!==i&&!Yl(this.padding,i);return!g&&!S?this:(this.width=e,this.height=t,S&&Ps(i,this.padding),this.originX=r.originX,this.originY=r.originY,PR.call(this,e,t,i,r.originX,r.originY),this)},_U=function(e,t){t===void 0&&(t=e);var i=this.parent;return e===void 0&&(e=i.originX),t===void 0&&(t=i.originY),this.originX===e&&this.originY===t?this:(this.originX=e,this.originY=t,PR.call(this,this.width,this.height,this.padding,e,t),this)},tX=function(e,t){return e-=this.x,t-=this.y,this.geom.contains(e,t)},eX={setPosition:QU,resize:qU,setOrigin:_U,contains:tX};const iX=Phaser.GameObjects.Graphics;class Kf extends iX{constructor(t,i,r){i===void 0&&(i=0),typeof i=="string"&&(i=sX[i]),super(t.scene),this.parent=t,this.shapeType=i,this.padding=Ma(r),this.setPosition().resize().setVisible(!1)}destroy(){return this.parent=void 0,super.destroy(),this}}const sX={rectangle:0,circle:1};Object.assign(Kf.prototype,eX);const rX={setMaskGameObject(e){if(!e)return this.removeMaskGameObject(),this;if(this.maskGameObject){if(e===!0&&this.maskGameObject instanceof Kf)return this;if(this.maskGameObject===e)return this;this.removeMaskGameObject()}return e===!0&&(e=new Kf(this)),e.resize(this.width,this.height).setOrigin(this.originX,this.originY).setPosition(0,0).setScale(1).setVisible(!1),this.addLocal(e),this.maskGameObject=e,e._maskObject||(e._maskObject=e.createGeometryMask(),e.once("destroy",function(){e._maskObject.destroy(),e._maskObject=void 0})),this.childrenMask=e._maskObject,this},removeMaskGameObject(e){return e===void 0&&(e=!0),this.backImage.clearMask(),this.frontImage.clearMask(),this.childrenMask=void 0,this.remove(this.maskGameObject,e),this.maskGameObject=void 0,this},setImageMaskEnable(e,t,i){return t===void 0&&(t=!0),i===void 0&&(i=!1),t?(this.childrenMask||this.setMaskGameObject(!0),e.setMask(this.childrenMask),this.childrenMask.setInvertAlpha(i)):e.clearMask(),this},setCurrentImageMaskEnable(e,t){return this.setImageMaskEnable(this.currentImage,e,t),this},setNextImageMaskEnable(e,t){return this.setImageMaskEnable(this.nextImage,e,t),this},setCellImagesMaskEnable(e,t){for(var i=this.getCellImages(),r=0,g=i.length;r<g;r++)this.setImageMaskEnable(i[r],e,t);return this},setMaskEnable(e,t){return this.setImageMaskEnable(this.backImage,e,t),this.setImageMaskEnable(this.frontImage,e,t),this.setCellImagesMaskEnable(e,t),this}};var nX=function(e,t){typeof e=="object"&&(e=e.name),t===void 0&&(t=",");var i;return e==="__BASE"?i=function(r,g){return`${r}${t}${g}`}:i=function(r,g){return`${e}_${r}${t}${g}`},i},aX=function(e,t,i,r,g,S){i==null&&(i="__BASE"),S||(S=nX(i,S));for(var n=e.sys.textures.get(t),C=typeof i=="object"?i:n.get(i),s=C.width,o=C.height,y,f,u,l=s/r,a=o/g,d=C.cutX,v=C.cutY,h=0,c=0,p=0;p<g;p++){h=0;for(var m=0;m<r;m++)u=S(m,p),y=h+d,f=c+v,n.add(u,0,y,f,l,a),h+=l;c+=a}return{getFrameNameCallback:S,cellWidth:l,cellHeight:a,columns:r,rows:g}};const tr=Phaser.Utils.Objects.GetValue,oX=Phaser.GameObjects.Image,hX=Phaser.Utils.Objects.IsPlainObject,lX=Phaser.Math.RotateAround;var uX=function(e,t,i,r){hX(t)&&(r=t,t=tr(r,"columns",1),i=tr(r,"rows",1));var g=tr(r,"createImageCallback");if(!g){var S=tr(r,"ImageClass",oX);g=function(D,B,N){return new S(D,0,0,B,N)}}for(var n=tr(r,"originX",.5),C=tr(r,"originY",.5),s=tr(r,"add",!0),o=tr(r,"align",s),y=tr(r,"objectPool",void 0),f=e.scene,u=e.texture,l=e.frame,a=aX(f,u,l,t,i),d=a.getFrameNameCallback,v=e.scaleX,h=e.scaleY,c=e.rotation,p=e.getTopLeft(),m=p.x,x=p.y,T=[],P=a.cellWidth*v,M=a.cellHeight*h,E=0;E<i;E++)for(var w=0;w<t;w++){var R,A=d(w,E);if(y&&y.length>0?R=y.pop().setTexture(u,A):R=g(f,u,A),s&&f.add.existing(R),o){var L=m+P*w,b=x+M*E,O=L+n*P,F=b+C*M;R.setOrigin(n,C).setPosition(O,F).setScale(v,h).setRotation(c),lX(R,m,x,c)}T.push(R)}return T};const dX={gridCutImage(e,t,i,r){r===void 0&&(r={}),r.objectPool=this.imagesPool;for(var g=uX(e,t,i,r),S,n=0,C=g.length;n<C;n++)S=g[n],S.setVisible(!0),this.add(S);return this.cellImages=g,this.setChildLocalVisible(e,!1),g},gridCutCurrentImage(e,t,i){return this.gridCutImage(this.currentImage,e,t,i)},gridCutNextImage(e,t,i){return this.gridCutImage(this.nextImage,e,t,i)},getCellImages(){return this.cellImages},freeCellImages(){if(this.cellImages.length===0)return this;for(var e=this.cellImages[0].texture,t=this.cellImages,i,r,g=0,S=t.length;g<S;g++)i=t[g],this.setChildLocalAlpha(i,1).setChildLocalScale(i,1).setChildLocalVisible(i,!1),i.clearMask(),r=i.frame.name,i.setTexture(),e.remove(r);return this.imagesPool.push(...t),t.length=0,this}},ER={setFlipX(e){return this.flipX=e,this},setFlipY(e){return this.flipY=e,this},toggleFlipX(){return this.flipX=!this.flipX,this},toggleFlipY(){return this.flipY=!this.flipY,this},setFlip(e,t){return this.flipX=e,this.flipY=t,this},resetFlip(){return this.flipX=!1,this.flipY=!1,this}};var MR={};Object.assign(MR,HU,ZU,rX,dX,ER);var fX=function(e,t,i,r){},cX=function(e,t,i,r){e.setChildLocalAlpha(t,1-r).setChildLocalAlpha(i,r)},vX=function(e,t,i,r){e.setChildLocalAlpha(t,1)};const fS=Phaser.Utils.Objects.IsPlainObject,Te=Phaser.Utils.Objects.GetValue,pX=Phaser.Math.Clamp;class Wc extends ki{constructor(t,i,r,g,S,n){fS(i)?(n=i,i=Te(n,"x",0),r=Te(n,"y",0),g=Te(n,"key",void 0),S=Te(n,"frame",void 0)):fS(S)&&(n=S,S=void 0);var C=Te(n,"back",void 0),s=Te(n,"front",void 0);C||(C=t.add.image(i,r,g,S)),s||(s=t.add.image(i,r,g,S));var o=Te(n,"width",void 0),y=Te(n,"height",void 0),f=o!==void 0&&y!==void 0?1:0;o===void 0&&(o=s.width),y===void 0&&(y=s.height),super(t,i,r,o,y),this.type="rexTransitionImage",this._flipX=!1,this._flipY=!1,f=Te(n,"scaleMode",f),typeof f=="string"&&(f=gX[f]),this.scaleMode=f,C.setVisible(!1),this.addMultiple([C,s]),this.backImage=C,this.frontImage=s,this.images=[this.backImage,this.frontImage],this.maskGameObject=void 0,this.cellImages=[],this.imagesPool=[],this.transitionModes=void 0,this.currentTransitionMode=void 0;var u=Te(n,"onStart",void 0),l=Te(n,"onProgress",void 0),a=Te(n,"onComplete",void 0),d=Te(n,"dir",0);u===void 0&&l===void 0&&a===void 0&&(u=fX,l=cX,a=vX,d=0),this.setTransitionStartCallback(u,Te(n,"onStartScope",void 0)).setTransitionProgressCallback(l,Te(n,"onProgressScope",void 0)).setTransitionCompleteCallback(a,Te(n,"onCompleteScope",void 0)).setTransitionDirection(d).setDuration(Te(n,"duration",1e3)).setEaseFunction(Te(n,"ease","Linear"));var v=Te(n,"mask",void 0);v&&this.setMaskGameObject(v),this.setMaskEnable(!1),this.ignoreCompleteEvent=!1,uf.call(this,this.frontImage)}destroy(t){!this.scene||this.ignoreDestroy||(this.childrenMask&&(this.childrenMask.destroy(),this.childrenMask=void 0),this.backImage=void 0,this.frontImage=void 0,this.images.length=0,this.maskGameObject=void 0,this.cellImages.length=0,this.imagesPool.length=0,this.transitionModes=void 0,super.destroy(t),this.onStartCallback=void 0,this.onStartCallbackScope=void 0,this.onProgressCallback=void 0,this.onProgressCallbackScope=void 0,this.onCompleteCallback=void 0,this.onCompleteCallbackScope=void 0,this.easeValueTask=void 0)}get currentImage(){return this.dir===0?this.frontImage:this.backImage}get nextImage(){return this.dir===0?this.backImage:this.frontImage}get texture(){return this.nextImage.texture}get frame(){return this.nextImage.frame}get tint(){return this._tint}set tint(t){this._tint!==t&&(this._tint=t,this.backImage.setTint(t),this.frontImage.setTint(t))}setTint(t){return this.tint=t,this}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.backImage.setFlipX(t),this.frontImage.setFlipX(t))}setFlipX(t){return this.flipX=t,this}toggleFlipX(){return this.flipX=!this.flipX,this}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.backImage.setFlipY(t),this.frontImage.setFlipY(t))}setFlipY(t){return this.flipY=t,this}toggleFlipY(){return this.flipY=!this.flipY,this}setFlip(t,i){return this.flipX=t,this.flipY=i,this}get t(){return this._t}set t(t){if(t=pX(t,0,1),this._t!==t){this._t=t;var i=this.currentImage,r=this.nextImage;if(t===0&&(this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!0),Vp.call(this,this.onStartCallback,this.onStartCallbackScope,this,i,r,t)),Vp.call(this,this.onProgressCallback,this.onProgressCallbackScope,this,i,r,t),t===1){Vp.call(this,this.onCompleteCallback,this.onCompleteCallbackScope,this,i,r,t);var g=r.texture.key,S=r.frame.name;this.frontImage.setTexture(g,S),this.backImage.setTexture(g,S),uf.call(this,r),this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!1).setMaskEnable(!1).freeCellImages()}t===1&&!this.ignoreCompleteEvent&&this.emit("complete")}}setT(t){return this.t=t,this}get isRunning(){return this.easeValueTask?this.easeValueTask.isRunning:!1}setOrigin(t,i){return super.setOrigin(t,i),this.backImage.setOrigin(t,i),this.frontImage.setOrigin(t,i),this.maskGameObject&&this.maskGameObject.setOrigin(t,i),this}setTexture(t,i){return this.frontImage.setTexture(t,i),this.backImage.setTexture(t,i).setVisible(!1),uf.call(this,this.frontImage),this}setSize(t,i){return super.setSize(t,i),this.scaleMode&&SR.call(this),this}}var Vp=function(e,t,i,r,g,S){if(e){if(this.scaleMode){var n;r.biasScale>0&&(n=this.getChildLocalScaleX(r),n=n/r.biasScale,this.setChildLocalScale(r,n)),g.biasScale&&(n=this.getChildLocalScaleX(g),n=n/g.biasScale,this.setChildLocalScale(g,n))}if(t?e.call(t,i,r,g,S):e(i,r,g,S),this.scaleMode){var n;r.biasScale>0&&(n=this.getChildLocalScaleX(r),n=n*r.biasScale,this.setChildLocalScale(r,n)),g.biasScale&&(n=this.getChildLocalScaleX(g),n=n*g.biasScale,this.setChildLocalScale(g,n))}}};Object.assign(Wc.prototype,MR);const gX={fit:1,FIT:1,envelop:2,ENVELOP:2};st.register("transitionImage",function(e,t,i,r,g){var S=new Wc(this.scene,e,t,i,r,g);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.TransitionImage",Wc);const mX="slideLeft",xX="slideRight",yX="slideUp",CX="slideDown",TX="slideAwayLeft",SX="slideAwayRight",PX="slideAwayUp",EX="slideAwayDown",MX="pushLeft",wX="pushRight",RX="pushUp",AX="pushDown",LX="zoomOut",OX="zoomIn",FX="zoomInOut",bX="fade",DX="crossFade",BX="wipeLeft",IX="wipeRight",GX="wipeUp",kX="wipeDown",NX="irisOut",zX="irisIn",VX="irisInOut",UX="pieOut",XX="pieIn",WX="pieInOut",YX="blinds",HX="squares",$X="diamonds",KX="circles",ZX="curtain",JX="pixellate",QX="dissolve",jX="revealLeft",qX="revealRight",_X="revealUp",tW="revealDown";var eW=function(e){e.addTransitionMode(SX,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,r,g){},onProgress:function(t,i,r,g){var S=i.width*g;t.setChildLocalPosition(i,S,0)},onComplete:function(t,i,r,g){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(TX,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,r,g){},onProgress:function(t,i,r,g){var S=i.width*-g;t.setChildLocalPosition(i,S,0)},onComplete:function(t,i,r,g){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(EX,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,r,g){},onProgress:function(t,i,r,g){var S=i.height*g;t.setChildLocalPosition(i,0,S)},onComplete:function(t,i,r,g){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(PX,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,r,g){},onProgress:function(t,i,r,g){var S=i.height*-g;t.setChildLocalPosition(i,0,S)},onComplete:function(t,i,r,g){t.setChildLocalPosition(i,0,0)}})},iW=function(e){e.addTransitionMode(xX,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,r,g){},onProgress:function(t,i,r,g){var S=r.width*(g-1);t.setChildLocalPosition(r,S,0)},onComplete:function(t,i,r,g){t.setChildLocalPosition(r,0,0)}}).addTransitionMode(mX,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,r,g){},onProgress:function(t,i,r,g){var S=r.width*(1-g);t.setChildLocalPosition(r,S,0)},onComplete:function(t,i,r,g){t.setChildLocalPosition(r,0,0)}}).addTransitionMode(CX,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,r,g){},onProgress:function(t,i,r,g){var S=r.height*(g-1);t.setChildLocalPosition(r,0,S)},onComplete:function(t,i,r,g){t.setChildLocalPosition(r,0,0)}}).addTransitionMode(yX,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,r,g){},onProgress:function(t,i,r,g){var S=r.height*(1-g);t.setChildLocalPosition(r,0,S)},onComplete:function(t,i,r,g){t.setChildLocalPosition(r,0,0)}})},sW=function(e){e.addTransitionMode(wX,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,r,g){},onProgress:function(t,i,r,g){var S=i.width*g;t.setChildLocalPosition(i,S,0);var S=r.width*(g-1);t.setChildLocalPosition(r,S,0)},onComplete:function(t,i,r,g){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(r,0,0)}}).addTransitionMode(MX,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,r,g){},onProgress:function(t,i,r,g){var S=i.width*-g;t.setChildLocalPosition(i,S,0);var S=r.width*(1-g);t.setChildLocalPosition(r,S,0)},onComplete:function(t,i,r,g){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(r,0,0)}}).addTransitionMode(AX,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,r,g){},onProgress:function(t,i,r,g){var S=i.height*g;t.setChildLocalPosition(i,0,S);var S=r.height*(g-1);t.setChildLocalPosition(r,0,S)},onComplete:function(t,i,r,g){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(r,0,0)}}).addTransitionMode(RX,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,r,g){},onProgress:function(t,i,r,g){var S=i.height*-g;t.setChildLocalPosition(i,0,S);var S=r.height*(1-g);t.setChildLocalPosition(r,0,S)},onComplete:function(t,i,r,g){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(r,0,0)}})},rW=function(e){e.addTransitionMode(LX,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,r,g){},onProgress:function(t,i,r,g){var S=1-g;t.setChildLocalScale(i,S,S)},onComplete:function(t,i,r,g){t.setChildLocalScale(i,1,1)}}).addTransitionMode(OX,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,r,g){},onProgress:function(t,i,r,g){var S=g;t.setChildLocalScale(r,S,S)},onComplete:function(t,i,r,g){t.setChildLocalScale(r,1,1)}}).addTransitionMode(FX,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,r,g){r.tint=0},onProgress:function(t,i,r,g){var S;g<.5?(S=1-Vt(g),t.setChildLocalScale(i,S,S)):(i.visible&&t.setChildVisible(i,!1),S=1-Vt(g),t.setChildLocalScale(r,S,S))},onComplete:function(t,i,r,g){t.setChildLocalScale(i,1,1),t.setChildVisible(i,!0),i.tint=16777215,t.setChildLocalScale(r,1,1),t.setChildVisible(r,!0),r.tint=16777215}})},nW=function(e){e.addTransitionMode(bX,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,r,g){r.tint=0},onProgress:function(t,i,r,g){var S;g<.5?(g=Vt(g),S=Math.floor(255*(1-g)),i.tint=(S<<16)+(S<<8)+S):(i.visible&&t.setChildVisible(i,!1),g=Vt(g),S=Math.floor(255*(1-g)),r.tint=(S<<16)+(S<<8)+S)},onComplete:function(t,i,r,g){t.setChildVisible(i,!0),i.tint=16777215,t.setChildVisible(r,!0),r.tint=16777215}}).addTransitionMode(DX,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,r,g){},onProgress:function(t,i,r,g){t.setChildLocalAlpha(i,1-g),t.setChildLocalAlpha(r,g)},onComplete:function(t,i,r,g){t.setChildLocalAlpha(i,1)}})},aW=function(e){var t=new Js(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){var i=this.getShape("rect").fillStyle(16777215),r=1-this.value;switch(this.wipeMode){case"right":i.setSize(this.width*r,this.height).setTopLeftPosition(this.width-i.width,0);break;case"left":i.setSize(this.width*r,this.height).setTopLeftPosition(0,0);break;case"down":i.setSize(this.width,this.height*r).setTopLeftPosition(0,this.height-i.height);break;case"up":i.setSize(this.width,this.height*r).setTopLeftPosition(0,0);break}}});return t},oW=function(e){var t=aW(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(IX,{ease:"Linear",dir:"out",mask:t,onStart:function(i,r,g,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="right"},onProgress:function(i,r,g,S){i.maskGameObject.setValue(S)},onComplete:function(i,r,g,S){i.removeMaskGameObject(!1)}}).addTransitionMode(BX,{ease:"Linear",dir:"out",mask:t,onStart:function(i,r,g,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="left"},onProgress:function(i,r,g,S){i.maskGameObject.setValue(S)},onComplete:function(i,r,g,S){i.removeMaskGameObject(!1)}}).addTransitionMode(kX,{ease:"Linear",dir:"out",mask:t,onStart:function(i,r,g,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="down"},onProgress:function(i,r,g,S){i.maskGameObject.setValue(S)},onComplete:function(i,r,g,S){i.removeMaskGameObject(!1)}}).addTransitionMode(GX,{ease:"Linear",dir:"out",mask:t,onStart:function(i,r,g,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="up"},onProgress:function(i,r,g,S){i.maskGameObject.setValue(S)},onComplete:function(i,r,g,S){i.removeMaskGameObject(!1)}})},hW=function(e){var t=new Js(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){this.getShape("rect").fillStyle(16777215).setSize(this.width*this.value,this.height*this.value).setCenterPosition(this.centerX,this.centerY)}});return t},lW=function(e){var t=hW(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(NX,{ease:"Linear",dir:"out",mask:t,onStart:function(i,r,g,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,r,g,S){i.maskGameObject.setValue(S)},onComplete:function(i,r,g,S){i.removeMaskGameObject(!1)}}).addTransitionMode(zX,{ease:"Linear",dir:"in",mask:t,onStart:function(i,r,g,S){i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,r,g,S){i.maskGameObject.setValue(1-S)},onComplete:function(i,r,g,S){i.removeMaskGameObject(!1)}}).addTransitionMode(VX,{ease:"Linear",dir:"out",mask:t,onStart:function(i,r,g,S){g.tint=0,i.setCurrentImageMaskEnable(!0),i.setNextImageMaskEnable(!0)},onProgress:function(i,r,g,S){var n;S<.5?(S=Vt(S),n=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),r.tint=(n<<16)+(n<<8)+n):(r.visible&&i.setChildVisible(r,!1),S=Vt(S),n=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),g.tint=(n<<16)+(n<<8)+n)},onComplete:function(i,r,g,S){i.removeMaskGameObject(!1),i.setChildVisible(r,!0),r.tint=16777215,i.setChildVisible(g,!0),g.tint=16777215}})},uW=function(e){var t=new Js(e,{type:"Graphics",create:[{name:"pie",type:"arc"}],update:function(){var i=Math.max(this.width,this.height)*2,r=90*this.value;this.getShape("pie").fillStyle(16777215).setCenterPosition(this.centerX,0).setRadius(i).setAngle(90-r,90+r).setPie()}});return t},dW=function(e){var t=uW(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(UX,{ease:"Linear",dir:"out",mask:t,onStart:function(i,r,g,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,r,g,S){i.maskGameObject.setValue(S)},onComplete:function(i,r,g,S){i.removeMaskGameObject(!1)}}).addTransitionMode(XX,{ease:"Linear",dir:"in",mask:t,onStart:function(i,r,g,S){i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,r,g,S){i.maskGameObject.setValue(1-S)},onComplete:function(i,r,g,S){i.removeMaskGameObject(!1)}}).addTransitionMode(WX,{ease:"Linear",dir:"out",mask:t,onStart:function(i,r,g,S){g.tint=0,i.setCurrentImageMaskEnable(!0),i.setNextImageMaskEnable(!0)},onProgress:function(i,r,g,S){var n;S<.5?(S=Vt(S),n=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),r.tint=(n<<16)+(n<<8)+n):(r.visible&&i.setChildVisible(r,!1),S=Vt(S),n=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),g.tint=(n<<16)+(n<<8)+n)},onComplete:function(i,r,g,S){i.removeMaskGameObject(!1),i.setChildVisible(r,!0),r.tint=16777215,i.setChildVisible(g,!0),g.tint=16777215}})},fW=function(e,t){var i=new Js(e,{type:"Graphics",create:{rectangle:t},update:function(){for(var r=this.getShapes(),g=this.width/t,S=0;S<t;S++)r[S].fillStyle(16777215).setSize(g*this.value,this.height).setTopLeftPosition(g*S,0)}});return i},cW=function(e){var t=fW(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(YX,{ease:"Linear",dir:"out",mask:t,onStart:function(i,r,g,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,r,g,S){i.maskGameObject.setValue(S)},onComplete:function(i,r,g,S){i.removeMaskGameObject(!1)}})},vW=function(e,t,i){var r=new Js(e,{type:"Graphics",create:{rectangle:t*i},update:function(){for(var g=this.getShapes(),S=this.width/t,n=this.height/i,C=0;C<i;C++)for(var s=0;s<t;s++)g[s*i+C].fillStyle(16777215).setSize(S*this.value,n*this.value).setCenterPosition(S*(s+.5),n*(C+.5))}});return r},pW=function(e){var t=vW(e.scene,Math.ceil(e.width/40),Math.ceil(e.height/40));e.once("destroy",function(){t.destroy()}).addTransitionMode(HX,{ease:"Linear",dir:"out",mask:t,onStart:function(i,r,g,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,r,g,S){i.maskGameObject.setValue(S)},onComplete:function(i,r,g,S){i.removeMaskGameObject(!1)}})},gW=function(e,t,i){var r=new Js(e,{type:"Graphics",create:{lines:t*i},update:function(){for(var g=this.getShapes(),S=this.width/(t-1),n=this.height/i,C=n*2,s=S*this.value,o=n*this.value,y=0;y<i;y++)for(var f=0;f<t;f++){var u=f*S,l=y*C+f%2*n;g[f*i+y].fillStyle(16777215).start(u+s,l).lineTo(u,l+o).lineTo(u-s,l).lineTo(u,l-o).lineTo(u+s,l).close()}}});return r},mW=function(e){var t=gW(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode($X,{ease:"Linear",dir:"out",mask:t,onStart:function(i,r,g,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,r,g,S){i.maskGameObject.setValue(S)},onComplete:function(i,r,g,S){i.removeMaskGameObject(!1)}})},xW=function(e,t,i){var r=new Js(e,{type:"Graphics",create:{circle:t*i},update:function(){for(var g=this.getShapes(),S=this.width/(t-1),n=this.height/i,C=n*2,s=Math.max(S,n)*this.value,o=0;o<i;o++)for(var y=0;y<t;y++){var f=y*S,u=o*C+y%2*n;g[y*i+o].fillStyle(16777215).setCenterPosition(f,u).setRadius(s)}}});return r},yW=function(e){var t=xW(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(KX,{ease:"Linear",dir:"out",mask:t,onStart:function(i,r,g,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,r,g,S){i.maskGameObject.setValue(S)},onComplete:function(i,r,g,S){i.removeMaskGameObject(!1)}})},CW=function(e,t){var i=new Js(e,{type:"Graphics",create:{lines:t},update:function(){for(var r=this.getShapes(),g=this.width/t,S=g/2,n=0;n<t;n++){var C=g*n,s=this.height*this.value,o=C+S;r[n].fillStyle(16777215).start(C,0).horizontalLineTo(s).arc(o,s,S,180,0,!0).horizontalLineTo(-s).lineTo(C,0).close()}}});return i},TW=function(e){var t=CW(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(ZX,{ease:"Linear",dir:"out",mask:t,onStart:function(i,r,g,S){g.tint=0,i.setCurrentImageMaskEnable(!0,!0),i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,r,g,S){var n;S<.5?(S=Vt(S),n=Math.floor(255*(1-S)),i.maskGameObject.setValue(S),r.tint=(n<<16)+(n<<8)+n):(r.visible&&i.setChildVisible(r,!1),S=Vt(S),n=Math.floor(255*(1-S)),i.maskGameObject.setValue(S),g.tint=(n<<16)+(n<<8)+n)},onComplete:function(i,r,g,S){i.removeMaskGameObject(!1),i.setChildVisible(r,!0),r.tint=16777215,i.setChildVisible(g,!0),g.tint=16777215}})},SW=function(e){e.addTransitionMode(JX,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,r,g){t.setChildVisible(r,!1),i.effect=i.preFX.addPixelate(0),r.effect=r.preFX.addPixelate(0)},onProgress:function(t,i,r,g){if(g<.5){g=Vt(g);var S=Math.min(i.width,i.height)/5;i.effect.amount=Math.ceil(S*g)}else{i.visible&&t.setChildVisible(i,!1),r.visible||t.setChildVisible(r,!0),g=Vt(g);var S=Math.min(r.width,r.height)/5;r.effect.amount=Math.ceil(S*g)}},onComplete:function(t,i,r,g){i.preFX.remove(i.effect),delete i.effect,t.setChildVisible(i,!0),r.preFX.remove(r.effect),delete r.effect}})};const PW=`vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 mod289(vec4 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 permute(vec4 x) { return mod289(((x*34.0)+1.0)*x); }
vec4 taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec3 fade(vec3 t) { return t*t*t*(t*(t*6.0-15.0)+10.0); }
float Perlin(vec3 P) {
    vec3 i0 = mod289(floor(P)), i1 = mod289(i0 + vec3(1.0));
    vec3 f0 = fract(P), f1 = f0 - vec3(1.0), f = fade(f0);
    vec4 ix = vec4(i0.x, i1.x, i0.x, i1.x), iy = vec4(i0.yy, i1.yy);
    vec4 iz0 = i0.zzzz, iz1 = i1.zzzz;
    vec4 ixy = permute(permute(ix) + iy), ixy0 = permute(ixy + iz0), ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0), gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    vec4 gx1 = ixy1 * (1.0 / 7.0), gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0); gx1 = fract(gx1);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0), sz0 = step(gz0, vec4(0.0));
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1), sz1 = step(gz1, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5); gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    gx1 -= sz1 * (step(0.0, gx1) - 0.5); gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g0 = vec3(gx0.x,gy0.x,gz0.x), g1 = vec3(gx0.y,gy0.y,gz0.y),
        g2 = vec3(gx0.z,gy0.z,gz0.z), g3 = vec3(gx0.w,gy0.w,gz0.w),
        g4 = vec3(gx1.x,gy1.x,gz1.x), g5 = vec3(gx1.y,gy1.y,gz1.y),
        g6 = vec3(gx1.z,gy1.z,gz1.z), g7 = vec3(gx1.w,gy1.w,gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g0,g0), dot(g2,g2), dot(g1,g1), dot(g3,g3)));
    vec4 norm1 = taylorInvSqrt(vec4(dot(g4,g4), dot(g6,g6), dot(g5,g5), dot(g7,g7)));
    g0 *= norm0.x; g2 *= norm0.y; g1 *= norm0.z; g3 *= norm0.w;
    g4 *= norm1.x; g6 *= norm1.y; g5 *= norm1.z; g7 *= norm1.w;
    vec4 nz = mix(vec4(dot(g0, vec3(f0.x, f0.y, f0.z)), dot(g1, vec3(f1.x, f0.y, f0.z)),
        dot(g2, vec3(f0.x, f1.y, f0.z)), dot(g3, vec3(f1.x, f1.y, f0.z))),
        vec4(dot(g4, vec3(f0.x, f0.y, f1.z)), dot(g5, vec3(f1.x, f0.y, f1.z)),
            dot(g6, vec3(f0.x, f1.y, f1.z)), dot(g7, vec3(f1.x, f1.y, f1.z))), f.z);
    return 2.2 * mix(mix(nz.x,nz.z,f.y), mix(nz.y,nz.w,f.y), f.x);
}
float Perlin(vec2 P) { return Perlin(vec3(P, 0.0)); }
`,EW=`#ifdef GL_FRAGMENT_PRECISION_HIGH
#define highmedp highp
#else
#define highmedp mediump
#endif
precision highmedp float;
// Scene buffer
uniform sampler2D uMainSampler;
uniform sampler2D uMainSampler2;

uniform int resizeMode;
uniform float progress;
uniform float fromRatio;
uniform float toRatio;
varying vec2 outFragCoord;
// Effect parameters
uniform float noiseX;
uniform float noiseY;
uniform float noiseZ;
uniform float fromEdgeStart;
uniform float fromEdgeWidth;
uniform float toEdgeStart;
uniform float toEdgeWidth;

${PW}

vec4 getFromColor (vec2 uv) {
  return texture2D(uMainSampler, uv);
}

vec4 getToColor (vec2 uv) {
  if (resizeMode == 2) {
    //  cover
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(min(fromRatio / toRatio, 1.0), min((toRatio / fromRatio), 1.0)));
  } else if (resizeMode == 1) {
    //  contain
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(max(fromRatio / toRatio, 1.0), max((toRatio / fromRatio), 1.0)));
  } else {
    //  stretch
    return texture2D(uMainSampler2, vec2(uv.x, 1.0 - uv.y));
  }
}

vec4 transition (vec2 uv) {    
  vec4 colorFront = getFromColor(uv);
  vec4 colorTo = getToColor(uv);

  float noise = (Perlin(vec3(uv.x * noiseX, uv.y * noiseY, noiseZ)) + 1.0) / 2.0
    * (1.0 - (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth))
    + (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth) * 0.5;
  vec4 colorResult = colorFront * smoothstep(progress - (fromEdgeStart + fromEdgeWidth), progress - fromEdgeStart, noise)
    + colorTo * smoothstep((1.0 - progress) - (toEdgeStart + toEdgeWidth), (1.0 - progress) - toEdgeStart, (1.0 - noise));
  return colorResult;
}

void main () {
  vec2 uv = outFragCoord;
  gl_FragColor = transition(uv);
}
`,MW=Phaser.Renderer.WebGL.Pipelines.PostFXPipeline,hs=Phaser.Utils.Objects.GetValue,wW=Phaser.Math.Clamp;class Up extends MW{constructor(t){super({name:"rexDissolvePostFx",game:t,renderTarget:!0,fragShader:EW}),this._progress=0,this.toFrame=null,this.targetTexture=null,this.resizeMode=1,this.toRatio=1,this.noiseX=0,this.noiseY=0,this.noiseZ=0,this.fromEdgeStart=.01,this.fromEdgeWidth=.05,this.toEdgeStart=.01,this.toEdgeWidth=.05}resetFromJSON(t){return this.setProgress(hs(t,"progress",0)),this.setTransitionTargetTexture(hs(t,"toTexture","__DEFAULT"),hs(t,"toFrame",void 0),hs(t,"resizeMode",1)),this.setNoise(hs(t,"noiseX",void 0),hs(t,"noiseY",void 0),hs(t,"noiseZ",void 0)),this.setFromEdge(hs(t,"fromEdgeStart",.01),hs(t,"fromEdgeWidth",.05)),this.setToEdge(hs(t,"toEdgeStart",.01),hs(t,"toEdgeWidth",.05)),this}onBoot(){}onPreRender(){this.set1f("progress",this.progress),this.set1i("resizeMode",this.resizeMode),this.set1f("noiseX",this.noiseX),this.set1f("noiseY",this.noiseY),this.set1f("noiseZ",this.noiseZ),this.set1f("fromEdgeStart",this.fromEdgeStart),this.set1f("fromEdgeWidth",this.fromEdgeWidth),this.set1f("toEdgeStart",this.toEdgeStart),this.set1f("toEdgeWidth",this.toEdgeWidth)}onDraw(t){this.set1f("fromRatio",t.width/t.height),this.set1f("toRatio",this.toRatio),this.set1i("uMainSampler2",1),this.bindTexture(this.targetTexture,1),this.bindAndDraw(t)}get progress(){return this._progress}set progress(t){this._progress=wW(t,0,1)}setProgress(t){return this.progress=t,this}setTransitionTargetTexture(t,i,r){t===void 0&&(t="__DEFAULT");var g=this.game.textures.getFrame(t,i);return g||(g=this.game.textures.getFrame("__DEFAULT")),this.toRatio=g.width/g.height,this.toFrame=g,this.targetTexture=g.glTexture,r!==void 0&&(this.resizeMode=r),this}setResizeMode(t){return typeof t=="string"&&(t=RW[t]),this.resizeMode=t,this}setNoise(t,i,r){return t===void 0&&(t=4+Math.random()*6),i===void 0&&(i=4+Math.random()*6),r===void 0&&(r=Math.random()*10),this.noiseX=t,this.noiseY=i,this.noiseZ=r,this}setFromEdge(t,i){return this.fromEdgeStart=t,this.fromEdgeWidth=i,this}setToEdge(t,i){return this.toEdgeStart=t,this.toEdgeWidth=i,this}}var RW={stretch:0,contain:1,cover:2},AW=function(e,t,i){pa(e).renderer.pipelines.addPostPipeline(t,i)},LW=function(e,t,i){i===void 0&&(i={}),e.setPostPipeline(t);var r=e.postPipelines[e.postPipelines.length-1];return r.resetFromJSON(i),i.name&&(r.name=i.name),r};const OW=Phaser.Utils.Array.SpliceOne;var FW=function(e,t,i){for(var r,g,S,r=e.postPipelines,g=r.length-1;g>=0;g--){var S=r[g];S instanceof t&&(S.destroy(),OW(r,g))}e.hasPostPipeline=e.postPipelines.length>0},bW=function(e){AW(e.scene.game,"rexDissolvePostFx",Up),e.addTransitionMode(QX,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,r,g){i.effect=LW(i,Up)},onProgress:function(t,i,r,g){i.effect.setProgress(g)},onComplete:function(t,i,r,g){FW(i,Up),delete i.effect}})};const Td=.1,DW=0,BW=0,IW=1,GW=1,cS=0,vS=1;var kW=function(e){e.addTransitionMode(qX,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,r,g){r.effect=r.preFX.addReveal(Td,DW,cS)},onProgress:function(t,i,r,g){r.effect.progress=g},onComplete:function(t,i,r,g){r.preFX.remove(r.effect),delete r.effect}}).addTransitionMode(jX,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,r,g){r.effect=r.preFX.addReveal(Td,IW,cS)},onProgress:function(t,i,r,g){r.effect.progress=g},onComplete:function(t,i,r,g){r.preFX.remove(r.effect),delete r.effect}}).addTransitionMode(tW,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,r,g){r.effect=r.preFX.addReveal(Td,BW,vS)},onProgress:function(t,i,r,g){r.effect.progress=g},onComplete:function(t,i,r,g){r.preFX.remove(r.effect),delete r.effect}}).addTransitionMode(_X,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,r,g){r.effect=r.preFX.addReveal(Td,GW,vS)},onProgress:function(t,i,r,g){r.effect.progress=g},onComplete:function(t,i,r,g){r.preFX.remove(r.effect),delete r.effect}})};const pS=[eW,iW,sW,rW,nW,lW,dW,oW,cW,pW,mW,yW,TW,SW,bW,kW];class wR extends Wc{constructor(t,i,r,g,S,n){super(t,i,r,g,S,n);for(var C=0,s=pS.length;C<s;C++)pS[C](this)}}st.register("transitionImagePack",function(e,t,i,r,g){var S=new wR(this.scene,e,t,i,r,g);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.TransitionImagePack",wR);var NW=function(){var e=this.image;if(!this.scaleUp&&e.width<=this.width&&e.height<=this.height)return this;var t=Ux(e,this,"FIT",!0);return e.setDisplaySize(t.width,t.height),this.resetChildScaleState(e),this},RR={scaleImage:NW};Object.assign(RR,ER);var zW=function(){var e=this.background;return e?(e.setOrigin(this.originX,this.originY),e.setPosition(this.x,this.y),Je(e,this.displayWidth,this.displayHeight),this.resetChildScaleState(e),this):this};const gS=Phaser.Utils.Objects.IsPlainObject,er=Phaser.Utils.Objects.GetValue;class Yc extends ki{constructor(t,i,r,g,S,n){gS(i)?(n=i,i=er(n,"x",0),r=er(n,"y",0),g=er(n,"key",void 0),S=er(n,"frame",void 0)):gS(S)&&(n=S,S=void 0);var C=er(n,"image");C?C.setPosition(i,r).setOrigin(.5):(C=t.add.image(i,r,g,S),g===void 0&&C.setVisible(!1)),super(t,i,r,1,1),this.type="rexImageBox";var s=er(n,"background");s&&this.add(s),this.background=s,this.add(C),this.image=C,this.scaleUp=er(n,"scaleUp",!1);var o=er(n,"width",C.width),y=er(n,"height",C.height);this.resize(o,y)}get texture(){return this.image.texture}get frame(){return this.image.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.image.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.image.setFlipY(t))}resize(t,i){return super.resize(t,i),zW.call(this),this.scaleImage(),this}setTexture(t,i){var r=this.image;return r.setTexture(t,i),t!==null?(this.setChildVisible(r,!0),this.scaleImage()):this.setChildVisible(r,!1),this}}Object.assign(Yc.prototype,RR);st.register("imageBox",function(e,t,i,r,g){var S=new Yc(this.scene,e,t,i,r,g);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.ImageBox",Yc);st.register("fullWindowRectangle",function(e,t){var i=new Bx(this.scene,e,t);return this.scene.add.existing(i),i});et(window,"RexPlugins.UI.FullWindowRectangle",Bx);st.register("fullWindowZone",function(){var e=new rx(this.scene);return this.scene.add.existing(e),e});et(window,"RexPlugins.UI.FullWindowZone",rx);st.register("cover",function(e){var t=new Ix(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Cover",Ix);var $x=function(e,t){if(this.scene.sys.scale.autoRound&&(e=Math.floor(e),t=Math.floor(t)),this.width===e&&this.height===t)return this;var i=this.node.style;return i.width=`${e}px`,i.height=`${t}px`,this.updateSize(),this};const mS={id:["id",void 0],text:["value",void 0],maxLength:["maxLength",void 0],minLength:["minLength",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readOnly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"],autoCapitalize:["autocapitalize","off"]},xS={align:["textAlign",void 0],paddingLeft:["padding-left",void 0],paddingRight:["padding-right",void 0],paddingTop:["padding-top",void 0],paddingBottom:["padding-bottom",void 0],fontFamily:["fontFamily",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],border:["border",0],borderColor:["borderColor","transparent"],borderRadius:["border-radius",void 0],outline:["outline","none"],direction:["direction",void 0]},VW={input:"textchange",click:"click",dblclick:"dblclick",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",keydown:"keydown",keyup:"keyup",keypress:"keypress",compositionstart:"compositionStart",compositionend:"compositionEnd",compositionupdate:"compositionUpdate",focus:"focus",blur:"blur",select:"select"},yS=Phaser.Utils.Objects.GetValue;var AR=function(e,t,i,r){var g=yS(r,"preventDefault",!1),S=yS(r,"preTest");for(let n in i)t.addEventListener(n,function(C){(!S||S(e,n))&&e.emit(i[n],e,C),g&&C.preventDefault()})};const UW=Phaser.GameObjects.DOMElement,CS=Phaser.Utils.Objects.IsPlainObject,bs=Phaser.Utils.Objects.GetValue;class Hc extends UW{constructor(t,i,r,g,S,n){CS(i)?(n=i,i=bs(n,"x",0),r=bs(n,"y",0),g=bs(n,"width",0),S=bs(n,"height",0)):CS(g)&&(n=g,g=bs(n,"width",0),S=bs(n,"height",0)),n===void 0&&(n={});var C,s=bs(n,"inputType",void 0);s===void 0&&(s=bs(n,"type","text")),s==="textarea"?(C=document.createElement("textarea"),C.style.resize="none"):(C=document.createElement("input"),C.type=s),zf(mS,n,C);var o=bs(n,"style",void 0);o=zf(xS,n,o);var y=C.style;for(var f in n)if(!(f in mS||f in xS)){if(f in y)o[f]=n[f];else if(f in C){if(f==="type")continue;C[f]=n[f]}}o["box-sizing"]="border-box",super(t,i,r,C,o),this.type="rexInputText",this.resize(g,S),AR(this,C,VW),Lw(C),bs(n,"selectAll",!1)&&this.selectAll(),this._isFocused=!1,this.on("focus",function(){this._isFocused=!0},this).on("blur",function(){this._isFocused=!1},this)}get inputType(){return this.node.tagName.toLowerCase()==="textarea"?"textarea":this.node.type}get text(){return this.node.value}set text(t){this.node.value=t}setText(t){return this.text=t,this}get maxLength(){return this.node.maxLength}set maxLength(t){this.node.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.node.minLength}set minLength(t){this.node.minLength=t}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node.placeholder=t}setPlaceholder(t){return this.placeholder=t,this}selectText(t,i){return t===void 0?this.node.select():this.node.setSelectionRange(t,i),this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node.selectionStart}get selectionEnd(){return this.node.selectionEnd}get selectedText(){var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node.selectionStart}set cursorPosition(t){this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node.title}set tooltip(t){this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.node.readOnly}set readOnly(t){this.node.readOnly=t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node.spellcheck}set spellCheck(t){this.node.spellcheck=t}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){return this.node.style.color}set fontColor(t){this.node.style.color=t}setFontColor(t){return this.fontColor=t,this}setStyle(t,i){return this.node.style[t]=i,this}getStyle(t){return this.node.style[t]}scrollToBottom(){return this.node.scrollTop=this.node.scrollHeight,this}setEnabled(t){return t===void 0&&(t=!0),this.node.disabled=!t,this}setBlur(){return this.node.blur(),this}setFocus(){return this.node.focus(),this}get isFocused(){return this._isFocused}}var XW={resize:$x};Object.assign(Hc.prototype,XW);st.register("inputText",function(e){var t=new Hc(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.InputText",Hc);const TS=Phaser.Utils.Objects.GetValue;var WW=function(e,t){var i=document.createElement("input");i.type="file";var r=TS(t,"accept",""),g=TS(t,"multiple",!1);return i.setAttribute("accept",r),g?i.setAttribute("multiple",""):i.removeAttribute("multiple"),i},LR=function(e,t){return e===void 0&&(e=0),new Promise(function(i,r){setTimeout(function(){i(t)},e)})},OR=function({game:e,fileInput:t,closeDelay:i}){return Pc(pa(e).events,"focus").then(function(){return LR(i)}).then(function(){var r={files:t.files};return Promise.resolve(r)})};const YW=Phaser.Utils.Objects.GetValue,HW=Phaser.DOM.RemoveFromDOM;var FR=function(e,t){var i=YW(t,"closeDelay",200),r=WW(e,t);return r.click(),OR({game:e,fileInput:r,closeDelay:i}).then(function(g){return HW(r),r.remove(),Promise.resolve(g)})},bR=function(e){return this.setOrigin(e.originX,e.originY),this.setPosition(e.x,e.y),this.resize(e.displayWidth,e.displayHeight),this},$W=function(e,t,i){if(i===void 0)switch(t){case"image":case"svg":i="textures";break;case"animation":i="json";break;case"tilemapTiledJSON":case"tilemapCSV":i="tilemap";break;case"glsl":i="shader";break;default:i=t;break}e=pa(e);var r;return i==="textures"?r=e.textures:r=e.cache[i],r},DR=function(e,t,i,r,g,S){if(!(g===null||g===!1))if(Es(g))g();else{var n=$W(e,i,g);n.exists(r)&&n.remove(r)}var C=e.load;if(S&&C.once(`filecomplete-${i}-${r}`,function(o,y,f){S(f)}),Es(t))t();else{var s=window.URL.createObjectURL(t);C[i](r,s)}C.start()},KW=function(e,t,i,r,g){var S=this.scene;return DR(S,e,t,i,r,g),this},ZW=function(e,t,i,r){var g=this.scene;return new Promise(function(S,n){var C=function(s){S(s)};DR(g,e,t,i,r,C)})};const BR={loadFile:KW,loadFilePromise:ZW},JW=Phaser.GameObjects.DOMElement,SS=Phaser.Utils.Objects.IsPlainObject,Ds=Phaser.Utils.Objects.GetValue;class iu extends JW{constructor(t,i,r,g,S,n){SS(i)?(n=i,i=Ds(n,"x",0),r=Ds(n,"y",0),g=Ds(n,"width",0),S=Ds(n,"height",0)):SS(g)&&(n=g,g=Ds(n,"width",0),S=Ds(n,"height",0));var C=document.createElement("input");C.type="file";var s=C.style;s.display="none";var o=document.createElement("label");o.appendChild(C);var y=Ds(n,"style",void 0);super(t,i,r,o,y),this.type="rexFileChooser",this.resetFromJSON(n),this.resize(g,S);var f=this;C.onchange=function(){f.emit("change",f)},this.setCloseDelay(Ds(n,"closeDelay",200)),C.onclick=function(){OR({game:t,fileInput:C,closeDelay:f.closeDelay}).then(function(){f.emit("select",f)})}}resetFromJSON(t){return this.setAccept(Ds(t,"accept","")),this.setMultiple(Ds(t,"multiple",!1)),this}setAccept(t){return t===void 0&&(t=""),this.fileInput.setAttribute("accept",t),this}setMultiple(t){return t===void 0&&(t=!0),t?this.fileInput.setAttribute("multiple",""):this.fileInput.removeAttribute("multiple"),this}setCloseDelay(t){return t===void 0&&(t=200),this.closeDelay=t,this}get fileInput(){return this.node.children[0]}open(){return this.fileInput.click(),this}get files(){return this.fileInput.files}setOpenEnable(t){return t===void 0&&(t=!0),this.fileInput.disabled=!t,this}}var QW={resize:$x,syncTo:bR};Object.assign(iu.prototype,QW,BR);st.register("fileChooser",function(e){var t=new iu(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.FileChooser",iu);const jW={setDropEnable(e){return e===void 0&&(e=!0),this.dropEnable=e,this},toggleDropEnable(){return this.dropEnable=!this.dropEnable,this}},qW={addFilter(e,t){return this.filters||(this.filters={}),this.filters[e]=t,this},addFilters(e){this.filters||(this.filters={});for(var t in e)this.filters[t]=e[t];return this}};var IR={resize:$x,syncTo:bR};Object.assign(IR,jW,qW,BR);const _W={dragenter:"dragenter",dragleave:"dragleave",dragover:"dragover",drop:"drop"},tY=Phaser.GameObjects.DOMElement,PS=Phaser.Utils.Objects.IsPlainObject,ir=Phaser.Utils.Objects.GetValue;class Kx extends tY{constructor(t,i,r,g,S,n){PS(i)?(n=i,i=ir(n,"x",0),r=ir(n,"y",0),g=ir(n,"width",0),S=ir(n,"height",0)):PS(g)&&(n=g,g=ir(n,"width",0),S=ir(n,"height",0)),n===void 0&&(n={});var C=document.createElement("div"),s=ir(n,"style",void 0);super(t,i,r,C,s),this.type="rexFileDropZone",this.resize(g,S),this._files=[],this.setDropEnable(ir(n,"dropEnable",!0));var o=ir(n,"filters");o&&this.addFilters(o),AR(this,C,_W,{preventDefault:!0,preTest(y){return y.dropEnable}}),this.on("drop",function(y,f){this._files=f.dataTransfer.files;var u=this._files;if(u&&this.filters)for(var l in this.filters){for(var a=this.filters[l],d=[],v=0,h=u.length;v<h;v++){var c=u[v];a(c,u)&&d.push(c)}d.length>0&&this.emit(`drop.${l}`,d)}},this)}get files(){return this._files}}Object.assign(Kx.prototype,IR);st.register("fileDropZone",function(e){var t=new Kx(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.FileDropZone",Kx);var eY=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i=this.sizerChildren,r,g,S,n,C,s=!1;if(this.childrenProportion,this.orientation===0)for(var o=!0,y=0,f=i.length;y<f;y++)r=i[y],r.hasOwnProperty("rexSizer")&&(g=r.rexSizer,!g.hidden&&(S=g.proportion,S===0||e?(C=this.getChildWidth(r),g.fitRatio>0&&!g.resolved&&(C=void 0),C===void 0&&(S!==0&&!this.hasProportion0Child?C=0:s=!0)):C=0,!s&&(n=r.rexSizer.padding,C+=(n.left+n.right)*this.scaleX,o?o=!1:C+=this.space.item*this.scaleX,t+=C)));else for(var y=0,f=i.length;y<f;y++)r=i[y],r.hasOwnProperty("rexSizer")&&(g=r.rexSizer,!g.hidden&&(C=this.getChildWidth(r),C===void 0&&(s=!0),!s&&(n=g.padding,C+=(n.left+n.right)*this.scaleX,t=Math.max(C,t))));if(!s)return t+(this.space.left+this.space.right)*this.scaleX},iY=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i=this.sizerChildren,r,g,S,n,C,s=!1;if(this.childrenProportion,this.orientation===0)for(var o=0,y=i.length;o<y;o++)r=i[o],r.hasOwnProperty("rexSizer")&&(g=r.rexSizer,!g.hidden&&(C=this.getChildHeight(r),C===void 0&&(s=!0),!s&&(n=g.padding,C+=(n.top+n.bottom)*this.scaleY,t=Math.max(C,t))));else for(var f=!0,o=0,y=i.length;o<y;o++)r=i[o],r.hasOwnProperty("rexSizer")&&(g=r.rexSizer,!g.hidden&&(S=g.proportion,S===0||e?(C=this.getChildHeight(r),g.fitRatio>0&&!g.resolved&&(C=void 0),C===void 0&&(S!==0&&!this.hasProportion0Child?C=0:s=!0)):C=0,!s&&(n=g.padding,C+=(n.top+n.bottom)*this.scaleY,f?f=!1:C+=this.space.item*this.scaleY,t+=C)));if(!s)return t+(this.space.top+this.space.bottom)*this.scaleY},sY=function(e,t){t===void 0&&(t=this.width*this.scaleX);var i,r=e.rexSizer;if(this.orientation===0)r.proportion>0&&this.proportionLength>0&&(i=r.proportion*this.proportionLength);else if(r.expand){var g=this.space,S=t-(g.left+g.right)*this.scaleX,n=r.padding;i=S-(n.left+n.right)*this.scaleX}return i},rY=function(e,t){t===void 0&&(t=this.height);var i,r=e.rexSizer;if(this.orientation===0){if(r.expand){var g=this.space,S=t-(g.top+g.bottom)*this.scaleY,n=r.padding;i=S-(n.top+n.bottom)*this.scaleY}}else r.proportion>0&&this.proportionLength>0&&(i=r.proportion*this.proportionLength);return i},nY=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,r=0,g=t.length;r<g;r++)i=t[r],i.isRexSizer&&e.push(i);return e},aY=function(){this.hasRatioFitChild=!1;for(var e,t,i=this.sizerChildren,r=0,g=i.length;r<g;r++)e=i[r],t=e.rexSizer,!t.hidden&&t.fitRatio>0&&(Je(e,0,0),t.resolved=!1,this.hasRatioFitChild=!0);return this._childrenProportion=void 0,this.hasProportion0Child=!1,this.proportionLength=void 0,ql.call(this),this};const oY=Phaser.Math.Wrap;var hY=function(){for(var e=this.sizerChildren,t,i,r,g=this.innerLeft,S=this.innerTop,n=this.innerWidth,C=this.innerHeight,s=g,o=S,y,f,u,l,a,d,v,h,c,p=this.startChildIndex,m=0,x=e.length;m<x;m++)p===0?c=m:c=oY(m+p,0,x),this.rtl&&(c=x-c-1),t=e[c],!t.rexSizer.hidden&&(i=t.rexSizer,r=i.padding,_l.call(this,t),t.isRexSpace?(v=0,h=0):(v=this.getExpandedChildWidth(t),h=this.getExpandedChildHeight(t)),t.isRexSizer?(t.runLayout(this,v,h),Xx(t,this)):Je(t,v,h),v===void 0&&(v=Ft(t)),h===void 0&&(h=bt(t)),this.orientation===0?(y=s+r.left*this.scaleX,i.proportion===0||this.proportionLength===0?u=v:u=i.proportion*this.proportionLength,f=o+r.top*this.scaleY,l=C-(r.top+r.bottom)*this.scaleY):(y=s+r.left*this.scaleX,u=n-(r.left+r.right)*this.scaleX,f=o+r.top*this.scaleY,i.proportion===0||this.proportionLength===0?l=h:l=i.proportion*this.proportionLength),v===void 0&&(v=Ft(t)),h===void 0&&(h=bt(t)),a=(i.alignOffsetX+i.alignOffsetOriginX*v)*this.scaleX,d=(i.alignOffsetY+i.alignOffsetOriginY*h)*this.scaleY,tu.call(this,t,y,f,u,l,i.align,a,d),this.orientation===0?s+=u+(r.left+r.right)*this.scaleX+this.space.item*this.scaleX:o+=l+(r.top+r.bottom)*this.scaleY+this.space.item*this.scaleY)},lY=function(t){var t=Ex.call(this,t);if(t!==void 0&&this.orientation===0&&this.proportionLength===void 0){var i=t-this.childrenWidth;i>0?(i=t-this.getChildrenWidth(!1),this.proportionLength=i/this.childrenProportion):this.proportionLength=0}return t},uY=function(t){var t=Rx.call(this,t);if(t!==void 0&&this.orientation===1&&this.proportionLength===void 0){var i=t-this.childrenHeight;i>0?(i=t-this.getChildrenHeight(!1),this.proportionLength=i/this.childrenProportion):this.proportionLength=0}return t},dY=function(){return this.hasRatioFitChild&&this.orientation===1?!0:Mx.call(this)},GR=function(e,t){if(this.hasRatioFitChild){var i;this.orientation===0?i=t-(this.getInnerPadding("top")+this.getInnerPadding("bottom"))*this.scaleY:e-(this.getInnerPadding("left")+this.getInnerPadding("right"))*this.scaleX;for(var r,g,S,n,C=this.sizerChildren,s=0,o=C.length;s<o;s++){var r=C[s],g=r.rexSizer;if(!g.hidden){var y=g.fitRatio;y&&(this.orientation===0?(n=i-(this.getChildOuterPadding(r,"top")+this.getChildOuterPadding(r,"bottom"))*this.scaleY,S=n*y):(S=i-(this.getChildOuterPadding(r,"top")+this.getChildOuterPadding(r,"bottom"))*this.scaleX,n=S/y),Je(r,S,n),r.isRexSizer&&r.setMinSize(S,n),g.resolved=!0)}}}},fY=function(e){this.wrapResult||(this.orientation===1&&GR.call(this,e,void 0),wx.call(this,e))},cY=function(){return this.hasRatioFitChild&&this.orientation===0?!0:Ax.call(this)},vY=function(e){this.wrapResult||(this.orientation===0&&GR.call(this,void 0,e),Lx.call(this,e))};const pY=Phaser.GameObjects.Zone;class Zx extends pY{constructor(t){super(t,0,0,1,1),this.isRexSpace=!0}}var gY=function(e,t){var i=this.sizerChildren;if(i.length===0)return-1;for(var r=-1,g=1/0,S=0,n=i.length;S<n;S++){var C=i[S],s;this.orientation===0?s=Math.abs(C.left-e):s=Math.abs(C.top-t),g>s&&(g=s,r=S)}var C=i[i.length-1],s;return this.orientation===0?s=Math.abs(C.right-e):s=Math.abs(C.bottom-t),g>s&&(g=s,r=S+1),r};const kR=Phaser.Utils.Objects.IsPlainObject,Pi=Phaser.Utils.Objects.GetValue,ES=Phaser.Display.Align.CENTER,mY={min:0,full:-1};var Xp=function(e,t,i,r,g,S,n,C,s,o){var y,f,u,l;Ql.call(this,e);var a=e.isRexSpace,d=typeof t;if(t===null)return this;if(d!=="number"){if(d==="string")t=mY[t];else if(kR(t)){var v=t;t=Pi(v,"proportion",void 0),i=Pi(v,"align",ES),r=Pi(v,"padding",0),g=Pi(v,"expand",!1),S=Pi(v,"key",void 0),n=Pi(v,"index",void 0),e.isRexSizer||(C=Pi(v,"minWidth",void 0),s=Pi(v,"minHeight",void 0)),o=Pi(v,"fitRatio",0),y=Pi(v,"offsetX",0),f=Pi(v,"offsetY",0),u=Pi(v,"offsetOriginX",0),l=Pi(v,"offsetOriginY",0)}}typeof i=="string"&&(i=qo[i]),t===void 0&&(t=a?1:0),i===void 0&&(i=ES),r===void 0&&(r=0),g===void 0&&(g=!1),C===void 0&&(a?C=0:e.isRexSizer||(C=e._minWidth)),s===void 0&&(a?s=0:e.isRexSizer||(s=e._minHeight)),o===void 0||o===!1?o=0:o===!0&&(o=Ft(e)/bt(e)),y===void 0&&(y=0),f===void 0&&(f=0),u===void 0&&(u=0),l===void 0&&(l=0);var v=this.getSizerConfig(e);return v.proportion=t,v.align=i,v.padding=Ma(r),v.expand=g,v.fitRatio=t===0?o:0,v.alignOffsetX=y,v.alignOffsetY=f,v.alignOffsetOriginX=u,v.alignOffsetOriginY=l,n===void 0||n>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(n,0,e),e.isRexSizer||(t>0&&(this.orientation===0?e.minWidth=C===void 0?Ft(e):C:e.minHeight=s===void 0?bt(e):s),g&&(this.orientation===0?e.minHeight=s:e.minWidth=C)),S!==void 0&&this.addChildrenMap(S,e),this};const xY={add:Xp,addSpace(e){return this.insertSpace(void 0,e),this},insertSpace(e,t){return t===void 0&&(t=1),Xp.call(this,new Zx(this.scene),{proportion:t,minWidth:0,minHeight:0,index:e}),this},insert(e,t,i,r,g,S,n,C){return kR(i)&&(i.index=e),Xp.call(this,t,i,r,g,S,n,e,C),this},insertAtPosition(e,t,i,r,g,S,n,C,s){var o=gY.call(this,e,t);return o===-1&&(o=void 0),this.insert(o,i,r,g,S,n,C,s),this}},yY=Phaser.Utils.Array.Remove,CY={remove(e,t){return this.getParentSizer(e)!==this?this:(yY(this.sizerChildren,e),jl.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,Vc.call(this,e),this}},TY={getChildAlign(e){return this.getSizerConfig(e).align},setChildAlign(e,t){return typeof t=="string"&&(t=qo[t]),this.getSizerConfig(e).align=t,this}},SY={getChildProportion(e){return this.getSizerConfig(e).proportion},setChildProportion(e,t){return this.getSizerConfig(e).proportion=t,this}},PY={getChildExpand(e){return this.getSizerConfig(e).expand},setChildExpand(e,t){return this.getSizerConfig(e).expand=t,this}};var EY=function(e){e===void 0&&(e="left");var t=this.sizerChildren,i=t[0],r=i&&i.isRexSpace;e==="right"||e==="bottom"||e==="center"?r||this.insertSpace(0):r&&this.remove(i,!0);var g=t.length-1,S=t[g],n=S&&S.isRexSpace;return e==="center"?n||this.insertSpace(g+1):n&&this.remove(S,!0),this};const Jx={sortChildren(e){return this.sizerChildren.sort(e),this},sortChildrenByData(e,t){return this.sizerChildren.sort(function(i,r){var g=i.getData(e),S=r.getData(e);return t?S-g:g-S}),this},sortChildrenByProperty(e,t){return this.sizerChildren.sort(function(i,r){var g=i[e],S=r[e];return t?S-g:g-S}),this}};var NR={getChildrenWidth:eY,getChildrenHeight:iY,getExpandedChildWidth:sY,getExpandedChildHeight:rY,getChildrenSizers:nY,preLayout:aY,layoutChildren:hY,resolveWidth:lY,resolveHeight:uY,hasWidthWrap:dY,runWidthWrap:fY,hasHeightWrap:cY,runHeightWrap:vY,setChildrenAlignMode:EY};Object.assign(NR,xY,CY,TY,SY,PY,Jx);var MY=function(){for(var e=0,t=this.sizerChildren,i,r,g=0,S=t.length;g<S;g++)i=t[g],!i.rexSizer.hidden&&(r=i.rexSizer.proportion,r>0?e+=r:r===0&&(this.hasProportion0Child=!0));return e};const Wp=Phaser.Utils.Objects.IsPlainObject,Xi=Phaser.Utils.Objects.GetValue;class St extends wa{constructor(t,i,r,g,S,n,C){Wp(i)?(C=i,i=Xi(C,"x",0),r=Xi(C,"y",0),g=Xi(C,"width",void 0),S=Xi(C,"height",void 0),n=Xi(C,"orientation",0)):Wp(g)?(C=g,g=Xi(C,"width",void 0),S=Xi(C,"height",void 0),n=Xi(C,"orientation",0)):Wp(n)&&(C=n,n=Xi(C,"orientation",0)),n===void 0&&(n=0),super(t,i,r,g,S,C),this.type="rexSizer",this.sizerChildren=[],this.setOrientation(n),this.setItemSpacing(Xi(C,"space.item",0)),this.setStartChildIndex(Xi(C,"startChildIndex",0)),this.setRTL(Xi(C,"rtl",!1)),this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Ea(t),this}setItemSpacing(t){return this.space.item=t,this}setStartChildIndex(t){return this.startChildIndex=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get childrenProportion(){return this._childrenProportion===void 0&&(this._childrenProportion=MY.call(this)),this._childrenProportion}}Object.assign(St.prototype,NR);var Sd=function(e,t,i){if(e){var r=t==null,g=i==null;return r&&g||(r||(e.displayWidth=t),g||(e.displayHeight=i),r&&(e.scaleX=e.scaleY),g&&(e.scaleY=e.scaleX)),e}},wY=function(e){e===void 0?e={}:typeof e=="string"&&(e={text:e});var t=e.text||"";this.setText(t);var i=this.childrenMap.icon;if(i){e.icon?this.show(i):this.hide(i);var r=e.iconSize;r&&(this.setChildDisplaySize(i,r,r),this.iconWidth!==void 0&&this.setIconSize(r)),e.icon!==!0&&this.setIconTexture(e.icon,e.iconFrame)}var g=this.childrenMap.action;if(g){e.action?this.show(g):this.hide(g);var S=e.actionSize;S&&(this.setChildDisplaySize(g,S,S),this.actionWidth!==void 0&&this.setActionSize(S)),e.action!==!0&&this.setActionTexture(e.action,e.actionFrame)}return this},RY={appendText:AM,resetDisplayContent:wY};class Qx extends St{get text(){var t=this.childrenMap.text;return t?t.text:""}set text(t){var i=this.childrenMap.text;i&&i.setText(t)}setText(t){return this.text=t,this}setIconTexture(t,i){var r=this.childrenMap.icon;return!r||!r.setTexture?this:(r.setTexture(t,i),this.iconWidth!==void 0&&this.iconHeight!==void 0&&(Sd(r,this.iconWidth,this.iconHeight),this.resetChildScaleState(r)),this)}setTexture(t,i){return this.setIconTexture(t,i),this}setIconSize(t,i){return i===void 0&&(i=t),this.iconWidth=t,this.iconHeight=i,this}get texture(){var t=this.childrenMap.icon;if(t)return t.texture}get frame(){var t=this.childrenMap.icon;if(t)return t.frame}setActionTexture(t,i){var r=this.childrenMap.action;return!r||!r.setTexture?this:(r.setTexture(t,i),this.actionWidth!==void 0&&this.actionHeight!==void 0&&(Sd(r,this.actionWidth,this.actionHeight),this.resetChildScaleState(r)),this)}get actionTexture(){var t=this.childrenMap.action;if(t)return t.texture}get actionFrame(){var t=this.childrenMap.action;if(t)return t.frame}setActionSize(t,i){return i===void 0&&(i=t),this.actionWidth=t,this.actionHeight=i,this}preLayout(){var t=this.childrenMap.icon;t&&this.iconWidth!==void 0&&this.iconHeight!==void 0&&Sd(t,this.iconWidth,this.iconHeight);var i=this.childrenMap.action;i&&this.actionWidth!==void 0&&this.actionHeight!==void 0&&Sd(i,this.actionWidth,this.actionHeight),super.preLayout()}postLayout(t,i,r){var g=this.childrenMap.iconMask;g&&(g.setPosition(),this.resetChildPositionState(g));var S=this.childrenMap.actionMask;return S&&(S.setPosition(),this.resetChildPositionState(S)),super.postLayout(t,i,r),this}resize(t,i){super.resize(t,i);var r=this.childrenMap.iconMask;r&&r.resize();var g=this.childrenMap.actionMask;return g&&g.resize(),this}}Object.assign(Qx.prototype,RY);var ws=function(e,t,i,r){var g=new Kf(t,i,r);if(e&&!e.isRexSizer){var S=g.createGeometryMask();e.setMask(S),this.once("destroy",function(){e.setMask(),S.destroy()})}return this.pin(g),g};const AY=Phaser.GameObjects.Text;var jx=function(e){return e instanceof AY};const LY=Phaser.GameObjects.BitmapText;var zR=function(e){return e instanceof LY};const Qe=0,je=1,Fi=2;var Mn=function(e){var t;return zR(e)?t=Fi:jx(e)?t=Qe:t=je,t},OY=function(e,t){for(var i=[],r=e.split(`
`),g=t.style,S=g.wordWrapWidth,n=g.hasOwnProperty("wrapMode")?g.wrapMode:3,C=t.context,s=0,o=r.length;s<o;s++)bY(C,r[s],S,n,i);return i},FY=function(e,t){var i;if(t===2)i=e.split("");else{i=[];for(var r=e.split(" "),g,S=0,n=r.length;S<n;S++)g=r[S],S<n-1?Tl(g)?i.push(g+" "):(i.push(...g.split("")),i.push(" ")):g!==""&&(Tl(g)?i.push(g):i.push(...g.split("")))}return i},bY=function(e,t,i,r,g){if(t.length<=100){var S=e.measureText(t).width;if(S<=i)return g.push(t),g}for(var n=FY(t,r),C,s,o=[],y=i,f=0,u=n.length;f<u;f++)C=n[f],s=e.measureText(C).width,y-=s,y<0&&(g.push(o.join("")),o.length=0,y=i-s),o.push(C);return o.length>0&&g.push(o.join("")),g},V0=function(e,t){var i=Mn(e);switch(i){case Qe:switch(typeof t=="string"&&(t=Nf[t]||0),e.style.wrapMode=t,t){case 2:case 3:e.style.wordWrapCallback=OY;break;case 1:default:e.style.wordWrapCallback=null;break}break;case je:typeof t=="string"&&(t=Nf[t]||0),e.style.wrapMode=t;break}},DY=function(e){var t=function(i){var r=e.padding,g=i-(r.left+r.right)*e.scaleX,S=e.style;return jx(e)?(S.wordWrapWidth=g,S.maxLines=0):(S.wrapMode===0&&(S.wrapMode=1),S.wrapWidth=g,S.maxLines=0),S.fixedWidth=i,S.fixedHeight=0,e.updateText(),e.minHeight=e.height,e};return t},BY=function(e){var t=function(i){return e.setFixedSize(i,0).runWordWrap(),e.minHeight=e.height,e};return t},IY=function(e){var t=function(i){return e.setMaxWidth(i),e.minHeight=e.height,e};return t},GY=function(e){return e instanceof Ko},Zf=function(e,t){return t===void 0&&(t=0),e._minWidth=t,e.runWidthWrap=GY(e)?BY(e):zR(e)?IY(e):DY(e),e};const Yp=65535;var Jf=function(e,t,i){if(t==null)return e;if(t===0)return Hp(e,0,i),e;var r=e.text.length;if(r===0)return Hp(e,t,i),e;var g=Math.floor(t*1.5/r);i!==void 0&&g>i&&(g=Math.floor(i));for(var S={},n=wS(e,g,t,i,S),C=0;C<=Yp&&n!==0;C++){if(g+=n,g<0){g=0;break}n=wS(e,g,t,i,S)}return C===Yp&&console.warn(`FontSizeFit: Test count exceeds ${Yp}`),e.setFontSize(g),Hp(e,t,i),e},MS=function(e,t,i){return i[t]===void 0&&(e.setFontSize(t),i[t]={width:e.width,height:e.height}),i[t]},wS=function(e,t,i,r,g){var S=MS(e,t,g),n=MS(e,t+1,g),C;if(r!==void 0)if(S.height<=r&&n.height>r)C=0;else{if(S.height>r)return-1;C=Math.floor(r-S.height)}var s;if(S.width<=i&&n.width>i)return 0;if(S.width>i)return-1;var s=Math.floor(i-S.width);return C===void 0?s:Math.min(s,C)},Hp=function(e,t,i){var r=e.style;r&&(r.fixedWidth=t,r.parent.width=t,i!==void 0&&(r.fixedHeight=i,r.parent.height=i),r.update(!1))};const $p=Phaser.Utils.Objects.GetValue;var Qf=function(e,t){typeof t=="number"&&(t={minWidth:t});var i=$p(t,"minWidth",0),r=$p(t,"minHeight",0),g=$p(t,"fitHeight",!1);return e._minWidth=i,e._minHeight=r,g?(e.runWidthWrap=function(S){return e.setFixedSize&&e.setFixedSize(0,0),e.setFontSize(1),e},e.resize=function(S,n){return Jf(e,S,n),e}):(e.runWidthWrap=function(S){return e.setFixedSize&&e.setFixedSize(0,0),Jf(e,S,void 0),e},e.resize=function(S,n){return e.width===S&&e.height===n||e.setFixedSize(S,n),e}),e};const Rt=Phaser.Utils.Objects.GetValue;class wr extends Qx{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexLabel";var r=Rt(i,"background",void 0),g=Rt(i,"icon",void 0),S=Rt(i,"iconMask",void 0),n=Rt(i,"text",void 0),C=Rt(i,"action",void 0),s=Rt(i,"actionMask",void 0),o=Rt(i,"align",void 0);if(r&&this.addBackground(r),g){var y;this.orientation===0?(n||C)&&(y={right:Rt(i,"space.icon",0),top:Rt(i,"space.iconTop",0),bottom:Rt(i,"space.iconBottom",0),left:Rt(i,"space.iconLeft",0)}):(n||C)&&(y={bottom:Rt(i,"space.icon",0),left:Rt(i,"space.iconLeft",0),right:Rt(i,"space.iconRight",0),top:Rt(i,"space.iconTop",0)});var f=Rt(i,"squareFitIcon",!1)?1:0;if(this.add(g,{proportion:0,padding:y,fitRatio:f}),S&&(S=ws.call(this,g,g,1)),!f){var u=Rt(i,"iconSize",void 0);this.setIconSize(Rt(i,"iconWidth",u),Rt(i,"iconHeight",u))}}if(n){var l=Rt(i,"wrapText",!1),a=Rt(i,"adjustTextFontSize",!1);l?(l===!0&&(l="word"),V0(n,l),i.expandTextWidth=!0,Zf(n)):a&&(i.expandTextWidth=!0,i.expandTextHeight=!0,Qf(n,{fitHeight:!0}));var d=Rt(i,"space.text",0),v=Rt(i,"expandTextWidth",!1),h=Rt(i,"expandTextHeight",!1),c,y,p;this.orientation===0?(c=v?1:0,C&&(y={right:d}),p=h):(c=h?1:0,C&&(y={bottom:d}),p=v),this.add(n,{proportion:c,expand:p,padding:y})}if(C){var y;this.orientation===0?y={top:Rt(i,"space.actionTop",0),bottom:Rt(i,"space.actionBottom",0),right:Rt(i,"space.actionRight",0)}:y={left:Rt(i,"space.actionLeft",0),right:Rt(i,"space.actionRight",0),bottom:Rt(i,"space.actionBottom",0)};var f=Rt(i,"squareFitAction",!1)?1:0;if(this.add(C,{proportion:0,padding:y,fitRatio:f}),s&&(s=ws.call(this,C,C,1)),!f){var m=Rt(i,"actionSize");this.setActionSize(Rt(i,"actionWidth",m),Rt(i,"actionHeight",m))}}this.setChildrenAlignMode(o),this.addChildrenMap("background",r),this.addChildrenMap("icon",g),this.addChildrenMap("iconMask",S),this.addChildrenMap("text",n),this.addChildrenMap("action",C),this.addChildrenMap("actionMask",s)}}const $r=Phaser.Utils.Objects.GetValue;var kY=function(e,t){var i=$r(t,"canvas"),r=$r(i,"width",128),g=$r(i,"height",128),S=new Pa(e,0,0,r,g);e.add.existing(S);var n=$r(i,"key"),C=$r(i,"frame"),s=$r(i,"fill");return s!==void 0?S.fill(s):n!==void 0&&S.loadTexture(n,C),S.setTexture=S.loadTexture.bind(S),S},NY=function(e,t){var i=new Yc(e,{scaleUp:$r(t,"scaleUpIcon",!1),background:$r(t,"iconBackground"),image:kY(e,t)});return e.add.existing(i),i};const zY=Phaser.Utils.Objects.GetValue;var VR=function(e,t){var i=zY(t,"clickTarget",this);return typeof i=="string"&&(i=e.getElement(i)),i};const VY=Phaser.Utils.Objects.GetValue;var UY=function(e,t){var i=VR(e,t);if(i){var r=VY(t,"click"),g=new Pr(i,r);return g.on("click",e.open,e),g}};const UR={accept:"image/*",multiple:!1};var XR=function(e,t){if(t.length!==0){var i=e.childrenMap.icon,r=i.image,g=t[0];return r.loadFromFilePromise(g).then(function(){return i.scaleImage(),e.emit("select",g,e),Promise.resolve(g)})}},XY=function(e,t){var i=e.scene,r=new iu(i,UR);return i.add.existing(r),e.pin(r),r.on("change",function(){XR(e,r.files)}),r};const WY={async openPromise(){var e=this;return FR(this.scene.game,UR).then(function(t){return XR(e,t.files)})},open(){return this.openPromise(),this},setClickOpenEnable(e){return e===void 0&&(e=!0),this.clickBehavior&&this.clickBehavior.setEnable(e),this.fileChooser&&this.fileChooser.setOpenEnable(e),this}};var YY=function(e){if(!e)return null;var t=e.name;return t.substr(0,t.lastIndexOf("."))},HY=function(e){var t=this.childrenMap.canvas;return t.generateTexture(e),this},WR={getFileName:YY,saveTexture:HY};Object.assign(WR,WY);const $Y=Phaser.Utils.Objects.GetValue;class qx extends wr{constructor(t,i){var r=NY(t,i);i.icon=r,super(t,i),this.type="rexImageFileInputLabel";var g=this.iconWidth,S=this.iconWidth;g!==void 0&&S!==void 0&&r.resize(g,S),this.clickTarget=VR(this,i),this.clickTarget&&($Y(i,"domButton",!0)?this.fileChooser=XY(this):this.clickBehavior=UY(this,i)),this.addChildrenMap("canvas",r.image),this.addChildrenMap("iconBackground",r.background),this.addChildrenMap("fileChooser",this.fileChooser)}postLayout(t,i,r){this.fileChooser&&(this.fileChooser.syncTo(this.clickTarget),this.resetChildState(this.fileChooser)),super.postLayout(t,i,r)}}Object.assign(qx.prototype,WR);st.register("imageInputLabel",function(e){var t=new qx(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ImageInputLabel",qx);let KY=class extends Qt{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(Ot(t,i))return t[i];var r=t.parent;if(Ot(r,i))return r[i]}set(t,i,r){return Ot(t,i)?t[i]=r:Ot(t.parent,i)&&(t.parent[i]=r),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.parent.setFrame(t)}get scale(){return this.parent.scaleX}set scale(t){this.parent.setScale(t)}};const Kp=Phaser.Utils.Objects.GetValue;class ZY extends Qt{constructor(t,i){super(t,i),this.style=Kp(i,"style",this);var r=Kp(i,"propertiesMap");this.activeStyle=Zp(i,"active",r),this.hoverStyle=Zp(i,"hover",r),this.disableStyle=Zp(i,"disable",r),this.onModifyStyle=Kp(i,"onModifyStyle")}getStyle(t){return Ec(this.style,t)}modifyStyle(t){for(var i in t)this.style[i]=t[i];return this.onModifyStyle&&this.onModifyStyle(this.parent,t),this}applyStyle(t){if(t){var i=this.getStyle(t);if(!Yl(i,t))return this.modifyStyle(t),i}}setActiveState(t){return Jp.call(this,"active",t),this}setHoverState(t){return Jp.call(this,"hover",t),this}setDisableState(t){return Jp.call(this,"disable",t),this}}var Zp=function(e,t,i){var r=lf(e,t);if(i)for(var g in r)i.hasOwnProperty(g)&&(r[i[g]]=r[g],delete r[g]);return r},Jp=function(e,t){t===void 0&&(t=!0);var i=`${e}State`,r=`${e}Style`,g=`${e}StyleSave`;this[i]!==t&&(this[i]=t,t?this[g]=this.applyStyle(this[r]):(this.applyStyle(this[g]),this[g]=void 0))};const Ra={addStyleManager(e){return this.styleManager=new ZY(this,e),this},setActiveState(e){return this.styleManager.setActiveState(e),this},setHoverState(e){return this.styleManager.setHoverState(e),this},setDisableState(e){return this.styleManager.setDisableState(e),this}},JY=Phaser.GameObjects.Image,Oh=Phaser.Utils.Objects.GetValue;class su extends JY{constructor(t,i){i===void 0&&(i={});var r=Oh(i,"x",0),g=Oh(i,"y",0),S=Oh(i,"key",""),n=Oh(i,"frame",void 0);super(t,r,g,S,n),this.type="rexStatesImage";var C=Oh(i,"effects",!0);C&&Zo(this,C),this.style=new KY(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(su.prototype,Ra);st.register("statesImage",function(e){var t=new su(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.StatesImage",su);class ru extends Ca{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexStatesRoundRectangleShape",i.style=this,i.propertiesMap=QY,this.addStyleManager(i),delete i.style,delete i.propertiesMap}}const QY={color:"fillColor",alpha:"fillAlpha",strokeWidth:"lineWidth"};Object.assign(ru.prototype,Ra);st.register("statesRoundRectangle",function(e){var t=new ru(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.StatesRoundRectangle",ru);let jY=class extends Qt{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(Ot(t,i))return t[i];var r=t.parent;if(Ot(r,i))return r[i]}set(t,i,r){return Ot(t,i)?t[i]=r:Ot(t.parent,i)&&(t.parent[i]=r),!0}get key(){return this.parent.texture.key}set key(t){this.key!==t&&this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.frame!==t&&this.parent.setFrame(t)}};const qY=Phaser.GameObjects.NineSlice,ls=Phaser.Utils.Objects.GetValue;class nu extends qY{constructor(t,i){i===void 0&&(i={});var r=ls(i,"x",0),g=ls(i,"y",0),S=ls(i,"key",null),n=ls(i,"frame",null),C=ls(i,"width",0),s=ls(i,"height",0),o=ls(i,"leftWidth",0),y=ls(i,"rightWidth",0),f=ls(i,"topHeight",0),u=ls(i,"bottomHeight",0);super(t,r,g,S,n,C,s,o,y,f,u),this.type="rexStatesNineSlice";var l=ls(i,"effects",!0);l&&Zo(this,l),this.style=new jY(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(nu.prototype,Ra);st.register("statesNineSlice",function(e){var t=new nu(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.StatesNineSlice",nu);let _Y=class extends Qt{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(Ot(t,i))return t[i];var r=t.parent;if(Ot(r,i))return r[i]}set(t,i,r){return Ot(t,i)?t[i]=r:Ot(t.parent,i)&&(t.parent[i]=r),!0}get key(){return this.parent.textureKey}set key(t){this.key!==t&&this.parent.setBaseTexture(t,this.baseFrameName)}get frame(){return this.parent.baseFrameName}set frame(t){this.frame!==t&&this.parent.setBaseTexture(this.parent.textureKey,t)}};const tH=Phaser.Utils.Objects.GetValue;class au extends vc{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexStatesNinePatch";var r=tH(i,"effects",!0);r&&Zo(this,r),this.style=new _Y(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(au.prototype,Ra);st.register("statesNinePatch",function(e){var t=new au(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.StatesNinePatch",au);const eH=Phaser.GameObjects.Text,Qp=Phaser.Utils.Objects.GetValue;class $c extends eH{constructor(t,i){i===void 0&&(i={});var r=Qp(i,"x",0),g=Qp(i,"y",0),S=Qp(i,"text","");super(t,r,g,S,i),this.type="rexStatesText",i.style=this.style,i.onModifyStyle=function(n,C){var s=C.hasOwnProperty("fontStyle")||C.hasOwnProperty("fontSize")||C.hasOwnProperty("fontFamily");n.style.update(s)},this.addStyleManager(i),delete i.style}}Object.assign($c.prototype,Ra);st.register("statesText",function(e){var t=new $c(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.StatesText",$c);class iH extends Qt{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(Ot(t,i))return t[i];var r=t.parent;if(Ot(r,i))return r[i]}set(t,i,r){return Ot(t,i)?t[i]=r:Ot(t.parent,i)&&(t.parent[i]=r),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get fontSize(){return this.parent.fontSize}set fontSize(t){this.parent.setFontSize(t)}get tint(){return this.parent.tintTopLeft}set tint(t){this.parent.setTint(t)}get letterSpacing(){return this.parent.letterSpacing}set letterSpacing(t){this.parent.setLetterSpacing(t)}get lineSpacing(){return this.parent.lineSpacing}set lineSpacing(t){this.parent.setLineSpacing(t)}}const sH=Phaser.GameObjects.BitmapText,Un=Phaser.Utils.Objects.GetValue;class Kc extends sH{constructor(t,i){i===void 0&&(i={});var r=Un(i,"x",0),g=Un(i,"y",0),S=Un(i,"font",""),n=Un(i,"fontSize",!1),C=Un(i,"align",0),s=Un(i,"tint");super(t,r,g,S,"",n,C),this.type="rexStatesBitmapText",s!==void 0&&this.setTint(s);var o=Un(i,"effects",!0);o&&Zo(this,o),this.style=new iH(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(Kc.prototype,Ra);st.register("statesBitmapText",function(e){var t=new Kc(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.StatesBitmapText",Kc);class Zc extends Rc{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("value")||(i.value=0),i.hasOwnProperty("hover.bar")||(i["hover.bar"]=!0),i.hasOwnProperty("easeDuration")||(i.easeDuration=200),i.hasOwnProperty("ease")||(i.ease="Quad"),et(i,"easeValue.duration",i.easeDuration),et(i,"easeValue.ease",i.ease),super(t,i),this.type="rexStatesBarRectangleShape",this.barState=!1,i.style=this,i.propertiesMap=rH,this.addStyleManager(i),delete i.style,delete i.propertiesMap}get bar(){return this.barState}set bar(t){t=!!t,this.barState!==t&&(this.barState=t,this.easeValueTo(this.barState?1:0))}}const rH={color:"trackColor",strokeColor:"trackStrokeColor",strokeWidth:"trackStrokeThickness"};Object.assign(Zc.prototype,Ra);st.register("statesBarRectangle",function(e){var t=new Zc(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.StatesBarRectangle",Zc);var nH=function(e){if(!window.Chart){var t=`Can not find chartjs! Load chartjs in preload stage.
scene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/Chart.min.js');`;return console.error(t),this}return this.chart&&this.chart.destroy(),this.chart=new Chart(this.context,aH(this,e)),this},aH=function(e,t){t===void 0&&(t={}),t.options===void 0&&(t.options={});var i=t.options;i.responsive=!1,i.maintainAspectRatio=!1,i.hasOwnProperty("devicePixelRatio")||(i.devicePixelRatio=1);var r=!1;i.animation===void 0?i.animation={}:i.animation===!1&&(r=!0,i.animation={});var g=i.animation;r&&(g.duration=0);var S=g.onProgress;g.onProgress=function(C){S&&S(C),e.needRedraw()};var n=g.onComplete;return g.onComplete=function(C){n&&n(C),e.needRedraw()},t},oH=function(e){if(this.chart!==void 0)if(typeof e=="string"){for(var t=this.chart.data.datasets,i,r=0,g=t.length;r<g;r++)if(i=t[r],i.label===e)return i}else return this.chart.data.datasets[e]},hH=function(e,t){var i=this.getChartDataset(e);if(i!==void 0){if(typeof t=="string"){var r=this.chart.data.labels;if(t=r.indexOf(t),t===-1)return}return i.data[t]}},lH=function(e,t,i){if(this.chart===void 0)return this;var r=this.getChartDataset(e);if(typeof t=="string"){var g=this.chart.data.labels;if(t=g.indexOf(t),t===-1)return this}return r.data[t]=i,this},uH=function(){return this.chart===void 0?this:(this.chart.update(),this)};let _x=class extends Pa{constructor(t,i,r,g,S,n){super(t,i,r,g,S),this.type="rexChart",this.chart=void 0,n!==void 0&&this.setChart(n)}destroy(t){this.scene&&(this.chart&&(this.chart.destroy(),this.chart=void 0),super.destroy(t))}resize(t,i){if(t===this.width&&i===this.height)return this;if(super.resize(t,i),this.chart){var r=this.chart;r.height=this.canvas.height,r.width=this.canvas.width,r.aspectRatio=r.height?r.width/r.height:null,r.update()}return this}};var dH={setChart:nH,getChartDataset:oH,getChartData:hH,setChartData:lH,updateChart:uH};Object.assign(_x.prototype,dH);st.register("chart",function(e,t,i,r,g){var S=new _x(this.scene,e,t,i,r,g);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.Chart",_x);st.register("container",function(e,t,i,r,g){var S=new ki(this.scene,e,t,i,r,g);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.Container",ki);st.register("sizer",function(e,t,i,r,g,S){var n=new St(this.scene,e,t,i,r,g,S);return this.scene.add.existing(n),n});et(window,"RexPlugins.UI.Sizer",St);var YR=function(){return Array.prototype.reduce.call(arguments,fH,0)},fH=function(e,t){return e+t},cH=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i,r=this.sizerChildren,g,S,n,C,s=!1;this.totalColumnProportions;for(var o=0;o<this.columnCount;o++){if(C=this.columnProportions[o],i=0,C===0||e){for(var y=0;y<this.rowCount;y++)g=r[y*this.columnCount+o],g&&(g.rexSizer.hidden||(n=this.getChildWidth(g),n===void 0&&(C!==0&&!this.hasColumnProportion0Child?n=0:s=!0),!s&&(S=g.rexSizer.padding,n+=(S.left+S.right)*this.scaleX,i=Math.max(i,n))));s||(t+=i)}s||e&&(this.columnWidth[o]=i)}if(!s){var f=Math.max(this.space.indentLeftOdd,this.space.indentLeftEven),u=YR(this.space.left,f,...this.space.column,this.space.right);return t+u*this.scaleX}},vH=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i,r=this.sizerChildren,g,S,n,C,s=!1;this.totalRowProportions;for(var o=0;o<this.rowCount;o++){if(C=this.rowProportions[o],i=0,C===0||e){for(var y=0;y<this.columnCount;y++)g=r[o*this.columnCount+y],g&&(g.rexSizer.hidden||(n=this.getChildHeight(g),n===void 0&&(C!==0&&!this.hasRowProportion0Child?n=0:s=!0),!s&&(S=g.rexSizer.padding,n+=(S.top+S.bottom)*this.scaleY,i=Math.max(i,n))));s||(t+=i)}s||e&&(this.rowHeight[o]=i)}if(!s){var f=Math.max(this.space.indentTopOdd,this.space.indentTopEven),u=YR(this.space.top,f,...this.space.row,this.space.bottom);return t+u*this.scaleY}},pH=function(e,t){var i,r=e.rexSizer;if(r.expandWidth){var g=r.padding;i=t-(g.left+g.right)*this.scaleX}return i},gH=function(e,t){var i,r=e.rexSizer;if(r.expandHeight){var g=r.padding;i=t-(g.top+g.bottom)*this.scaleY}return i},mH=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,r=0,g=t.length;r<g;r++)i=t[r],i&&i.isRexSizer&&e.push(i);return e},xH=function(){return this._totalColumnProportions=void 0,this._totalRowProportions=void 0,this.hasColumnProportion0Child=!1,this.hasRowProportion0Child=!1,this.proportionWidthLength=void 0,this.proportionHeightLength=void 0,ql.call(this),this},yH=function(){for(var e,t,i,r=this.innerLeft,g=this.innerTop,S,n=g,C,s,o,y,f,u,l,a,d,v,h,c,p=0;p<this.rowCount;p++){v=this.getRowHeight(p),h=p%2?this.space.indentLeftEven:this.space.indentLeftOdd,S=r+h*this.scaleX;for(var m=0;m<this.columnCount;m++){if(d=this.getColumnWidth(m),e=this.getChildAt(m,p),!e||e.rexSizer.hidden){S+=d+this.space.column[m]*this.scaleX;continue}_l.call(this,e),l=this.getExpandedChildWidth(e,d),a=this.getExpandedChildHeight(e,v),e.isRexSizer?(e.runLayout(this,l,a),Xx(e,this)):Je(e,l,a),t=e.rexSizer,i=t.padding,C=S+i.left*this.scaleX,o=d-(i.left+i.right)*this.scaleX,c=m%2?this.space.indentTopEven:this.space.indentTopOdd,s=n+c*this.scaleY+i.top*this.scaleY,y=v-(i.top+i.bottom)*this.scaleY,l===void 0&&(l=Ft(e)),a===void 0&&(a=bt(e)),f=(t.alignOffsetX+t.alignOffsetOriginX*l)*this.scaleX,u=(t.alignOffsetY+t.alignOffsetOriginY*a)*this.scaleY,tu.call(this,e,C,s,o,y,t.align,f,u),S+=d+this.space.column[m]*this.scaleX}n+=v+this.space.row[p]*this.scaleY}},CH=function(t){var t=Ex.call(this,t);if(t!==void 0&&this.proportionWidthLength===void 0){var i=this.totalColumnProportions;if(i>0){var r=t-this.getChildrenWidth(!1);r>=0&&(this.proportionWidthLength=r/i)}else this.proportionWidthLength=0}return t},TH=function(t){var t=Rx.call(this,t);if(t!==void 0&&this.proportionHeightLength===void 0){var i=this.totalRowProportions;if(i>0){var r=t-this.getChildrenHeight(!1);r>=0&&(this.proportionHeightLength=r/i)}else this.proportionHeightLength=0}return t},SH=function(e){var t,i,r,g;for(var S in this.sizerChildren)t=this.sizerChildren[S],t&&t.isRexSizer&&!t.ignoreLayout&&(g=this.getColumnWidth(parseInt(S)%this.columnCount),i=this.getExpandedChildWidth(t,g),r=t.resolveWidth(i),r===void 0&&(r=i),t.resolveChildrenWidth(r))},PH=function(e){var t,i,r,g;for(var S in this.sizerChildren)t=this.sizerChildren[S],t&&t.isRexSizer&&!t.ignoreLayout&&(g=this.getRowHeight(Math.floor(parseInt(S)/this.rowCount)),i=this.getExpandedChildHeight(t,g),r=t.resolveHeight(i),r===void 0&&(r=i),t.resolveChildrenHeight(r))},EH=function(e){var t,i,r,g;for(var S in this.sizerChildren)t=this.sizerChildren[S],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(g=this.getColumnWidth(parseInt(S)%this.columnCount),i=this.getExpandedChildWidth(t,g),t.isRexSizer&&(r=t.resolveWidth(i),r===void 0&&(r=i)),t.runWidthWrap(r));return this},MH=function(e){var t,i,r,g;for(var S in this.sizerChildren)t=this.sizerChildren[S],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(g=this.getRowHeight(Math.floor(parseInt(S)/this.rowCount)),i=this.getExpandedChildHeight(t,g),t.isRexSizer&&(r=t.resolveHeight(i),r===void 0&&(r=i)),t.runHeightWrap(r));return this};const RS=Phaser.Utils.Objects.IsPlainObject,Wi=Phaser.Utils.Objects.GetValue,AS=Phaser.Display.Align.CENTER;var LS=function(e,t,i,r,g){if(typeof e=="number"||typeof t=="number")if(e===void 0){for(var S,n=0;n<r;n++)if(S=t*r+n,!i[S])return S}else if(t===void 0){for(var S,n=0;n<g;n++)if(S=n*r+e,!i[S])return S}else{var S=t*r+e;if(!i[S])return S}else if(t===!0){for(var S,n=0;n<r;n++)for(var C=0;C<g;C++)if(S=C*r+n,!i[S])return S}else for(var n=0,s=i.length;n<s;n++)if(!i[n])return n;return null},wH=function(e,t,i,r,g,S,n){var C,s,o,y;if(Ql.call(this,e),RS(t)){var u=t;t=Wi(u,"column",void 0),i=Wi(u,"row",void 0),r=Wi(u,"align",AS),g=Wi(u,"padding",0),S=Wi(u,"expand",!1),n=Wi(u,"key",void 0),C=Wi(u,"offsetX",0),s=Wi(u,"offsetY",0),o=Wi(u,"offsetOriginX",0),y=Wi(u,"offsetOriginY",0)}var f=LS(t,i,this.sizerChildren,this.columnCount,this.rowCount);if(f===null){if(typeof t=="number"&&typeof i=="number")return this;i===!0||typeof i=="number"?this.addEmptyColumn():this.addEmptyRow(),f=LS(t,i,this.sizerChildren,this.columnCount,this.rowCount)}typeof r=="string"&&(r=qo[r]),r===void 0&&(r=AS),g===void 0&&(g=0),S===void 0&&(S=!0),C===void 0&&(C=0),s===void 0&&(s=0),o===void 0&&(o=0),y===void 0&&(y=0);var u=this.getSizerConfig(e);return u.align=r,u.padding=Ma(g),RS(S)?(u.expandWidth=Wi(S,"width",!1),u.expandHeight=Wi(S,"height",!1)):(u.expandWidth=S,u.expandHeight=S),u.alignOffsetX=C,u.alignOffsetY=s,u.alignOffsetOriginX=o,u.alignOffsetOriginY=y,this.sizerChildren[f]=e,n!==void 0&&this.addChildrenMap(n,e),this};const RH={add:wH};var Fo=function(e,t,i,r){i===void 0&&(i=0),r===void 0&&(r=e.length-1);for(var g=i;g<=r;g++)e[g]=t;return e};const AH={remove(e,t){if(this.getParentSizer(e)!==this)return this;var i=this.sizerChildren.indexOf(e);return i!==-1&&(this.sizerChildren[i]=null),jl.call(this,e,t),this},removeAt(e,t,i){var r=this.getChildAt(e,t);return r&&this.remove(r,i),this},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--){var i=this.sizerChildren[t];i&&this.remove(i,e)}return this},clear(e){return Fo(this.sizerChildren,null),Vc.call(this,e),this}},LH={setColumnSpace(e){if(this.space.column||(this.space.column=[]),this.space.column.length=this.columnCount-1,typeof e=="number")this.space.column0=e,Fo(this.space.column,e);else{this.space.column0=e[0];for(var t=0,i=this.columnCount-1;t<i;t++)this.space.column[t]=e[t]||0}return this},setRowSpace(e){if(this.space.row||(this.space.row=[]),this.space.row.length=this.rowCount-1,typeof e=="number")this.space.row0=e,Fo(this.space.row,e);else{this.space.row0=e[t];for(var t=0,i=this.rowCount-1;t<i;t++)this.space.row[t]=e[t]||0}return this},setIndentLeft(e,t){return this.space.indentLeftOdd=e,this.space.indentLeftEven=t,this},setIndentTop(e,t){return this.space.indentTopOdd=e,this.space.indentTopEven=t,this}},OS=Phaser.Utils.Objects.GetValue;var OH=function(e,t,i,r,g){if(e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),this.columnCount=e,this.rowCount=t,this.gridCount=e*t,this.removeAll(),this.sizerChildren.length=e*t,Fo(this.sizerChildren,null),this.columnProportions=[],this.columnProportions.length=e,typeof i=="number")Fo(this.columnProportions,i);else for(var S=0;S<e;S++)this.columnProportions[S]=i[S]||0;if(this.rowProportions=[],this.rowProportions.length=t,typeof r=="number")Fo(this.rowProportions,r);else for(var S=0;S<t;S++)this.rowProportions[S]=r[S]||0;this.columnWidth=[],this.columnWidth.length=e,this.rowHeight=[],this.rowHeight.length=t,this.setColumnSpace(OS(g,"column",0)),this.setRowSpace(OS(g,"row",0));var n=this.scene,C=this.createCellContainerCallback;if(C)for(var s=0,o=this.rowCount;s<o;s++)for(var y=0,f=this.columnCount;y<f;y++){var u={column:y,row:s},l=C(n,y,s,u);l&&this.add(l,u)}return this},HR=function(e,t,i){t===void 0&&(t=this.rowProportions[0]||0),i===void 0&&(i=this.space.row0||0),this.rowCount+=1,this.gridCount+=this.columnCount;for(var r=[e*this.columnCount,0],g=0;g<this.columnCount;g++)r.push(null);return this.sizerChildren.splice.apply(this.sizerChildren,r),this.rowProportions.push(t),this.rowHeight.length+=1,this.space.row.splice(e,0,i),this},FH=function(e,t){return HR.call(this,this.rowCount,e,t),this},$R=function(e,t,i){t===void 0&&(t=this.columnProportions[0]||0),i===void 0&&(i=this.space.column0||0),this.columnCount+=1,this.gridCount+=this.rowCount;for(var r=this.rowCount-1;r>=0;r--){var g=r*this.columnCount+e;this.sizerChildren.splice(g,0,null)}return this.columnProportions.push(t),this.columnWidth.length+=1,this.space.column.splice(e,0,i),this},bH=function(e,t){return $R.call(this,this.columnCount,e,t),this},KR={getChildrenWidth:cH,getChildrenHeight:vH,getExpandedChildWidth:pH,getExpandedChildHeight:gH,getChildrenSizers:mH,preLayout:xH,layoutChildren:yH,resolveWidth:CH,resolveHeight:TH,resolveChildrenWidth:SH,resolveChildrenHeight:PH,runWidthWrap:EH,runHeightWrap:MH,resetGrid:OH,insertEmptyRow:HR,addEmptyRow:FH,insertEmptyColumn:$R,addEmptyColumn:bH};Object.assign(KR,RH,AH,LH,Jx);var DH=function(){for(var e=0,t,i=0;i<this.columnCount;i++)t=this.columnProportions[i],t>0?e+=t:t===0&&(this.hasColumnProportion0Child=!0);return e},BH=function(){for(var e=0,t,i=0;i<this.rowCount;i++)t=this.rowProportions[i],t>0?e+=t:t===0&&(this.hasRowProportion0Child=!0);return e};const Pd=Phaser.Utils.Objects.IsPlainObject,Ut=Phaser.Utils.Objects.GetValue;class Rs extends wa{constructor(t,i,r,g,S,n,C,s,o,y){Pd(i)?(y=i,i=Ut(y,"x",0),r=Ut(y,"y",0),g=Ut(y,"width",void 0),S=Ut(y,"height",void 0),n=Ut(y,"column",y.col||0),C=Ut(y,"row",0),s=Ut(y,"columnProportions",0),o=Ut(y,"rowProportions",0)):Pd(g)?(y=g,g=Ut(y,"width",void 0),S=Ut(y,"height",void 0),n=Ut(y,"column",y.col||0),C=Ut(y,"row",0),s=Ut(y,"columnProportions",0),o=Ut(y,"rowProportions",0)):Pd(n)?(y=n,n=Ut(y,"column",y.col||0),C=Ut(y,"row",0),s=Ut(y,"columnProportions",0),o=Ut(y,"rowProportions",0)):Pd(s)&&(y=s,s=Ut(y,"columnProportions",0),o=Ut(y,"rowProportions",0)),super(t,i,r,g,S,y),this.type="rexGridSizer",this.sizerChildren=[],this.addChildrenMap("items",this.sizerChildren),this.setCreateCellContainerCallback(Ut(y,"createCellContainerCallback")),this.setIndentLeft(Ut(y,"space.indentLeftOdd",0),Ut(y,"space.indentLeftEven",0)),this.setIndentTop(Ut(y,"space.indentTopOdd",0),Ut(y,"space.indentTopEven",0)),this.resetGrid(n,C,s,o,Ut(y,"space",void 0))}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.columnProportions=void 0,this.rowProportions=void 0,this.columnWidth=void 0,this.rowHeight=void 0,this.createCellContainerCallback=void 0)}setColumnProportion(t,i){return t>=this.columnProportions.length?this:(this.columnProportions[t]=i,this)}setRowProportion(t,i){return t>=this.rowProportions.length?this:(this.rowProportions[t]=i,this)}get totalColumnProportions(){return this._totalColumnProportions===void 0&&(this._totalColumnProportions=DH.call(this)),this._totalColumnProportions}get totalRowProportions(){return this._totalRowProportions===void 0&&(this._totalRowProportions=BH.call(this)),this._totalRowProportions}getChildAt(t,i){return this.sizerChildren[i*this.columnCount+t]}childToGridIndex(t,i){if(!t)return null;var r=this.sizerChildren.indexOf(t);return r===-1?null:(i===void 0&&(i={}),i.x=r%this.columnCount,i.y=Math.floor(r/this.columnCount),i)}getColumnWidth(t){var i=this.columnProportions[t],r=i===0?this.columnWidth[t]:i*this.proportionWidthLength;return r}getRowHeight(t){var i=this.rowProportions[t],r=i===0?this.rowHeight[t]:i*this.proportionHeightLength;return r}setCreateCellContainerCallback(t){return this.createCellContainerCallback=t,this}}Object.assign(Rs.prototype,KR);st.register("gridSizer",function(e,t,i,r,g,S,n,C,s){var o=new Rs(this.scene,e,t,i,r,g,S,n,C,s);return this.scene.add.existing(o),o});et(window,"RexPlugins.UI.GridSizer",Rs);var IH=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===0?e?t=this.maxChildWidth:t=this.rexSizer.resolved?this.wrapResult.width:void 0:t=this.rexSizer.resolved?this.wrapResult.width:void 0,t!==void 0)return t+(this.space.left+this.space.right)*this.scaleX},GH=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===1?e?t=this.maxChildHeight:t=this.rexSizer.resolved?this.wrapResult.height:void 0:t=this.rexSizer.resolved?this.wrapResult.height:void 0,t!==void 0)return t+(this.space.top+this.space.bottom)*this.scaleY},kH=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,r=0,g=t.length;r<g;r++)i=t[r],i!==`
`&&i.isRexSizer&&e.push(i);return e},NH=function(){return this._maxChildWidth=void 0,this._maxChildHeight=void 0,this.wrapResult=void 0,this.rexSizer.resolved=!1,ql.call(this),this},zH=function(){for(var e=this.orientation===0,t=e?this.innerWidth:this.innerHeight,i,r,g,S=0,n,C,s=this.innerLeft,o=this.innerTop,y,f,u,l,a,d,v=this.wrapResult.lines,h,c,p,m=s,x=o,T=0,P=v.length;T<P;T++){switch(h=v[T],c=h.children,this.rtl&&c.reverse(),e?(n=T%2?this.space.indentLeftEven:this.space.indentLeftOdd,m=s+n*this.scaleX):(C=T%2?this.space.indentTopEven:this.space.indentTopOdd,x=o+C*this.scaleY),p=t-(e?h.width:h.height),this.align){case 0:break;case 1:e?m+=p:x+=p;break;case 2:e?m+=p/2:x+=p/2;break;case 3:S=jp(t,p,this.justifyPercentage,c.length);break;case 4:S=jp(t,p,this.justifyPercentage,c.length),S===0&&(e?m+=p:x+=p);break;case 5:S=jp(t,p,this.justifyPercentage,c.length),S===0&&(e?m+=p/2:x+=p/2);break}for(var M=!0,E=0,w=c.length;E<w;E++)i=c[E],!i.rexSizer.hidden&&(r=i.rexSizer,g=r.padding,_l.call(this,i),e?y=m+g.left*this.scaleX:f=x+g.top*this.scaleY,M?M=!1:e?y+=this.space.item*this.scaleX:f+=this.space.item*this.scaleY,u=Ft(i),l=bt(i),e?(C=E%2?this.space.indentTopEven:this.space.indentTopOdd,f=x+C*this.scaleY+g.top*this.scaleY,m=y+u+g.right*this.scaleX+S):(n=E%2?this.space.indentLeftEven:this.space.indentLeftOdd,y=m+n*this.scaleX+g.left*this.scaleX,x=f+l+g.top*this.scaleY+S),a=(r.alignOffsetX+r.alignOffsetOriginX*u)*this.scaleX,d=(r.alignOffsetY+r.alignOffsetOriginY*l)*this.scaleY,tu.call(this,i,y,f,u,l,r.align,a,d));e?x+=h.height+this.space.line*this.scaleY:m+=h.width+this.space.line*this.scaleX}},jp=function(e,t,i,r){return t/e<=i?t/(r-1):0},VH=function(){return this.orientation===0?!0:Mx.call(this)},ZR=function(e){var t={lines:[],width:0,height:0},i=this.sizerChildren,r,g,S,n,C=0,s,o,y=t.lines,f=void 0,u;if(this.orientation===0){for(var l=0,a=i.length;l<a;l++){if(r=i[l],r===`
`)r=void 0,S=0,u=!0;else{if(r.rexSizer.hidden)continue;r.isRexSizer&&r.runLayout(this),S=this.getChildWidth(r),g=r.rexSizer.padding,S+=(g.left+g.right)*this.scaleX,u=C<S||f===void 0}u&&(f&&(f.width=e-(C+this.space.item*this.scaleX),t.width=Math.max(t.width,f.width),t.height+=f.height+this.space.line*this.scaleY),f={children:[],width:0,height:0},y.push(f),s=y.length%2?this.space.indentLeftOdd:this.space.indentLeftEven,C=e-s*this.scaleX),C-=S+this.space.item*this.scaleX,r&&(f.children.push(r),n=this.getChildHeight(r),g=r.rexSizer.padding,n+=(g.top+g.bottom)*this.scaleY,f.height=Math.max(f.height,n))}f&&(f.width=e-(C+this.space.item*this.scaleX),t.width=Math.max(t.width,f.width),t.height+=f.height),t.height+=Math.max(this.space.indentTopOdd,this.space.indentTopEven)*this.scaleY}else{for(var d=e,l=0,a=i.length;l<a;l++){if(r=i[l],r===`
`)r=void 0,S=0,u=!0;else{if(r.rexSizer.hidden)continue;r.isRexSizer&&r.layout(),n=this.getChildHeight(r),g=r.rexSizer.padding,n+=(g.top+g.bottom)*this.scaleY,u=C<n||f===void 0}u&&(f&&(f.height=d-(C+this.space.item*this.scaleY),t.height=Math.max(t.height,f.height),t.width+=f.width+this.space.line*this.scaleX),f={children:[],width:0,height:0},y.push(f),o=y.length%2?this.space.indentTopOdd:this.space.indentTopEven,C=d-o*this.scaleY),C-=n+this.space.item*this.scaleY,r&&(f.children.push(r),S=this.getChildWidth(r),g=r.rexSizer.padding,S+=(g.left+g.right)*this.scaleX,f.width=Math.max(f.width,S))}f&&(f.height=d-(C+this.space.item*this.scaleY),t.height=Math.max(t.height,f.height),t.width+=f.width),t.width+=Math.max(this.space.indentLeftOdd,this.space.indentLeftEven)*this.scaleX}return t},UH=function(e){if(!this.wrapResult&&this.orientation===0){var t=e-(this.space.left+this.space.right)*this.scaleX;this.wrapResult=ZR.call(this,t),this.rexSizer.resolved=!0,wx.call(this,e)}},XH=function(){return this.orientation===1?!0:Ax.call(this)},WH=function(e){if(!this.wrapResult&&this.orientation===1){var t=e-(this.space.top+this.space.bottom)*this.scaleY;this.wrapResult=ZR.call(this,t),this.rexSizer.resolved=!0,Lx.call(this,e)}},YH=function(e,t){},HH=function(e,t){};const FS=Phaser.Math.Distance.Between;var $H=function(e,t){var i=this.sizerChildren;if(i.length===0)return-1;for(var r=-1,g=1/0,S=0,n=i.length;S<n;S++){var C=i[S];if(!(Math.abs(C.centerY-t)>C.height/2)){var o=FS(C.left,C.centerY,e,t);g>o&&(g=o,r=S);var s=i[S+1];if(!(s&&s.y===C.y)){var o=FS(C.right,C.centerY,e,t);g>o&&(g=o,r=S+1)}}}return r};const KH=Phaser.Utils.Objects.IsPlainObject,Xn=Phaser.Utils.Objects.GetValue,ZH=Phaser.Display.Align.CENTER;var qp=function(e,t,i,r){if(e===`
`)return this.addNewLine(),this;var g,S,n,C;if(Ql.call(this,e),KH(t)){var s=t;t=Xn(s,"padding",0),i=Xn(s,"key",void 0),r=Xn(s,"index",void 0),g=Xn(s,"offsetX",0),S=Xn(s,"offsetY",0),n=Xn(s,"offsetOriginX",0),C=Xn(s,"offsetOriginY",0)}t===void 0&&(t=0),g===void 0&&(g=0),S===void 0&&(S=0),n===void 0&&(n=0),C===void 0&&(C=0);var s=this.getSizerConfig(e);return s.align=ZH,s.padding=Ma(t),s.alignOffsetX=g,s.alignOffsetY=S,s.alignOffsetOriginX=n,s.alignOffsetOriginY=C,r===void 0||r>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(r,0,e),i!==void 0&&this.addChildrenMap(i,e),this};const JH={add(e,t,i){if(Ms(e))for(var r=e,g=0,S=r.length;g<S;g++)qp.call(this,r[g],t);else qp.call(this,e,t,i);return this},addNewLine(){return this.sizerChildren.push(`
`),this},insert(e,t,i,r){return qp.call(this,t,i,r,e),this},insertAtPosition(e,t,i,r,g){var S=$H.call(this,e,t);return S===-1&&(S=void 0),this.insert(S,i,r,g),this}},QH=Phaser.Utils.Array.Remove,jH={remove(e,t){return this.getParentSizer(e)!==this?this:(QH(this.sizerChildren,e),jl.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,Vc.call(this,e),this}};var JR={getChildrenWidth:IH,getChildrenHeight:GH,getChildrenSizers:kH,preLayout:NH,layoutChildren:zH,hasWidthWrap:VH,runWidthWrap:UH,hasHeightWrap:XH,runHeightWrap:WH,getExpandedChildWidth:YH,getExpandedChildHeight:HH};Object.assign(JR,JH,jH,Jx);var qH=function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,i,r,g=!1,S=0,n=e.length;S<n;S++)i=e[S],i!==`
`&&(r=this.getChildWidth(i),r===void 0&&(g=!0),!g&&(t=Math.max(r,t)));if(!g)return t},_H=function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,i,r,g=!1,S=0,n=e.length;S<n;S++)i=e[S],i!==`
`&&(r=this.getChildHeight(i),r===void 0&&(g=!0),!g&&(t=Math.max(r,t)));if(!g)return t};const bS=Phaser.Utils.Objects.IsPlainObject,$e=Phaser.Utils.Objects.GetValue;class wn extends wa{constructor(t,i,r,g,S,n){bS(i)?(n=i,i=$e(n,"x",0),r=$e(n,"y",0),g=$e(n,"width",void 0),S=$e(n,"height",void 0)):bS(g)&&(n=g,g=$e(n,"width",void 0),S=$e(n,"height",void 0)),super(t,i,r,g,S,n),this.type="rexFixWidthSizer",this.sizerChildren=[],this.runChildrenWrapFlag=!0,this.setOrientation($e(n,"orientation",0)),this.setItemSpacing($e(n,"space.item",0)),this.setLineSpacing($e(n,"space.line",0)),this.setIntentLeft($e(n,"space.indentLeftOdd",0),$e(n,"space.indentLeftEven",0)),this.setIntentTop($e(n,"space.indentTopOdd",0),$e(n,"space.indentTopEven",0)),this.setAlign($e(n,"align",0)),this.setJustifyPercentage($e(n,"justifyPercentage",.25)),this.setRTL($e(n,"rtl",!1)),this.wrapResult=void 0,this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Ea(t),this}setItemSpacing(t){return this.space.item=t,this}setLineSpacing(t){return this.space.line=t,this}setIntentLeft(t,i){return this.space.indentLeftOdd=t,this.space.indentLeftEven=i,this}setIntentTop(t,i){return this.space.indentTopOdd=t,this.space.indentTopEven=i,this}setAlign(t){return typeof t=="string"&&(t=t$[t]),this.align=t,this}setJustifyPercentage(t){return this.justifyPercentage=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get maxChildWidth(){return this._maxChildWidth===void 0&&(this._maxChildWidth=qH.call(this)),this._maxChildWidth}get maxChildHeight(){return this._maxChildHeight===void 0&&(this._maxChildHeight=_H.call(this)),this._maxChildHeight}}const t$={left:0,top:0,right:1,bottom:1,center:2,justify:3,"justify-left":3,"justify-top":3,"justify-right":4,"justify-bottom":4,"justify-center":5};Object.assign(wn.prototype,JR);st.register("fixWidthSizer",function(e,t,i,r,g){var S=new wn(this.scene,e,t,i,r,g);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.FixWidthSizer",wn);st.register("overlapSizer",function(e,t,i,r,g){var S=new ss(this.scene,e,t,i,r,g);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.OverlapSizer",ss);st.register("space",function(){var e=new Zx(this.scene);return e});et(window,"RexPlugins.UI.Space",Zx);st.register("label",function(e){var t=new wr(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Label",wr);const DS=["alpha","tint","flipX","flipY"];var ty=function(e,t){if(!t)return e;for(var i=0,r=DS.length;i<r;i++){var g=DS[i];g in t&&g in e&&(e[g]=t[g])}if("origin"in t&&"originX"in e)e.setOrigin(t.origin);else{var S,n;"originX"in t&&"originX"in e&&(S=t.originX),"originY"in t&&"originY"in e&&(n=t.originY),S!==void 0&&n!==void 0&&e.setOrigin(S,n)}return e},Me=function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("barColor")?i="bar":t.hasOwnProperty("leftWidth")?i="nineSlice":t.hasOwnProperty("key")&&(i="image"));var r;switch(i){case"bar":r=new Zc(e,t);break;case"image":r=new su(e,t);break;case"nineSlice":t.hasOwnProperty("stretchMode")?r=new au(e,t):r=new nu(e,t);break;default:r=new ru(e,t);break}return ty(r,t),e.add.existing(r),r},e$=function(){switch(this.scrollMode){case 0:case 1:_p.call(this),this.updateController(),tg.call(this),eg.call(this);break;default:_p.call(this,"y"),_p.call(this,"x"),this.updateController(),tg.call(this,"y"),tg.call(this,"x"),eg.call(this,"y"),eg.call(this,"x");break}return this},_p=function(e){var t,i,r,g;switch(this.scrollMode){case 0:case 1:t=this.topChildOY,i=this.bottomChildOY,r=this.childrenMap.scroller,g=this.childrenMap.slider,e=this.scrollMode===0?"Y":"X";break;default:e=e.toUpperCase(),e==="Y"?(t=this.topChildOY,i=this.bottomChildOY):(t=this.leftChildOX,i=this.rightChildOX),r=this.childrenMap[`scroller${e}`],g=this.childrenMap[`slider${e}`]}var S=e==="Y"?this.scaleY:this.scaleX;i*=S,r&&r.setBounds(t,i),g&&(g.setEnable(t!==i),g.tickLength&&g.setTick(g.tickLength,t,i))},tg=function(e){switch(this.scrollMode){case 0:case 1:var i=this.childrenMap.slider;i&&this.hideUnscrollableSlider&&this.setChildVisible(i,this.isOverflow);var g=this.childrenMap.scroller;g&&this.disableUnscrollableDrag&&g.setEnable(this.isOverflow);break;default:e=e.toUpperCase();var t=this[`isOverflow${e}`],i=this.childrenMap[`slider${e}`],r=this[`hideUnscrollableSlider${e}`];i&&r&&this.setChildVisible(i,t);var g=this.childrenMap.scroller,S=this[`disableUnscrollableDrag${e}`];g&&S&&g.setEnable(t);break}},eg=function(e){switch(this.scrollMode){case 0:case 1:if(!this.adaptThumbSizeMode)return;var S=this.childrenMap.slider;if(!S)return;var t=Math.min(this.childVisibleHeight/this.childHeight,1),n=S.childrenMap.track,C=S.childrenMap.thumb,s=this.minThumbSize;if(this.scrollMode===0){var i=n.displayHeight*t;s!==void 0&&i<s&&(i=s),Je(C,void 0,i)}else{var r=n.displayWidth*t;s!==void 0&&r<s&&(r=s),Je(C,r,void 0)}BS(S);break;default:e=e.toUpperCase();var g=this[`adaptThumb${e}SizeMode`];if(!g)return;var S=this.childrenMap[`slider${e}`];if(!S)return;var n=S.childrenMap.track,C=S.childrenMap.thumb,s=this[`minThumb${e}Size`];if(e==="Y"){var t=Math.min(this.childVisibleHeight/this.childHeight,1),i=n.displayHeight*t;s!==void 0&&i<s&&(i=s),Je(C,void 0,i)}else{var t=Math.min(this.childVisibleWidth/this.childWidth,1),r=n.displayWidth*t;s!==void 0&&r<s&&(r=s),Je(C,r,void 0)}BS(S);break}},BS=function(e){var t=e.minWidth,i=e.minHeight;e.minWidth=e.width,e.minHeight=e.height,e.layout(),e.minWidth=t,e.minHeight=i},i$=function(){switch(this.scrollMode){case 0:case 1:var e=this.childrenMap.scroller,t=this.childrenMap.slider;e&&e.setValue(this.childOY),t&&t.setValue(this.t);break;default:var i=this.childrenMap.scrollerY,r=this.childrenMap.sliderY,g=this.childrenMap.scrollerX,S=this.childrenMap.sliderX;i&&i.setValue(this.childOY),r&&r.setValue(this.t),g&&g.setValue(this.childOX),S&&S.setValue(this.s);break}};const Ed=Phaser.Math.Clamp,s$={setChildOY(e,t){return t===void 0&&(t=!1),t&&(e=Ed(e,this.bottomChildOY,this.topChildOY)),this.childOY=e,this},addChildOY(e,t){return this.setChildOY(this.childOY+e,t),this},setT(e,t){return t===void 0&&(t=!1),t&&(e=Ed(e,0,1)),this.t=e,this},addT(e,t){return this.setT(this.t+e,t),this},scrollToTop(){return this.t=0,this},scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this},setChildOX(e,t){return t===void 0&&(t=!1),t&&(e=Ed(e,this.leftChildOX,this.rightChildOX)),this.childOX=e,this},addChildOX(e,t){return this.setChildOX(this.childOX+e,t),this},setS(e,t){return t===void 0&&(t=!1),t&&(e=Ed(e,0,1)),this.s=e,this},addS(e,t){return this.setS(this.s+e,t),this},scrollToLeft(){return this.s=0,this},scrollToRight(){if(this.s=1,this.s===0)return this;do this.s=1;while(this.s!==1);return this}};var QR={resizeController:e$,updateController:i$};Object.assign(QR,s$);const jR={v:0,vertical:0,y:0,h:1,horizontal:1,x:1,xy:2,vh:2};var ey=function(e,t){t===void 0&&(t="scrollMode"),e.hasOwnProperty(t)||(e[t]=r$(e));var i=e[t];return typeof i=="string"&&(i=jR[i]),i},r$=function(e){var t=!!e.sliderY||!!e.scrollerY,i=!!e.sliderX||!!e.scrollerX,r;return t&&i?r=2:t?r=0:i?r=1:r=0,r};const we=Phaser.Utils.Objects.GetValue;var n$=function(e,t,i){var r=we(i,"child"),g=we(r,"gameObject",void 0);if(g){var S=we(i,"space.child",0);e.childMargin={};var n=e.childMargin,C={};if(typeof S=="number")switch(e.scrollMode){case 0:case 1:n.top=0,n.bottom=0,n.left=0,n.right=0;break;default:n.top=S,n.bottom=S,n.left=S,n.right=S;break}else switch(e.scrollMode){case 0:n.top=we(S,"top",0),n.bottom=we(S,"bottom",0),C.left=we(S,"left",0),C.right=we(S,"right",0);break;case 1:n.top=we(S,"left",0),n.bottom=we(S,"right",0),C.top=we(S,"top",0),C.bottom=we(S,"bottom",0);break;default:n.top=we(S,"top",0),n.bottom=we(S,"bottom",0),n.left=we(S,"left",0),n.right=we(S,"right",0);break}t.add(g,{column:1,row:1,align:we(r,"align","center"),padding:C,expand:{width:we(r,"expandWidth",!0),height:we(r,"expandHeight",!0)}})}e.addChildrenMap("child",g)};const IS=Phaser.Math.Percent;var a$=function(e,t,i){var r;return e.y===t.y?r=IS(i.x,e.x,t.x):e.x===t.x&&(r=IS(i.y,e.y,t.y)),r},qR=function(e,t){ig.x=e,ig.y=t;var i,r;this.reverseAxis?(i=this.getEndPoint(),r=this.getStartPoint()):(i=this.getStartPoint(),r=this.getEndPoint());var g=a$(i,r,ig);return g},ig={},o$=function(e,t,i){!this.enable||!this.inputActive||(this.value=qR.call(this,t,i))},sg=function(e){if(!(!this.enable||!this.inputActive)&&e.isDown){var t=qR.call(this,e.worldX,e.worldY);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-t)<.1?this.value=t:this.easeValueTo(t)}};const h$=Phaser.Utils.Objects.GetValue;var l$=function(e){this.inputActive=!1;var t=h$(e,"input",0);typeof t=="string"&&(t=u$[t]);var i=this.childrenMap.thumb;switch(t){case 0:i&&(i.setInteractive(),this.scene.input.setDraggable(i),i.on("dragstart",function(g){this.inputActive=!0,this.eventEmitter.emit("inputstart",g)},this).on("dragend",function(g){this.inputActive=!1,this.eventEmitter.emit("inputend",g)},this).on("drag",o$,this));break;case 1:this.setInteractive().on("pointerdown",function(g){this.inputActive=!0,this.eventEmitter.emit("inputstart",g)},this).on("pointerdown",sg,this);var r=function(g){this.inputActive&&(this.inputActive=!1,this.eventEmitter.emit("inputend",g))};this.scene.input.on("pointerup",r,this).on("pointermove",sg,this),this.once("destroy",function(){this.scene.input.on("pointerup",r,this).off("pointermove",sg,this)},this);break}};const u$={pan:0,drag:0,click:1,none:-1};var _R=function(e,t){t===void 0&&(t=d$);var i=this.childrenMap.thumb,r=i.x,g=i.y;return Jl(i,this.innerLeft,this.innerTop,this.innerWidth,this.innerHeight,e),t.x=i.x,t.y=i.y,i.x=r,i.y=g,t},d$={};const f$=Phaser.Display.Align.LEFT_CENTER,c$=Phaser.Display.Align.TOP_CENTER;var v$=function(e){if(e===void 0&&(e=p$),this.childrenMap.thumb){var t=this.orientation===0?f$:c$;_R.call(this,t,e)}else this.orientation===0?(e.x=this.innerLeft+1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerTop+1);return e},p$={};const g$=Phaser.Display.Align.RIGHT_CENTER,m$=Phaser.Display.Align.BOTTOM_CENTER;var x$=function(e){if(e===void 0&&(e=y$),this.childrenMap.thumb){var t=this.orientation===0?g$:m$;_R.call(this,t,e)}else this.orientation===0?(e.x=this.innerRight-1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerBottom-1);return e},y$={};const GS=Phaser.Math.Linear;var C$=function(e,t,i,r){return r===void 0&&(r=T$),r.x=GS(t.x,i.x,e),r.y=GS(t.y,i.y,e),r},T$={},S$=function(e){var t=this.childrenMap.thumb;if(t===void 0)return this;e===void 0&&(e=this.value);var i,r;return this.reverseAxis?(i=this.getEndPoint(),r=this.getStartPoint()):(i=this.getStartPoint(),r=this.getEndPoint()),C$(e,i,r,t),t.x+=this.thumbOffsetX,t.y+=this.thumbOffsetY,this.resetChildPositionState(t),this};const P$=Phaser.Display.Align.LEFT_CENTER,E$=Phaser.Display.Align.TOP_CENTER,M$=Phaser.Display.Align.RIGHT_CENTER,w$=Phaser.Display.Align.BOTTOM_CENTER;var R$=function(e){var t=this.childrenMap.indicator;if(t===void 0)return this;e===void 0&&(e=this.value);var i=this.reverseAxis,r,g,S=this.childrenMap.thumb;if(S)if(this.orientation===0){var n=Ft(S);if(i){var C=S.x-n*S.originX;r=this.right-C}else{var C=S.x-n*S.originX,s=C+n;r=s-this.left}}else{var o=bt(S);if(i){var y=S.y-o*S.originY;g=this.bottom-y}else{var y=S.y-o*S.originY,f=y+o;g=f-this.top}}else this.orientation===0?r=this.width*e:g=this.height*e;Je(t,r,g);var u;i?u=this.orientation===0?M$:w$:u=this.orientation===0?P$:E$,qw(t,this,u),this.resetChildPositionState(t)};const Ei=Phaser.Utils.Objects.GetValue,Md=Phaser.Utils.Objects.IsPlainObject,A$=Phaser.Math.Clamp,L$=Phaser.Math.Snap.To;class th extends En(St){constructor(t,i){super(t,i),this.type="rexSlider",this.bootProgressBase(i),this.reverseAxis=Ei(i,"reverseAxis",!1);var r=Ei(i,"background",void 0),g=Ei(i,"track",void 0),S=Ei(i,"indicator",void 0),n=Ei(i,"thumb",void 0);if(r&&(Md(r)&&(r=Me(t,r)),this.addBackground(r)),g&&(Md(g)&&(g=Me(t,g)),this.add(g,{proportion:1,expand:!0,minWidth:this.orientation===0?0:void 0,minHeight:this.orientation===1?0:void 0})),S&&(Md(S)&&(S=Me(t,S)),this.pin(S)),n){Md(n)&&(n=Me(t,n)),this.pin(n);var C=Ei(i,"thumbOffsetX",0),s=Ei(i,"thumbOffsetY",0);this.setThumbOffset(C,s)}this.addChildrenMap("background",r),this.addChildrenMap("track",g),this.addChildrenMap("indicator",S),this.addChildrenMap("thumb",n),this.setEnable(Ei(i,"enable",void 0));var o=Ei(i,"tick",void 0);o===void 0&&(o=Ei(i,"gap",void 0)),this.setGap(o),l$.call(this,i),this.setValue(Ei(i,"value",0),Ei(i,"min",void 0),Ei(i,"max",void 0))}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t,i,r){return t&&i!==void 0&&(t=t/(r-i)),this.gap=t,this}setTick(t,i,r){return this.setGap(t,i,r),this}get tick(){return this.gap}set tick(t){this.gap=t}setThumbOffset(t,i){return this.thumbOffsetX=t,this.thumbOffsetY=i,this}get value(){return this._value}set value(t){this.gap!==void 0&&(t=L$(t,this.gap));var i=this._value;this._value=A$(t,0,1),i!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,i,this.eventEmitter))}postLayout(t,i,r){return this.updateThumb(),this.updateIndicator(),super.postLayout(t,i,r),this}}var O$={getStartPoint:v$,getEndPoint:x$,updateThumb:S$,updateIndicator:R$};Object.assign(th.prototype,O$);const di=Phaser.Utils.Objects.GetValue;class iy extends St{constructor(t,i){super(t,i),this.type="rexScrollBar";var r=di(i,"background",void 0),g=di(i,"buttons",void 0),S=di(g,"top",di(g,"left",void 0)),n=di(g,"bottom",di(g,"right",void 0)),C,s=di(i,"slider",void 0);if(r&&this.addBackground(r),S){this.add(S);var o=new Xo(S);o.on("intouch",function(){if(this.enable){var v=C.reverseAxis?this.scrollStep:-this.scrollStep;this.value+=v}},this)}if(s){s.orientation=this.orientation,s.eventEmitter=this,s.value=null;var y;if(this.orientation===0){var f=di(s,"width",void 0);y=f===void 0?1:0}else{var u=di(s,"height",void 0);y=u===void 0?1:0}C=new th(t,s),t.add.existing(C),this.add(C,{proportion:y})}if(n){this.add(n);var o=new Xo(n);o.on("intouch",function(){if(this.enable){var h=C.reverseAxis?-this.scrollStep:this.scrollStep;this.value+=h}},this)}var l=[S,n];this.addChildrenMap("background",r),this.addChildrenMap("slider",C),this.addChildrenMap("buttons",l);var a=di(i,"valuechangeCallback",null);if(a!==null){var d=di(i,"valuechangeCallbackScope",void 0);this.on("valuechange",a,d)}this.setEnable(di(i,"enable",void 0)),this.setValue(di(i,"value",0)),this.setScrollStep(di(g,"step",.01))}setScrollStep(t){return this.scrollStep=t,this}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,i,r){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,i,r),this}addValue(t,i,r){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,i,r),this}getValue(t,i){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,i):0}easeValueTo(t,i,r){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,i,r),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}setGap(t,i,r){return this.childrenMap.slider&&this.childrenMap.slider.setGap(t,i,r),this}get gap(){if(this.childrenMap.slider)return this.childrenMap.slider.gap}set gap(t){this.childrenMap.slider&&(this.childrenMap.slider.gap=t)}setTick(t,i,r){return this.setGap(t,i,r),this}get tick(){if(this.childrenMap.slider)return this.childrenMap.slider.tick}set tick(t){this.childrenMap.slider&&(this.childrenMap.slider.tick=t)}}var F$=function(e,t){t===void 0&&(t={});var i=Ps(t);t={slider:i},t.orientation=i.orientation,delete i.orientation,t.background=i.background,delete i.background,t.buttons=i.buttons,delete i.buttons,t.value=null;var r=new iy(e,t);e.add.existing(r);var g=r.childrenMap.slider;return r.addChildrenMap("track",g.childrenMap.track),r.addChildrenMap("indicator",g.childrenMap.indicator),r.addChildrenMap("thumb",g.childrenMap.thumb),r};const b$=Phaser.Math.Snap.To;Phaser.Math.Clamp;var D$=function(){this.emit("dragstart")},B$=function(){this.emit("dragend")},I$=function(){this.value+=this.dragDelta},G$=function(){var e=this.value,t=this.dragSpeed,i=this.snapStep,r=!!i;if(r){var S=e,n=t===0?0:t*t/(2*this.slidingDeceleration);if(S+=t>0?n:-n,S=b$(S,i,this.minValue),n=Math.abs(S-e),n>0){var g;t===0?(g=this.backDeceleration,t=Math.sqrt(2*g*n)):(g=t*t/(2*n),g*=.99),this._slowDown.init(e,void 0,t,g,S)}else this._slowDown.stop(),this._state.next()}else if(t===0)this._slowDown.stop(),this._state.next();else{var g=this.slidingDeceleration;this._slowDown.init(e,t>0,t,g)}},k$=function(e,t){t*=.001;var i=this._slowDown.update(t).value;this.overMax(i)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(i)?(this.value=this.minValue,this._slowDown.stop()):this.value=i},N$=function(){var e=this.value,t=this.outOfMinBound?this.minValue:this.maxValue,i=Math.abs(t-e),r=this.backDeceleration,g=Math.sqrt(2*r*i);this._slowDown.init(e,void 0,g,r,t)},z$=function(e,t){t*=.001,this.value=this._slowDown.update(t).value,this._slowDown.isMoving||this._state.next()},kS=function(){this._slowDown.stop()};class V$ extends Mr{constructor(t,i){super(i),this.parent=t,this.init()}init(){this.start("IDLE")}next_IDLE(){var t,i=this.parent,r=i.dragState;return r.isDown&&(t=i.dragThreshold===0?"DRAG":"DRAGBEGIN"),t}update_IDLE(t,i){this.next()}next_DRAGBEGIN(){var t,i=this.parent,r=i.dragState;return r.isDown?t=r.pointer.getDistance()>=i.dragThreshold?"DRAG":"DRAGBEGIN":t="IDLE",t}update_DRAGBEGIN(t,i){this.next()}next_DRAG(){var t,i=this.parent,r=i.dragState;return r.isUp&&(i.outOfBounds?t="BACK":i.slidingEnable?t="SLIDE":t="IDLE"),t}update_DRAG(t,i){var r=this.parent,g=r.dragState;g.justMoved&&I$.call(r),this.next()}enter_DRAG(){D$.call(this.parent)}exit_DRAG(){B$.call(this.parent)}next_SLIDE(){var t,i=this.parent,r=i.dragState;return r.isDown?t="DRAG":i.isSliding||(t="IDLE"),t}enter_SLIDE(){G$.call(this.parent)}exit_SLIDE(){kS.call(this.parent)}update_SLIDE(t,i){k$.call(this.parent,t,i),this.next()}next_BACK(){var t,i=this.parent,r=i.dragState;return r.isDown?t="DRAG":i.isPullBack||(t="IDLE"),t}enter_BACK(){N$.call(this.parent)}exit_BACK(){kS.call(this.parent)}update_BACK(t,i){z$.call(this.parent,t,i),this.next()}}const Fh=Phaser.Utils.Objects.GetValue,U$=Phaser.Math.Distance.Between;class X$ extends Qt{constructor(t,i){super(t,i),this._enable=void 0,this.rectBoundsInteractive=Fh(i,"rectBoundsInteractive",!1),this.rectBoundsInteractive||t.setInteractive(Fh(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(Fh(t,"enable",!0)),this.holdThreshold=Fh(t,"holdThreshold",50),this.pointerOutReleaseEnable=Fh(t,"pointerOutRelease",!0),this}boot(){var t=this.scene,i=this.parent;this.rectBoundsInteractive?(t.input.on("pointerdown",this.onPointIn,this),t.input.on("pointerup",this.onPointOut,this),t.input.on("pointermove",this.onPointerMove,this)):(i.on("pointerdown",this.onPointIn,this),i.on("pointerup",this.onPointOut,this),this.pointerOutReleaseEnable&&i.on("pointerout",this.onPointOut,this),i.on("pointermove",this.onPointerMove,this)),t.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){if(!this.isShutdown){var i=this.scene;this.parent,this.rectBoundsInteractive&&(i.input.off("pointerdown",this.onPointIn,this),i.input.off("pointerup",this.onPointOut,this),i.input.off("pointermove",this.onPointerMove,this)),i.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t)}}get enable(){return this._enable}set enable(t){this._enable!==t&&(t||(this.isInTouched=!1,this.pointer=void 0),this._enable=t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setPointerOutReleaseEnable(t){return t===void 0&&(t=!0),this.pointerOutReleaseEnable=t,this}get isDown(){return this.pointer&&this.pointer.isDown}get isUp(){return!this.isDown}get dx(){return this.x-this.preX}get dy(){return this.y-this.preY}get dt(){var t=nx(this.scene);return t}get speed(){if(this.x===this.preX&&this.y===this.preY)return 0;var t=U$(this.preX,this.preY,this.x,this.y),i=t/(this.dt*.001);return i}get speedX(){return this.dx/(this.dt*.001)}get speedY(){return this.dy/(this.dt*.001)}onPointIn(t,i,r){!this.enable||!t.isDown||this.pointer!==void 0||this.rectBoundsInteractive&&!$s(this.parent,t)||(this.pointer=t,this.localX=i,this.localY=r)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0)}onPointerMove(t,i,r){if(!(!this.enable||!t.isDown||this.pointer!==t)){if(this.rectBoundsInteractive&&this.pointerOutReleaseEnable&&!$s(this.parent,t)){this.onPointOut(t);return}this.localX=i,this.localY=r}}preupdate(t,i){if(this.enable){var r=this.pointer;this.justMoved=!1,r&&!this.isInTouched?(this.x=r.worldX,this.y=r.worldY,this.preX=r.worldX,this.preY=r.worldY,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",r,this.localX,this.localY)):r&&this.isInTouched?this.x===r.x&&this.y===r.y?this.holdStartTime===void 0?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=r.worldX,this.y=r.worldY,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",r,this.localX,this.localY)):!r&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",r))}}}const rg=Phaser.Utils.Objects.GetValue;class W${constructor(t){this.resetFromJSON(t)}resetFromJSON(t){return this.setValue(rg(t,"value",0)),this.setSpeed(rg(t,"speed",0)),this.setAcceleration(rg(t,"acceleration",0)),this}reset(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}setValue(t){return this.value=t,this}setSpeed(t){return this.speed=t,this}setAcceleration(t){return this.acceleration=t,this}updateSpeed(t){return this.acceleration!==0&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}getDeltaValue(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}update(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}get isMoving(){return this.speed>0}}class Y${constructor(){this.value,this.dir,this.movement=new W$}init(t,i,r,g,S){return this.value=t,this.end=S,S!==void 0?this.dir=t<S:this.dir=i,r=Math.abs(r),this.movement.setSpeed(r).setAcceleration(-g),this}stop(){this.movement.reset()}update(t){var i=this.movement.getDeltaValue(t);return this.dir||(i=-i),this.end===void 0?this.value+=i:i===0?this.value=this.end:(this.value+=i,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}get isMoving(){return this.movement.isMoving}}const he=Phaser.Utils.Objects.GetValue,H$=Phaser.Math.Clamp;class $$ extends Qt{constructor(t,i){super(t,i);var r=he(i,"enable",!0);this._state=new V$(this,{enable:r,eventEmitter:!1});var g={rectBoundsInteractive:he(i,"rectBoundsInteractive",!1),inputConfig:he(i,"inputConfig",void 0),enable:r,pointerOutRelease:he(i,"pointerOutRelease",!0),eventEmitter:!1};this.dragState=new X$(t,g),this._enable=void 0,this._value=void 0,this._slowDown=new Y$,this.setSnapStep(he(i,"snapStep",void 0));var S=he(i,"valuechangeCallback",null);if(S!==null){var n=he(i,"valuechangeCallbackScope",void 0);this.on("valuechange",S,n)}if(S=he(i,"overmaxCallback",null),S!==null){var n=he(i,"overmaxCallbackScope",void 0);this.on("overmax",S,n)}if(S=he(i,"overminCallback",null),S!==null){var n=he(i,"overminCallbackScope",void 0);this.on("overmin",S,n)}this.resetFromJSON(i),this.boot()}resetFromJSON(t){this.setOrientationMode(he(t,"orientation",0)),this.setDragThreshold(he(t,"threshold",10)),this.setSlidingDeceleration(he(t,"slidingDeceleration",5e3)),this.setBackDeceleration(he(t,"backDeceleration",2e3));var i=he(t,"dragRate",1);i=i*(he(t,"dragReverse",!1)?-1:1),this.setDragRate(i);var r=he(t,"bounds",void 0);return r?this.setBounds(r):this.setBounds(he(t,"max",0),he(t,"min",0)),this.setValue(he(t,"value",this.maxValue||0)),this.setEnable(he(t,"enable",!0)),this}boot(){this.scene.sys.events.on("preupdate",this._state.update,this._state)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this._state.update,this._state),this._state.destroy(t),this.dragState.destroy(t),this._state=void 0,this.dragState=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return this._enable=t,this._state.setEnable(t),this.dragState.setEnable(t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setOrientationMode(t){return typeof t=="string"&&(t=K$[t]),this.orientationMode=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setSlidingDeceleration(t){return this.slidingDeceleration=t,this}setBackDeceleration(t){return this.backDeceleration=t,this}setDragRate(t){return this.dragRate=t,this}setBounds(t,i){if(Array.isArray(t)){var r=t;t=r[0],i=r[1]}return t<i?(this.minValue=t,this.maxValue=i):(this.minValue=i,this.maxValue=t),this}setSnapStep(t){return this.snapStep=t,this}get value(){return this._value}set value(t){if(t!==this._value){var i=this._value,r=this.overMax(t),g=this.overMin(t);r&&this.emit("overmax",t,i),g&&this.emit("overmin",t,i),this.backEnable||(r&&(t=this.maxValue),g&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,i)}}setValue(t,i){return i===void 0&&(i=!1),i&&(t=H$(t,this.minValue,this.maxValue)),this.value=t,this}addValue(t,i){return this.setValue(this.value+t,i),this}get state(){return this._state.state}get isDragging(){return this.dragState.isInTouched}get outOfMaxBound(){return this.overMax(this.value)}get outOfMinBound(){return this.overMin(this.value)}get outOfBounds(){return this.outOfMinBound||this.outOfMaxBound}overMax(t){return this.maxValue!=null&&t>this.maxValue}overMin(t){return this.minValue!=null&&t<this.minValue}get backEnable(){return typeof this.backDeceleration=="number"}get isPullBack(){return this._slowDown.isMoving}get slidingEnable(){return typeof this.slidingDeceleration=="number"}get isSliding(){return this._slowDown.isMoving}get dragDelta(){var t;return this.orientationMode===0?t=this.dragState.dy:this.orientationMode===1?t=this.dragState.dx:t=0,t*=this.dragRate,t}get dragSpeed(){var t;return this.orientationMode===0?t=this.dragState.speedY:this.orientationMode===1?t=this.dragState.speedX:t=0,t*=this.dragRate,t}}const K$={y:0,v:0,vertical:0,x:1,h:1,horizontal:1},wd=Phaser.Utils.Objects.GetValue;class Z$ extends Qt{constructor(t,i){switch(super(t,i),this.parent!==this.scene?this.focusMode=wd(i,"focus",!0):this.focusMode=!1,typeof this.focusMode=="boolean"&&(this.focusMode=this.focusMode?1:0),this.setSpeed(wd(i,"speed",.1)),this.setEnable(wd(i,"enable",!0)),this.focusMode){case 0:case 2:this.scene.input.on("wheel",this.onSceneScroll,this);break;default:t.setInteractive(wd(i,"inputConfig",void 0)).on("wheel",function(r,g,S,n,C){this.tryScroll(S)},this);break}}destroy(){switch(this.focusMode){case 0:case 2:this.scene.input.off("wheel",this.onSceneScroll,this);break}}onSceneScroll(t,i,r,g,S,n){this.focusMode===2&&!$s(this.parent,t)||this.tryScroll(g)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setSpeed(t){return this.speed=t,this}tryScroll(t){if(this.enable)return this.scroll(t),this}scroll(t){return t*=this.speed,this.emit("scroll",t,this.parent,this),this}}const _t=Phaser.Utils.Objects.GetValue,J$=Phaser.Math.Snap.To;var Rd=function(e,t,i,r){i=i.toUpperCase();var g=i==="Y",S=e.scrollMode===2,n=e.childrenMap.child,C,s=`snapStep${i}`;if(S)C=_t(r,s,void 0);else{var C=_t(r,"snapStep",void 0);C===void 0&&(C=_t(r,s,void 0))}e[s]=C;var o,y,f=`slider${i}`;if(S||r.hasOwnProperty(f)?o=_t(r,f,void 0):o=_t(r,"slider",void 0),o){o===!0&&(o={}),o.orientation=g?1:0,y=F$(e.scene,o);var u,l,a,d=_t(o,"position",0);typeof d=="string"&&(d=Q$[d]);var v=_t(r,`space.slider${i}`,void 0),h;v===void 0&&(v=_t(r,"space.slider",void 0),v===void 0&&(S?v=0:h=_t(r,"space.child",0)));var c;h===void 0?c=typeof v=="number":c=typeof h=="number",g?d===0?(u=2,l=1,h===void 0?a=c?{left:v}:v:a={left:_t(h,"right",h)}):(u=0,l=1,h===void 0?a=c?{right:v}:v:a={right:_t(h,"left",h)}):d===0?(u=1,l=2,h===void 0?a=c?{top:v}:v:a={top:_t(h,"bottom",h)}):(u=1,l=0,h===void 0?a=c?{bottom:v}:v:a={bottom:_t(h,"top",h)}),t.add(y,{column:u,row:l,align:"center",padding:a,expand:!0}),e[`hideUnscrollableSlider${i}`]=_t(o,"hideUnscrollableSlider",!1),e[`disableUnscrollableDrag${i}`]=_t(o,"disableUnscrollableDrag",!1),e[`adaptThumb${i}SizeMode`]=_t(o,"adaptThumbSize",!1),e[`minThumb${i}Size`]=_t(o,"minThumbSize",void 0)}else e[`hideUnscrollableSlider${i}`]=!1,e[`disableUnscrollableDrag${i}`]=!1,e[`adaptThumb${i}SizeMode`]=!1,e[`minThumb${i}Size`]=void 0;var p=_t(r,"scrollDetectionMode");typeof p=="string"&&(p=j$[p]);var m,x,T=`scroller${i}`;S||r.hasOwnProperty(T)?m=_t(r,T,!0):m=_t(r,"scroller",!0),m&&n&&(m===!0&&(m={}),m.orientation=g?0:1,p!==void 0&&(m.rectBoundsInteractive=p===1),m.snapStep=C,x=new $$(n,m),n.isRexContainerLite&&n.sendChildToBack(n));var P=_t(r,S?`mouseWheelScroller${i}`:"mouseWheelScroller",!1),M;if(P&&n&&(p!==void 0&&(P.focus=p===1?2:0),M=new Z$(n,P)),e.addChildrenMap(`slider${i}`,y),e.addChildrenMap(`scroller${i}`,x),e.addChildrenMap(`mouseWheelScroller${i}`,M),(!S||g)&&(e.hideUnscrollableSlider=e[`hideUnscrollableSlider${i}`],e.disableUnscrollableDrag=e[`disableUnscrollableDrag${i}`],e.adaptThumbSizeMode=e[`adaptThumb${i}SizeMode`],e.minThumbSize=e[`minThumb${i}Size`],e.addChildrenMap("slider",y),e.addChildrenMap("scroller",x),e.addChildrenMap("mouseWheelScroller",M)),y){var E,w;S?(E=g?"t":"s",w=`scroll${i}`):(E="t",w="scroll"),y.on("valuechange",function(L){e[E]=L,e.emit(w,e)}).on("inputend",function(){var L=e[`snapStep${i}`];if(L){var b=e[g?"topChildOY":"leftChildOX"],O=e[g?"bottomChildOY":"rightChildOX"],F=e[`childO${i}`],D=J$(F,L,b),B=500*(Math.abs(D-F)/L);y.setEaseValueDuration(B).easeValueTo(D,b,O)}})}if(x){var R,w;S?(R=`childO${i}`,w=`scroll${i}`):(R="childOY",w="scroll"),x.on("valuechange",function(b){e[R]=b,e.emit(w,e)})}if(M){var A;S?A=`addChildO${i}`:A="addChildOY",M.on("scroll",function(L){var b=e[s];b&&(L=b),e[A](-L,!0)})}};const Q$={right:0,left:1,bottom:0,top:1},j$={gameObject:0,rectBounds:1},Ad=Phaser.Utils.Objects.GetValue;var q$=function(e,t){var i=e.scene,r=[0,1,0],g=[0,1,0],S=Ad(t,"width"),n=Ad(t,"height");if(!S){var C=Ad(t,"child.expandWidth",!0);C||(r[1]=0)}if(!n){var s=Ad(t,"child.expandHeight",!0);s||(g[1]=0)}var o=new Rs(i,{column:3,row:3,columnProportions:r,rowProportions:g});switch(n$(e,o,t),e.scrollMode){case 0:Rd(e,o,"y",t);break;case 1:Rd(e,o,"x",t);break;default:Rd(e,o,"y",t),Rd(e,o,"x",t);break}return o};const Bs=Phaser.Utils.Objects.GetValue;let ou=class extends St{constructor(t,i){i===void 0&&(i={});var r=ey(i),g=r===1;i.orientation=g?0:1,super(t,i),this.type=Bs(i,"type","rexScrollable"),this.scrollMode=r;var S=Bs(i,"background",void 0);S&&this.addBackground(S);var n=Bs(i,"header",void 0);if(n){var C=Bs(i,"align.header","center"),s=Bs(i,"space.header",0),o;g?o={right:s}:o={bottom:s},this.add(n,{proportion:0,align:C,padding:o,expand:Bs(i,"expand.header",!0)})}var y=q$(this,i);y&&this.add(y,{proportion:1,align:"center",padding:0,expand:!0});var f=Bs(i,"footer",void 0);if(f){var C=Bs(i,"align.footer","center"),u=Bs(i,"space.footer",0),o;g?o={left:u}:o={top:u},this.add(f,{proportion:0,align:C,padding:o,expand:Bs(i,"expand.footer",!0)})}this.addChildrenMap("background",S),this.addChildrenMap("header",n),this.addChildrenMap("footer",f),this.runLayoutFlag=!1}postLayout(t,i,r){var g=0,S=0;return this.runLayoutFlag?(S=this.t,this.scrollMode===2&&(g=this.s)):this.runLayoutFlag=!0,this.resizeController(),this.setT(S),this.scrollMode===2&&this.setS(g),super.postLayout(t,i,r),this}set t(t){var i=this.childMargin;if(i.top!==0||i.bottom!==0){var r=this.childrenMap.child,g=r.topChildOY-r.bottomChildOY,S=g+i.top+i.bottom,n=S*t-i.top;t=g!==0?n/g:0}this.childrenMap.child.t=t,this.updateController()}get t(){var t=this.childrenMap.child.t,i=this.childMargin;if(i.top!==0||i.bottom!==0){var r=this.childrenMap.child,g=r.topChildOY-r.bottomChildOY,S=g+i.top+i.bottom,n=g*t+i.top;t=S!==0?n/S:0}return t}set s(t){var i=this.childMargin;if(i.left!==0||i.right!==0){var r=this.childrenMap.child,g=r.leftChildOX-r.rightChildOX,S=g+i.left+i.right,n=S*t-i.left;t=g!==0?n/g:0}this.childrenMap.child.s=t,this.updateController()}get s(){var t=this.childrenMap.child.s,i=this.childMargin;if(i.left!==0||i.right!==0){var r=this.childrenMap.child,g=r.leftChildOX-r.rightChildOX,S=g+i.left+i.right,n=g*t+i.left;t=S!==0?n/S:0}return t}set childOY(t){this.childrenMap.child.childOY=t,this.updateController()}get childOY(){return this.childrenMap.child.childOY}set childOX(t){this.childrenMap.child.childOX=t,this.updateController()}get childOX(){return this.childrenMap.child.childOX}get topChildOY(){return this.childrenMap.child.topChildOY+this.childMargin.top}get bottomChildOY(){return this.childrenMap.child.bottomChildOY-this.childMargin.bottom}get leftChildOX(){return this.childrenMap.child.leftChildOX+this.childMargin.left}get rightChildOX(){return this.childrenMap.child.rightChildOX-this.childMargin.right}get childVisibleHeight(){return this.childrenMap.child.childVisibleHeight}get childHeight(){return this.childrenMap.child.childHeight}get childVisibleWidth(){return this.childrenMap.child.childVisibleWidth}get childWidth(){return this.childrenMap.child.childWidth}get isOverflow(){var t=this.childrenMap.child;return t.topChildOY!==t.bottomChildOY}get isOverflowY(){return this.isOverflow}get isOverflowX(){var t=this.childrenMap.child;return t.leftChildOX!==t.rightChildOX}get sliderEnable(){var t=this.childrenMap.slider;return t?t.enable:!1}set sliderEnable(t){var i=this.childrenMap.slider;i&&i.setEnable(t)}setSliderEnable(t){return t===void 0&&(t=!0),this.sliderEnable=t,this}get sliderYEnable(){return this.sliderEnable}set sliderYEnable(t){this.sliderEnable=t}setSliderYEnable(t){return this.setSliderEnable(t),this}get sliderXEnable(){var t=this.childrenMap.sliderX;return t?t.enable:!1}set sliderXEnable(t){var i=this.childrenMap.sliderX;i&&i.setEnable(t)}setSliderXEnable(t){return t===void 0&&(t=!0),this.sliderXEnable=t,this}get scrollerEnable(){var t=this.childrenMap.scroller;return t?t.enable:!1}set scrollerEnable(t){var i=this.childrenMap.scroller;i&&i.setEnable(t)}setScrollerEnable(t){return t===void 0&&(t=!0),this.scrollerEnable=t,this}get scrollerYEnable(){return this.scrollerEnable}set scrollerYEnable(t){this.scrollerEnable=t}setScrollerYEnable(t){return this.setScrollerEnable(t),this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var i=this.childrenMap.scrollerX;i&&i.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var i=this.childrenMap.scrollerX;i&&i.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get mouseWheelScrollerEnable(){var t=this.childrenMap.mouseWheelScroller;return t?t.enable:!1}set mouseWheelScrollerEnable(t){var i=this.childrenMap.mouseWheelScroller;i&&i.setEnable(t)}setMouseWheelScrollerEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerEnable=t,this}get mouseWheelScrollerYEnable(){return this.mouseWheelScrollerEnable}set mouseWheelScrollerYEnable(t){this.mouseWheelScrollerEnable=t}setMouseWheelScrollerYEnable(t){return this.setMouseWheelScrollerEnable(t),this}get mouseWheelScrollerXEnable(){var t=this.childrenMap.mouseWheelScrollerX;return t?t.enable:!1}set mouseWheelScrollerXEnable(t){var i=this.childrenMap.mouseWheelScrollerX;i&&i.setEnable(t)}setMouseWheelScrollerXEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerXEnable=t,this}setDropZoneEnable(t){t===void 0&&(t=!0);var i=this.childrenMap.child;return i.setInteractive(),i.input.dropZone=t,this}};Object.assign(ou.prototype,QR);var sy=function(e,t,i){var r=Mn(e);switch(r){case Qe:i=e.getWrappedText(t);break;case je:i=e.getPenManager(t,i);break;case Fi:e.maxWidth>0?i=e.setText(t).getTextBounds().wrappedText.split(`
`):i=t.split(`
`);break}return i},_$=function(e){return e!==void 0&&(this.text=e),this.lines=sy(this.textObject,this.text,this.lines),this.linesCount=this.lines.length,this._textHeight=void 0,this._textVisibleHeight=void 0,this.updateTextObject(),this},tA=function(e){return(e-this.textLineSpacing)/(this.textLineHeight+this.textLineSpacing)},eA=function(e){return e*(this.textLineHeight+this.textLineSpacing)-this.textLineSpacing},tK=function(e){var t=e+this.visibleLinesCount+1,i;switch(this.textObjectType){case Qe:i=this.lines.slice(e,t).join(`
`);break;case je:var r=this.lines.getLineStartIndex(e),g=this.lines.getLineEndIndex(t-1);i=this.lines.getSliceTagText(r,g,!0);break;case Fi:i=this.lines.slice(e,t).join(`
`);break}return i},Jc=function(e,t){var i=Mn(e);switch(i){case Qe:var S=e.style,r=S.wordWrapWidth,g=S.wordWrapCallback;S.wordWrapWidth=0,S.wordWrapCallback=void 0,e.setText(t),S.wordWrapWidth=r,S.wordWrapCallback=g;break;case je:var S=e.style,n=S.wrapMode;S.wrapMode=0,e.setText(t),S.wrapMode=n;break;case Fi:var C=e._maxWidth;e._maxWidth=0,e.setText(t),e._maxWidth=C;break}},iA=function(){var e=this.textObject.rexSizer;this.textObject.y+=e.offsetY-e.preOffsetY,e.preOffsetY=e.offsetY,this.resetChildPositionState(this.textObject),this.textCropEnable&&eK.call(this)},eK=function(){if(this.textObject.setCrop){var e=this.textObject.rexSizer.offsetY,t,i;e<=0?(t=-e,i=this.height):(t=0,i=this.height-e),this.textObject.setCrop(0,t,this.width,i)}},iK=function(){var e=Math.max(Math.floor(tA.call(this,-this.textOY)),0),t=eA.call(this,e)+this.textOY,i=tK.call(this,e);return Jc(this.textObject,i),this.textObject.rexSizer.offsetY=t,iA.call(this),this},sK=function(){return this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,ql.call(this),this},rK=function(e,t,i){if(i+=this.textLineHeight+this.textLineSpacing,!(this.textObjectWidth===t&&this._textObjectRealHeight===i)){switch(this.textObjectWidth=t,this._textObjectRealHeight=i,this.textObjectType){case Qe:case je:e.setFixedSize(t,i);var r=e.style,g=Math.max(t,0);this.textObjectType===Qe?r.wordWrapWidth=g:(r.wrapMode===0&&(r.wrapMode=1),r.wrapWidth=g);break;case Fi:e.setMaxWidth(t);break}this.setText()}},nK=function(){var e,t,i,r=this.left,g=this.top,S,n,C,s;e=this.textObject,e.rexSizer.hidden||(t=e.rexSizer,i=t.padding,S=r+i.left*this.scaleX,n=g+i.top*this.scaleY,C=this.width*this.scaleX-(i.left+i.right)*this.scaleX,s=this.height*this.scaleY-(i.top+i.bottom)*this.scaleY,rK.call(this,e,C,s),Jl(e,S,n,C,s,t.align),t.preOffsetY=0,iA.call(this),this.textMask&&(this.textMask.setPosition().resize(),this.resetChildPositionState(this.textMask)))};const aK={setText:_$,updateTextObject:iK,preLayout:sK,layoutChildren:nK},NS=Phaser.Utils.Objects.IsPlainObject,Mi=Phaser.Utils.Objects.GetValue,oK=Phaser.Display.Align.TOP_LEFT;class sA extends wa{constructor(t,i,r,g,S,n){NS(i)?(n=i,i=Mi(n,"x",0),r=Mi(n,"y",0),g=Mi(n,"width",void 0),S=Mi(n,"height",void 0)):NS(g)&&(n=g,g=Mi(n,"width",void 0),S=Mi(n,"height",void 0)),super(t,i,r,g,S,n),this.type="rexTextBlock",this.textObject=void 0,this.linesCount=0,this.textMask=void 0,this.textObjectType=void 0,this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,this._textObjectRealHeight=0,this.lines=void 0,this.text=Mi(n,"content",""),this._textOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setClampMode(Mi(n,"clampTextOY",!0)),this.alwaysScrollable=Mi(n,"alwaysScrollable",!1);var C=Mi(n,"background",void 0),s=Mi(n,"text",void 0);s===void 0&&(s=hK(t)),this.textCropEnable=Mi(n,"textCrop",!!s.setCrop);var o=Mi(n,"textMask",!this.textCropEnable);C&&this.addBackground(C),this.add(s),this.sizerChildren=[s];var y=this.getSizerConfig(s);y.align=oK,y.padding=Ma(0),y.expand=!0,this.textObject=s,this.textObjectType=Mn(s),y.preOffsetY=0,y.offsetY=0,o&&(this.textMask=ws.call(this,this.textObject,this)),this.addChildrenMap("background",C),this.addChildrenMap("text",s)}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(this.textObject=void 0,this.textMask=void 0,this.lines){switch(this.textObjectType){case Qe:this.lines.length=0;break;case je:this.lines.destroy();break;case Fi:this.lines.length=0;break}this.lines=void 0}super.destroy(t)}}setClampMode(t){return t===void 0&&(t=!0),this.clampTextOY=t,this}get textLineHeight(){if(this._textLineHeight===void 0){var t;switch(this.textObjectType){case Qe:case je:var i=this.textObject.style;t=i.metrics.fontSize+i.strokeThickness;break;case Fi:var r=this.textObject.fontSize/this.textObject.fontData.size;t=this.textObject.fontData.lineHeight*r;break}this._textLineHeight=t}return this._textLineHeight}get textLineSpacing(){if(this._textLineSpacing===void 0){var t;switch(this.textObjectType){case Qe:case je:t=this.textObject.lineSpacing;break;case Fi:t=0;break}this._textLineSpacing=t}return this._textLineSpacing}get visibleLinesCount(){return this._visibleLinesCount===void 0&&(this._visibleLinesCount=Math.floor(tA.call(this,this._textObjectRealHeight))),this._visibleLinesCount}get topTextOY(){return 0}get bottomTextOY(){return-this.textVisibleHeight}get textHeight(){return this._textHeight===void 0&&(this._textHeight=eA.call(this,this.linesCount)),this._textHeight}get textObjectHeight(){return this._textObjectRealHeight-(this.textLineHeight+this.textLineSpacing)}get textVisibleHeight(){if(this._textVisibleHeight===void 0){var t=this.textHeight-this.textObjectHeight;!this.alwaysScrollable&&t<0&&(t=0),this._textVisibleHeight=t}return this._textVisibleHeight}textOYExceedTop(t){return t===void 0&&(t=this.textOY),t>this.topTextOY}textOYExeceedBottom(t){return t===void 0&&(t=this.textOY),t<this.bottomTextOY}get textOY(){return this._textOY}set textOY(t){var i=this.topTextOY,r=this.bottomTextOY,g=this.textOYExceedTop(t),S=this.textOYExeceedBottom(t);this.clampTextOY&&(this.visibleLinesCount>this.linesCount?t=0:g?t=i:S&&(t=r)),this._textOY!==t&&(this._textOY=t,this.updateTextObject()),g&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=g,S&&(this.execeedBottomState||this.emit("execeedbottom",this,t,r)),this.execeedBottomState=S}setTextOY(t){return this.textOY=t,this}set t(t){this.textOY=-this.textVisibleHeight*t}get t(){var t=this.textVisibleHeight;return t===0?0:this.textOY/-t}setTextOYByPercentage(t){return this.t=t,this}}var hK=function(e){return e.add.text(0,0,"")};Object.assign(sA.prototype,aK);var lK=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.textOY},set:function(t){e.textOY=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTextOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTextOY}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.textObjectHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.textHeight}})};const uK={setText(e){var t=this.childrenMap.child;return t.setText(e),this.resizeController(),this},appendText(e){return this.setText(this.text+e),this}},dK={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}},Is=Phaser.Utils.Objects.GetValue;class hu extends ou{constructor(t,i){i===void 0&&(i={});var r=Is(i,"text",void 0),g=Is(i,"textWidth",void 0),S=Is(i,"textHeight",void 0),n=Is(i,"textCrop",!!r.setCrop),C=Is(i,"textMask",!n),s=Is(i,"content",""),o=new sA(t,{width:g,height:S,text:r,textMask:C,textCrop:n&&!C,content:s,clampTextOY:Is(i,"clampChildOY",!1),alwaysScrollable:Is(i,"alwaysScrollable",!1)});t.add.existing(o),lK(o),i.scrollMode=0,i.type="rexTextArea",i.child={gameObject:o,expandWidth:g===void 0,expandHeight:S===void 0};var y=Is(i,"space",void 0);y&&(y.child=Is(y,"text",0)),super(t,i),this.addChildrenMap("text",r)}get text(){return this.childrenMap.child.text}get lineHeight(){var t=this.childrenMap.child;return t.textLineHeight+t.textLineSpacing}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.textHeight}}Object.assign(hu.prototype,uK,dK);const Ld=Phaser.Utils.Objects.GetValue;var rA=function(e,t,i){t=t?Be(t):{};var r=Ld(i,"background",Me),g=Ld(i,"text",ry),S=Ld(i,"track",Me),n=Ld(i,"thumb",Me);r?t.background=r(e,t.background):delete t.background,g?t.text=g(e,t.text):delete t.text;var C=t.slider;C!==!1&&C!==null&&(C===void 0&&(C={}),S?C.track=S(e,C.track):delete C.track,n?C.thumb=n(e,C.thumb):delete C.thumb,t.slider=C);var s=new hu(e,t);return e.add.existing(s),s},ry=function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("key")&&(i="bitmaptext",t.font=t.key));var r;switch(i){case"bitmaptext":case"bitmap":r=new Kc(e,t);break;case"bbcodetext":case"bbcode":r=new $o(e,0,0,"",t);break;case"label":r=new lu(e,t);break;case"textarea":r=rA(e,t);break;default:r=new $c(e,t);break}return ty(r,t),e.add.existing(r),r},zS=function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("leftWidth")?i="nineSlice":(t.hasOwnProperty("color")||t.hasOwnProperty("strokeColor"))&&(i="roundRectangle"));var r;switch(i){case"nineSlice":t.hasOwnProperty("stretchMode")?r=new au(e,t):r=new nu(e,t);break;case"roundRectangle":r=new ru(e,t);break;default:r=new su(e,t);break}return ty(r,t),e.add.existing(r),r};const Od=Phaser.Utils.Objects.GetValue;var Qc=function(e,t,i){t=t?Be(t):{};var r=Od(i,"background",Me),g=Od(i,"text",ry),S=Od(i,"icon",zS),n=Od(i,"action",zS);return t.background!==null&&r?t.background=r(e,t.background):delete t.background,t.text!==null&&g?t.text=g(e,t.text):delete t.text,t.icon!==null&&S?t.icon=S(e,t.icon):delete t.icon,t.action!==null&&n?t.action=n(e,t.action):delete t.action,t};class lu extends wr{constructor(t,i,r){i=Qc(t,i,r),super(t,i),this.type="rexSimpleLabel"}setActiveState(t){return ng(this.getChildren(),"setActiveState",t),this}setHoverState(t){return ng(this.getChildren(),"setHoverState",t),this}setDisableState(t){return ng(this.getChildren(),"setDisableState",t),this}}var ng=function(e,t,i){for(var r=0,g=e.length;r<g;r++){var S=e[r];S&&S[t]&&S[t](i)}};st.register("simpleLabel",function(e,t){var i=new lu(this.scene,e,t);return this.scene.add.existing(i),i});et(window,"RexPlugins.UI.SimpleLabel",lu);const gt=Phaser.Utils.Objects.GetValue;var fK=function(e){var t=this.scene,i=gt(e,"orientation",0);this.setOrientation(i);var r=gt(e,"icon",void 0),g=gt(e,"iconMask",void 0),S=gt(e,"innerBackground",void 0),n=gt(e,"title",void 0),C=gt(e,"separator",void 0),s=gt(e,"text",void 0),o=gt(e,"action",void 0),y=gt(e,"actionMask",void 0);if(r){var f=gt(e,"align.icon","center"),T;this.orientation===0?T={right:gt(e,"space.icon",0),top:gt(e,"space.iconTop",0),bottom:gt(e,"space.iconBottom",0),left:gt(e,"space.iconLeft",0)}:T={bottom:gt(e,"space.icon",0),left:gt(e,"space.iconLeft",0),right:gt(e,"space.iconRight",0),top:gt(e,"space.iconTop",0)};var u=gt(e,"squareFitIcon",!1)?1:0;if(this.add(r,{proportion:0,align:f,padding:T,fitRatio:u}),g&&(g=ws.call(this,r,r,1)),!u){var l=gt(e,"iconSize",void 0);this.setIconSize(gt(e,"iconWidth",l),gt(e,"iconHeight",l))}}var a=new St(t,{orientation:1});S&&a.addBackground(S);var d=gt(e,"space.separator",0);if(n){var f=gt(e,"align.title","left"),v=gt(e,"expandTitleWidth",!1),h=gt(e,"expandTitleHeight",!1),c,T,p;c=h?1:0,p=v,T={bottom:!C&&s?gt(e,"space.title",d):0,left:gt(e,"space.titleLeft",0),right:gt(e,"space.titleRight",0)},a.add(n,{proportion:c,expand:p,align:f,padding:T})}if(C){var T={top:n?d:0,bottom:s?d:0,left:gt(e,"space.separatorLeft",0),right:gt(e,"space.separatorRight",0)};a.add(C,{expand:!0,padding:T})}if(s){var f=gt(e,"align.text","left"),m=gt(e,"expandTextWidth",!1),x=gt(e,"expandTextHeight",!1),c,T,p;c=x?1:0,p=m,T={left:gt(e,"space.textLeft",0),right:gt(e,"space.textRight",0)},a.add(s,{proportion:c,expand:p,align:f,padding:T})}var T=void 0;if(o&&(T={right:gt(e,"space.text",0)}),this.add(a,{proportion:1,padding:T}),o){var f=gt(e,"align.action","center"),T;this.orientation===0?T={top:gt(e,"space.actionTop",0),bottom:gt(e,"space.actionBottom",0),right:gt(e,"space.actionRight",0)}:T={left:gt(e,"space.actionLeft",0),right:gt(e,"space.actionRight",0),bottom:gt(e,"space.actionBottom",0)};var u=gt(e,"squareFitAction",!1)?1:0;if(this.add(o,{proportion:0,align:f,padding:T,fitRatio:u}),y&&(y=ws.call(this,o,o,1)),!u){var P=gt(e,"actionSize");this.setActionSize(gt(e,"actionWidth",P),gt(e,"actionHeight",P))}}this.addChildrenMap("icon",r),this.addChildrenMap("iconMask",g),this.addChildrenMap("innerSizer",a),this.addChildrenMap("innerBackground",S),this.addChildrenMap("title",n),this.addChildrenMap("separator",C),this.addChildrenMap("text",s),this.addChildrenMap("action",o),this.addChildrenMap("actionMask",y)};const vt=Phaser.Utils.Objects.GetValue;var cK=function(e){this.setOrientation(1),this.setRTL(!1);var t=this.scene,i=vt(e,"title",void 0),r=vt(e,"separator",void 0),g=vt(e,"innerBackground",void 0),S=vt(e,"icon",void 0),n=vt(e,"iconMask",void 0),C=vt(e,"text",void 0),s=vt(e,"action",void 0),o=vt(e,"actionMask",void 0);if(i){var y=vt(e,"align.title","left"),f=vt(e,"expandTitleWidth",!1),u=vt(e,"expandTitleHeight",!1),l,a,d;l=u?1:0,d=f,a={bottom:vt(e,"space.title",0),left:vt(e,"space.titleLeft",0),right:vt(e,"space.titleRight",0)},this.add(i,{proportion:l,expand:d,align:y,padding:a})}if(r){var v=vt(e,"space.separator",0),a={top:i?v:0,bottom:C?v:0,left:vt(e,"space.separatorLeft",0),right:vt(e,"space.separatorRight",0)};this.add(r,{proportion:0,expand:!0,padding:a})}var h=vt(e,"orientation",0),c=new St(t,{orientation:h,rtl:vt(e,"rtl",!1),space:{left:vt(e,"space.innerLeft",0),right:vt(e,"space.innerRight",0),top:vt(e,"space.innerTop",0),bottom:vt(e,"space.innerBottom",0)}});if(g&&c.addBackground(g),this.add(c,{proportion:1,expand:!0}),S){var y=vt(e,"align.icon","center"),a;c.orientation===0?a={right:vt(e,"space.icon",0),top:vt(e,"space.iconTop",0),bottom:vt(e,"space.iconBottom",0),left:vt(e,"space.iconLeft",0)}:a={bottom:vt(e,"space.icon",0),left:vt(e,"space.iconLeft",0),right:vt(e,"space.iconRight",0),top:vt(e,"space.iconTop",0)};var p=vt(e,"squareFitIcon",!1)?1:0;if(c.add(S,{proportion:0,align:y,padding:a,fitRatio:p}),n&&(n=ws.call(this,S,S,1)),!p){var m=vt(e,"iconSize",void 0);this.setIconSize(vt(e,"iconWidth",m),vt(e,"iconHeight",m))}}if(C){var y=vt(e,"align.text","left"),x=vt(e,"space.text",0),T=vt(e,"expandTextWidth",!1),P=vt(e,"expandTextHeight",!1),l,a,d;c.orientation===0?(l=T?1:0,s&&(a={right:x}),d=P):(l=P?1:0,s&&(a={bottom:x}),d=T),c.add(C,{proportion:l,expand:d,align:y,padding:a})}if(s){var y=vt(e,"align.action","center"),a;c.orientation===0?a={top:vt(e,"space.actionTop",0),bottom:vt(e,"space.actionBottom",0),right:vt(e,"space.actionRight",0)}:a={left:vt(e,"space.actionLeft",0),right:vt(e,"space.actionRight",0),bottom:vt(e,"space.actionBottom",0)};var p=vt(e,"squareFitAction",!1)?1:0;if(c.add(s,{proportion:0,align:y,padding:a,fitRatio:p}),o&&(o=ws.call(this,s,s,1)),!p){var M=vt(e,"actionSize");this.setActionSize(vt(e,"actionWidth",M),vt(e,"actionHeight",M))}}this.addChildrenMap("title",i),this.addChildrenMap("separator",r),this.addChildrenMap("innerSizer",c),this.addChildrenMap("innerBackground",g),this.addChildrenMap("icon",S),this.addChildrenMap("iconMask",n),this.addChildrenMap("text",C),this.addChildrenMap("action",s),this.addChildrenMap("actionMask",o)};const kr=Phaser.Utils.Objects.GetValue,VS=[fK,cK];class jc extends Qx{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexTitleLabel";var r=kr(i,"background",void 0);r&&this.addBackground(r);var g=kr(i,"title",void 0),S=kr(i,"text",void 0);if(g){var n=kr(i,"wrapTitle",!1),C=kr(i,"adjustTitleFontSize",!1);n?(n===!0&&(n="word"),V0(g,n),i.expandTitleWidth=!0,Zf(g)):C&&(i.expandTextWidth=!0,i.expandTextHeight=!0,Qf(g,{fitHeight:!0}))}if(S){var s=kr(i,"wrapText",!1),o=kr(i,"adjustTextFontSize",!1);s?(s===!0&&(s="word"),V0(S,s),i.expandTextWidth=!0,Zf(S)):o&&(i.expandTextWidth=!0,i.expandTextHeight=!0,Qf(S,{fitHeight:!0}))}var y=kr(i,"layoutMode",0),f=VS[y]||VS[0];f.call(this,i),this.addChildrenMap("background",i.background)}get title(){var t=this.childrenMap.title;return t?t.title:""}set title(t){var i=this.childrenMap.title;i&&i.setText(t)}setTitle(t){return this.title=t,this}resetDisplayContent(t){t===void 0?t={}:typeof t=="string"&&(t={text:t}),super.resetDisplayContent(t);var i=this.childrenMap.title;return i&&(t.title===void 0||(t.title?(this.show(i),this.setTitle(t.title)):this.hide(i))),this}}st.register("titleLabel",function(e){var t=new jc(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.TitleLabel",jc);const ag=Phaser.Utils.Objects.GetValue;var nA=function(e,t,i){var r=ag(i,"innerBackground",Me),g=ag(i,"separator",Me),S=ag(i,"title",ry),n,C;t.innerBackground!==null&&r&&(n=r(e,t.innerBackground)),t.separator!==null&&g&&(C=g(e,t.separator)),t=Qc(e,t,i),n?t.innerBackground=n:delete t.innerBackground,C?t.separator=C:delete t.separator,t.title!==null&&S?t.title=S(e,t.title):delete t.title;var s=t.background;return s&&(n?e.children.moveBelow(s,n):C&&e.children.moveBelow(s,C)),t};class aA extends jc{constructor(t,i,r){i=nA(t,i,r),super(t,i),this.type="rexSimpleTitleLabel"}setActiveState(t){return og(this.getChildren(),"setActiveState",t),this}setHoverState(t){return og(this.getChildren(),"setHoverState",t),this}setDisableState(t){return og(this.getChildren(),"setDisableState",t),this}}var og=function(e,t,i){for(var r=0,g=e.length;r<g;r++){var S=e[r];S&&S[t]&&S[t](i)}};st.register("simpleTitleLabel",function(e,t){var i=new aA(this.scene,e,t);return this.scene.add.existing(i),i});et(window,"RexPlugins.UI.SimpleTitleLabel",aA);const At=Phaser.Utils.Objects.GetValue,vK=Phaser.Utils.Objects.IsPlainObject;var pK=function(e,t){var i=At(t,"background",void 0),r=At(t,"icon",void 0),g=At(t,"iconMask",void 0),S=At(t,"nameText",void 0),n=At(t,"valueText",void 0),C=At(t,"bar",void 0),s=At(t,"action",void 0),o=At(t,"actionMask",void 0),y=At(t,"barShape","line")==="line";if(vK(C)){var f=y?ux:wc;C=new f(e,C),e.add.existing(C),S&&e.children.moveBelow(C,S),n&&e.children.moveBelow(C,n)}var u=S||n||C;if(i&&this.addBackground(i),r){var l=void 0;this.orientation===0?(u||s)&&(l={right:At(t,"space.icon",0),top:At(t,"space.iconTop",0),bottom:At(t,"space.iconBottom",0)}):(u||s)&&(l={bottom:At(t,"space.icon",0),left:At(t,"space.iconLeft",0),right:At(t,"space.iconRight",0)}),this.add(r,{proportion:0,padding:l}),g&&(g=ws.call(this,r,r,1))}if(u){var a=new St(e,{orientation:1}),d;if(S||n){if(d=new St(e,{orientation:0}),S){S.text===""&&S.setText(" "),S.setOrigin(0,S.originY);var l={left:At(t,"space.name",0)};d.add(S,{padding:l})}if(n){n.text===""&&n.setText(" "),n.setOrigin(1,n.originY),d.addSpace();var l={right:At(t,"space.value",0)};d.add(n,{padding:l}),this.setValueTextFormatCallback(At(t,"valueTextFormatCallback",gK),At(t,"valueTextFormatCallbackScope",void 0))}a.add(d,{expand:!0})}if(C)if(y){var v=d?At(t,"space.bar"):0;v===void 0&&(v=At(t,"space.barTop",0));var l={top:v,bottom:At(t,"space.barBottom",0),left:At(t,"space.barLeft",0),right:At(t,"space.barRight",0)};a.add(C,{expand:!0,padding:l})}else{var l={top:At(t,"space.barTop",0),bottom:At(t,"space.barBottom",0),left:At(t,"space.barLeft",0),right:At(t,"space.barRight",0)};this.addBackground(C,l)}var l=void 0;s&&(l={right:At(t,"space.text",0)});var h=At(t,"align.text","bottom");this.add(a,{proportion:1,align:h,padding:l})}if(s){var l;this.orientation===0?l={top:At(t,"space.actionTop",0),bottom:At(t,"space.actionBottom",0)}:l={left:At(t,"space.actionLeft",0),right:At(t,"space.actionRight",0)},this.add(s,{proportion:0,padding:l}),o&&(o=ws.call(this,s,s,1))}this.addChildrenMap("background",i),this.addChildrenMap("icon",r),this.addChildrenMap("iconMask",g),this.addChildrenMap("name",S),this.addChildrenMap("value",n),this.addChildrenMap("bar",C),this.addChildrenMap("action",s),this.addChildrenMap("actionMask",o)},gK=function(e,t,i){return e.toString()};const mK=Phaser.Math.Clamp,xK={setValueTextFormatCallback(e,t){return this.valueTextFormatCallback=e,this.valueTextFormatCallbackScope=t,this},getFormatValueText(e,t,i){e===void 0&&(e=this.value),t===void 0&&(t=this.minValue),i===void 0&&(i=this.maxValue);var r;return this.valueTextFormatCallbackScope?r=this.valueTextFormatCallback(e,t,i):r=this.valueTextFormatCallback.call(this.valueTextFormatCallbackScope,e,t,i),r},updateValueText(e,t,i){var r=this.childrenMap.value;return r&&this.valueTextFormatCallback&&(r.setText(this.getFormatValueText(e,t,i)),r.layout&&r.layout()),this},setValue(e,t,i){return t===void 0?t=this.minValue:this.minValue=t,i===void 0?i=this.maxValue:this.maxValue=i,e=mK(e,t,i),this.value=e,this.updateValueText(e,t,i),this.setBarValue(e,t,i),this},setEaseValueDuration(e){return this.easeValueDuration=e,this},easeValueTo(e,t,i){return t===void 0?t=this.minValue:this.minValue=t,i===void 0?i=this.maxValue:this.maxValue=i,this.easeValueTask===void 0&&(this.easeValueTask=new yr(this),this.easeValueTask.on("update",function(){this.setValue(this.value,this.minValue,this.maxValue)},this)),this.easeValueTask.restart({key:"value",to:e,duration:this.easeValueDuration}),this}};class qc extends St{constructor(t,i){super(t,i),this.type="rexNameValueLabel",pK.call(this,t,i),this.setEaseValueDuration(1e3)}get nameText(){var t=this.childrenMap.name;return t===void 0?"":t.text}set nameText(t){var i=this.childrenMap.name;i!==void 0&&i.setText(t)}setNameText(t){return this.nameText=t,this}get valueText(){var t=this.childrenMap.value;return t===void 0?"":t.text}set valueText(t){var i=this.childrenMap.value;i!==void 0&&i.setText(t)}setValueText(t){return this.valueText=t,this}get barValue(){var t=this.childrenMap.bar;if(t!==void 0)return t.value}set barValue(t){var i=this.childrenMap.bar;i!==void 0&&i.setValue(t)}setBarValue(t,i,r){var g=this.childrenMap.bar;return g===void 0?this:(g.setValue(t,i,r),this)}easeBarValueTo(t,i,r){var g=this.childrenMap.bar;return g===void 0?this:(g.easeValueTo(t,i,r),this)}setTexture(t,i){var r=this.childrenMap.icon;if(r!==void 0)return r.setTexture(t,i),this}get texture(){var t=this.childrenMap.icon;if(t!==void 0)return t.texture}get frame(){var t=this.childrenMap.icon;if(t!==void 0)return t.frame}postLayout(t,i,r){var g=this.childrenMap.iconMask;g&&(g.setPosition(),this.resetChildPositionState(g));var S=this.childrenMap.actionMask;return S&&(S.setPosition(),this.resetChildPositionState(S)),super.postLayout(t,i,r),this}resize(t,i){super.resize(t,i);var r=this.childrenMap.iconMask;r&&r.resize();var g=this.childrenMap.actionMask;return g&&g.resize(),this}}Object.assign(qc.prototype,xK);st.register("nameValueLabel",function(e){var t=new qc(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.NameValueLabel",qc);class yK extends pw{constructor(t){super(),this.setTable(Bt(t,"table")),this.setMaxLevel(Bt(t,"maxLevel"));var i=Bt(t,"exp",0),r=Bt(t,"level",void 0);r!==void 0&&!this.checkLevel(r,i)&&(console.error(`Level ${r} and Exp ${i} are mismatch`),r=void 0),this.resetExp(i,r)}setTable(t){return this.levelTable=t,this.isLevelMapFunction=Es(t),this}setMaxLevel(t){t===void 0&&(Array.isArray(this.levelTable)?t=this.levelTable.length-1:t=-1);var i;return t!==-1?i=this.getExp(t):i=-1,this.hasMaxLevel=t!==-1,this.maxLevel=t,this.maxExp=i,this}resetExp(t,i){return this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),i===void 0&&(i=this.getLevel(t)),this._exp=t,this._level=i,this._requiredExp=this.getRequiredExpToNextLevel(i,t),this}get exp(){return this._exp}set exp(t){if(this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),t<this._exp){this.resetExp(t);return}if(t!==this._exp){for(var i=this.getLevel(t,this._level),r=this._level,g=this._exp,S;;){var n=this.getExp(r),C=this.getExp(r+1);if(S=Math.min(C,t),this.emit("levelup",r,g,S,n,C),r===i&&S===t)break;r++,g=C}this.resetExp(t,i)}}get level(){return this._level}set level(t){this.hasMaxLevel&&t>this.maxLevel?this.exp=this.maxExp:this.exp=this.getExp(t)}get requiredExp(){return this._requiredExp}getExp(t){return t===void 0?this._exp:this.isLevelMapFunction?this.levelTable(t):(this.hasMaxLevel&&t>this.maxLevel&&(t=this.maxLevel),this.levelTable[t])}getLevel(t,i){if(t===void 0)return this._level;for(i===void 0&&(i=0);;){var r=this.getExp(i+1);if(r>t||(i++,this.hasMaxLevel&&r===this.maxExp))break}return i}getRequiredExpToNextLevel(t,i){return t===void 0&&(t=this.level),i===void 0&&(i=this.exp),this.getExp(t+1)-i}checkLevel(t,i){return i>=this.getExp(t)&&i<this.getExp(t+1)}gainExp(t,i,r){return i&&this.on("levelup",i,r),this.exp+=t,i&&this.off("levelup",i,r),this}setExp(t,i,r){return i&&this.on("levelup",i,r),this.exp=t,i&&this.off("levelup",i,r),this}setLevel(t,i,r){return i&&this.on("levelup",i,r),this.level=t,i&&this.off("levelup",i,r),this}}var U0=function(e,t,i){var r=Bt(i,"reverse",!1),g;if(Ms(e[0]))if(r)for(var n=e.length,S=n-1;S>=0;S--)g=U0(e[S],t,i);else for(var S=0,n=e.length;S<n;S++)g=U0(e[S],t,i);else g=CK(e,t,i);return g},CK=function(e,t,i){var r=Bt(i,"argsConvert",void 0),g=Bt(i,"argsConvertScope",void 0),S=e[0];if(Nr=Vf(Nr,e,1),r){r===!0&&(r=tx,g=void 0);for(var n=0,C=Nr.length;n<C;n++)g?Nr[n]=r.call(g,Nr[n],e):Nr[n]=r(Nr[n],e)}var s;typeof S=="string"?(s=t[S],s==null&&(s=Bt(t,S,null))):s=S;var o=s.apply(t,Nr);return o},Nr=[];const us=Phaser.Utils.Objects.GetValue;class oA extends Qt{constructor(t,i){super(t,i);var r=us(i,"clock",void 0);r||(r=new lw(t)),this.clock=r,this.clock.on("update",this.update,this),this.commands=[],this.resetFromJSON(i)}resetFromJSON(t){return this.clock.resetFromJSON(us(t,"clock",void 0)),this.state=us(t,"state",0),this.commands=us(t,"commands",[]),this.scope=us(t,"scope",void 0),this.setTimeUnit(us(t,"timeUnit",0)),this.setDtMode(us(t,"dtMode",0)),this.index=us(t,"index",0),this.nextTime=us(t,"nextTime",0),this}toJSON(){return{clock:this.clock.toJSON(),state:this.state,commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,nextTime:this.nextTime}}shutdown(t){this.isShutdown||(this.clock.shutdown(t),this.commands=void 0,super.shutdown(t))}load(t,i,r){this.stop();var g=us(r,"timeUnit",void 0);g!==void 0&&this.setTimeUnit(g);var S=us(r,"dtMode",void 0);return S!==void 0&&this.setDtMode(S),t=t.filter(function(n){var C=n[0];return!isNaN(C)}).map(function(n){var C=n[0];return typeof C=="string"&&(n[0]=parseFloat(n[0])),n}),this.dtMode===0&&t.sort(function(n,C){var s=n[0],o=C[0];return s>o?1:s<o?-1:0}),Vf(this.commands,t),this.scope=i,this}clear(){return this.commands.length=0,this}append(t,i,...r){var g;return Array.isArray(i)?g=i:g=[i,...r],this.commands.push([t,g]),this}start(t){return t===void 0&&(t=0),this.stop(),this.index=0,this.state=1,this.nextTime=this.getNextDt(0),this.clock.start(t),this.update(t),this.emit("start",this.parent,this),this}pause(){return this.clock.pause(),this.emit("pause",this.parent,this),this}resume(){return this.clock.resume(),this.emit("resume",this.parent,this),this}stop(){return this.clock.stop(),this.state=0,this.emit("stop",this.parent,this),this}seek(t){return this.clock.seek(t),this}seekToNext(){return this.seek(this.nextTime),this}get isPlaying(){return this.clock.isRunning}get completed(){return this.state===2}get timeScale(){return this.clock.timeScale}set timeScale(t){this.clock.timeScale=t}setTimeScale(t){return this.timeScale=t,this}get now(){return this.clock.now}update(t){if(this.nextTime>t)return this;for(var i=this.commands;;){var r=i[this.index],g=r[1];if(Ms(g)||(g=Vf(TK,r,1)),U0(g,this.scope),this.emit("runcommand",g,this.scope),this.index>=i.length-1)return this.nextTime=0,this.complete(),this;if(this.index++,this.nextTime=this.getNextDt(this.nextTime),this.nextTime>t)return this}}complete(){this.clock.stop(),this.state=2,this.emit("complete",this.parent,this)}getNextDt(t){var i=this.commands[this.index][0];return this.timeUnit===1&&(i=i*1e3),this.dtMode===1&&(i+=t),i}setDtMode(t){return typeof t=="string"&&(t=PK[t]),this.dtMode=t,this}setTimeUnit(t){return typeof t=="string"&&(t=SK[t]),this.timeUnit=t,this}}var TK=[];const SK={ms:0,s:1,sec:1},PK={abs:0,absolute:0,inc:1,increment:1};var EK=function(e,t,i,r,g){var S=(i-t)/(g-r)*this.totalEaseDuration,n=i===g?e+1:e;this.player.append(0,this.setEaseValueDuration,S).append(0,this.easeValueTo,i,r,g).append(0,this.emit,"levelup.start",e,t,i,this).append(S,Ee).append(0,this.emit,"levelup.end",n,t,i,this),this.player.isPlaying||this.player.start()};const MK={setExpTable(e){return this.levelCounter.setTable(e),this},resetExp(e){return this.levelCounter.resetExp(e),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1)),this},getExp(e){return this.levelCounter.getExp(e)},getLevel(e,t){return this.levelCounter.getLevel(e,t)},getRequiredExpToNextLevel(e,t){return this.levelCounter.getRequiredExpToNextLevel(e,t)},gainExp(e){return this.levelCounter.gainExp(e),this},setExp(e){return this.levelCounter.setExp(e),this},setLevel(e){return this.levelCounter.setLevel(e),this}},US=Phaser.Utils.Objects.GetValue;class ny extends qc{constructor(t,i){super(t,i),this.type="rexExpBar",this.setTotalEaseDuration(US(i,"easeDuration",1e3)),this.levelCounter=new yK(US(i,"levelCounter")),this.player=new oA(this,{scope:this,dtMode:1}),this.levelCounter.on("levelup",EK,this),this.player.on("complete",function(){this.player.clear(),this.emit("levelup.complete",this.level,this)},this),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1))}destroy(t){!this.scene||this.ignoreDestroy||(this.levelCounter.destroy(),this.levelCounter=void 0,this.player.destroy(),this.player=void 0,super.destroy(t))}get exp(){return this.levelCounter.exp}set exp(t){this.levelCounter.exp=t}get level(){return this.levelCounter.level}set level(t){this.levelCounter.level=t}get requiredExp(){return this.levelCounter.requiredExp}setTotalEaseDuration(t){return this.totalEaseDuration=t,this}}Object.assign(ny.prototype,MK);st.register("expBar",function(e){var t=new ny(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ExpBar",ny);const Fd=St.prototype.add,XS=St.prototype.addSpace;var hg=function(e){var t=!e.isRexSpace,i=!t||this.buttonsExpand?1:0;if(this.sizerChildren.length===0)if(t){var r=!this.buttonsExpand&&(this.buttonsAlign==="right"||this.buttonsAlign==="center"||this.buttonsAlign==="bottom");r&&XS.call(this),Fd.call(this,e,{proportion:i,expand:!0});var g=!this.buttonsExpand&&this.buttonsAlign==="center";g&&XS.call(this),this.hasTailSpace=g}else Fd.call(this,e,{proportion:i,expand:!0}),this.hasTailSpace=!1;else if(this.hasTailSpace){var S=this.sizerChildren.length-1;Fd.call(this,e,{index:S,proportion:i,expand:!0})}else Fd.call(this,e,{proportion:i,expand:!0});return t&&this.buttonGroup.add(e),this};const wK={addButton(e){if(Ms(e))for(var t=e,i=0,r=t.length;i<r;i++)hg.call(this,t[i]);else hg.call(this,e);return this},addButtons(e){for(var t=0,i=e.length;t<i;t++)hg.call(this,e[t]);return this}},RK=St.prototype.remove,AK=St.prototype.clear;var lg=function(e,t){return this.getParentSizer(e)!==this?this:(this.buttonGroup.remove(e),RK.call(this,e,t),this)};const LK={remove(e,t){if(Ms(e))for(var i=e,r=0,g=i.length;r<g;r++)lg.call(this,i[r],t);else lg.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,AK.call(this,e),this},removeButton(i,t){var i=this.getButton(i);return i?(this.remove(i,t),this):this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)lg.call(this,t[i],e);return this}};var OK=function(e,t,i){if(e){var r=this.setValueCallback,g=this.setValueCallbackScope;r&&(g?r.call(g,e,t,i):r(e,t,i)),this.fireEvent("button.statechange",e,t,i)}},FK=function(e){var t=this;e._selected=void 0,Object.defineProperty(e,"selected",{get:function(){return e._selected},set:function(i){if(e._selected!==i){var r=e._selected;e._selected=i,OK.call(t,e,i,r)}},enumerable:!0,configurable:!0}),e.selected=!1};const bK={add(e){return this.buttons.push(e),e._click||(e._click=new Pr(e,this.clickConfig),e._click.on("click",function(t,i,r,g){this.fireEvent("button.click",i,r,g)},this).on("enable",function(t,i){this.fireEvent("button.enable",i)},this).on("disable",function(t,i){this.fireEvent("button.disable",i)},this).on("over",function(t,i,r,g){this.fireEvent("button.over",i,r,g)},this).on("out",function(t,i,r,g){this.fireEvent("button.out",i,r,g)},this).on("down",function(t,i,r,g){this.fireEvent("button.down",i,r,g)},this).on("up",function(t,i,r,g){this.fireEvent("button.up",i,r,g)},this),e.isRexContainerLite&&e.sendChildToBack(e)),this.buttonsType&&(e.name===void 0&&console.error(`${this.parent.constructor.name}: Option button miss value`),FK.call(this,e)),this},addMultiple(e){for(var t=0,i=e.length;t<i;t++)this.add(e[t]);return this}},DK=Phaser.Utils.Array.Remove,BK={remove(e){return this.buttonsType&&delete e.selected,DK(this.buttons,e),this},clear(){if(this.buttonsType)for(var e=this.buttons,t=0,i=e.length;t<i;t++)delete e[t].selected;return this.buttons.length=0,this}};var IK=function(e,t,...i){if(this.buttons){var r;if(typeof t=="number"){if(r=t,t=this.buttons[r],!t)return}else if(r=this.buttons.indexOf(t),r===-1)return;this.eventEmitter!==this.parent&&this.parent.emit(e,t,r,...i),this.groupName!==void 0?this.eventEmitter.emit(e,t,this.groupName,r,...i):this.eventEmitter.emit(e,t,r,...i)}};const bh=Phaser.Utils.Objects.GetValue,GK={setButtonsType(e){e===void 0&&(e={});var t=bh(e,"buttonsType",e.type);if(this.buttonsType=t,!this.buttonsType)return this;var i,r;switch(i=bh(e,"setValueCallback",void 0),r=bh(e,"setValueCallbackScope",void 0),i===void 0&&(i=bh(e,"setButtonStateCallback",void 0),r=bh(e,"setButtonStateCallbackScope",void 0)),this.setValueCallback=i,this.setValueCallbackScope=r,t){case"radio":this.setRadioType();break;case"checkboxes":this.setCheckboxesType();break}return this},setRadioType(){var e=this.parent,t=this.buttons;e._value=void 0;var i=void 0;return Object.defineProperty(e,"value",{get:function(){return e._value},set:function(r){if(e._value!==r){e._value=r;for(var g=0,S=t.length;g<S;g++){var n=t[g];n.rexSizer.hidden||(i===void 0?n.name===r?n.selected=!0:n.selected=!1:i===g?n.selected=!0:n.selected=!1)}}},enumerable:!0,configurable:!0}),e.on("button.click",function(r){i=this.buttons.indexOf(r),e.value=r.name,i=void 0},this),this},setCheckboxesType(){var e=this.parent;return e.on("button.click",function(t){t.selected=!t.selected}),this},clearAllButtonsState(){for(var e=this.buttons,t=0,i=e.length;t<i;t++){var r=e[t];r.selected=!1}return this},getAllButtonsState(){for(var e={},t=this.buttons,i=0,r=t.length;i<r;i++){var g=t[i];g.rexSizer.hidden||(e[g.name]=g.selected)}return e},setSelectedButtonName(e){return this.parent.value=e,this},getSelectedButtonName(){return this.parent.value},setButtonState(e,t){t===void 0&&(t=!0);for(var i=this.buttons,r=0,g=i.length;r<g;r++){var S=i[r];if(!S.rexSizer.hidden&&S.name===e){S.selected=t;break}}return this},getButtonState(e){for(var t=this.buttons,i=0,r=t.length;i<r;i++){var g=t[i];if(!g.rexSizer.hidden&&g.name===e)return g.selected}}};var kK=function(e,t){if(e)if(Ms(e)){for(var i,r=0,g=e.length;r<g;r++)if(i=WS(e[r],t),i)return i}else{var i;for(var S in e)if(i=WS(e[S],t),i)return i}else return null},WS=function(e,t){return e?e.hasOwnProperty("name")?e.name===t?e:null:GetElementByName(e,t):null};const _c={getButton(e){var t=this.buttons,i,r=typeof e;switch(r){case"number":i=t[e];break;case"string":i=kK(t,e);break;default:i=e,t.indexOf(i)===-1&&(i=void 0);break}return i},getButtons(){return this.buttons},hasAnyButton(){return this.buttons.length>0},setButtonEnable(e,t){var i=this.buttons;if(e===void 0||typeof e=="boolean"){t=e;for(var r=0,g=i.length;r<g;r++)i[r]._click.setEnable(t)}else this.getButton(e)._click.setEnable(t);return this},toggleButtonEnable(e){var t=this.buttons;if(e===void 0||typeof e=="boolean")for(var i=0,r=t.length;i<r;i++)t[i]._click.toggleEnable();else this.getButton(e)._click.toggleEnable();return this},getButtonEnable(e){return e===void 0&&(e=0),this.getButton(e)._click.enable},emitButtonClick(e){var t=this.buttonGroup?this.buttonGroup:this;return t.fireEvent("button.click",e),this},emitButtonOver(e){for(var t=this.buttonGroup?this.buttonGroup:this,i=this.buttons,r=0,g=i.length;r<g;r++){var S=i[r];S._click.isOver&&(S._click.isOver=!1,t.fireEvent("button.out",S))}var S=this.getButton(e);return S&&(S._click.isOver=!0,t.fireEvent("button.over",S)),this},showButton(e){return jr(this.getButton(e)),this},hideButton(e){return qr(this.getButton(e)),this},isButtonShown(e){return Dx(this.getButton(e)),this},forEachButtton(e,t){for(var i=this.buttons,r=0,g=i.length;r<g;r++)t?e.call(t,i[r],r,i):e(i[r],r,i);return this}};class tv{constructor(t){this.parent=t.parent,this.eventEmitter=t.eventEmitter,this.groupName=t.groupName,this.clickConfig=t.clickConfig,this.buttonsType=void 0,this.buttons=[]}destroy(){this.parent=void 0,this.eventEmitter=void 0,this.clickConfig=void 0,this.buttons=void 0}}var NK={fireEvent:IK};Object.assign(tv.prototype,bK,BK,GK,_c,NK);const ay={clearAllButtonsState(){return this.buttonGroup.clearAllButtonsState(),this},getAllButtonsState(){return this.buttonGroup.getAllButtonsState()},setSelectedButtonName(e){return this.buttonGroup.setSelectedButtonName(e),this},getSelectedButtonName(){return this.buttonGroup.getSelectedButtonName()},setButtonState(e,t){return this.buttonGroup.setButtonState(e,t),this},getButtonState(e){return this.buttonGroup.getButtonState(e)}},Wn=Phaser.Utils.Objects.GetValue;let Fe=class extends St{constructor(t,i){i===void 0&&(i={});var r=i.space;typeof r=="number"&&(i.space={item:r}),super(t,i),this.type="rexButtons",this.buttonGroup=new tv({parent:this,eventEmitter:Wn(i,"eventEmitter",this),groupName:Wn(i,"groupName",void 0),clickConfig:Wn(i,"click",void 0)}).setButtonsType(i);var g=Wn(i,"background",void 0),S=Wn(i,"buttons",void 0);this.buttonsExpand=Wn(i,"expand",!1),this.buttonsAlign=Wn(i,"align",void 0),g&&this.addBackground(g),S&&this.addButtons(S),this.addChildrenMap("background",g),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}};Object.assign(Fe.prototype,wK,LK,_c,ay);st.register("buttons",function(e){var t=new Fe(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Buttons",Fe);const zK=Rs.prototype.add,VK={addButton(e,t,i){return zK.call(this,e,t,i,void 0,0,this.buttonsExpand),this.buttonGroup.add(e),this},addButtons(e,t){for(var i=0,r=e;i<r;i++)this.addButton(e[i],void 0,t);return this}},UK=Rs.prototype.remove,XK=Rs.prototype.clear;var ug=function(i,t){var i=this.getButton(i);return i?(this.buttonGroup.remove(i),UK.call(this,i,t),this):this};const WK={remove(e,t){if(Ms(e))for(var i=e,r=0,g=i.length;r<g;r++)ug.call(this,i[r],t);else ug.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,XK.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)ug.call(this,t[i],e);return this}},Gs=Phaser.Utils.Objects.GetValue;class ev extends Rs{constructor(t,i){i===void 0&&(i={});var r=Gs(i,"row",0),g=Gs(i,"column",i.col||0),S=Gs(i,"createCellContainerCallback"),n=Gs(i,"buttons",void 0),C=Gs(i,"expand",!0),s=C?1:0;if(S&&(i.createCellContainerCallback=void 0),n!==void 0){r=Math.max(r,n.length);for(var o=0,y=n.length;o<y;o++)g=Math.max(g,n[o].length)}i.row=r,i.column=g,i.columnProportions=s,i.rowProportions=s,super(t,i),this.type="rexGridButtons",this.buttonGroup=new tv({parent:this,eventEmitter:Gs(i,"eventEmitter",this),groupName:Gs(i,"groupName",void 0),clickConfig:Gs(i,"click",void 0)}).setButtonsType(i);var f=Gs(i,"background",void 0);if(this.buttonsExpand=C,Gs(i,"space",void 0),f&&this.addBackground(f),n)for(var u,l,a=0,d=n.length;a<d;a++){u=n[a];for(var v=0,h=u.length;v<h;v++)l=u[v],l&&this.addButton(l,v,a)}else if(S)for(var c=0;c<r;c++)for(var p=0;p<g;p++){var l=S(t,p,c);l&&this.addButton(l,p,c)}this.addChildrenMap("background",f),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(ev.prototype,VK,WK,_c,ay);st.register("gridButtons",function(e){var t=new ev(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.GridButtons",ev);const hA=wn.prototype.add;var bd=function(e){return hA.call(this,e),this.buttonGroup.add(e),this};const YK={addButton(e){if(Ms(e))for(var t=e,i=0,r=t.length;i<r;i++)bd.call(this,t[i]);else bd.call(this,e);return this},addButtons(e){if(Ms(e[0]))for(var t=e,i,r=0,g=t.length-1;r<=g;r++){i=t[r];for(var S=0,n=i.length;S<n;S++)bd.call(this,i[S]);r>g&&hA.addNewLine(this)}else for(var S=0,n=e.length;S<n;S++)bd.call(this,e[S]);return this}},HK=wn.prototype.remove,$K=wn.prototype.clear;var dg=function(i,t){var i=this.getButton(i);return i?(this.buttonGroup.remove(i),HK.call(this,i,t),this):this};const KK={remove(e,t){if(Ms(e))for(var i=e,r=0,g=i.length;r<g;r++)dg.call(this,i[r],t);else dg.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,$K.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)dg.call(this,t[i],e);return this}},Qa=Phaser.Utils.Objects.GetValue;class mn extends wn{constructor(t,i){i===void 0&&(i={});var r=i.space;typeof r=="number"&&(i.space={item:r,line:r}),super(t,i),this.type="rexFixWidthButtons",this.buttonGroup=new tv({parent:this,eventEmitter:Qa(i,"eventEmitter",this),groupName:Qa(i,"groupName",void 0),clickConfig:Qa(i,"click",void 0)}).setButtonsType(i);var g=Qa(i,"background",void 0),S=Qa(i,"buttons",void 0);this.buttonsAlign=Qa(i,"align",void 0),g&&this.addBackground(g),S&&this.addButtons(S),this.addChildrenMap("background",g),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(mn.prototype,YK,KK,_c,ay);st.register("fixWidthButtons",function(e){var t=new mn(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.FixWidthButtons",mn);const ZK={setAccept(e){return this.childrenMap.fileChooser.setAccept(e),this},setMultiple(e){return this.childrenMap.fileChooser.setMultiple(e),this},loadFile(e,t,i,r,g){return this.childrenMap.fileChooser.loadFile(e,t,i,r,g),this},loadFilePromise(e,t,i,r){return this.childrenMap.fileChooser.loadFilePromise(e,t,i,r)}},YS=Phaser.Utils.Objects.GetValue;class oy extends wr{constructor(t,i){super(t,i),this.type="rexFileSelectorButton";var r=new iu(t);t.add.existing(r),this.addBackground(r),this.addChildrenMap("fileChooser",r),this.setAccept(YS(i,"accept","")),this.setMultiple(YS(i,"multiple",!1)),r.on("change",function(g){var S=g.files;S.length!==0&&(S=Array.from(S),this.emit("select",S,this))},this)}get files(){return this.childrenMap.fileChooser.files}}Object.assign(oy.prototype,ZK);st.register("fileSelectorButton",function(e){var t=new oy(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.FileSelectorButton",oy);const JK={getChoice(e){var t=this.childrenMap.choicesSizer;if(t)return t.getButton(e)},getAction(e){return this.childrenMap.actionsSizer.getButton(e)},getToolbar(e){return this.childrenMap.toolbarSizer.getButton(e)},getLeftToolbar(e){return this.childrenMap.leftToolbarSizer.getButton(e)},setChoiceEnable(e,t){var i=this.childrenMap.choicesSizer;return i&&i.setButtonEnable(e,t),this},setActionEnable(e,t){return this.childrenMap.actionsSizer.setButtonEnable(e,t),this},setToolbarEnable(e,t){return this.childrenMap.toolbarSizer.setButtonEnable(e,t),this},setLeftToolbarEnable(e,t){return this.childrenMap.leftToolbarSizer.setButtonEnable(e,t),this},toggleChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t&&t.toggleButtonEnable(e),this},toggleActionEnable(e){return this.childrenMap.actionsSizer.toggleButtonEnable(e),this},toggleToolbarEnable(e){return this.childrenMap.toolbarSizer.toggleButtonEnable(e),this},toggleLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.toggleButtonEnable(e),this},getChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t?t.getButtonEnable(e):!1},getActionEnable(e){return this.childrenMap.actionsSizer.getButtonEnable(e)},getToolbarEnable(e){return this.childrenMap.toolbarSizer.getButtonEnable(e)},getLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.getButtonEnable(e)},emitChoiceClick(e){var t=this.childrenMap.choicesSizer;return t&&t.emitButtonClick(e),this},emitActionClick(e){return this.childrenMap.actionsSizer.emitButtonClick(e),this},emitToolbarClick(e){return this.childrenMap.toolbarSizer.emitButtonClick(e),this},emitLeftToolbarClick(e){return this.childrenMap.leftToolbarSizer.emitButtonClick(e),this},showChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.showButton(e),this},showAction(e){return this.childrenMap.actionsSizer.showButton(e),this},showToolbar(e){return this.childrenMap.toolbarSizer.showButton(e),this},showLeftToolbar(e){return this.childrenMap.leftToolbarSizer.showButton(e),this},hideChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.hideButton(e),this},hideAction(e){return this.childrenMap.actionsSizer.hideButton(e),this},hideToolbar(e){return this.childrenMap.toolbarSizer.hideButton(e),this},hideLeftToolbar(e){return this.childrenMap.leftToolbarSizer.hideButton(e),this},addChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.addButton(e),this},addAction(e){return this.childrenMap.actionsSizer.addButton(e),this},addToolbar(e){return this.childrenMap.toolbarSizer.addButton(e),this},addLeftToolbar(e){return this.childrenMap.leftToolbarSizer.addButton(e),this},removeChoice(e,t){var i=this.childrenMap.choicesSizer;return i&&i.removeButton(e,t),this},removeAction(e,t){return this.childrenMap.actionsSizer.removeButton(e,t),this},removeToolbar(e,t){return this.childrenMap.toolbarSizer.removeButton(e,t),this},removeLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.removeButton(e,t),this},clearChoices(e){var t=this.childrenMap.choicesSizer;return t&&t.clearButtons(e),this},clearActions(e){return this.childrenMap.actionsSizer.clearButtons(e),this},clearToolbar(e){return this.childrenMap.toolbarSizer.clearButtons(e),this},clearLeftToolbar(e){return this.childrenMap.leftToolbarSizer.clearButtons(e),this},forEachChoice(e,t){var i=this.childrenMap.choicesSizer;return i&&i.forEachButtton(e,t),this},forEachAction(e,t){return this.childrenMap.actionsSizer.forEachButtton(e,t),this},forEachToolbar(e,t){return this.childrenMap.toolbarSizer.forEachButtton(e,t),this},forEachLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.forEachButtton(e,t),this},setAllButtonsEnable(e){return e===void 0&&(e=!0),this.childrenMap.toolbarSizer&&this.setToolbarEnable(e),this.childrenMap.leftToolbarSizer&&this.setLeftToolbarEnable(e),this.childrenMap.actionsSizer&&this.setActionEnable(e),this.childrenMap.choicesSizer&&this.setChoiceEnable(e),this},getChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e?e.getAllButtonsState():{}},getChoicesButtonState(e){var t=this.childrenMap.choicesSizer;return e===void 0?t?t.getAllButtonsState():{}:t?t.getButtonState(e):!1},setChoicesButtonState(e,t){var i=this.childrenMap.choicesSizer;return i&&i.setButtonState(e,t),this},clearChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e&&e.clearAllButtonsState(),this},getChoicesSelectedButtonName(){var e=this.childrenMap.choicesSizer;return e?e.getSelectedButtonName():""},setChoicesSelectedButtonName(e){var t=this.childrenMap.choicesSizer;return t&&t.setSelectedButtonName(e),this},hasAnyChoice(){var e=this.childrenMap.choicesSizer;return e?e.hasAnyButton():!1},hasAnyAction(){var e=this.childrenMap.actionsSizer;return e?e.hasAnyButton():!1},hasAnyToolbar(){var e=this.childrenMap.toolbarSizer;return e?e.hasAnyButton():!1},hasAnyLeftToolbar(){var e=this.childrenMap.leftToolbarSizer;return e?e.hasAnyButton():!1}},QK={onCreateModalBehavior(e){e.on("button.click",function(t,i,r,g,S){var n=!1;switch(i){case"actions":n=!0;break;case"choices":e.hasAnyAction()||(n=!0);break}if(n){var C={index:r,text:t.text,button:t,dialog:e};switch(e.buttonsType){case"radio":C.value=e.getChoicesSelectedButtonName();break;case"checkboxes":C.value=e.getChoicesButtonStates();break;default:C.value=void 0}e.modalClose(C)}})},modal(e,t){return e&&e.defaultBehavior===!1?this.onCreateModalBehavior=!1:delete this.onCreateModalBehavior,Ic.modal.call(this,e,t),this}};var lA={};Object.assign(lA,JK,QK);const ft=Phaser.Utils.Objects.GetValue;class uu extends St{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexDialog",this.eventEmitter=ft(i,"eventEmitter",this);var r=ft(i,"background",void 0),g=ft(i,"title",void 0),S=ft(i,"toolbar",void 0),n=ft(i,"toolbarBackground",void 0),C=ft(i,"leftToolbar",void 0),s=ft(i,"leftToolbarBackground",void 0),o=ft(i,"content",void 0),y=ft(i,"description",void 0),f,u=ft(i,"choices",void 0),l=ft(i,"choicesBackground",void 0),a,d=ft(i,"actions",void 0),v=ft(i,"actionsBackground",void 0),h=ft(i,"click",void 0);r&&this.addBackground(r);var c;S&&(c=new Fe(t,{groupName:"toolbar",background:n,buttons:S,orientation:0,space:{item:ft(i,"space.toolbarItem",0)},click:h,eventEmitter:this.eventEmitter}),t.add.existing(c));var p;if(C&&(p=new Fe(t,{groupName:"leftToolbar",background:s,buttons:C,orientation:0,space:{item:ft(i,"space.leftToolbarItem",0)},click:h,eventEmitter:this.eventEmitter}),t.add.existing(p)),g||S||C){var m=!!g&&ft(i,"expand.title",!0),x=ft(i,"align.title","center"),T=g&&!m&&x==="center"||!g&&(S||C),P=!T,M;P?M=new St(t,{orientation:0}):M=new ss(t),t.add.existing(M);var E=P?!0:{height:!0};if(p&&M.add(p,{align:"left",expand:E}),g){P&&!m&&x==="right"&&M.addSpace();var w={left:ft(i,"space.titleLeft",0),right:ft(i,"space.titleRight",0)},R=m?1:0;M.add(g,{align:x,proportion:R,expand:E,padding:w}),P&&!m&&x==="left"&&M.addSpace()}c&&(P&&!g&&M.addSpace(),M.add(c,{align:"right",expand:E}));var w;(o||y||u||d)&&(w={bottom:ft(i,"space.title",0),top:ft(i,"space.titleTop",0)});var R=ft(i,"proportion.title",0);this.add(M,{padding:w,proportion:R,expand:!0})}if(o){var A=ft(i,"align.content","center"),L=ft(i,"space.content",0),w={left:ft(i,"space.contentLeft",0),right:ft(i,"space.contentRight",0),bottom:y||u||d?L:0},R=ft(i,"proportion.content",0),b=ft(i,"expand.content",!0);this.add(o,{align:A,padding:w,proportion:R,expand:b})}if(y){var A=ft(i,"align.description","center"),O=ft(i,"space.description",0),w={left:ft(i,"space.descriptionLeft",0),right:ft(i,"space.descriptionRight",0),bottom:u||d?O:0},R=ft(i,"proportion.description",0),b=ft(i,"expand.description",!0);this.add(y,{align:A,padding:w,proportion:R,expand:b})}if(u){var F=ft(i,"choicesType","").split("-"),D=Dh(F,"wrap")?mn:Dh(F,"grid")?ev:Fe,B=Dh(F,"radio")?"radio":Dh(F,"checkboxes")?"checkboxes":void 0,N={left:ft(i,"space.choicesBackgroundLeft",0),right:ft(i,"space.choicesBackgroundRight",0),top:ft(i,"space.choicesBackgroundTop",0),bottom:ft(i,"space.choicesBackgroundBottom",0)},z=ft(i,"space.choice",0);D===Fe?N.item=z:D===mn?(N.item=z,N.line=ft(i,"space.choiceLine",z)):(N.column=ft(i,"space.choiceColumn",z),N.row=ft(i,"space.choiceRow",z));var W={width:ft(i,"choicesWidth",void 0),height:ft(i,"choicesHeight",void 0),groupName:"choices",buttonsType:B,background:l,buttons:u,space:N,click:h,eventEmitter:this.eventEmitter,setValueCallback:ft(i,"choicesSetValueCallback",void 0),setValueCallbackScope:ft(i,"choicesSetValueCallbackScope",void 0)};D===Fe&&(W.orientation=Dh(F,"x")?0:1),f=new D(t,W),t.add.existing(f);var X=ft(i,"space.choices",0),w={left:ft(i,"space.choicesLeft",0),right:ft(i,"space.choicesRight",0),bottom:d?X:0},A=ft(i,"align.choices","center"),R=ft(i,"proportion.choices",0),b=ft(i,"expand.choices",!0);this.add(f,{align:A,padding:w,proportion:R,expand:b}),this.buttonsType=B}if(d){a=new Fe(t,{groupName:"actions",background:v,buttons:d,orientation:0,space:{item:ft(i,"space.action",0)},expand:ft(i,"expand.actions",!1),align:ft(i,"align.actions","center"),click:h,eventEmitter:this.eventEmitter}),t.add.existing(a);var w={left:ft(i,"space.actionsLeft",0),right:ft(i,"space.actionsRight",0),bottom:ft(i,"space.actionsBottom",0)},R=ft(i,"proportion.action",0);this.add(a,{align:"center",padding:w,proportion:R,expand:!0})}Bh(this,"click"),Bh(this,"over"),Bh(this,"out"),Bh(this,"enable"),Bh(this,"disable"),this.addChildrenMap("background",r),this.addChildrenMap("title",g),this.addChildrenMap("toolbar",S),this.addChildrenMap("leftToolbar",C),this.addChildrenMap("content",o),this.addChildrenMap("description",y),this.addChildrenMap("choices",f?f.buttons:void 0),this.addChildrenMap("actions",a?a.buttons:void 0),this.addChildrenMap("choicesSizer",f),this.addChildrenMap("actionsSizer",a),this.addChildrenMap("toolbarSizer",c),this.addChildrenMap("leftToolbarSizer",p)}}var Dh=function(e,t){return e.indexOf(t)!==-1},HS={actions:"action",choices:"choice",toolbar:"toolbar",leftToolbar:"leftToolbar"},Bh=function(e,t){e.on(`button.${t}`,function(i,r,g,S,n){HS.hasOwnProperty(r)&&e.emit(`${HS[r]}.${t}`,i,g,S,n)})};Object.assign(uu.prototype,lA);st.register("dialog",function(e){var t=new uu(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Dialog",uu);var be=function(e,t,i){var r=new lu(e,t,i);return e.add.existing(r),r},jK=function(e){return e===void 0&&(e={}),qK.call(this,e),_K.call(this,e),tZ.call(this,e),eZ.call(this,e),this},qK=function(e){var t=this.childrenMap.title;e=e.title,e===null?t.hide():(t.show(),t.resetDisplayContent(e))},_K=function(e){var t=this.childrenMap.content;if(e=e.content,e===null)t.hide();else if(t.show(),t.resetDisplayContent)t.resetDisplayContent(e);else{var i=e||"";t.setText(i)}},tZ=function(e){var t=this.childrenMap.actions;if(t){var i=e.buttons;if(i){for(var S=this.scene,n=this.defaultActionConfig,C=this.defaultActionButtonCreator,s=0,o=i.length;s<o;s++){var y=i[s],f=t[s];f||(f=be(S,n,C),this.addAction(f)),f.show().resetDisplayContent(y)}this.buttonMode=i.length;for(var s=i.length,o=t.length;s<o;s++)t[s].hide()}else{var r=t[0];r&&(e.buttonA===null?r.hide():(r.show(),r.resetDisplayContent(e.buttonA)));var g=t[1];g&&(e.buttonB===null?g.hide():(g.show(),g.resetDisplayContent(e.buttonB)))}}},eZ=function(e){var t=this.childrenMap.choices;if(t){var i=e.choices;i||(i=[]);for(var r=this.scene,g=this.defaultChoiceConfig,S=this.defaultActionButtonCreator,n=0,C=i.length;n<C;n++){var s=i[n];typeof s=="string"&&(s={text:s});var o=t[n];o||(o=be(r,g,S),this.addChoice(o)),o.show().resetDisplayContent(s);var y;s.hasOwnProperty("value")?y=s.value:y=s.text,o.setName(y)}for(var n=i.length,C=t.length;n<C;n++)t[n].hide()}};const iZ=Phaser.Utils.Objects.Merge;var sZ=function(e,t){Es(e)&&(t=e,e=void 0),e===void 0&&(e={}),e=iZ(e,this.modalStyle);var i;this.buttonMode===0?this.hasAnyChoice()?i=!1:i=!0:i=!1,e.hasOwnProperty("anyTouchClose")||(e.anyTouchClose=i),e.hasOwnProperty("manualClose")||(e.manualClose=!i);var r=this,g=function(S){var n=S.index;n===r.confirmButtonIndex?r.emit("confirm",S):n===r.cancelButtonIndex&&r.emit("cancel",S),t&&t(S)};return Ic.modal.call(this,e,g),this};const rZ={setConfirmButtonIndex(e){return this.confirmButtonIndex=e,this},setCancelButtonIndex(e){return this.cancelButtonIndex=e,this}};var uA={resetDisplayContent:jK,modal:sZ};Object.assign(uA,rZ);var nZ=function(e){e.setHoverState&&e.setHoverState(!0)},aZ=function(e){e.setHoverState&&e.setHoverState(!1)},oZ=function(e,t,i,r){e.setActiveState&&e.setActiveState(r)},hZ=function(e){e.setDisableState&&e.setDisableState(!1)},lZ=function(e){e.setDisableState&&e.setDisableState(!0)},dA=function(){this.on("button.over",nZ).on("button.out",aZ).on("button.enable",hZ).on("button.disable",lZ).on("button.statechange",oZ)};const uZ=Phaser.Utils.Objects.GetValue;var dZ=function(e,t,i){var r=uZ(t,"$type");r===void 0&&t&&(t.hasOwnProperty("slider")||t.hasOwnProperty("scroller"))&&(r="textarea");var g;switch(r){case"textarea":g=new rA(e,t,i);break;default:g=new be(e,t,i);break}return e.add.existing(g),g};const fg=Phaser.Utils.Objects.GetValue;class iv extends uu{constructor(t,i,r){i=i?Be(i):{},r===void 0&&(r={});var g=fg(r,"background",Me);i.background=g(t,i.background),i.title=be(t,i.title,r.title),i.content=dZ(t,i.content,r.content),i.content instanceof hu&&ar(i,"height")&&!ar(i,"proportion.content")&&et(i,"proportion.content",1);var S=i.button,n=i.buttonA||S,C=i.buttonB||S,s=i.buttonMode;s===void 0&&(s=n&&C?2:n?1:0);var o=r.button,y=r.buttonA||o,f=r.buttonB||o;switch(s){case 2:i.actions=[be(t,n,y),be(t,C,f)];break;case 1:i.actions=[be(t,n,y)];break;case 0:break;default:i.actions=[];break}var u=i.choice;u&&(i.choices=[]),super(t,i),this.type="rexConfirmDialog",this.buttonMode=s,this.defaultActionConfig=S,this.defaultActionButtonCreator=o,this.defaultChoiceConfig=u,this.defaultChoiceCreator=r.choice;var l=this.childrenMap.actions;this.addChildrenMap("buttonA",l?l[0]:null),this.addChildrenMap("buttonB",l?l[1]:null),dA.call(this),this.setConfirmButtonIndex(fg(i,"confirmButtonIndex",0)),this.setCancelButtonIndex(fg(i,"cancelButtonIndex",1)),this.modalStyle=i.modal||{}}}Object.assign(iv.prototype,uA);st.register("confirmDialog",function(e,t){var i=new iv(this.scene,e,t);return this.scene.add.existing(i),i});et(window,"RexPlugins.UI.ConfirmDialog",iv);const $S=Phaser.Utils.Objects.GetValue;var fA=function(e,t){var i=t.dialog,r=!i;if(r){var g=t.style;g.buttonMode=2,i=new iv(e,g,t.creators),e.add.existing(i)}i.setConfirmButtonIndex($S(t,"confirmButtonIndex",0)).setCancelButtonIndex($S(t,"cancelButtonIndex",1)).resetDisplayContent(t.content).layout(),r&&t.onCreateDialog&&t.onCreateDialog(i);var S=t.modal;S&&!S.hasOwnProperty("destroy")&&(S.destroy=r);var n=t.confirm,C=t.cancel,s=t.confirmScope,o=t.cancelScope;n&&i.once("confirm",n,s),C&&i.once("cancel",C,o);var y=function(f){i.off("confirm",n,s),i.off("cancel",C,o)};return i.modal(S,y),i};class cA extends wr{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexConfirmActionButton",this.setConfirmDialogEnable(),this.confirmActionConfig=Ps(i.confirmDialog||{}),i.confirm&&this.setConfirmCallback(i.confirm,i.confirmScope),i.cancel&&this.setCancelCallback(i.cancel,i.cancelScope),this.onClickCallback=function(){if(this.confirmDialogEnable){if(this.confirmDialog)return;this.confirmDialog=fA(t,this.confirmActionConfig),this.confirmDialog.once("destroy",function(){this.confirmDialog=void 0},this)}else this.runConfirmCallback()},this.onClick(this.onClickCallback,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.confirmDialog&&this.confirmDialog.destroy(),super.destroy(t),this.confirmActionConfig=void 0,this.onClickCallback=void 0,this.confirmDialog=void 0)}setConfirmCallback(t,i){return this.confirmActionConfig.confirm=t,this.confirmActionConfig.confirmScope=i,this}setCancelCallback(t,i){return this.confirmActionConfig.cancel=t,this.confirmActionConfig.cancelScope=i,this}setConfirmDialogContent(t){return this.confirmActionConfig.content=t,this}setConfitmDialogStyle(t){return this.confirmActionConfig.style=t,this}setConfitmDialogModalConfig(t){return this.confirmActionConfig.modal=t,this}setConfirmDialogEnable(t){return t===void 0&&(t=!0),this.confirmDialogEnable=t,this}runConfirmCallback(){var t=this.confirmActionConfig.confirm,i=this.confirmActionConfig.confirmScope;return t&&t.call(i),this}}st.register("confirmActionButton",function(e){var t=new cA(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ConfirmActionButton",cA);var fZ=function(e){return e===void 0&&(e={}),cZ.call(this,e),vZ.call(this,e),pZ.call(this,e),this},cZ=function(e){var t=this.childrenMap.title;e.title===null?this.hide(t):(this.show(t),t.resetDisplayContent(e.title))},vZ=function(e){var t=this.childrenMap.firstNameTitle;if(e.firstNameTitle===null)this.hide(t);else{this.show(t);var i=e.firstNameTitle||"";t.resetDisplayContent(i)}var r=this.childrenMap.firstNameInput;if(e.firstName===null)this.hide(r);else{this.show(r);var g=e.firstName||"";r.setText(g)}var S=this.childrenMap.lastNameTitle;if(e.lastNameTitle===null)this.hide(S);else{this.show(S);var n=e.lastNameTitle||"";S.resetDisplayContent(n)}var C=this.childrenMap.lastNameInput;if(e.lastName===null)this.hide(C);else{this.show(C);var s=e.lastName||"";C.setText(s)}},pZ=function(e){var t=this.childrenMap.actions[0];e.button===null?this.hide(t):(this.show(t),t.resetDisplayContent(e.button))};const gZ=Phaser.Utils.Objects.Merge;var mZ=function(e,t){Es(e)&&(t=e,e=void 0),e===void 0&&(e={}),e=gZ(e,this.modalStyle),e.anyTouchClose=!1,e.manualClose=!1;var i=this,r=function(g){g.firstName=i.firstName,g.lastName=i.lastName,i.emit("confirm",g),t&&t(g)};return Ic.modal.call(this,e,r),this},xZ={resetDisplayContent:fZ,modal:mZ},xn=function(e,t,i){i===void 0&&(i=!0),i?t=t?Be(t):{}:t||(t={});var r=new Hl(e,t);return e.add.existing(r),r};const Yi=Phaser.Utils.Objects.GetValue;var yZ=function(e,t,i){var r=Ea(Yi(t,"layoutMode",0)),g=r===0,S=new St(e,{orientation:r,space:{item:Yi(t,"space.firstName",0)}});e.add.existing(S);var n=new St(e,{orientation:"x"});e.add.existing(n);var C=Yi(t,"firstNameTitle",t.nameTitle),s=be(e,C,i.firstNameTitle||i.nameTitle);n.add(s,{expand:!0,proportion:Yi(t,"proportion.firstNameTitle",0),padding:{right:Yi(t,"space.firstNameTitle",0)}});var o=t.nameInput||{},y=Yi(t,"firstNameInput",o),f=xn(e,y,i.firstNameInput||i.nameInput),u=!y.hasOwnProperty("width");n.add(f,{expand:!0,proportion:u?1:0});var l=new St(e,{orientation:"x"});e.add.existing(l);var a=Yi(t,"lastNameTitle",t.nameTitle),d=be(e,a,i.lastNameTitle||i.nameTitle);l.add(d,{expand:!0,proportion:Yi(t,"proportion.lastNameTitle",0),padding:{right:Yi(t,"space.lastNameTitle",0)}});var v=Yi(t,"firstNameInput",o),h=xn(e,v,i.lastNameInput||i.nameInput),c=!v.hasOwnProperty("width");if(l.add(h,{expand:!0,proportion:c?1:0}),g){var p=u?1:0,m=Yi(t,"proportion.firstName",p);S.add(n,{expand:!0,proportion:m});var x=c?1:0,T=Yi(t,"proportion.lastName",x);S.add(l,{expand:!0,proportion:T})}else S.add(n,{expand:u,proportion:0}),S.add(l,{expand:c,proportion:0});return S.addChildrenMap("firstNameTitle",s),S.addChildrenMap("firstNameInput",f),S.addChildrenMap("lastNameTitle",d),S.addChildrenMap("lastNameInput",h),S};const CZ=Phaser.Utils.Objects.GetValue;class hy extends uu{constructor(t,i,r){i===void 0&&(i={}),r===void 0&&(r={}),i.orientation="y";var g=i.space;g&&(g.hasOwnProperty("names")&&(g.content=g.names),g.hasOwnProperty("namesLeft")&&(g.contentLeft=g.namesLeft),g.hasOwnProperty("namesRight")&&(g.contentRight=g.namesRight));var S=CZ(r,"background",Me);i.background=S(t,i.background),i.title=be(t,i.title,r.title),i.content=yZ(t,i,r),i.actions=[be(t,i.button,r.button)],super(t,i),this.type="rexNameInputDialog";var n=i.content.childrenMap;this.addChildrenMap("firstNameTitle",n.firstNameTitle),this.addChildrenMap("firstNameInput",n.firstNameInput),this.addChildrenMap("lastNameTitle",n.lastNameTitle),this.addChildrenMap("lastNameInput",n.lastNameInput),this.addChildrenMap("button",i.actions[0]),dA.call(this),this.modalStyle=i.modal||{}}get firstName(){return this.childrenMap.firstNameInput.text}set firstName(t){this.childrenMap.firstNameInput.setText(t)}setFirstName(t){return this.firstName=t,this}get lastName(){return this.childrenMap.lastNameInput.text}set lastName(t){this.childrenMap.lastNameInput.setText(t)}setLastName(t){return this.lastName=t,this}}Object.assign(hy.prototype,xZ);st.register("nameInputDialog",function(e,t){var i=new hy(this.scene,e,t);return this.scene.add.existing(i),i});et(window,"RexPlugins.UI.NameInputDialog",hy);var qn=function(e,t){if(e){var i=Bi(e);i&&i.remove(e,t)}};const Dd=Phaser.Utils.Objects.GetValue;var du=function(e,t,i){var r=Dd(e,`proportion.${t}`,i.proportion),g=Dd(e,`align.${t}`,"center"),S=Dd(e,`space.${t}`,void 0);if(typeof S=="number"&&i.paddingKey){var n=S;S={},S[i.paddingKey]=n}var C=Dd(e,`expand.${t}`,!0);return{proportion:r,align:g,padding:S,expand:C}},sv=function(e){return du(e,"header",{proportion:0,paddingKey:"bottom"})},rv=function(e){return du(e,"leftSide",{proportion:0,paddingKey:"right"})},nv=function(e){return du(e,"content",{proportion:1})},av=function(e){return du(e,"rightSide",{proportion:0,paddingKey:"left"})},ov=function(e){return du(e,"footer",{proportion:0,paddingKey:"top"})},fr=function(e){return{proportion:1,align:"center",padding:0,expand:!0}},cr=function(e,t){var i=new St(e,{orientation:t});return e.add.existing(i),i},TZ=function(e){var t=this.scene,i=e.header;i&&this.add(i,sv(e));var r=cr(t,0);this.add(r,fr());var g=e.leftSide;g&&r.add(g,rv(e));var S=e.content;S&&r.add(S,nv(e));var n=e.rightSide;n&&r.add(n,av(e));var C=e.footer;C&&this.add(C,ov(e))},SZ=function(e){var t=this.scene,i=e.header;i&&this.add(i,sv(e));var r=cr(t,0);this.add(r,fr());var g=e.leftSide;g&&r.add(g,rv(e));var S=cr(t,1);r.add(S,fr());var n=cr(t,0);S.add(n,fr());var C=e.content;C&&n.add(C,nv(e));var s=e.rightSide;s&&n.add(s,av(e));var o=e.footer;o&&S.add(o,ov(e))},PZ=function(e){var t=this.scene,i=e.header;i&&this.add(i,sv(e));var r=cr(t,0);this.add(r,fr());var g=cr(t,1);r.add(g,fr());var S=cr(t,0);g.add(S,fr());var n=e.leftSide;n&&S.add(n,rv(e));var C=e.content;C&&S.add(C,nv(e));var s=e.footer;s&&g.add(s,ov(e));var o=e.rightSide;o&&r.add(o,av(e))},EZ=function(e){var t=this.scene,i=e.header;i&&this.add(i,sv(e));var r=cr(t,0);this.add(r,fr());var g=e.leftSide;g&&r.add(g,rv(e));var S=cr(t,1);r.add(S,fr());var n=e.content;n&&S.add(n,nv(e));var C=e.footer;C&&S.add(C,ov(e));var s=e.rightSide;s&&r.add(s,av(e))};const MZ=Phaser.Utils.Objects.GetValue,KS=[TZ,SZ,PZ,EZ];var wZ=function(e){e===void 0&&(e={});var t=e.background,i=e.header,r=e.leftSide,g=e.content,S=e.rightSide,n=e.footer;qn(t),qn(i),qn(r),qn(g),qn(S),qn(n),this.clear(!0),t&&this.addBackground(t);var C=MZ(e,"layoutMode",0);typeof C=="string"&&(C=RZ[C.toUpperCase()]);var s=KS[C]||KS[0];return s.call(this,e),this.addChildrenMap("background",t),this.addChildrenMap("header",i),this.addChildrenMap("leftSide",r),this.addChildrenMap("content",g),this.addChildrenMap("rightSide",S),this.addChildrenMap("footer",n),this};const RZ={FFF:0,LFF:1,FFR:2,LFR:3};class ly extends St{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexHolyGrail",this.build(i)}}var AZ={build:wZ};Object.assign(ly.prototype,AZ);st.register("holyGrail",function(e){var t=new ly(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.HolyGrail",ly);const LZ={getButtonsSizer(e){return this.childrenMap[`${e}ButtonsSizer`]},getButton(e,t){var i=this.getButtonsSizer(e);return i?i.getButton(t):void 0},setButtonEnable(e,t,i){return this.getButtonsSizer(e).setButtonEnable(t,i),this},setLeftButtonEnable(e,t){return this.childrenMap.leftButtonsSizer.setButtonEnable(e,t),this},setRightButtonEnable(e,t){return this.childrenMap.rightButtonsSizer.setButtonEnable(e,t),this},setTopButtonEnable(e,t){return this.childrenMap.topButtonsSizer.setButtonEnable(e,t),this},setBottomButtonEnable(e,t){return this.childrenMap.bottomButtonsSizer.setButtonEnable(e,t),this},toggleButtonEnable(e,t){return this.getButtonsSizer(e).toggleButtonEnable(t),this},toggleLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.toggleButtonEnable(e),this},toggleRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.toggleButtonEnable(e),this},toggleTopButtonEnable(e){return this.childrenMap.topButtonsSizer.toggleButtonEnable(e),this},toggleBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.toggleButtonEnable(e),this},getButtonEnable(e,t){return this.getButtonsSizer(e).getButtonEnable(t)},getLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.getButtonEnable(e)},getRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.getButtonEnable(e)},getTopButtonEnable(e){return this.childrenMap.topButtonsSizer.getButtonEnable(e)},getBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.getButtonEnable(e)},emitButtonClick(e,t){var i=this.getButtonsSizer(e);return i?(i.emitButtonClick(t),this):this},emitLeftButtonClick(e){return this.childrenMap.leftButtonsSizer.emitButtonClick(e),this},emitRightButtonClick(e){return this.childrenMap.rightButtonsSizer.emitButtonClick(e),this},emitTopButtonClick(e){return this.childrenMap.topButtonsSizer.emitButtonClick(e),this},emitBottomButtonClick(e){return this.childrenMap.bottomButtonsSizer.emitButtonClick(e),this},getLeftButton(e){return this.childrenMap.leftButtonsSizer.getButton(e)},getRightButton(e){return this.childrenMap.rightButtonsSizer.getButton(e)},getTopButton(e){return this.childrenMap.topButtonsSizer.getButton(e)},getBottomButton(e){return this.childrenMap.bottomButtonsSizer.getButton(e)},showButton(e,t){return jr(this.getButton(e,t)),this},showLeftButton(e){return jr(this.getLeftButton(e)),this},showRightButton(e){return jr(this.getRightButton(e)),this},showTopButton(e){return jr(this.getTopButton(e)),this},showBottomButton(e){return jr(this.getBottomButton(e)),this},hideButton(e,t){return qr(this.getButton(e,t)),this},hideLeftButton(e){return qr(this.getLeftButton(e)),this},hideRightButton(e){return qr(this.getRightButton(e)),this},hideTopButton(e){return qr(this.getTopButton(e)),this},hideBottomButton(e){return qr(this.getBottomButton(e)),this},addButton(e,t){return this.getButtonsSizer(e).addButton(t),this},addLeftButton(e){return this.addButton("left",e),this},addRightButton(e){return this.addButton("right",e),this},addTopButton(e){return this.addButton("top",e),this},removeButton(e,t,i){return this.getButtonsSizer(e).removeButton(t,i),this},removeLeftButton(e,t){return this.removeButton("left",e,t),this},removeRightButton(e,t){return this.removeButton("right",e,t),this},removeTopButton(e,t){return this.removeButton("top",e,t),this},removeBottomButton(e,t){return this.removeButton("bottom",e,t),this},clearButtons(e,t){return this.getButtonsSizer(e).clearButtons(t),this},clearLeftButtons(e){return this.clearButtons("left",e),this},clearRightButtons(e){return this.clearButtons("right",e),this},clearTopButtons(e){return this.clearButtons("top",e),this},clearBottomButtonss(e){return this.clearButtons("bottom",e),this},forEachButton(e,t,i){return this.getButtonsSizer(e).forEachButtton(t,i),this},forEachLeftButton(e,t){return this.childrenMap.leftButtonsSizer.forEachButtton(e,t),this},forEachRightButton(e,t){return this.childrenMap.rightButtonsSizer.forEachButtton(e,t),this},forEachTopButton(e,t){return this.childrenMap.topButtonsSizer.forEachButtton(e,t),this},forEachBottomButton(e,t){return this.childrenMap.bottomButtonsSizer.forEachButtton(e,t),this}},It=Phaser.Utils.Objects.GetValue;class uy extends Rs{constructor(t,i){i===void 0&&(i={}),i.column=3,i.row=3,i.columnProportions=[0,0,0],i.rowProportions=[0,0,0];var r=It(i,"expand.panel",!1);r&&(i.columnProportions[1]=1,i.rowProportions[1]=1),super(t,i),this.type="rexTabs",this.eventEmitter=It(i,"eventEmitter",this);var g=It(i,"background",void 0),S=It(i,"panel",void 0),n=It(i,"leftButtons",void 0),C=It(i,"leftButtonsBackground",void 0),s,o=It(i,"rightButtons",void 0),y=It(i,"rightButtonsBackground",void 0),f,u=It(i,"topButtons",void 0),l=It(i,"topButtonsBackground",void 0),a,d=It(i,"bottomButtons",void 0),v=It(i,"bottomButtonsBackground",void 0),h,c=It(i,"click",void 0);if(g&&this.addBackground(g),S&&this.add(S,{column:1,row:1,expand:r}),n){var p=It(i,"space.leftButtonsOffset",0),m=It(i,"space.leftButton",0),x=It(i,"expand.leftButtons",!1),T=It(i,"align.leftButtons","top");s=new Fe(t,{groupName:"left",background:C,buttons:n,orientation:"y",space:{item:m},expand:x,click:c,eventEmitter:this.eventEmitter}),this.add(s,{column:0,row:1,align:T,padding:{top:p},expand:x})}if(o){var P=It(i,"space.rightButtonsOffset",0),M=It(i,"space.rightButton",0),E=It(i,"expand.rightButtons",!1),w=It(i,"align.rightButtons","top");f=new Fe(t,{groupName:"right",background:y,buttons:o,orientation:"y",space:{item:M},expand:E,click:c,eventEmitter:this.eventEmitter}),this.add(f,{column:2,row:1,align:w,padding:{top:P},expand:E})}if(u){var R=It(i,"space.topButtonsOffset",0),A=It(i,"space.topButton",0),L=It(i,"expand.topButtons",!1),b=It(i,"align.topButtons","left");a=new Fe(t,{groupName:"top",background:l,buttons:u,orientation:"x",space:{item:A},expand:L,align:It(i,"align.topButtons",void 0),click:c,eventEmitter:this.eventEmitter}),this.add(a,{column:1,row:0,align:b,padding:{left:R},expand:L})}if(d){var O=It(i,"space.bottomButtonsOffset",0),F=It(i,"space.bottomButton",0),D=It(i,"expand.bottomButtons",!1),B=It(i,"align.bottomButtons","left");h=new Fe(t,{groupName:"bottom",background:v,buttons:d,orientation:"x",space:{item:F},expand:D,align:It(i,"align.bottomButtons",void 0),click:c,eventEmitter:this.eventEmitter}),this.add(h,{column:1,row:2,align:B,padding:{left:O},expand:D})}this.addChildrenMap("background",g),this.addChildrenMap("panel",S),this.addChildrenMap("leftButtons",n),this.addChildrenMap("rightButtons",o),this.addChildrenMap("topButtons",u),this.addChildrenMap("bottomButtons",d),this.addChildrenMap("leftButtonsSizer",s),this.addChildrenMap("rightButtonsSizer",f),this.addChildrenMap("topButtonsSizer",a),this.addChildrenMap("bottomButtonsSizer",h)}}Object.assign(uy.prototype,LZ);st.register("tabs",function(e){var t=new uy(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Tabs",uy);st.register("slider",function(e){var t=new th(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Slider",th);class vA{constructor(t,i){this.container=null,this._deltaHeight=0,this.setParent(t)}setParent(t){this.parent=t,this.parentContainer=t.getParentContainer()}destroy(t){t===void 0&&(t=!1),t||this.destroyContainer(),this.deltaHeight=0,this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}get table(){return this.parent}get scrollMode(){return this.parentContainer.scrollMode}get colIndx(){return this.parent.cellIndxeToColIndex(this.index)}get rowIndx(){return this.parent.cellIndxeToRowIndex(this.index)}getContainer(){return this.container}setContainer(t){return t?(this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this):(this.destroyContainer(),this)}destroyContainer(){return this.container&&(this.container.destroy(),this.container=null),this}popContainer(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}else return null}setXY(t,i){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,i),this}setCellContainerAlign(t){return typeof t=="string"&&(t=qo[t]),this.cellContainerAlign=t,this}get deltaHeight(){return this._deltaHeight}set deltaHeight(t){t==null&&(t=0);var i=this.parent;this._deltaHeight===0&&t!==0?i.nonZeroDeltaHeightCount++:this._deltaHeight!==0&&t===0&&i.nonZeroDeltaHeightCount--;var r=this._deltaHeight!==t;if(this._deltaHeight=t,r){i.resetTotalRowsHeight();var g=this.scrollMode===0?"cellheightchange":"cellwidthchange";this.parentContainer.emit(g,this,this.container,this.parentContainer)}}get deltaWidth(){return this.deltaHeight}set deltaWidth(t){this.deltaHeight=t}setDeltaHeight(t){return this.deltaHeight=t,this}setDeltaWidth(t){return this.deltaHeight=t,this}get height(){return this.scrollMode===0?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth}set height(t){this.scrollMode!==1&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setHeight(t){return this.height=t,this}get width(){return this.scrollMode===0?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight}set width(t){this.scrollMode!==0&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setWidth(t){return this.width=t,this}get scene(){return this.parentContainer.scene}}Object.assign(vA.prototype,gc);const ZS=Phaser.Utils.Objects.GetValue,OZ=Phaser.Utils.Array.SpliceOne;class FZ{constructor(t,i){this.parent=t,this.cells=[],this.cellPool=new Xs,this.resetFromJSON(i)}resetFromJSON(t){t===void 0&&(t={}),this.colCount=void 0,this.nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight();var i=t.cellHeight;i===void 0&&(i=60);var r=t.cellWidth;return r===void 0&&(r=60),this.setDefaultCellHeight(i),this.setDefaultCellWidth(r),this.initCells(ZS(t,"cellsCount",0)),this.setColumnCount(ZS(t,"columns",1)),this}destroy(t){this.cellPool.destroy(),this.cells=void 0,this.parent=void 0}get defaultCellHeightMode(){return this.nonZeroDeltaHeightCount===0}setDefaultCellHeight(t){return this.defaultCellHeight=t,this}setDefaultCellWidth(t){return this.defaultCellWidth=t,this}initCells(t){var i=this.cells;i.length=t;for(var r=0;r<t;r++)i[r]=null;return this}insertNewCells(t,i){var r=this.cells;if(t===r.length){var g=t+i;r.legth=g;for(var S=t;S<g;S++)r[S]=null}else{var n=[];n.length=i;for(var S=0;S<i;S++)n[S]=null;this.cells.splice(t,0,...n)}return this.resetTotalRowsHeight(),this}removeCells(t,i){for(var r=t+i,g=t;g<r;g++)this.freeCell(g);return r===this.cells.length?this.cells.length=t:(i===1?OZ(this.cells,t):this.cells.splice(t,i),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}setColumnCount(t){this.colCount=t,this.resetTotalRowsHeight();var i=this.parent;if(i.expandCellSize){var r=i.scrollMode===0?i.width:i.height,g=r/t;this.setDefaultCellWidth(g)}return this}get rowCount(){return Math.ceil(this.cells.length/this.colCount)}get cellsCount(){return this.cells.length}isValidCellIdx(t){return t>=0&&t<this.cells.length}heightToRowIndex(t,i){if(i===void 0&&(i=0),t===0)return 0;if(this.defaultCellHeightMode){var C=t/this.defaultCellHeight;switch(i){case 1:C=Math.ceil(C);break;default:C=Math.floor(C);break}return C}for(var r=this.rowCount,g=t,S,n,C=0;;)if(n=this.getRowHeight(C),g-=n,S=C>=0&&C<r,g>0&&S)C+=1;else{if(g===0)return i===2&&(C+=1),C;if(i===1){var s=C;C+=1,S=C>=0&&C<r,S||(C=s)}return C}}widthToColIndex(t,i){if(t===0)return 0;var r=t/this.defaultCellWidth;return i?r=Math.ceil(r):r=Math.floor(r),r}colRowToCellIndex(t,i){return t>=this.colCount?null:i*this.colCount+t}rowIndexToHeight(t,i){if(this.defaultCellHeightMode)return(i-t+1)*this.defaultCellHeight;for(var r,g=0,S=t;S<=i;S++)r=this.getRowHeight(S),g+=r;return g}colIndexToWidth(t,i){return(i-t+1)*this.defaultCellWidth}getRowHeight(t){var i=this.colCount;if(i<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var r=0,g,S=0;S<i;S++)g=this.getCellHeight(this.colRowToCellIndex(S,t)),r<g&&(r=g);return r}getColWidth(t){return this.defaultCellWidth}getCellHeight(t){if(!this.isValidCellIdx(t))return 0;var i;if(this.defaultCellHeightMode)i=this.defaultCellHeight;else{var r=this.getCell(t,!1),g=r?r.deltaHeight:0;i=this.defaultCellHeight+g}return i}resetTotalRowsHeight(){this._totalRowsHeight=null}get totalRowsHeight(){return this._totalRowsHeight===null&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}get totalColumnWidth(){return this.colCount*this.defaultCellWidth}cellIndxeToColIndex(t){return t%this.colCount}cellIndxeToRowIndex(t){return Math.floor(t/this.colCount)}getCell(t,i){if(!this.isValidCellIdx(t))return null;if(i===void 0&&(i=!0),this.cells[t]===null&&i){var r=this.newCell(t);this.cells[t]=r}return this.cells[t]}newCell(t){var i=this.cellPool.pop();return i===null?i=new vA(this):i.setParent(this),i.index=t,i}buildCellIndex(t){t===void 0&&(t=0);for(var i=this.cells,r,g=t,S=i.length;g<S;g++)r=i[g],r&&(r.index=g);return this}getParentContainer(){return this.parent}freeCell(t){return typeof t=="number"&&(t=this.cells[t]),t?(t.destroy(),this.cellPool.push(t),this):this}}var bZ=function(e){var t=this.table,i=this.topTableOY,r=this.bottomTableOY,g=e>i,S=e<r;if(this.clampTableOXY){var n=t.rowCount,C=t.heightToRowIndex(this.instHeight,1);n<C?e=0:g?e=i:S&&(e=r)}return this._tableOY!==e&&(this._tableOY=e),g&&(this.execeedTopState||this.emit("execeedtop",this,e,i)),this.execeedTopState=g,S&&(this.execeedBottomState||this.emit("execeedbottom",this,e,r)),this.execeedBottomState=S,this},DZ=function(e){var t=this.table,i=this.leftTableOX,r=this.rightTableOX,g=e>this.leftTableOX,S=e<this.rightTableOX;if(this.clampTableOXY){var n=t.colCount,C=t.widthToColIndex(this.instWidth,!0);n<C?e=0:g?e=i:S&&(e=r)}return this._tableOX!==e&&(this._tableOX=e),g&&(this.execeedLeftState||this.emit("execeedleft",this,e,i)),this.execeedLeftState=g,S&&(this.execeedRightState||this.emit("execeedright",this,e,r)),this.execeedRightState=S,this},dy=function(e){return e.hasOwnProperty("geometryMask")?e.geometryMask:e.bitmapMask};const BZ=Phaser.Geom.Intersects.RectangleToRectangle,IZ=Phaser.Geom.Rectangle.Overlaps;var GZ=function({parent:e,mask:t,children:i,onVisible:r,onInvisible:g,scope:S}){if(t){i===void 0&&(i=e.getAllChildren());for(var n=!!r||!!g,C=e.getBounds(),s=dy(t),o,y,f,u,l=0,a=i.length;l<a;l++)if(o=i[l],o!==s&&kZ(o)){if(u=o.visible,o.getBounds)switch(y=o.getBounds(y),f=NZ(C,y),f){case 4:zZ(e,o);break;case 0:BZ(C,y)||IZ(C,y)?cg(e,o,t):VZ(e,o);break;default:cg(e,o,t);break}else cg(e,o,t);if(n&&o.visible!==u){var d=o.visible?r:g;d&&(S?d.call(S,o,e):d(o,e))}}}},kZ=function(e){if(!e.displayList)return!1;for(;;){var t=e.rexContainer;if(t)if(t.visible){var i=t.parent;if(i){e=i;continue}else return!0}else return!1;else return e.visible}},NZ=function(e,t){var i=t.top,r=t.bottom,g=t.left,S=t.right,n=0;return n+=e.contains(g,i)?1:0,n+=e.contains(g,r)?1:0,n+=e.contains(S,i)?1:0,n+=e.contains(S,r)?1:0,n},zZ=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!0))},cg=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.setMask&&t.setMask(i),e.setChildMaskVisible(t,!0))},VZ=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!1),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!1))};const ja=Phaser.Utils.Objects.GetValue,UZ={update:0,everyTick:1},pA={setupChildrenMask(e){return e===!1?this:(this.setMaskUpdateMode(ja(e,"updateMode",0)),this.enableChildrenMask(ja(e,"padding",0)),this.setMaskLayer(ja(e,"layer",void 0)),this.onMaskGameObjectVisible=ja(e,"onVisible"),this.onMaskGameObjectInvisible=ja(e,"onInvisible"),this.maskGameObjectCallbackScope=ja(e,"scope"),this.startMaskUpdate(),this)},destroyChildrenMask(){return this.childrenMask?(this.stopMaskUpdate(),this.childrenMask.destroy(),this.childrenMask=void 0,this.onMaskGameObjectVisible=null,this.onMaskGameObjectInvisible=null,this.maskGameObjectCallbackScope=null,this):this},setMaskUpdateMode(e){return typeof e=="string"&&(e=UZ[e]),this.maskUpdateMode=e,this},startMaskUpdate(){this.scene.game.events.on("poststep",this.maskChildren,this)},stopMaskUpdate(){this.scene.game.events.off("poststep",this.maskChildren,this)},enableChildrenMask(e){var t=ws.call(this,null,this,0,e);return this.childrenMask=t.createGeometryMask(),this},setMaskChildrenFlag(e){return e===void 0&&(e=!0),this.maskChildrenFlag=e,this},setMaskLayer(e){return this.maskLayer=e,this},maskChildren(){return!this.childrenMask||!this.maskChildrenFlag||this.alpha===0||!this.visible?this:(this.privateRenderLayer?this.privateRenderLayer.setMask(this.childrenMask):this.maskLayer?(this.addToLayer(this.maskLayer),this.maskLayer.setMask(this.childrenMask)):GZ({parent:this,mask:this.childrenMask,onVisible:this.onMaskGameObjectVisible,onInvisible:this.onMaskGameObjectInvisible,scope:this.maskGameObjectCallbackScope}),this.maskUpdateMode===0&&(this.maskChildrenFlag=!1),this)},layoutChildrenMask(){if(!this.childrenMask)return this;var e=dy(this.childrenMask);return e.setPosition().resize(),this.resetChildPositionState(e),this}};var XZ=function(){if(this.cellsCount!==0){var e=this.scaleX,t=this.scaleY,i=e===1&&t===1;i||this.setScale(1);var r=this.table,g=this.tableOYOffset,S=this.tableOY+g,n=this.tableOX;this.startRowIndex=Math.max(r.heightToRowIndex(-S,2),0);for(var C=this.startRowIndex,s=Math.max(r.widthToColIndex(-n),0),o=s,y=r.colRowToCellIndex(o,C),f=this.bottomBound,u=this.rightBound,l=r.cellsCount-1,a=r.colCount-1,d=this.getCellTLX(o),v=d,h=this.getCellTLY(C)+g,c=h;c<f&&y<=l;){if(this.table.isValidCellIdx(y)){var p=r.getCell(y,!0);this.visibleCells.set(p),this.preVisibleCells.contains(p)||this.showCell(p);var m,x;if(this.scrollMode===0?(m=v,x=c):(m=c,x=v),p.cellContainerAlign==null)p.setXY(m,x);else{var T=p.getContainer();Jl(T,m,x,p.width,p.height,p.cellContainerAlign),p.setXY(T.x,T.y)}}v<u&&o<a?(v+=r.getColWidth(o),o+=1):(v=d,c+=r.getRowHeight(C),o=s,C+=1),y=r.colRowToCellIndex(o,C)}i||this.setScale(e,t)}},gA=function(e){var t=null,i=e.getContainer();if(i?(t=i,e.popContainer()):this.cellContainersPool&&(t=this.cellContainersPool.getFirstDead(),t!==null&&t.setActive(!0).setVisible(!0)),this.emit("cellvisible",e,t,this),this.cellContainersPool){var i=e.getContainer();i?t===null?this.cellContainersPool.add(i):t!==i&&(this.cellContainersPool.add(i),this.cellContainersPool.killAndHide(t)):t!==null&&this.cellContainersPool.killAndHide(t)}},WZ=function(e){var t=this.scrollMode===0?this.topLeftX:this.topLeftY,i=this.tableOX+this.table.colIndexToWidth(0,e-1)+t;return i},YZ=function(e){var t=this.scrollMode===0?this.topLeftY:this.topLeftX,i=this.tableOY+this.table.rowIndexToHeight(0,e-1)+t;return i},HZ=function(){var e=this.preVisibleCells,t=this.visibleCells;e.iterate(function(i){t.contains(i)||this.hideCell(i)},this)},mA=function(e){if(this.emit("cellinvisible",e),this.cellContainersPool){var t=e.popContainer();t&&(t.setScale(1).setAlpha(1),this.cellContainersPool.killAndHide(t))}e.destroyContainer()},$Z=function(e,t){return e===void 0&&(e=!1),t===void 0&&(t=!1),e&&(JS.call(this),this.hideCells()),JS.call(this),this.showCells(),this.hideCells(),this.setMaskChildrenFlag(),t&&(this.layoutChildrenMask(),this.maskChildren()),this},JS=function(){var e=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=e,this.visibleCells.clear()},KZ=function(e){var t=this.table.getCell(e,!1);return t&&this.visibleCells.contains(t)},xA=function(e,t){t-=this.y+this.topLeftY,e-=this.x+this.topLeftX;var i=this.tableOY-(this.scrollMode===0?t:e),r=this.tableOX-(this.scrollMode===0?e:t),g=this.table,S=g.heightToRowIndex(-i,0),n=g.widthToColIndex(-r),C=g.colRowToCellIndex(n,S);return C===null||!this.isCellVisible(C)?null:C},ZZ=function(e,t){var i=xA.call(this,e,t);if(i!==null)return this.getCellContainer(i)},JZ=function(e,t){return this.visibleCells.each(e,t),this},QZ=function(e,t){return this.visibleCells.iterate(e,t),this},jZ=function(e,t){return this.table.cells.slice().forEach(e,t),this},qZ=function(e,t){return this.table.cells.forEach(e,t),this},_Z=function(e){var t=this.cellsCount;return t===e?this:(t>e?this.removeCells(e,t-e):this.insertNewCells(t,e-t),this)};const tJ=Phaser.Math.Clamp;var eJ=function(e,t){return typeof e=="object"&&(e=e.index),t===void 0&&(t=1),t<=0?this:(e=tJ(e,0,this.cellsCount),this.table.insertNewCells(e,t),this)},iJ=function(e,t){if(typeof e=="object"&&(e=e.index),t===void 0&&(t=1),e<0&&(t+=e,e=0),t<=0)return this;if(e>this.cellsCount)return this;for(var i,r=e,g=e+t;r<g;r++)i=this.getCell(r,!1),i&&(this.visibleCells.contains(i)&&(mA.call(this,i),this.visibleCells.delete(i)),this.preVisibleCells.delete(i));return this.table.removeCells(e,t),this},sJ=function(e){return this.table.colCount===e?this:(this.table.setColumnCount(e),this)},rJ=function(e,t){return this.setCellsCount(e*t),this.table.setColumnCount(e),this},nJ=function(e){var t=this.table.getCell(e,!1);return!t||!t.container?this:(gA.call(this,t),this)},yA={setTableOY:bZ,setTableOX:DZ,showCells:XZ,showCell:gA,getCellTLX:WZ,getCellTLY:YZ,hideCells:HZ,hideCell:mA,updateTable:$Z,isCellVisible:KZ,pointToCellIndex:xA,pointToCellContainer:ZZ,eachVisibleCell:JZ,iterateVisibleCell:QZ,eachCell:jZ,iterateCell:qZ,setCellsCount:_Z,insertNewCells:eJ,removeCells:iJ,setColumnCount:sJ,setGridSize:rJ,updateVisibleCell:nJ};Object.assign(yA,pA);const aJ=Phaser.GameObjects.Group,QS=Phaser.Structs.Set,Hi=Phaser.Utils.Objects.GetValue;let CA=class extends ki{constructor(t,i,r,g,S,n){n===void 0&&(n={}),super(t,i,r,g,S),this.type="rexGridTable",this._tableOX=0,this._tableOY=0,this.visibleCells=new QS,this.preVisibleCells=new QS,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1;var C=Hi(n,"reuseCellContainer",!1);C&&(this.cellContainersPool=new aJ(t));var s=Hi(n,"cellVisibleCallback",null);if(s!==null){var o=Hi(n,"cellVisibleCallbackScope",void 0);this.on("cellvisible",s,o)}if(s=Hi(n,"cellInvisibleCallback",null),s!==null){var o=Hi(n,"cellInvisibleCallbackScope",void 0);this.on("cellinvisible",s,o)}Hi(n,"enableLayer",!1)&&this.enableLayer(),this.setupChildrenMask(Hi(n,"mask",void 0)),this.setScrollMode(Hi(n,"scrollMode",0)),this.setClampMode(Hi(n,"clampTableOXY",!0)),this.setStartFromBottomEnable(Hi(n,"startFromBottom",!1));var y,f,u,l=this.scrollMode===0;if(l?(y=n.cellWidth,f=n.cellHeight,u=n.columns):(y=n.cellHeight,f=n.cellWidth,u=Hi(n,"rows",n.columns)),this.fixedCellSize=Hi(n,"fixedCellSize",!1),this.expandCellSize=!this.fixedCellSize&&y===void 0,u||(u=1),this.fixedCellSize)u=Math.max(Math.floor(this.instWidth/y),1);else if(this.expandCellSize){var g=l?this.width:this.height;y=g/u}n.cellWidth=y,n.cellHeight=f,n.columns=u,this.table=new FZ(this,n),this.updateTable()}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.table.destroy(t),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=oJ[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t){return t===void 0&&(t=!0),this.clampTableOXY=t,this}setStartFromBottomEnable(t){return t===void 0&&(t=!0),this.startFromBottomEnable=t,this}get tableOY(){return this._tableOY}get tableOX(){return this._tableOX}set tableOY(t){this.setTableOY(t).updateTable()}set tableOX(t){this.setTableOX(t).updateTable()}setTableOXY(t,i){return this.setTableOY(i).setTableOX(t),this}addTableOY(t){return this.setTableOY(this.tableOY+t),this}addTableOX(t){return this.setTableOX(this.tableOX+t),this}addTableOXY(t,i){return this.addTableOY(i).addTableOX(t),this}setTableOYByPercentage(t){return this.setTableOY(-this.tableVisibleHeight*t),this}getTableOYPercentage(){var t=this.tableVisibleHeight;return t===0?0:this.tableOY/-t}setTableOXByPercentage(t){return this.setTableOX(-this.tableVisibleWidth*t),this}getTableOXPercentage(){var t=this.tableVisibleWidth;return t===0?0:this.tableOX/-t}set t(t){this.setTableOYByPercentage(t).updateTable()}get t(){return this.getTableOYPercentage()}set s(t){this.setTableOXByPercentage(t).updateTable()}get s(){return this.getTableOXPercentage()}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}scrollToRow(t){this.scrollToBottom();var i=this.table.rowIndexToHeight(0,t-1);return this.setTableOY(-i).updateTable(),this}scrollToNextRow(t){return t===void 0&&(t=1),this.scrollToRow(this.startRowIndex+t),this}getCell(t){return this.table.getCell(t,!0)}getCellContainer(t){var i=this.table.getCell(t,!1),r;return i&&(r=i.getContainer()),r}get cellsCount(){return this.table.cellsCount}get columnCount(){return this.table.colCount}setCellHeight(t,i){var r;return typeof t=="number"?r=this.table.getCell(t,!0):r=t,r.height=i,this}setCellWidth(t,i){var r;return typeof t=="number"?r=this.table.getCell(t,!0):r=t,r.width=i,this}resetAllCellsSize(t,i){if(this.scrollMode===1){var r=t;t=i,i=r}this.table.setDefaultCellHeight(i).setDefaultCellWidth(t);for(var g=this.table.cells,S=0,n=g.length;S<n;S++){var C=g[S];C&&(C.deltaHeight=0)}if(this.fixedCellSize){var s=Math.floor(this.instWidth/t);this.table.setColumnCount(s)}return this.updateTable(!0,!0),this}get instHeight(){return this.scrollMode===0?this.height:this.width}get instWidth(){return this.scrollMode===0?this.width:this.height}get tableHeight(){return this.table.totalRowsHeight}get tableWidth(){return this.table.totalColumnWidth}get tableOYOffset(){if(this.startFromBottomEnable){var t=this.tableHeight-this.instHeight;if(t<0)return-t}return 0}get topTableOY(){return 0}get bottomTableOY(){return-this.tableVisibleHeight}get leftTableOX(){return 0}get rightTableOX(){return-this.tableVisibleWidth}get tableVisibleHeight(){var t=this.tableHeight-this.instHeight;return t<0&&(t=0),t}get tableVisibleWidth(){var t=this.tableWidth-this.instWidth;return t<0&&(t=0),t}get bottomLeftY(){return-(this.displayHeight*this.originY)+this.displayHeight}get topRightX(){return-(this.displayWidth*this.originX)+this.displayWidth}get topLeftX(){return-(this.displayWidth*this.originX)}get topLeftY(){return-(this.displayHeight*this.originY)}get bottomBound(){return this.scrollMode===0?this.bottomLeftY:this.topRightX}get rightBound(){return this.scrollMode===0?this.topRightX:this.bottomLeftY}resize(t,i){if(this.width===t&&this.height===i)return this;if(super.resize(t,i),this.fixedCellSize){var r=Math.floor(this.instWidth/this.table.defaultCellWidth);this.table.setColumnCount(r)}else this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount);return this.updateTable(!0,!0),this}};Object.assign(CA.prototype,yA);const oJ={v:0,vertical:0,h:1,horizontal:1};var hJ=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.tableOY},set:function(t){e.tableOY=t}}),Object.defineProperty(e,"childOX",{configurable:!0,get:function(){return e.tableOX},set:function(t){e.tableOX=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTableOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTableOY}}),Object.defineProperty(e,"leftChildOX",{get:function(){return e.leftTableOX}}),Object.defineProperty(e,"rightChildOX",{get:function(){return e.rightTableOX}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.instHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.tableHeight}}),Object.defineProperty(e,"childVisibleWidth",{get:function(){return e.instWidth}}),Object.defineProperty(e,"childWidth",{get:function(){return e.tableWidth}})},lJ=function(e){e.on("cellvisible",function(t,n,r){var g=this.createCellContainerCallback,S=this.createCellContainerCallbackScope;t.item=this.items[t.index],t.items=this.items;var n;S?n=g.call(S,t,n,r):n=g(t,n,r),n&&(t.cellContainerAlign==null&&n.setOrigin&&n.setOrigin(0),n.isRexSizer&&n.layout()),t.item=void 0,t.items=void 0,t.setContainer(n)},this)},Ks=function(e,t,i,r,g,S,n){var C;if(g===void 0)C=r;else{var s=S.camera,o=r+s.scrollX*(i.scrollFactorX-1),y=g+s.scrollY*(i.scrollFactorY-1);C=i.pointToCellIndex(o,y)}if(C!=null){var f=i.getCellContainer(C);f&&e.emit(t,f,C,S,n)}},uJ=function(e,t){e.on("pointerdown",function(i,r,g,S){Ks(this.eventEmitter,"cell.down",e,i.worldX,i.worldY,i,S)},this).on("pointerup",function(i,r,g,S){Ks(this.eventEmitter,"cell.up",e,i.worldX,i.worldY,i,S)},this)},dJ=function(e,t){e.on("pointermove",jS,this).on("pointerover",jS,this).on("pointerout",fJ,this)},jS=function(e,t,i,r){var g=this.childrenMap.child,S=e.camera,n=e.worldX+S.scrollX*(g.scrollFactorX-1),C=e.worldY+S.scrollY*(g.scrollFactorY-1),s=g.pointToCellIndex(n,C);if(s!==g.input.lastOverCellIndex){var o=g.input.lastOverCellIndex;g.input.lastOverCellIndex=s,Ks(this.eventEmitter,"cell.out",g,o,void 0,e,r),Ks(this.eventEmitter,"cell.over",g,s,void 0,e,r)}},fJ=function(e,t){var i=this.childrenMap.child,r=i.input.lastOverCellIndex;i.input.lastOverCellIndex=void 0,Ks(this.eventEmitter,"cell.out",i,r,void 0,e,t)};const cJ=Phaser.Utils.Objects.GetValue;var vJ=function(e,t){var i=cJ(t,"click",void 0);i!==!1&&(i===void 0&&(i={}),i.threshold=10,e._click=new Pr(e,i),e._click.on("click",function(r,g,S,n){Ks(this.eventEmitter,"cell.click",g,S.worldX,S.worldY,S,n)},this))};const pJ=Phaser.Utils.Objects.GetValue;var gJ=function(e,t){var i=pJ(t,"tap",void 0);i!==!1&&(e._tap=new kc(e,i),e._tap.on("tap",function(r,g,S){var n=`cell.${r.tapsCount}tap`;Ks(this.eventEmitter,n,r.gameObject,r.worldX,r.worldY,S)},this))};const mJ=Phaser.Utils.Objects.GetValue;var xJ=function(e,t){var i=mJ(t,"press",void 0);i!==!1&&(e._press=new Nc(e,i),e._press.on("pressstart",function(r,g,S){Ks(this.eventEmitter,"cell.pressstart",e,r.worldX,r.worldY,S)},this).on("pressend",function(r,g,S){Ks(this.eventEmitter,"cell.pressend",e,r.worldX,r.worldY,S)},this))};const yJ=Phaser.Utils.Objects.GetValue;var CJ=function(e,t){var i=yJ(t,"swipe",void 0);i!==!1&&(i===void 0&&(i={}),i.dir="4dir",e._swipe=new eu(e,i),e._swipe.on("swipe",function(r,g,S){var n=r.left?"left":r.right?"right":r.up?"up":"down";Ks(this.eventEmitter,`cell.swipe${n}`,e,r.worldX,r.worldY,S)},this))},TJ=function(e,t){e.setInteractive(),uJ.call(this,e,t),dJ.call(this,e,t),vJ.call(this,e,t),gJ.call(this,e,t),xJ.call(this,e,t),CJ.call(this,e,t)},SJ=function(e,t){e===void 0?this.items=[]:this.items=e,t===void 0&&(t=!0);var i=this.childrenMap.child;return i.setCellsCount(this.items.length),t&&(i.updateTable(!0),this.resizeController()),this};const PJ={scrollToRow(e){var t=this.childrenMap.child;return t.scrollToRow(e),this},scrollToNextRow(e){var t=this.childrenMap.child;return t.scrollToNextRow(e),this}},ds=Phaser.Utils.Objects.GetValue;class fy extends ou{constructor(t,i){i===void 0&&(i={});var r=ey(i),g=ds(i,"table",void 0);g===void 0&&(g={}),g.scrollMode=r===2?0:r,g.clampTableOXY=ds(i,"clampChildOY",!1);var S=ds(g,"width",void 0),n=ds(g,"height",void 0),C=new CA(t,0,0,S,n,g);t.add.existing(C);var s,o;g.scrollMode===0?(s=S===void 0,o=n===void 0):(s=n===void 0,o=S===void 0),hJ(C),C._minWidth=S===void 0?0:void 0,C._minHeight=n===void 0?0:void 0,i.type="rexGridTable",i.child={gameObject:C,expandWidth:s,expandHeight:o};var y=ds(i,"space",void 0);y&&(y.child=ds(y,"table",0)),super(t,i),this.addChildrenMap("table",C),this.addChildrenMap("tableLayer",C.maskLayer),this.eventEmitter=ds(i,"eventEmitter",this);var f=ds(i,"createCellContainerCallback",Ee),u=ds(i,"createCellContainerCallbackScope",void 0);this.setCreateCellContainerCallback(f,u),lJ.call(this,C),this.resizeControllerFlag=!1;var l=r===0?"cellheightchange":"cellwidthchange";C.on(l,function(){this.resizeControllerFlag=!0},this),ds(g,"interactive",!0)&&TJ.call(this,C,g),this.setItems(ds(i,"items",[]),!1),t.game.events.on("poststep",this.onPostStep,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.game.events.off("poststep",this.onPostStep,this),super.destroy(t))}setCreateCellContainerCallback(t,i){return this.createCellContainerCallback=t,this.createCellContainerCallbackScope=i,this}refresh(){return this.setItems(this.items),this}getCell(t){var i=this.childrenMap.child;return i.getCell(t)}getCellContainer(t){var i=this.childrenMap.child;return i.getCellContainer(t)}updateVisibleCell(t){var i=this.childrenMap.child;return i.updateVisibleCell(t)}resetAllCellsSize(t,i){var r=this.childrenMap.child;return r.resetAllCellsSize(t,i),this}onPostStep(){this.resizeControllerFlag&&(this.resizeController(),this.resizeControllerFlag=!1)}get startRowIndex(){var t=this.childrenMap.child;return t.startRowIndex}}var EJ={setItems:SJ};Object.assign(fy.prototype,PJ,EJ);st.register("gridTable",function(e){var t=new fy(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.GridTable",fy);var cy=function(e,t){return e.sameOrientation?e.orientation=t.orientation:e.orientation=t.orientation===0?1:0,e},MJ=function(e,t){e.popUp(cy(e.root.easeIn,e))},wJ=function(e,t){e.scaleDown(cy(e.root.easeOut,e))};const RJ={setTransitInCallback(e){return e===void 0&&(e=MJ),this.transitInCallback=e,this},setTransitOutCallback(e){return e===void 0&&(e=wJ),this.transitOutCallback=e,this}};var AJ=function(e,t,i,r,g){var S=Qo(e),n=S.time.delayedCall(t,function(){S.sys.events.once("postupdate",function(){i.call(r,g)})});return n};const LJ={delayCall(e,t,i){return this.timer=AJ(this,e,t,i),this},removeDelayCall(){return this.timer&&(this.timer.remove(!1),this.timer=void 0),this}};var OJ=function(e,t){var r=this.childrenMap.subMenu;if(r&&r.parentButton===e)return this;this.collapseSubMenu();var i;this.root.toggleOrientation?i=this.orientation===0?1:0:i=this.orientation;var r=new this.constructor(this.scene,{items:t,orientation:i,space:this.space,createBackgroundCallback:this.root.createBackgroundCallback,createBackgroundCallbackScope:this.root.createBackgroundCallbackScope,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,_rootMenu:this.root,_parentMenu:this,_parentButton:e});return this.pin(r),this.childrenMap.subMenu=r,this.root.emit("expand",r,e,this),this},FJ=function(){var e=this.root;e.emit("collapse",this,this.parentButton,e);var t=e.easeOut.duration;return e.transitOutCallback(this,t),this.collapseSubMenu(),this.delayCall(t,this.destroy,this),this},bJ=function(){var e=this.childrenMap.subMenu;return e===void 0?this:(this.childrenMap.subMenu=void 0,this.remove(e),e.collapse(),this)},TA={expandSubMenu:OJ,collapse:FJ,collapseSubMenu:bJ};Object.assign(TA,RJ,LJ);var DJ=function(e,t,i,r){var g;return i&&(t.scene=e,r?g=i.call(r,t):g=i(t),t.scene=void 0),g},BJ=function(e,t,i,r){var g,S=[],n;if(t&&i)for(var C=0,s=t.length;C<s;C++)g=t[C],g.scene=e,r?n=i.call(r,g,C,t):n=i(g,C,t),g.scene=void 0,S.push(n);return S},IJ=function(e){e.on(e.root.expandEventName,function(t,i){if(!this._isPassedEvent){var r=this.root.childrenKey,g=this.items[i][r];g&&this.expandSubMenu(t,g)}},e).on("button.click",function(t,i,r,g){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.click",t,i,r,g),this.root._isPassedEvent=!1)},e).on("button.over",function(t,i,r,g){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.over",t,i,r,g),this.root._isPassedEvent=!1)},e).on("button.out",function(t,i,r,g){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.out",t,i,r,g),this.root._isPassedEvent=!1)},e)},qS=function(e,t){return typeof t=="number"&&(t={duration:t}),t.hasOwnProperty("orientation")&&t.orientation!==void 0?t.sameOrientation=Ea(t.orientation)===e.orientation:t.sameOrientation=!0,t.destroy=!1,t},GJ=function(){var e=this.root,t=e.easeIn.duration;e.transitInCallback(this,t),this!==this.root&&this.delayCall(t,function(){this.root.emit("popup.complete",this)},this)};const ii=Phaser.Utils.Objects.GetValue;class vy extends Fe{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1);var r=i._rootMenu,g=i._parentMenu,S=i._parentButton,n=ii(i,"popup",!0),C=ii(i,"items",void 0),s=ii(i,"createBackgroundCallback",void 0),o=ii(i,"createBackgroundCallbackScope",void 0);i.background=DJ(t,C,s,o);var y=ii(i,"createButtonCallback",void 0),f=ii(i,"createButtonCallbackScope",void 0);if(i.buttons=BJ(t,C,y,f),super(t,i),this.type="rexMenu",this.items=C,this.root=r===void 0?this:r,this.isRoot=this.root===this,this.parentMenu=g,this.parentButton=S,this.timer=void 0,this.isRoot){this.isPopUpMode=n;var u=i.bounds;u===void 0&&(u=Jo(t)),this.bounds=u,this.subMenuSide=[this.y<u.centerY?W0:ff,this.x<u.centerX?X0:df];var l=ii(i,"subMenuSide",void 0);l!==void 0&&(typeof l=="string"&&(l=kJ[l]),this.subMenuSide[this.orientation]=l),this.toggleOrientation=ii(i,"toggleOrientation",!1),this.expandEventName=ii(i,"expandEvent","button.click"),this.easeIn=qS(this,ii(i,"easeIn",0)),this.easeOut=qS(this,ii(i,"easeOut",0)),this.setTransitInCallback(ii(i,"transitIn")),this.setTransitOutCallback(ii(i,"transitOut")),this.createBackgroundCallback=s,this.createBackgroundCallbackScope=o,this.createButtonCallback=y,this.createButtonCallbackScope=f,this.childrenKey=ii(i,"childrenKey","children"),this._isPassedEvent=!1,this.pointerDownOutsideCollapsing=ii(i,"pointerDownOutsideCollapsing",!0),this.pointerDownOutsideCollapsing&&t.input.on("pointerdown",this.onPointerDownOutside,this)}var a=0,d=0;if(!this.root.easeIn.sameOrientation){var v=cy(this.root.easeIn,this).orientation,h=g?g.orientation:this.orientation,l=this.root.subMenuSide[h];v===0&&l===df&&(a=1),v===1&&l===ff&&(d=1)}if(n&&this.setOrigin(a,d).layout(),!this.isRoot){this.setScale(this.root.scaleX,this.root.scaleY);var l=this.root.subMenuSide[g.orientation];switch(l){case df:this.alignTop(S.top).alignRight(S.left);break;case X0:this.alignTop(S.top).alignLeft(S.right);break;case ff:this.alignLeft(S.left).alignBottom(S.top);break;case W0:this.alignLeft(S.left).alignTop(S.bottom);break}}IJ(this),n&&(this.pushIntoBounds(this.root.bounds),GJ.call(this))}destroy(t){!this.scene||this.ignoreDestroy||(this.isRoot&&this.pointerDownOutsideCollapsing&&this.scene.input.off("pointerdown",this.onPointerDownOutside,this),super.destroy(t),this.removeDelayCall())}isInTouching(t){return super.isInTouching(t)?!0:this.childrenMap.subMenu?this.childrenMap.subMenu.isInTouching(t):!1}onPointerDownOutside(t){this.isInTouching(t)||(this.isPopUpMode?this.collapse():this.collapseSubMenu())}}const df=2,X0=0,ff=3,W0=1,kJ={up:ff,down:W0,left:df,right:X0};Object.assign(vy.prototype,TA);st.register("menu",function(e){var t=new vy(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Menu",vy);var NJ={setWrapEnable(e){return e===void 0&&(e=!0),this.listWrapEnable=e,this},setCreateButtonCallback(e){return this.listCreateButtonCallback=e,this},setCreateListBackgroundCallback(e){return this.listCreateBackgroundCallback=e,this},setCreateListSliderTrackCallback(e){return this.listCreateSliderTrackCallback=e,this},setCreateListSliderThumbCallback(e){return this.listCreateSliderThumbCallback=e,this},setListSliderAdaptThumbSizeEnable(e){return e===void 0&&(e=!0),this.listSliderAdaptThumbSizeEnable=e,this},setListScrollerConfig(e){return e===void 0&&(e={}),this.listScrollerConfig=e,this},setListMouseWheelScrollerConfig(e){return this.listMouseWheelScrollerConfig=e,this},setButtonClickCallback(e){return this.listOnButtonClick=e,this},setButtonOverCallback(e){return this.listOnButtonOver=e,this},setButtonOutCallback(e){return this.listOnButtonOut=e,this},setListExpandDirection(e){return typeof e=="string"&&(e=zJ[e]),this.listExpandDirection=e,this},setListEaseInDuration(e){return e===void 0&&(e=0),this.listEaseInDuration=e,this},setListEaseOutDuration(e){return e===void 0&&(e=0),this.listEaseOutDuration=e,this},setListTransitInCallback(e){return this.listTransitInCallback=e,this},settListTransitOutCallback(e){return this.listTransitOutCallback=e,this},setListBounds(e){return this.listBounds=e,this},setListWidth(e){return this.listWidth=e,this},setListHeight(e){return this.listHeight=e,this},setListSize(e,t){return this.setListWidth(e).setListHeight(t),this},setListMaxHeight(e){return this.listMaxHeight=e,this},setListAlignmentMode(e){return this.listAlignMode=e,this},setListAlignmentSide(e){return e===void 0&&(e=""),this.listAlignSide=e,this},setListSpace(e){return e===void 0&&(e={}),this.listSpace=e,this},setListDraggable(e){return e===void 0&&(e=!0),this.listDraggable=e,this}};const zJ={down:0,up:1};var VJ=function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,i=t.rexSizer,r=!1;if(i.hidden)e=0;else switch(this.scrollMode){case 0:e=this.getChildWidth(t),e===void 0&&(r=!0);break;case 1:e=0;break;default:e=0;break}if(!r)return e},UJ=function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,i=t.rexSizer,r=!1;if(i.hidden)e=0;else switch(this.scrollMode){case 0:e=0;break;case 1:e=this.getChildHeight(t),e===void 0&&(r=!0);break;default:e=0;break}if(!r)return e},XJ=function(e){return e===void 0&&(e=[]),this.child&&this.child.isRexSizer&&e.push(this.child),e},WJ=function(){var e=this.left,t=this.top;switch(this.scrollMode){case 0:t+=this.childOY;break;case 1:e+=this.childOY;break;default:t+=this.childOY,e+=this.childOX;break}this.child.setPosition(e,t),this.resetChildPositionState(this.child),this.setMaskChildrenFlag()},YJ=function(){var e=this.child,t,i;if(!e.rexSizer.hidden){switch(this.scrollMode){case 0:t=this.width*this.scaleX;break;case 1:i=this.height*this.scaleY;break}e.isRexSizer?e.runLayout(this,t,i):Je(e,t,i),this.resetChildPosition(),this.layoutChildrenMask(),this.maskChildren()}},HJ=function(e,t){t||e.clearMask&&e.clearMask(!1)},SA={getChildrenWidth:VJ,getChildrenHeight:UJ,getChildrenSizers:XJ,resetChildPosition:WJ,layoutChildren:YJ,removeChildCallback:HJ};Object.assign(SA,pA);const _S=Phaser.Utils.Objects.IsPlainObject,$i=Phaser.Utils.Objects.GetValue,$J=Phaser.Display.Align.TOP_LEFT;class PA extends wa{constructor(t,i,r,g,S,n){_S(i)?(n=i,i=$i(n,"x",0),r=$i(n,"y",0),g=$i(n,"width",void 0),S=$i(n,"height",void 0)):_S(g)&&(n=g,g=$i(n,"width",void 0),S=$i(n,"height",void 0)),super(t,i,r,g,S,n),this.type="rexScrollableBlock",this.child=void 0,this.childrenMask=void 0,this._childOY=0,this._childOX=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1,this.setScrollMode($i(n,"scrollMode",0));var C=$i(n,"clampChildOY",!0),s=$i(n,"clampChildOX",C);this.setClampMode(C,s);var o=$i(n,"child",void 0),y=$i(n,"expand",!0);o.setOrigin&&o.setOrigin(0),this.add(o),this.sizerChildren=[o];var f=this.getSizerConfig(o);f.align=$J,f.expand=y,this.child=o;var u=$i(n,"mask");this.setupChildrenMask(u),this.childrenMask&&(this.maskGameObject=dy(this.childrenMask))}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.child=void 0,super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=jR[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t,i){return this.clampChildOY=t,this.clampChildOX=i,this}get instHeight(){return this.scrollMode===0||this.scrollMode===2?this.displayHeight:this.displayWidth}get instWidth(){return this.scrollMode===0||this.scrollMode===2?this.displayWidth:this.displayHeight}get childHeight(){return this.scrollMode===0||this.scrollMode===2?bt(this.child):Ft(this.child)}get childWidth(){return this.scrollMode===0||this.scrollMode===2?Ft(this.child):bt(this.child)}get topChildOY(){return 0}get bottomChildOY(){return-this.visibleHeight}get leftChildOX(){return 0}get rightChildOX(){return-this.visibleWidth}get childVisibleHeight(){return this.instHeight}get childVisibleWidth(){return this.instWidth}get visibleHeight(){var t=this.childHeight-this.childVisibleHeight;return t<0&&(t=0),t}get visibleWidth(){var t=this.childWidth-this.childVisibleWidth;return t<0&&(t=0),t}childOYExceedTop(t){return t===void 0&&(t=this.childOY),t>this.topChildOY}childOYExeceedBottom(t){return t===void 0&&(t=this.childOY),t<this.bottomChildOY}childOXExceedLeft(t){return t===void 0&&(t=this.childOX),t>this.leftChildOX}childOXExeceedRight(t){return t===void 0&&(t=this.childOX),t<this.rightChildOX}get childOY(){return this._childOY}set childOY(t){var i=this.topChildOY,r=this.bottomChildOY,g=this.childOYExceedTop(t),S=this.childOYExeceedBottom(t);this.clampChildOY&&(this.childVisibleHeight>this.childHeight?t=0:g?t=i:S&&(t=r)),this._childOY!==t&&(this._childOY=t,this.resetChildPosition()),g&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=g,S&&(this.execeedBottomState||this.emit("execeedbottom",this,t,r)),this.execeedBottomState=S}get childOX(){return this._childOX}set childOX(t){var i=this.leftChildOX,r=this.rightChildOX,g=this.childOXExceedLeft(t),S=this.childOXExeceedRight(t);this.clampChildOX&&(this.childVisibleWidth>this.childWidth?t=0:g?t=i:S&&(t=r)),this._childOX!==t&&(this._childOX=t,this.resetChildPosition()),g&&(this.execeedLeftState||this.emit("execeedleft",this,t,i)),this.execeedLeftState=g,S&&(this.execeedRightState||this.emit("execeedright",this,t,r)),this.execeedRightState=S}setChildOY(t){return this.childOY=t,this}setChildOX(t){return this.childOX=t,this}set t(t){this.childOY=-this.visibleHeight*t}get t(){var t=this.visibleHeight;return t===0?0:this.childOY/-t}set s(t){this.childOX=-this.visibleWidth*t}get s(){var t=this.visibleWidth;return t===0?0:this.childOX/-t}setChildOYByPercentage(t){return this.t=t,this}setChildOXByPercentage(t){return this.s=t,this}}Object.assign(PA.prototype,SA);var KJ=function(e,t){if(!this.hasChild(e))return this;switch(this.scrollMode){case 0:Bd.call(this,e,"y",t);break;case 1:Bd.call(this,e,"x",t);break;default:Bd.call(this,e,"y",t),Bd.call(this,e,"x",t);break}return this};const tP=["top","bottom","centerY","center"],eP=["left","right","centerX","center"];var Bd=function(e,t,i){t=t.toUpperCase();var r=t==="Y",g=this.childrenMap.child,S;if(r){if(i)for(var n=0,C=tP.length;n<C;n++){var s=tP[n];if(i.indexOf(s)!==-1){i=s;break}}switch(i){case"top":S=g.top-na(e).y;break;case"bottom":S=g.bottom-wl(e).y;break;case"centerY":case"center":S=g.centerY-TC(e).y;break;default:var o=g.top-na(e).y,y=g.bottom-wl(e).y;o<=0&&y>=0?S=0:S=Math.abs(o)<=Math.abs(y)?o:y;break}}else{if(i)for(var n=0,C=eP.length;n<C;n++){var s=eP[n];if(i.indexOf(s)!==-1){i=s;break}}switch(i){case"left":S=g.left-na(e).x;break;case"right":S=g.right-Ml(e).x;break;case"centerX":case"center":S=g.centerX-TC(e).x;break;default:var f=g.left-na(e).x,u=g.right-Ml(e).x;f<=0&&u>=0?S=0:S=Math.abs(f)<=Math.abs(u)?f:u;break}}switch(this.scrollMode){case 0:case 1:this.childOY+=S;break;default:this[`childO${t}`]+=S;break}};const zr=Phaser.Utils.Objects.GetValue;class fu extends ou{constructor(t,i){i===void 0&&(i={});var r=ey(i),g=zr(i,"panel",void 0);g===void 0&&(g={}),g.scrollMode=r,g.clampChildOY=zr(i,"clampChildOY",!1),g.clampChildOX=zr(i,"clampChildOX",!1);var S=new PA(t,g);t.add.existing(S);var n,C;switch(r){case 0:n=zr(i,"expand.panel",!0),C=!0;break;case 1:n=!0,C=zr(i,"expand.panel",!0);break;default:n=!0,C=!0}i.type="rexScrollablePanel",i.child={gameObject:S,expandWidth:n,expandHeight:C,align:zr(i,"align.panel","center")};var s=zr(i,"space",void 0);s&&(s.child=zr(s,"panel",0)),super(t,i),this.addChildrenMap("panel",S.child),this.addChildrenMap("panelLayer",S.maskLayer),this.addChildrenMap("mask",S.maskGameObject),this.addChildrenMap("scrollableBlock",S)}setChildrenInteractive(t){return t===void 0&&(t={}),t.hasOwnProperty("eventEmitter")||(t.eventEmitter=this),t.hasOwnProperty("targets")||(t.targets=[this.childrenMap.panel]),zc(this.childrenMap.child,t),this}}var ZJ={scrollToChild:KJ};Object.assign(fu.prototype,ZJ);const JJ=Phaser.Utils.Objects.GetValue;var QJ=function(){var e=this.scene,t,i=this.listCreateBackgroundCallback;i&&(t=i.call(this,e),e.add.existing(t));var f=[],r=this.listCreateButtonCallback;if(r)for(var g=this.options,S=0,n=g.length;S<n;S++){var C=r.call(this,e,g[S],S,g);C&&(e.add.existing(C),f.push(C))}var s=this.listWidth;s===void 0&&(this.listAlignMode==="text"?s=this.getElement("text").width:s=this.width);var o=this.listHeight,y={width:s,buttons:f,space:this.listSpace},f,u,l;if(this.listCreateSliderThumbCallback?l=o>0||this.listMaxHeight>0:l=!1,!l)y.height=o,f=iP(e,y,this.listWrapEnable),u=f;else{var f=iP(e,y,this.listWrapEnable);if(this.listMaxHeight>0&&(f.layout(),f.height<=this.listMaxHeight&&(u=f)),!u){o===0&&(o=this.listMaxHeight);var a=sP(e,this.listCreateSliderTrackCallback),d=sP(e,this.listCreateSliderThumbCallback);u=new fu(e,{height:o,scrollMode:0,panel:{child:f,mask:{padding:1}},slider:{track:a,thumb:d,adaptThumbSize:this.listSliderAdaptThumbSizeEnable},scrollDetectionMode:1,scroller:this.listScrollerConfig,mouseWheelScroller:this.listMouseWheelScrollerConfig,space:{panel:JJ(this.listSpace,"panel",0)}}),e.add.existing(u)}}return t&&u.addBackground(t,"background"),this.listDraggable&&u.setDraggable(!0),u!==f&&f.on("button.over",function(v,h,c,p){u.emit("button.over",v,h,c,p)}).on("button.out",function(v,h,c,p){u.emit("button.out",v,h,c,p)}).on("button.click",function(v,h,c,p){u.emit("button.click",v,h,c,p)}),u},iP=function(e,t,i){var r;return i?(t.orientation="x",r=new mn(e,t)):(t.orientation="y",r=new Fe(e,t)),e.add.existing(r),r},sP=function(e,t,i){var r;return t&&(r=t.call(i,e),e.add.existing(r)),r},jJ=function(e,t,i,r,g){var S={};switch(S.mode=0,i){case 0:case"x":S.end={x:0};break;case 1:case"y":S.end={y:0};break;default:S.end=0;break}return S.duration=t,S.ease=r,g===void 0?g=new Ll(e,S):g.resetFromJSON(S),g.restart(),g},qJ=function(e,t,i,r,g){return ar(e,t)?Bt(e,t):ar(e,i)?Bt(e,i):g};const qa=Phaser.Utils.Objects.GetValue;var _J=function(e,t){var i=qa(t,"expandDirection",void 0);typeof i=="string"&&(i=tQ[i]);var r=qJ(t,"alignTarget","alignTargetX"),g=qa(t,"alignTargetY",r),S=qa(t,"alignOffsetX",0),n=qa(t,"alignOffsetY",0),C=qa(t,"alignSide",""),s=C.includes("right"),o=qa(t,"bounds"),y=i===0,f=i===1,u=!y&&!f,l=s?1:0,a=y||u?0:1;e.setOrigin(l,a);var d,v;s?d=r.getTopRight().x:d=r.getTopLeft().x,v=g.getBottomLeft().y,e.setPosition(d+S,v+n);var h=o;h||(h=Jo(e.scene)),u&&e.getBottomLeft().y>h.bottom&&(v=g.getTopLeft().y,e.setOrigin(0,1).setPosition(d+S,v+n))};const tQ={down:0,up:1},rP=Phaser.Utils.Objects.GetValue;class EA extends bc{constructor(t,i){i===void 0&&(i={}),i.transitIn==null&&(i.transitIn=function(S,n){Fx(S,n,"y","Cubic")}),i.transitOut==null&&(i.transitOut=function(S,n){jJ(S,n,"y","Linear")}),i.manualClose=!0,i.clickOutsideClose=!0,i.destroy=!0,super(t,i),_J(t,i),t.isRexSizer&&t.layout();var r=rP(i,"touchOutsideClose",!1),g=rP(i,"anyTouchClose",!1);g&&(r=!1),g?this.once("open",this.anyTouchClose,this):r&&this.once("open",this.touchOutsideClose,this),this.requestOpen()}shutdown(t){this.isShutdown||(this.scene.input.off("pointerup",this.touchCloseCallback,this),super.shutdown(t))}touchOutsideClose(){return this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&Bc(this.parent,t.worldX,t.worldY)||this.requestClose()}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}var eQ=function(){if(this.listPanel)return this;if(this.options.length===0)return this;var e=QJ.call(this);e.on("button.over",function(r,g,S,n){this.currentOverIndex=g,this.listOnButtonOver&&this.listOnButtonOver.call(this,r,g,S,n),this.emit("button.over",this,e,r,g,S,n)},this).on("button.out",function(r,g,S,n){this.currentOverIndex===g&&(this.currentOverIndex=void 0),this.listOnButtonOut&&this.listOnButtonOut.call(this,r,g,S,n),this.emit("button.out",this,e,r,g,S,n)},this);var t;!this.listAlignMode||this.listAlignMode==="label"?t=this:t=this.getElement(this.listAlignMode);var i=new EA(e,{duration:{in:this.listEaseInDuration,out:this.listEaseOutDuration},transitIn:this.listTransitInCallback,transitOut:this.listTransitOutCallback,expandDirection:this.listExpandDirection,alignTargetX:t,alignTargetY:this,alignSide:this.listAlignSide,bounds:this.listBounds}).on("open",function(){e.on("button.click",function(r,g,S,n){this.listOnButtonClick&&this.listOnButtonClick.call(this,r,g,S,n),this.emit("button.click",this,e,r,g,S,n),this.dropDownBehavior.requestClose()},this),this.emit("list.open",this,e)},this).on("close",function(){this.listPanel=void 0,this.dropDownBehavior=void 0,this.emit("list.close",this)},this);return e.onClickOutside(function(){i.requestClose()}),this.listPanel=e,this.dropDownBehavior=i,this.pin(e),this},iQ=function(){return this.dropDownBehavior?(this.dropDownBehavior.requestClose(),this.currentOverIndex=void 0,this):this},sQ=function(){return this.listPanel?this.closeListPanel():this.openListPanel(),this},rQ=function(e){if(e===void 0&&(e=this.currentOverIndex),e===void 0)return this;var t=this.listPanel,i=t?t.getButton(e):this.options[e];return this.listOnButtonClick&&this.listOnButtonClick.call(this,i,e),this.emit("button.click",this,t,i,e),this},nQ=function(e){var t=this.listPanel;return t?(t.emitButtonOver(e),this):this};const aQ={focusNextButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var i=this.listPanel.getButtons().length;t=(e+1)%i}return this.emitButtonOver(t),this},focusPrevButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var i=this.listPanel.getButtons().length;t=(e-1+i)%i}return this.emitButtonOver(t),this}};var MA={openListPanel:eQ,closeListPanel:iQ,toggleListPanel:sQ,emitButtonClick:rQ,emitButtonOver:nQ};Object.assign(MA,NJ,aQ);const Nt=Phaser.Utils.Objects.GetValue;class cu extends wr{constructor(t,i){super(t,i),this.type="rexDropDownList",this.timer=void 0,this.listPanel=void 0,this.currentOverIndex=void 0,this.setOptions(Nt(i,"options"));var r=Nt(i,"list");this.setWrapEnable(Nt(r,"wrap",!1)),this.setCreateButtonCallback(Nt(r,"createButtonCallback")),this.setCreateListBackgroundCallback(Nt(r,"createBackgroundCallback")),this.setCreateListSliderTrackCallback(Nt(r,"createTrackCallback")),this.setCreateListSliderThumbCallback(Nt(r,"createThumbCallback")),this.setListSliderAdaptThumbSizeEnable(Nt(r,"sliderAdaptThumbSize",!1)),this.setListScrollerConfig(Nt(r,"scroller")),this.setListMouseWheelScrollerConfig(Nt(r,"mouseWheelScroller")),this.setButtonClickCallback(Nt(r,"onButtonClick")),this.setButtonOverCallback(Nt(r,"onButtonOver")),this.setButtonOutCallback(Nt(r,"onButtonOut")),this.setListExpandDirection(Nt(r,"expandDirection")),this.setListEaseInDuration(Nt(r,"easeIn",500)),this.setListEaseOutDuration(Nt(r,"easeOut",100)),this.setListTransitInCallback(Nt(r,"transitIn")),this.settListTransitOutCallback(Nt(r,"transitOut")),this.setListMaxHeight(Nt(r,"maxHeight",0)),this.setListSize(Nt(r,"width"),Nt(r,"height",0)),this.setListAlignmentMode(Nt(r,"alignParent","text")),this.setListAlignmentSide(Nt(r,"alignSide","")),this.setListBounds(Nt(r,"bounds")),this.setListSpace(Nt(r,"space")),this.setListDraggable(Nt(r,"draggable",!1)),this.setValueChangeCallback(Nt(i,"setValueCallback"),Nt(i,"setValueCallbackScope")),this.setValue(Nt(i,"value")),this.onClick(this.toggleListPanel,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.listPanel&&(this.listPanel.destroy(t),this.listPanel=void 0),super.destroy(t))}get isOpened(){return!!this.listPanel}setOptions(t){return t===void 0&&(t=[]),this.options=t,this}setValueChangeCallback(t,i){return this.valueChangeCallback=t,this.valueChangeCallbackScope=i,this}setValue(t){return this.value=t,this}get value(){return this._value}set value(t){if(this._value!==t){var i=this._value;this._value=t;var r=this.valueChangeCallback,g=this.valueChangeCallbackScope;r&&(g?r.call(g,this,t,i):r(this,t,i)),this.emit("valuechange",this,t,i)}}}Object.assign(cu.prototype,MA);st.register("dropDownList",function(e){var t=new cu(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.DropDownList",cu);var wA=function(e,t,i){t=t?Be(t):{},i===void 0&&(i={});var r=t.label||t.button,g=t.button||t.label;delete t.label,delete t.button;var S=i.label||i.button||i,n=i.button||i.label||i,C=Qc(e,r,S);C.list=t.list||{},C.list.createButtonCallback=function(y,f){var u=be(y,g,n).resetDisplayContent(f);return f.hasOwnProperty("value")&&(u.value=f.value),u};var s=t.track;s&&(C.list.createTrackCallback=function(y){return Me(y,s)},delete t.track);var o=t.thumb;return o&&(C.list.createThumbCallback=function(y){return Me(y,o)},delete t.thumb),C.list.onButtonOver=function(y,f,u,l){y.setHoverState&&y.setHoverState(!0)},C.list.onButtonOut=function(y,f,u,l){y.setHoverState&&y.setHoverState(!1)},C};class RA extends cu{constructor(t,i,r){i=wA(t,i,r),super(t,i),this.type="rexSimpleDropDownList"}setOptions(t){t===void 0&&(t=[]);for(var i=0,r=t.length;i<r;i++){var g=t[i];typeof g=="string"&&(t[i]={text:g,value:g})}return super.setOptions(t),this}}st.register("simpleDropDownList",function(e,t){var i=new RA(this.scene,e,t);return this.scene.add.existing(i),i});et(window,"RexPlugins.UI.SimpleDropDownList",RA);var oQ=function(e){var t=Mn(e),i,r,g;switch(t){case Qe:case je:i=e.height-e.padding.top-e.padding.bottom,r=e.lineSpacing,g=e.style.metrics.fontSize+e.style.strokeThickness;break;case Fi:i=e.height,r=0;var S=e.fontSize/e.fontData.size;g=e.fontData.lineHeight*S;break}return(i-r)/(g+r)},hQ=function(e,t){if(e===void 0&&(e=this.startLineIndex),t===void 0){var i=this.pageLinesCount;i>0?t=e+i:t=this.totalLinesCount}t>this.totalLinesCount&&(t=this.totalLinesCount);var r;switch(this.textObjectType){case Qe:case Fi:r=this.lines.slice(e,t).join(`
`);break;case je:var g=this.lines.getLineStartIndex(e),S=this.lines.getLineEndIndex(t-1);r=this.lines.getSliceTagText(g,S,!0);var n=(r.match(/\n/g)||[]).length;n>t-e-1&&(r=r.substring(0,r.length-1));break}return r};const lQ={clearText(){return this.sections.length=0,this.pageStartIndexes.length=0,this.lines.length=0,this},appendPage(i){var t=this.totalLinesCount;this.sections.push(Lo(i));var i=this.sections.join(`
`);this.lines=sy(this.parent,i,this.lines);var r=this.totalLinesCount-t,g=this.pageLinesCount,S;g>0?S=Math.ceil(r/this.pageLinesCount):S=1;for(var n=0;n<S;n++)this.pageStartIndexes.push(t+n*this.pageLinesCount);return this},setText(e,t){t===void 0&&(t=!0),t&&this.resetIndex(),this.clearText();for(var i=Lo(e).split(this.pageBreak),r=0,g=i.length;r<g;r++)this.appendPage(i[r]);return this},appendText(e){var t=this.content+Lo(e);return this.setText(t,!1),this}},nP=Phaser.Math.Clamp,uQ={resetIndex(){return this.pageIndex=-1,this.startLineIndex=-1,this.endLineIndex=void 0,this},setPageIndex(e){return e=nP(e,0,this.lastPageIndex),this.pageIndex=e,this.startLineIndex=this.pageStartIndexes[e],this.endLineIndex=this.pageStartIndexes[e+1],this},getPage(e){return e===void 0&&(e=this.pageIndex),this.setPageIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getNextPage(){return this.getPage(this.pageIndex+1)},getPreviousPage(){return this.getPage(this.pageIndex-1)},getFirstPage(){return this.getPage(0)},getLastPage(){return this.getPage(this.lastPageIndex)},setStartLineIndex(e){var t=Math.max(this.totalLinesCount-this.pageLinesCount,0);return e=nP(e,0,t),this.startLineIndex=e,this.endLineIndex=e+this.pageLinesCount,this},getPageByLineIndex(e){return this.setStartLineIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getPageOfNextLine(){return this.getPageByLineIndex(this.startLineIndex+1)},getPageOfPreviousLine(){return this.getPageByLineIndex(this.startLineIndex-1)},getPageOfFirstLine(){return this.getPageByLineIndex(0)},getPageOfLastLine(){return this.getPageByLineIndex(this.totalLinesCount)}},dQ={showPage(e){return this.displayText(this.getPage(e)),this},showNextPage(){return this.displayText(this.getNextPage()),this},showPreviousPage(){return this.displayText(this.getPreviousPage()),this},showFirstPage(){return this.displayText(this.getFirstPage()),this},showLastPage(){return this.displayText(this.getLastPage()),this},show(){return this.displayText(this.getLines()),this},showPageByLineIndex(e){return this.displayText(this.getPageByLineIndex(e)),this},showNextLine(){return this.displayText(this.getPageOfNextLine()),this},showPreviousLine(){return this.displayText(this.getPageOfPreviousLine()),this},showFirstLine(){return this.displayText(this.getPageOfFirstLine()),this},showLastLine(){return this.displayText(this.getPageOfLastLine()),this},displayText(e){Jc(this.parent,e)}};var AA={getLines:hQ};Object.assign(AA,lQ,uQ,dQ);const _a=Phaser.Utils.Objects.GetValue;Phaser.Math.Clamp;class hv extends Qt{constructor(t,i){super(t,{eventEmitter:!1}),this.textObjectType=Mn(this.parent),this.pageStartIndexes=[],this.lines=sy(this.parent,""),this.sections=[],this.resetFromJSON(i)}resetFromJSON(t){this.setMaxLines(_a(t,"maxLines",void 0)),this.setPageBreak(_a(t,"pageBreak",`\f
`)),this.setText(_a(t,"text","")),this.startLineIndex=_a(t,"start",-1),this.endLineIndex=_a(t,"end",void 0);var i=_a(t,"page");return i===void 0?this.resetIndex():this.setPageIndex(i),this}toJSON(){return{maxLines:this.maxLines,text:this.content,start:this.startLineIndex,end:this.endLineIndex,page:this.pageIndex,pageBreak:this.pageBreak}}shutdown(t){if(!this.isShutdown){switch(this.textObjectType){case Qe:this.lines.length=0;break;case je:this.lines.destroy();break;case Fi:this.lines.length=0;break}this.pageStartIndexes.length=0,this.sections.length=0,this.lines=void 0,this.pageStartIndexes=void 0,this.sections=void 0,super.shutdown(t)}}setMaxLines(t){return this.maxLines=t,this}setPageBreak(t){return this.pageBreak=t,this}get pageCount(){return this.pageStartIndexes.length}get lastPageIndex(){return this.pageCount-1}get isFirstPage(){return this.pageIndex<=0}get isLastPage(){return this.pageIndex>=this.pageCount-1}get totalLinesCount(){return this.lines?this.lines.length:0}get pageLinesCount(){if(this.maxLines!==void 0)return this.maxLines;var t;switch(this.textObjectType){case Qe:case je:var i=this.parent.style.maxLines;i>0?t=i:t=Math.floor(oQ(this.parent));break;case Fi:t=this.totalLinesCount;break}return t}get isFirstLine(){return this.startLineIndex<=0}get isLastLine(){return this.endLineIndex===this.totalLinesCount}get content(){return this.sections.join(this.pageBreak)}}Object.assign(hv.prototype,AA);const fQ={setText(e){this.setTextCallback&&(this.setTextCallbackScope?e=this.setTextCallback.call(this.setTextCallbackScope,e,this.isLastChar,this.insertIndex):e=this.setTextCallback(e,this.isLastChar,this.insertIndex)),this.textWrapEnable?Jc(this.parent,e):this.parent.setText(e)},appendText(e){var t=this.text.concat(Lo(e));return this.isTyping?this.setTypingContent(t):this.start(t,void 0,this.textLength),this}};var cQ=function(e,t,i,r){return e!==void 0&&this.setTypingContent(e),t!==void 0&&(this.speed=t),i===void 0&&(i=0),this.typingIndex=i+1,this.speed===0?this.stop(!0):(this.setText(""),this.startTimer(r)),this},LA=function(e,t){return e.getPlainText&&(t=e.getPlainText(t)),t},vQ=function(e,t,i,r,g){var S;if(t>0){r===void 0&&(r=0);var n=LA(this.parent,e);S=pQ(n,t)+r}return this.start(e,i,S,g)},pQ=function(e,t){for(var i=void 0,r=0;r<t&&(i=e.indexOf(`
`,i+1),i!==-1);r++);return i},Ih=function(e,t,i,r){var g;return e.getSubString?g=e.getSubString(t,i,r):g=t.slice(i,r),g},OA=function(e,t,i,r){var g=this.parent,S;if(r===0){var n=0,C=t;this.insertIndex=C,S=Ih(g,e,n,C)}else if(r===1){var C=i,n=C-t;this.insertIndex=0,S=Ih(g,e,n,C)}else if(r===2){var s=i/2,n=Math.floor(s-t/2),C=n+t;this.insertIndex=t%2?t:0,S=Ih(g,e,n,C)}else if(r===3){var o=Math.floor(t/2),y;if(o>0){var C=i,n=C-o;y=Ih(g,e,n,C)}else y="";var f=t-o,u;if(f>0){var n=0,C=n+f;this.insertIndex=C,u=Ih(g,e,n,C)}else u="",this.insertIndex=0;S=u+y}return this.insertChar=S.charAt(this.insertIndex-1),S},gQ=function(e){var t=this.getTimer();if(t&&this.freeTimer(),e){for(;!this.isLastChar;)OA.call(this,this.text,this.typingIndex,this.textLength,this.typeMode),this.emit("typechar",this.insertChar),this.typingIndex++;this.setText(this.text),this.emit("type"),this.emit("complete",this,this.parent)}return this},mQ=function(){var e=this.getTimer();return e&&(e.paused=!0),this},xQ=function(){var e=this.getTimer();return e&&(e.paused=!1),this},FA={start:cQ,startFromLine:vQ,stop:gQ,pause:mQ,resumeTyping:xQ};Object.assign(FA,fQ);var yQ=function(e,t){var i=Mn(e);switch(i){case Qe:e.style.syncFont(e.canvas,e.context),t=e.runWordWrap(t);break;case je:t=e.getText(t,void 0,void 0,!0);break;case Fi:t=e.setText(t).getTextBounds().wrappedText;break}return t};const Gh=Phaser.Utils.Objects.GetFastValue,vg=Phaser.Utils.Objects.GetValue;class lv extends Qt{constructor(t,i){super(t,i),this.timer=null,this.resetFromJSON(i)}resetFromJSON(t){this.setTextWrapEnable(vg(t,"wrap",!1)),this.setTypeMode(vg(t,"typeMode",0)),this.setTypingSpeed(vg(t,"speed",333)),this.setTextCallback=Gh(t,"setTextCallback",null),this.setTextCallbackScope=Gh(t,"setTextCallbackScope",null),this.setTypingContent(Gh(t,"text","")),this.typingIndex=Gh(t,"typingIndex",0),this.insertIndex=null,this.insertChar=null;var i=Gh(t,"elapsed",null);return i!==null&&this.start(void 0,void 0,this.typingIndex,i),this}shutdown(t){this.isShutdown||(this.freeTimer(),super.shutdown(t))}setTypeMode(t){return typeof t=="string"&&(t=CQ[t]),this.typeMode=t,this}setTypeSpeed(t){return this.speed=t,this}setTypingSpeed(t){return this.speed=t,this}setTextWrapEnable(t){return t===void 0&&(t=!0),this.textWrapEnable=t,this}set text(t){var i=Lo(t);this.textWrapEnable&&(i=yQ(this.parent,i)),this._text=i}get text(){return this._text}get isTyping(){return this.getTimer()!==null}get isLastChar(){return this.typingIndex===this.textLength}setTypingContent(t){return this.text=t,this.textLength=LA(this.parent,this.text).length,this}onTyping(){var t=OA.call(this,this.text,this.typingIndex,this.textLength,this.typeMode);this.setText(t),this.emit("typechar",this.insertChar),this.emit("type"),this.isLastChar?(this.freeTimer(),this.scene.sys.events.once("preupdate",function(){this.emit("complete",this,this.parent)},this)):(this.timer.delay=this.speed,this.typingIndex++)}startTimer(t){this.timer&&this.freeTimer();var i;return t===void 0?i=0:(this.speed,i=t),this.timer=this.scene.time.addEvent({delay:1e-4,startAt:i,loop:!0,callback:this.onTyping,callbackScope:this}),this}getTimer(){return this.timer}freeTimer(){return this.timer&&(this.timer.remove(),this.timer=null),this}setText(t){this.setTextCallback&&(this.setTextCallbackScope?t=this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIndex):t=this.setTextCallback(t,this.isLastChar,this.insertIndex)),this.textWrapEnable?Jc(this.parent,t):this.parent.setText(t)}}const CQ={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3};Object.assign(lv.prototype,FA);const kh=Phaser.Utils.Objects.GetValue;var TQ=function(e,t){t===void 0&&(t="rexTextBox");class i extends e{constructor(g,S){super(g,S),this.type=t,this.isRunning=!1,this._isPageEnd=!1;var n=this.childrenMap.text,C=kh(S,"expandTextWidth",!1),s=kh(S,"expandTextHeight",!1);if(C||s){var o=Mn(n);switch(o){case Qe:case je:if(n.resize=function(f,u){var l=C?f:0,a=s?u:0;n.setFixedSize(l,a),l>0&&n.setWordWrapWidth(l)},o===je){var y=n.style;y.wrapMode===0&&(y.wrapMode=1)}break}C&&(n._minWidth=0),s&&(n._minHeight=0)}this.setTypingMode(kh(S,"typingMode","page")),this.page=new hv(n,kh(S,"page",void 0)),this.typing=new lv(n,kh(S,"typing",S.type)),this.typing.on("complete",this.onTypingComplete,this).on("type",this.onType,this).on("typechar",this.onTypeChar,this),this.textWidthSave=n.width,this.textHeightSave=n.height}setTypingMode(g){return typeof g=="string"&&(g=SQ[g]),this.typingMode=g,this}start(g,S){return S!==void 0&&this.setTypingSpeed(S),this.isRunning=!0,this.page.setText(g),this.emit("start"),this.typingMode===0?this.typeNextPage():this.typeNextLine(),this}more(g,S){if(S!==void 0&&this.setTypingSpeed(S),this.isRunning)this.page.appendText(g),this.typing.appendText(g);else{if(this.isRunning=!0,this.page.appendText(g),this.emit("start"),this.typingMode===0){this._isPageEnd=!1;var n=this.page.getPage(),C=this.typing.textLength;this.typing.start(n,void 0,C)}return this}}typeNextPage(){if(!this.isRunning)return this;if(this.isLastPage)this.emit("complete");else{this._isPageEnd=!1;var g=this.page.getNextPage();this.typing.start(g)}return this}typeNextLine(){if(!this.isRunning)return this;if(this.isLastLine)this.isRunning=!1,this.emit("pageend"),this.emit("complete");else{var g=this.page.getPageOfNextLine(),S;this.isFirstLine?S=0:S=this.page.pageLinesCount-1,this.typing.startFromLine(g,S)}}pause(){return this.isRunning?(this.isTyping&&(this.typing.pause(),this.emit("pause")),this):this}resume(){return this.isRunning?(this.isTyping||(this.emit("resume"),this.typing.resume()),this):this}stop(g){return this.isRunning?(this.typing.stop(g),this):this}showLastPage(){return this.isRunning?(this.typing.stop(),this.typingMode===0?this.page.showLastPage():this.page.showLastLine(),this.emit("type"),this.onTypingComplete(),this):this}setTypeSpeed(g){return this.typing.setTypingSpeed(g),this}setTypingSpeed(g){return this.typing.setTypingSpeed(g),this}get isTyping(){return this.typing.isTyping}get isPageEnd(){return this._isPageEnd}get isLastPage(){return this.page.isLastPage}get isFirstPage(){return this.page.isFirstPage}get pageCount(){return this.page.pageCount}get pageIndex(){return this.page.pageIndex}get isLastLine(){return this.page.isLastLine}get isFirstLine(){return this.page.isFirstLine}get lineCound(){return this.page.totalLinesCount}get startLineIndex(){return this.page.startLineIndex}get endLineIndex(){return this.page.endLineIndex}get typingSpeed(){return this.typing.speed}onType(){var g=this.childrenMap.text;(this.textWidthSave!==g.width||this.textHeightSave!==g.height)&&(this.textWidthSave=g.width,this.textHeightSave=g.height,this.getTopmostSizer().layout()),this.emit("type")}onTypeChar(g){this.emit("typechar",g)}onTypingComplete(){if(this.typingMode===0){this._isPageEnd=!0;var g=this.isLastPage;this.isRunning=!g,this.emit("pageend"),g&&this.emit("complete")}else this.typeNextLine()}}return i};const SQ={page:0,line:1};class py extends TQ(jc){constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("layoutMode")||(i.layoutMode=1),super(t,i)}}st.register("textBox",function(e){var t=new py(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.TextBox",py);class bA extends py{constructor(t,i,r){i=nA(t,i,r),super(t,i)}}st.register("simpleTextBox",function(e){var t=new bA(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.SimpleTextBox",bA);const wi=Phaser.Utils.Objects.GetValue;class DA extends St{constructor(t,i){super(t,i),this.type="rexNumberBar";var r=wi(i,"background",void 0),g=wi(i,"icon",void 0),S=wi(i,"iconMask",void 0),n=wi(i,"slider",void 0),C=wi(i,"text",void 0),s=wi(i,"space.icon",0),o=wi(i,"space.slider",0);if(r&&this.addBackground(r),g){var y;this.orientation===0?(n||C)&&(y={right:s}):(n||C)&&(y={bottom:s}),this.add(g,{proportion:0,align:"center",padding:y}),S&&(S=ws.call(this,g,g,1))}var f;if(n){n.orientation=this.orientation,n.eventEmitter=this,n.value=null,n.hasOwnProperty("input")||(n.input=-1),f=new th(t,n),t.add.existing(f);var y;this.orientation===0?C&&(y={right:o}):C&&(y={bottom:o});var u;if(this.orientation===0){var l=wi(n,"width",void 0);u=l===void 0?1:0}else{var a=wi(n,"height",void 0);u=a===void 0?1:0}this.add(f,{proportion:u,align:"center",padding:y})}C&&this.add(C),this.addChildrenMap("background",r),this.addChildrenMap("icon",g),this.addChildrenMap("iconMask",S),this.addChildrenMap("slider",f),this.addChildrenMap("text",C);var d=wi(i,"valuechangeCallback",null);if(d!==null){var v=wi(i,"valuechangeCallbackScope",void 0);this.on("valuechange",d,v)}this.setEnable(wi(i,"enable",void 0)),this.setValue(wi(i,"value",0))}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,i,r){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,i,r),this}addValue(t,i,r){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,i,r),this}getValue(t,i){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,i):0}easeValueTo(t,i,r){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,i,r),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}get text(){var t=this.childrenMap.text;if(t===void 0)return"";var i;return t.text?i=t.text:i=t.getData("text"),i}set text(t){var i=this.childrenMap.text;i!==void 0&&(i.setText?i.setText(t):i.setData("text",t))}setText(t){return this.text=t,this}}st.register("numberBar",function(e){var t=new DA(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.NumberBar",DA);st.register("scrollBar",function(e){var t=new iy(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ScrollBar",iy);const pg=Phaser.Utils.Objects.GetValue,aP={leftTop:"left-top",centerTop:"center-top",rightTop:"right-top",leftCenter:"left-center",center:"center",rightCenter:"right-center",leftBottom:"left-bottom",centerBottom:"center-bottom",rightBottom:"right-bottom"};class BA extends ss{constructor(t,i){super(t,i),this.type="rexBadge";var r=pg(i,"background",void 0);r&&this.addBackground(r),this.addChildrenMap("background",r);var g=pg(i,"main",void 0);g&&this.add(g,{key:"main",align:"center",expand:!1}),this.addChildrenMap("main",g);for(var S in aP){var n=pg(i,S,void 0);n&&(this.add(n,{key:S,align:aP[S],expand:!1}),this.addChildrenMap(S,n))}}}st.register("badgeLabel",function(e){var t=new BA(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.BadgeLabel",BA);const PQ=ss.prototype.add;var oP=function(e,t,i,r,g,S,n,C,s){return e.setVisible(!1),PQ.call(this,e,t,i,r,g,S,n,C,s),this};const EQ={add:oP,addPage:oP};var MQ=function(e){return e===void 0?null:this.sizerChildren.hasOwnProperty(e)?this.sizerChildren[e]:null};const hP=ki.prototype.setChildVisible;var wQ=function(e,t){this._previousKey=this._currentKey;var i=this.previousPage;i&&(this.swapMode===0?(hP.call(this,i,!1),this.emit("pageinvisible",i,this._previousKey,this)):i.destroy()),e&&!this.sizerChildren.hasOwnProperty(e)&&this.emit("createpage",e,this),this._currentKey=e;var r=this.currentPage;return r&&(hP.call(this,r,!0),this.emit("pagevisible",r,this._currentKey,this),t===void 0&&(t=this.fadeInDuration),t>0&&r.setAlpha(0).fadeIn(t,1)),this},RQ=function(e){return this.sizerChildren.hasOwnProperty(e)},IA={getPage:MQ,swapPage:wQ,hasPage:RQ};Object.assign(IA,EQ);const lP=Phaser.Utils.Objects.GetValue;class uv extends ss{constructor(t,i){super(t,i),this.type="rexPages",this.childrenMap=this.sizerChildren,this._previousKey=void 0,this._currentKey=void 0,this.setSwapMode(lP(i,"swapMode",0)),this.setFadeInDuration(lP(i,"fadeIn",0))}setSwapMode(t){return typeof t=="string"&&(t=AQ[t]),this.swapMode=t,this}setFadeInDuration(t){return this.fadeInDuration=t,this}get previousKey(){return this._previousKey}get currentKey(){return this._currentKey}set currentKey(t){this.swapPage(t)}get currentPage(){return this.getPage(this.currentKey)}get previousPage(){return this.getPage(this.previousKey)}get keys(){return Object.keys(this.sizerChildren)}}Object.assign(uv.prototype,IA);const AQ={invisible:0,destroy:1};st.register("pages",function(e){var t=new uv(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Pages",uv);const LQ=Phaser.GameObjects.Mesh;class GA extends LQ{get tint(){return this.vertices.length===0?16777215:this.vertices[0].color}forceUpdate(){return this.dirtyCache[10]=1,this}}const kA=Phaser.Math.Vector3,OQ=Phaser.Math.Matrix4;var uP=new kA,dP=new kA,fP=new OQ,FQ=function(e,t,i,r,g,S,n){t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),g===void 0&&(g=0),S===void 0&&(S=0),n===void 0&&(n=0),uP.set(t,i,r),dP.set(g,S,n),fP.fromRotationXYTranslation(dP,uP,!0);for(var C=0,s=e.vertices.length;C<s;C++)e.vertices[C].transformMat4(fP)};const bQ=Phaser.Utils.Objects.IsPlainObject,Yn=Phaser.Utils.Objects.GetValue,DQ=Phaser.Geom.Mesh.GenerateGridVerts,gg=Phaser.Math.RadToDeg,cf=Phaser.Math.DegToRad,NA=45,BQ=1+1/Math.sin(cf(NA));let zA=class extends GA{constructor(t,i,r,g,S,n){bQ(i)&&(n=i,i=Yn(n,"x",0),r=Yn(n,"y",0),g=Yn(n,"key",null),S=Yn(n,"frame",null)),super(t,i,r,g,S),this.type="rexPerspectiveImage",this.setSizeToFrame(),this.resetPerspective(),this.panZ(BQ),this.hideCCW=Yn(n,"hideCCW",!0);var C=Yn(n,"gridWidth",0),s=Yn(n,"gridHeight",C);this.resetVerts(C,s),this.prevFrame=this.frame}preUpdate(t,i){this.prevFrame!==this.frame&&(this.prevFrame=this.frame,this.syncSize()),super.preUpdate(t,i)}get originX(){return .5}get originY(){return .5}resetPerspective(){return this.setPerspective(this.width,this.height,NA),this}resetVerts(S,n){if(S!==void 0&&(this.gridWidth=S),n!==void 0&&(this.gridHeight=n),this.clear(),this.dirtyCache[9]=-1,this.width===0||this.height===0)return this;var r=this.frame.cutWidth,g=this.frame.cutHeight,S,n;this.gridWidth===0?S=Math.max(r/8,32):n=this.gridWidth,this.gridHeight===0?n=Math.max(g/8,32):n=this.gridHeight,DQ({mesh:this,width:r/this.height,height:g/this.height,widthSegments:Math.ceil(r/S),heightSegments:Math.ceil(g/n)});var C=this.transformInfo;return C&&this.transformVerts(C.x,C.y,C.z,C.rotateX,C.rotateY,C.rotateZ),this}syncSize(){return this.setSizeToFrame(),this.resetPerspective(),this.resetVerts(),this}get rotationX(){return this.modelRotation.x}set rotationX(t){this.modelRotation.x=t}get angleX(){return gg(this.rotationX)}set angleX(t){this.rotationX=cf(t)}get rotationY(){return this.modelRotation.y}set rotationY(t){this.modelRotation.y=t}get angleY(){return gg(this.rotationY)}set angleY(t){this.rotationY=cf(t)}get rotationZ(){return this.modelRotation.z}set rotationZ(t){this.modelRotation.z=t}get angleZ(){return gg(this.rotationZ)}set angleZ(t){this.rotationZ=cf(t)}transformVerts(t,i,r,g,S,n){return t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),g===void 0&&(g=0),S===void 0&&(S=0),n===void 0&&(n=0),this.transformInfo||(this.transformInfo={}),this.transformInfo.x=t,this.transformInfo.y=i,this.transformInfo.rotateX=g,this.transformInfo.rotateY=S,this.transformInfo.rotateZ=n,FQ(this,t,i,r,g,S,n),this}};const IQ=Phaser.Textures.DynamicTexture;var VA=function(e,t,i){t===void 0&&(t=2),i===void 0&&(i=2);var r=new IQ(e.sys.textures,null,t,i);return r};const GQ=Phaser.Utils.Objects.IsPlainObject,Id=Phaser.Utils.Objects.GetValue;class UA extends zA{constructor(t,i,r,g,S,n){GQ(i)&&(n=i,i=Id(n,"x",0),r=Id(n,"y",0),g=Id(n,"width",32),S=Id(n,"height",32));var C=VA(t,g,S);super(t,i,r,C,null,n),this.type="rexPerspectiveRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}snapshot(t,i){return i===void 0&&(i={}),i.gameObjects=t,i.renderTexture=this.rt,dx(i),(this.width!==this.frame.realWidth||this.height!==this.frame.realHeight)&&this.syncSize(),this}}Phaser.Animations.AnimationState;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var ms=function(e,t,i,r){if(Array.isArray(e))for(var g=!1,S=0,n=e.length;S<n;S++){var C=e[S];if(!(r&&!C)&&(i?g=t.call(i,C,S,e):g=t(C,S,e),g))return}else{var g=!1;for(var s in e){var C=e[s];if(!(r&&!C)&&(i?g=t.call(i,C,s,e):g=t(C,s,e),g))return}}};const to=Phaser.Math.RadToDeg,eo=Phaser.Math.DegToRad;class kQ extends ki{constructor(t,i,r,g,S,n){super(t,i,r,g,S),this.faces=n,ms(n,function(C){C.setPosition(i,r),this.add(C)},this,!0)}get rotationX(){return 0}set rotationX(t){}get angleX(){return to(this.rotationX)}set angleX(t){this.rotationX=eo(t)}get rotateX(){return to(this.rotationX)}set rotateX(t){this.rotationX=eo(t)}get rotationY(){return 0}set rotationY(t){}get angleY(){return to(this.rotationY)}set angleY(t){this.rotationY=eo(t)}get rotateY(){return to(this.rotationY)}set rotateY(t){this.rotationY=eo(t)}get rotationZ(){return 0}set rotationZ(t){}get angleZ(){return to(this.rotationZ)}set angleZ(t){this.rotationZ=eo(t)}get rotateZ(){return to(this.rotationZ)}set rotateZ(t){this.rotationZ=eo(t)}setDebug(t,i){return ms(this.faces,function(r){r.setDebug(t,i)},null,!0),this}panX(t){return ms(this.faces,function(i){i.panX(t)},null,!0),this}panY(t){return ms(this.faces,function(i){i.panY(t)},null,!0),this}panZ(t){return ms(this.faces,function(i){i.panZ(t)},null,!0),this}transformVerts(t,i,r,g,S,n){return ms(this.faces,function(C){C.transformVerts(t,i,r,g,S,n)},null,!0),this}forEachFace(t,i,r){return ms(this.faces,t,i,r),this}}const NQ=Phaser.Utils.Objects.IsPlainObject,zQ={key:"__WHITE"},VQ={image:zA,rendertexture:UA};var cP=function(e,t){t===void 0&&(t=zQ);var i;return NQ(t)?(t.hasOwnProperty("type")||(t.hasOwnProperty("key")?t.type="image":t.hasOwnProperty("width")&&(t.type="rendertexture")),i=new VQ[t.type](e,t),e.add.existing(i)):i=t,i},UQ=function(e,t,i){var r;if(i===void 0){r=[];for(var g,S,n=0,C=t.length;n<C;n++)S=t[n],S?g=cP(e,S):g=null,r.push(g)}else{r={};for(var g,s,n=0,C=i.length;n<C;n++)s=i[n],t.hasOwnProperty(s)?g=cP(e,t[s]):g=null,r[s]=g}return r};const XQ=Phaser.Math.DegToRad,vP=XQ(180);var WQ=function(e,t){var i=t.back;i&&(e.orientation===0?i.transformVerts(0,0,0,0,vP,0):i.transformVerts(0,0,0,vP,0,0))};const mg=Phaser.Utils.Objects.GetValue,YQ=Phaser.Math.Linear;let HQ=class extends Sa{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setEase(mg(t,"ease","Cubic")),this.setFrontToBackDirection(mg(t,"frontToBack",0)),this.setBackToFrontDirection(mg(t,"backToFront",1)),this}setFrontToBackDirection(t){return typeof t=="string"&&(t=pP[t]),this.endAngleFB=t===0?180:-180,this}setBackToFrontDirection(t){return typeof t=="string"&&(t=pP[t]),this.endAngleBF=t===0?-180:180,this}start(t,i){if(this.timer.isRunning)return this;this.timer.setDelay(this.delay).setDuration(t);var r=i+1,g=this.parent;return g.face===0?(this.startAngle=0,this.endAngle=this.endAngleFB*r):(this.startAngle=this.endAngleBF,this.endAngle=this.startAngle-this.endAngleBF*r),super.start(),this}flip(t,i){return this.isRunning?this:(t===void 0&&(t=this.duration),i===void 0&&(i=0),this.start(t,i),this.emit("start",this.parent,this),this.parent.currentFaceIndex=(this.parent.currentFaceIndex+i+1)%2,this)}flipRight(t,i){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(0):this.setBackToFrontDirection(0),this.flip(t,i),this}flipLeft(t,i){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(1):this.setBackToFrontDirection(1),this.flip(t,i),this}updateTarget(t,i){var r=this.easeFn(i.t),g=YQ(this.startAngle,this.endAngle,r);t.orientation===0?t.angleY=g:t.angleX=g}};const pP={right:0,"left-to-right":0,left:1,"right-to-left":1},$Q=Phaser.Utils.Objects.IsPlainObject,Hn=Phaser.Utils.Objects.GetValue,KQ=["back","front"];class ZQ extends kQ{constructor(t,i,r,g){$Q(i)&&(g=i,i=Hn(g,"x",0),r=Hn(g,"y",0));var S=UQ(t,g,KQ),n=S.back,C=S.front,s=Hn(g,"width"),o=Hn(g,"height");if(s===void 0||o===void 0){if(s===void 0){var y=C?C.width:0,f=n?n.width:0;s=Math.max(y,f)}if(o===void 0){var u=C?C.height:0,l=n?n.height:0;o=Math.max(u,l)}}super(t,i,r,s,o,S),this.type="rexPerspectiveCard",this.frontFaceRotationX=0,this.frontFaceRotationY=0,this.frontFaceRotationZ=0,ms(S,function(d,v){this[`${v}Face`]=d},this);var a=Hn(g,"flip",void 0);a!==!1&&(this.flip=new HQ(this,a)),this.setOrientation(Hn(g,"orientation",0)),WQ(this,S),this.setFace(Hn(g,"face",0))}get rotationX(){return this.frontFaceRotationX}set rotationX(t){this.frontFaceRotationX!==t&&(this.frontFaceRotationX=t,ms(this.faces,function(i){i.rotationX=t},null,!0))}get rotationY(){return this.frontFaceRotationY}set rotationY(t){this.frontFaceRotationY!==t&&(this.frontFaceRotationY=t,ms(this.faces,function(i){i.rotationY=t},null,!0))}get rotationZ(){return this.frontFaceRotationZ}set rotationZ(t){this.frontFaceRotationZ!==t&&(this.frontFaceRotationZ=t,ms(this.faces,function(i){i.rotationZ=t},null,!0))}setOrientation(t){return typeof t=="string"&&(t=JQ[t]),this.orientation=t,this}get face(){return this.currentFaceIndex}set face(t){typeof t=="string"&&(t=QQ[t]),this.currentFaceIndex=t;var i=t===1,r=i?180:0;this.orientation===0?this.angleY=r:this.angleX=r}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}}const JQ={x:0,horizontal:0,h:0,y:1,vertical:1,v:1},QQ={front:0,back:1};Phaser.Utils.Objects.GetValue;Phaser.Math.RadToDeg;Phaser.Math.DegToRad;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Angle.ShortestBetween;Phaser.Math.Wrap;Phaser.Math.Linear;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.DegToRad;Phaser.Math.RadToDeg;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Linear;Phaser.Math.Wrap;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.Wrap;const jQ=Phaser.Utils.Objects.GetValue;var qQ=function(e,t,i){t.visibleSibling=[],t.isRunning=!1,t.useParentBounds=jQ(i,"useParentBounds",!1),t.setPosition(e.x,e.y).setVisible(!1),e.pin(t)},XA=function(e,t){if(!e)return!1;for(var i=t.visibleSibling,r=0,g=i.length;r<g;r++)e.setChildVisible(i[r],!0);return i.length=0,e.setChildVisible(t,!1),t.isRunning=!1,!0},_Q=function(e,t){if(!e)return!1;XA(e,t);var i=t.useParentBounds;dx({gameObjects:e.getAllVisibleChildren(),renderTexture:t.rt,x:t.x,y:t.y,width:i?e.displayWidth:void 0,height:i?e.displayHeighth:void 0,originX:i?e.originX:void 0,originY:i?e.originY:void 0}),e.setChildVisible(t,!0);for(var r=t.visibleSibling,g=e.children,S=0,n=g.length;S<n;S++){var C=g[S];C.visible&&C!==t&&(e.setChildVisible(C,!1),r.push(C))}return t.isRunning=!0,!0},WA=function(e){return class extends e{constructor(i,r){var g=i.scene;super(g,0,0,1,1,r),g.add.existing(this),qQ(i,this,r)}destroy(i){!this.scene||this.ignoreDestroy||(this.exit(),super.destroy(i))}enter(){var i=_Q(this.rexContainer.parent,this);return i&&this.syncSize(),this}exit(){return XA(this.rexContainer.parent,this),this}}};class YA extends WA(UA){get perspectiveState(){return this.isRunning}}const tj=Phaser.Utils.Objects.GetValue;var ej=function(e){var t=this.scene;this.setSnapshotPadding(tj(e,"snapshotPadding",0)),e=Ps(e),delete e.width,delete e.height,e.front={width:1,height:1},e.back={width:1,height:1};var i=new ZQ(t,e);t.add.existing(i);var r=i.flip;if(r){var g=this;r.on("start",function(){g.enterPerspectiveMode()}).on("complete",function(){g.exitPerspectiveMode()})}return i};const ij=["front","back"],sj={enterPerspectiveMode(){return this.isInPerspectiveMode?this:(this.setChildVisible(this.perspectiveCard,!0),this.snapshotFace(0),this.snapshotFace(1),this.setChildVisible(this.childrenMap.front,!1),this.setChildVisible(this.childrenMap.back,!1),this.perspectiveCard.setSize(this.width,this.height),this)},exitPerspectiveMode(){if(!this.isInPerspectiveMode)return this;this.setChildVisible(this.perspectiveCard,!1);var e=this.perspectiveCard.face===0;return this.setChildVisible(this.childrenMap.front,e),this.setChildVisible(this.childrenMap.back,!e),this},setSnapshotPadding(e){return this.snapshotPadding=e,this},snapshotFace(e){typeof e=="number"&&(e=ij[e]);var t=this.perspectiveCard.faces[e],i=this.childrenMap[e];t.rt.clear();var r=i.visible;i.visible=!0;var g=i.isRexContainerLite?i.getAllVisibleChildren():i;return t.snapshot(g,{padding:this.snapshotPadding}),i.visible=r,this}},gP=Phaser.Utils.Objects.GetValue;class gy extends ss{constructor(t,i){super(t,i),this.type="rexPerspectiveCard";var r=i.back,g=gP(i,"expand.back",!0);this.add(r,{key:"back",expand:g});var S=i.front,n=gP(i,"expand.front",!0);this.add(S,{key:"front",expand:n}),this.perspectiveCard=ej.call(this,i),this.pin(this.perspectiveCard),this.exitPerspectiveMode(!1)}get flip(){return this.perspectiveCard.flip}get face(){return this.perspectiveCard.face}set face(t){if(!(this.flip&&this.flip.isRunning)){this.perspectiveCard.face=t;var i=t===0,r=this.childrenMap.front,g=this.childrenMap.back;this.setChildVisible(r,i),this.setChildVisible(g,!i)}}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}get isInPerspectiveMode(){return this.perspectiveCard.visible}get rotationX(){return this.perspectiveCard.rotationX}set rotationX(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationX=t}get angleX(){return this.perspectiveCard.angleX}set angleX(t){this.enterPerspectiveMode(),this.perspectiveCard.angleX=t}get rotationY(){return this.perspectiveCard.rotationY}set rotationY(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationY=t}get angleY(){return this.perspectiveCard.angleY}set angleY(t){this.enterPerspectiveMode(),this.perspectiveCard.angleY=t}get rotationZ(){return this.perspectiveCard.rotationZ}set rotationZ(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationZ=t}get angleZ(){return this.perspectiveCard.angleZ}set angleZ(t){this.enterPerspectiveMode(),this.perspectiveCard.angleZ=t}panX(t){return this.enterPerspectiveMode(),this.perspectiveCard.panX(t),this}panY(t){return this.enterPerspectiveMode(),this.perspectiveCard.panY(t),this}panZ(t){return this.enterPerspectiveMode(),this.perspectiveCard.panZ(t),this}transformVerts(t,i,r,g,S,n){return this.enterPerspectiveMode(),this.perspectiveCard.transformVerts(t,i,r,g,S,n),this}forEachFace(t,i,r){return this.enterPerspectiveMode(),this.perspectiveCard.forEachFace(t,i,r),this}}Object.assign(gy.prototype,sj);st.register("perspectiveCard",function(e){var t=new gy(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.PerspectiveCard",gy);var rj=function(e){var t=this.getElement("tabs.buttons");if(!(e>=t.length))return t[e].name},nj=function(e){for(var t=this.getElement("tabs.buttons"),i=0,r=t.length;i<r;i++)if(t[i].name===e)return i};const aj=Phaser.Utils.Objects.IsPlainObject,xg=Phaser.Utils.Objects.GetValue,oj=Phaser.Utils.String.UUID;var hj=function(e,t,i){if(aj(e)){var r=e;e=xg(r,"key"),t=xg(r,"tab"),i=xg(r,"page")}return e||(e=oj()),t.name=e,this.childrenMap.tabs.addButton(t),this.childrenMap.pages.addPage(i,{key:e}),this},lj=function(e,t){var i;if(typeof e=="number"?i=e:i=this.getPageIndex(e),i!=null){var r;t!==void 0&&(r=this.childrenMap.pages.fadeInDuration,this.childrenMap.pages.fadeInDuration=t),this.childrenMap.tabs.emitButtonClick(i),r!==void 0&&(this.childrenMap.pages.fadeInDuration=r)}return this},uj=function(e){return this.swapPage(0,e),this},dj=function(e){var t=this.getElement("tabs.buttons").length-1;return this.swapPage(t,e),this};const fj={swapPage:lj,swapFirstPage:uj,swapLastPage:dj},cj={removePage(e,t){typeof e=="number"&&(e=this.getPageKey(e));var i=this.childrenMap.tabs,r=i.getByName(e),g=this.childrenMap.pages,S=g.getElement(e);return!r||!S?this:(g.removeChildrenMap(e),i.removeButton(r,t),g.remove(S,t),this)},removeAllPages(e){for(var t=this.getElement("tabs.buttons"),i=t.length-1;i>=0;i--)this.removePage(t[i].name,e);return this}};var vj=function(e){return typeof e=="number"&&(e=this.getPageKey(e)),this.childrenMap.pages.getPage(e)},pj=function(e){var t;return typeof e=="number"?t=e:t=this.getPageIndex(e),this.getElement("tabs.buttons")[t]},gj={top:1,left:3,right:5,bottom:7},mP={top:"bottom",left:"right",right:"left",bottom:"top"},mj=function(e){var t=gj[e];if(t===void 0)return this;var i=this.childrenMap.tabs,r=this.sizerChildren.indexOf(i);if(r===t)return this;this.sizerChildren[r]=null,this.sizerChildren[t]=i;var g=this.getSizerConfig(i).padding,S=mP[this.tabsPosition],n=mP[e];return g[n]=g[S],g[S]=0,this.tabsPosition=e,this};const xj={setTabsPadding(e,t){var i=this.childrenMap.tabs;return i.setOuterPadding(e,t),this},getTabsPadding(e){var t=this.childrenMap.tabs;return t.getOuterPadding(e)}};var HA={getPageKey:rj,getPageIndex:nj,addPage:hj,getPage:vj,getTab:pj,setTabPosition:mj};Object.assign(HA,fj,cj,xj);const fs=Phaser.Utils.Objects.GetValue,xP=Rs.prototype.add;let dv=class extends Rs{constructor(t,i){i===void 0&&(i={}),i.column=3,i.row=3,i.columnProportions=[0,0,0],i.rowProportions=[0,0,0];var r=fs(i,"expand.pages",!0);r&&(i.columnProportions[1]=1,i.rowProportions[1]=1),super(t,i),this.type="rexTabPages";var g=fs(i,"background",void 0);g&&this.addBackground(g);var S=fs(i,"pages"),n=new uv(t,S);t.add.existing(n);var C=fs(i,"tabsPosition",void 0);C===void 0&&(C=fs(i,"tabPosition","top"));var s=fs(i,"wrapTabs",!1),o=s?mn:Fe,y=fs(i,"tabs",void 0);y===void 0&&(y={}),y.orientation=C==="top"||C==="bottom"?"x":"y",y.buttonsType="radio",!s&&!y.hasOwnProperty("expand")&&(y.expand=fs(i,"expand.tabs",!1));var f=new o(t,y);t.add.existing(f),xP.call(this,n,{column:1,row:1,expand:r});var u,l,a=fs(i,"space.item",0);switch(C){case"top":u=1,l=0,a={bottom:a};break;case"bottom":u=1,l=2,a={top:a};break;case"left":u=0,l=1,a={right:a};break;case"right":u=2,l=1,a={left:a};break}xP.call(this,f,{column:u,row:l,padding:a,expand:s?!0:fs(i,"expand.tabs",!1),align:fs(i,"align.tabs","left")}),this.addChildrenMap("background",g),this.addChildrenMap("tabs",f),this.addChildrenMap("pages",n),this.tabsPosition=C,f.on("button.click",function(d){var v=d.name;n.hasPage(v)&&n.swapPage(v)}),f.on("button.statechange",function(d,v,h,c){var p=h?"tab.focus":"tab.blur";this.emit(p,d,d.name)},this),n.on("pagevisible",function(d,v,h){this.emit("page.focus",d,v)}),n.on("pageinvisible",function(d,v,h){this.emit("page.blur",d,v)})}get currentKey(){return this.getElement("pages").currentKey}set currentKey(t){this.showPage(t)}get keys(){return this.getElement("pages").keys}get currentPage(){return this.getElement("pages").currentPage}get previousPage(){return this.getElement("pages").previousPage}};Object.assign(dv.prototype,HA);st.register("tabPages",function(e){var t=new dv(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.TabPages",dv);class yj extends bc{constructor(t,i){i===void 0&&(i={}),i.destroy=!1,super(t,i)}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}const Cj={expand(e){if(this.expanded===!0)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!0;var t=this.childrenMap.title,i=this.childrenMap.child;if(this.show(i),this.reLayoutEnable){var r=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();r.layout()}return t.emit("folder.expand",e,this),i.emit("folder.expand",e,this),this.emit("expand.start",this),this.childTransition.once("open",function(){this.emit("expand.complete",this)},this).requestOpen(null,e),this},collapse(e){if(this.expanded===!1)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!1;var t=this.childrenMap.title,i=this.childrenMap.child;return t.emit("folder.collapse",e,this),i.emit("folder.collapse",e,this),this.emit("collapse.start",this),this.childTransition.once("close",function(){if(this.setChildScale(i,1,1).hide(i),this.reLayoutEnable){var r=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();r.layout()}this.emit("collapse.complete",this)},this).requestClose(null,e),this},toggle(e){return this.expanded?this.collapse(e):this.expand(e),this},setExpandedState(e){return this.reLayoutEnable=!1,e===void 0?this.expanded=void 0:e?this.expand(0):this.collapse(0),this.reLayoutEnable=!0,this}};var Tj=function(e,t){ur.popUp.call(e,t,this.expandDirection)},Sj=function(e,t){ur.scaleDown.call(e,t,this.expandDirection)};const Pj={setTransitionDuration(e){return this.transitionDuration=e,this.childTransition.setTransitInTime(e).setTransitOutTime(e),this},setExpandCallback(e){return e===void 0&&(e=Tj.bind(this)),this.childTransition.setTransitInCallback(e),this},setCollapseCallback(e){return e===void 0&&(e=Sj.bind(this)),this.childTransition.setTransitOutCallback(e),this}},ce=Phaser.Utils.Objects.GetValue;let vu=class extends St{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1),super(t,i),this.type="rexFolder",this.reLayoutEnable=!0,this.expanded=void 0,this.expandDirection=this.orientation===1?"y":"x";var r=i.background,g=i.title,S=i.child;r&&this.addBackground(r);var n=ce(i,"space"),C=this.orientation===1?"left":"top",u=ce(i,"align.title",C),l=ce(i,"expand.title",!0);this.add(g,{proportion:0,align:u,expand:l,padding:{left:ce(n,"titleLeft",0),right:ce(n,"titleRight",0),top:ce(n,"titleTop",0),bottom:ce(n,"titleBottom",0)}});var s=ce(i,"toggleByTarget",void 0),o=ce(i,"toggleClickConfig");s===void 0&&(s=g),s&&kx.onClick.call(s,function(){this.toggle()},this,o),this.childTransition=new yj(S);var y=ce(i,"customChildOrigin",!1);if(!y){var f=this.rtl?1:0;S.setOrigin(f)}var u=ce(i,"align.child","left"),l=ce(i,"expand.child",!0),a=l?1:0;this.add(S,{proportion:a,align:u,expand:l,padding:{left:ce(n,"childLeft",0),right:ce(n,"childRight",0),top:ce(n,"childTop",0),bottom:ce(n,"childBottom",0)}}),this.addChildrenMap("title",g),this.addChildrenMap("child",S),this.addChildrenMap("background",r);var d=i.transition;this.setTransitionDuration(ce(d,"duration",200)),this.setExpandCallback(ce(d,"expandCallback",void 0)),this.setCollapseCallback(ce(d,"collapseCallback",void 0)),this.reLayoutTarget=ce(i,"reLayoutTarget",void 0);var v=i.onExpandStart;v&&this.on("expand.start",v);var h=i.onExpandComplete;h&&this.on("expand.complete",h);var c=i.onCollapseStart;c&&this.on("collapse.start",c);var p=i.onCollapseComplete;p&&this.on("collapse.complete",p);var m=ce(i,"expanded",void 0);m!==void 0&&this.setExpandedState(m)}};Object.assign(vu.prototype,Cj,Pj);st.register("folder",function(e){var t=new vu(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Folder",vu);var Ej=function(e,t,i,r){for(var g in this.treesMap){var S=this.treesMap[g];if(ga(S.nodeBody,e,t,i,r))return S;var n=S.pointToChild(e,t,i,r);if(n)return n}return null},Mj=function(e){return e===void 0&&(e={}),e.targetMode="parent",e.targetSizers=[this],zc(this,e),this},$A=function(e){return class extends e{get isTree(){return!1}get isNode(){return!1}setText(i){return this.text=i,this}get text(){var i=this.nodeBody;return i.text}set text(i){var r=this.nodeBody;r.setText&&r.setText(i)}setTexture(i,r){var g=this.nodeBody;return g.setTexture&&g.setTexture(i,r),this}get texture(){var i=this.nodeBody;if(i)return i.texture}get frame(){var i=this.nodeBody;if(i)return i.frame}}},wj=function(e,t,i,r){for(var g in this.nodesMap){var S=this.nodesMap[g];if(this.isTreeObject(S)){var n=S;if(ga(n.nodeBody,e,t,i,r))return n;var C=n.pointToChild(e,t,i,r);if(C)return C}else if(ga(S,e,t,i,r))return S}return null};const Rj={getTreePatent(e){if(e===void 0&&(e=this),!!e.rexSizer)return e.rexSizer.treeParent},getTreeRoot(e){e===void 0&&(e=this);for(var t;;){if(!e.rexSizer)return;if(t=e.rexSizer.treeParent,t===null)return e;e=t}},getTreesSizer(e){var t=this.getTreeRoot(e);return t?t.getParentSizer():null},isGrandsonNode(e){if(e===void 0||!e.rexSizer)return!1;for(var t;;){if(!e.rexSizer)return!1;if(t=e.rexSizer.treeParent,t===this)return!0;if(t===null)return!1;e=t}return!1}};var Fl=function(e,t,i,r,g=!1){var S;if(yi(t))S=t,delete t[key];else if(Es(t)){var n=t;S=n(e,i),S&&e.add.existing(S)}else(g||t)&&r&&(S=r(e,t,i));return S},my=function(e,t,i){var r=Me(e,t);return r},Aj=function(e,t,i){var r=new lu(e,t);return e.add.existing(r),r.resetDisplayContent(""),r};const io=Phaser.Utils.Objects.GetValue;class KA extends $A(St){constructor(t,i,r){var g=i.space;super(t,{orientation:"x",space:{left:io(g,"nodeLeft",0),right:io(g,"nodeRight",0),top:io(g,"nodeTop",0),bottom:io(g,"nodeBottom",0)}}),this.type="rexTreeNode";var S=Fl(t,io(i,"nodeBackground"),r,my,!1),n=Fl(t,io(i,"nodeBody"),r,Aj,!0);S&&this.addBackground(S),this.add(n,{proportion:1}),this.nodeBody=n,this.addChildrenMap("background",S),this.addChildrenMap("nodeBody",n)}get isNode(){return!0}getTreePatent(){return this.rexSizer.treeParent}getTreeRoot(){var t=this.rexSizer.treeParent;return t?t.getTreeRoot():null}getTreesSizer(){var t=this.getTreeRoot();return t?t.getParentSizer():null}}var ZA=function(e,t){var i=e.parentContainer;if(i){t.isRexContainerLite?t.addToContainer(i):i.add(t);return}var r=e.displayList;if(el(r)){t.isRexContainerLite?t.addToLayer(r):r.add(t);return}e.scene.add.existing(t)};const yP=Phaser.Utils.String.UUID,Lj={addTree(e,t){if(yi(e)){var i=e;e={nodeBody:i,nodeKey:t}}return this.insertTree(void 0,e)},insertTree(e,t){var i;typeof t=="string"?(i=t,t=void 0):t&&(i=t.nodeKey,delete t.nodeKey),i===void 0&&(i=yP());var r=this.createTree(t);return ZA(this,r),this.insertNode(e,r,{expand:!0}),r._postAddCallback(),r},addNode(e,t){return this.insertNode(void 0,e,t)},insertNode(e,t,i){var r;yi(t)||(i=t,t=new KA(this.scene,this.configSave,{isLeaf:!0})),typeof i=="string"?(r=i,i=void 0):i&&(r=i.nodeKey,delete i.nodeKey),r===void 0&&(r=yP()),i===void 0&&(i={}),i.hasOwnProperty("expand")||(i.expand=!0),this.removeNode(t,!1),t.rexSizer.treeParent=this,this.nodesMap.hasOwnProperty(r)&&(console.error(`[Trees] Duplicate nodeKey '${r}'`),this.removeNode(this.nodesMap[r],!0)),t.nodeKey=r,this.nodesMap[r]=t;var g=this.childrenMap.child;return g.insert(e,t,i),t}},Oj={removeNode(e,t){if(typeof e=="string"&&(e=this.getTree(e)),!e)return this;var i=this.getTreePatent(e);if(!i)return this;delete i.nodesMap[e.nodeKey],e.nodeKey=null,e.rexSizer.treeParent=null;var r=i.childrenMap.child;return r.remove(e,t),this},removeAllNodes(e){var t=this.nodesMap;for(var i in t)this.removeNode(t[i],e);return this}},Fj={getNode(e){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){var t=e.shift(),i=this.nodesMap[t];return e.length===0?i:i&&this.isTreeObject(i)?i.getNode(e):null}},getNodes(e){var t=this.nodesMap;if(!e)e=nodes;else for(var i in t)e.push(t[i]);return e},getAllNodes(e){}};var JA={pointToChild:wj};Object.assign(JA,Rj,Lj,Oj,Fj);var bj=function(e,t,i){var r=new Kl(e,t);return e.add.existing(r),r.on("expand.start",function(g){g.setDirection("down")}).on("collapse.complete",function(g){g.setDirection("right")}),r};const CP=Phaser.Utils.Objects.GetValue;var Dj=function(e,t){var i=new KA(e,t,{isLeaf:!1});e.add.existing(i);var r=Fl(e,CP(t,"toggleButton"),{isLeaf:!1},bj,!0);return i.insert(0,r,{padding:{right:CP(t,"space.toggleButton",0)},fitRatio:1}),i.addChildrenMap("toggleButton",r),i};const TP=Phaser.Utils.Objects.GetValue;var Bj=function(e,t){var i=new St(e,{orientation:TP(t,"childrenOrientation","y")});e.add.existing(i);var r=Fl(e,TP(t,"childrenBackground"),{isLeaf:!1},my,!1);return r&&i.addBackground(r),i};const Ij=Phaser.Utils.Objects.Clone;var Gj=function(e,t){var i=e?Ij(e):{};if(!t)return i;for(var r in t)i[r]=t[r];return i};const Vr=Phaser.Utils.Objects.GetValue;class ma extends $A(vu){constructor(t,i){i===void 0&&(i={});var r=Fl(t,Vr(i,"background"),{isLeaf:!1},my,!1),g=Bj(t,i),S=g.childrenMap.items,n=Dj(t,i),C=n.childrenMap.toggleButton,s=n.childrenMap.nodeBody,o=Ea(Vr(i,"orientation","y")),y=i.space;if(y){var f=Vr(y,"indent",0);y.childLeft=Vr(y,"indentLeft",o===1?f:0),y.childRight=Vr(y,"indentRight",0),y.childTop=Vr(y,"indentTop",o===0?f:0),y.childBottom=Vr(y,"indentBottom",0)}var u={background:r,title:n,child:g,toggleByTarget:C,transition:i.transition,orientation:o,space:y,align:i.align,expand:i.expand};super(t,u),this.type="rexTree",this.rexSizer.treeParent=null,this.nodesMap={},this.configSave=i,this.nodeBody=s,this.addChildrenMap("toggleButton",C),this.addChildrenMap("nodeBody",s),this.addChildrenMap("childrenNodes",S),this.on("expand.start",function(){C.emit("expand.start",C),Gd(this,"expand.start")},this).on("expand.complete",function(){C.emit("expand.complete",C),Gd(this,"expand.complete")}).on("collapse.start",function(){C.emit("collapse.start",C),Gd(this,"collapse.start")}).on("collapse.complete",function(){C.emit("collapse.complete",C),Gd(this,"collapse.complete")});var l=this;l._postAddCallback=function(){var a=Vr(i,"expanded",!0);a!==void 0&&l.setExpandedState(a),delete l._postAddCallback}}destroy(t){!this.scene||this.ignoreDestroy||(this.configSave=void 0,Clear(this.nodesMap),this.nodesMap=void 0,super.destroy(t))}get isTree(){return!0}createTree(t){return ma.CreateTree(this.scene,this.configSave,t)}isTreeObject(t){return t&&t instanceof ma}}ma.CreateTree=function(e,t,i){return new ma(e,Gj(t,i))};var Gd=function(e,t){var i=e.getTreesSizer();i&&i.emit(t,e)};Object.assign(ma.prototype,JA);const kj=Phaser.Utils.String.UUID,Nj={addTree(e){if(yi(e)){var t=e;e={nodeBody:t,nodeKey}}return this.insertTree(void 0,e)},insertTree(e,t){var i;typeof t=="string"?(i=t,t=void 0):t&&(i=t.nodeKey,delete t.nodeKey),i===void 0&&(i=kj());var r=ma.CreateTree(this.scene,this.treeConfig,t);return ZA(this,r),r.nodeKey=i,this.treesMap[i]=r,this.insert(e,r,{expand:!0}),r._postAddCallback(),r}},zj={removeTree(e,t){return typeof e=="string"&&(e=this.getTree(e)),e?(delete this.treesMap[e.nodeKey],e.nodeKey=null,this.remove(e,t),this):this},removeAllNodes(e){var t=this.treesMap;for(var i in t)this.removeTree(t[i],e);return this}},Vj={getTree(e){return this.treesMap[e]},getTrees(e){e===void 0&&(e=[]);for(var t in this.treesMap)e.push(this.treesMap[t]);return e},getNode(e){var t=e.indexOf(".");if(t===-1)return this.getTree(e);var i=this.getTree(e.substring(0,t));if(i)return i.getNode(e.substring(t+1))}};var QA={pointToChild:Ej,setChildrenInteractive:Mj};Object.assign(QA,Nj,zj,Vj);const Uj=Phaser.Utils.Objects.GetValue;class xy extends St{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation="y"),super(t,i),this.type="rexTrees",this.treesMap={},this.treeConfig=Uj(i,"tree")}destroy(t){!this.scene||this.ignoreDestroy||(this.treeConfig=void 0,Clear(this.treesMap),this.treesMap=void 0,super.destroy(t))}}Object.assign(xy.prototype,QA);st.register("trees",function(e){var t=new xy(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Trees",xy);st.register("textArea",function(e){var t=new hu(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.TextArea",hu);var Xj=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.textOY},set:function(t){e.textOY=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTextOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTextOY}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.textVisibleHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.contentHeight}})};const Wj={setText(e){var t=this.childrenMap.child;return t.setText(e),this},appendText(e){return this.setText(this.text+e),this}},Yj={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}},kd=Phaser.Utils.Objects.GetValue;class fv extends ou{constructor(t,i){i===void 0&&(i={});var r=kd(i,"text"),g;yi(r)?g=r:(r===void 0&&(r={}),r.textArea=!0,g=new Hl(t,r),t.add.existing(g)),Xj(g);var S=r.width===void 0,n=r.height===void 0;S&&(g.minWidth=0),n&&(g.minHeight=0),i.scrollMode=0,i.type="rexTextAreaInput",i.child={gameObject:g,expandWidth:S,expandHeight:n};var C=kd(i,"space",void 0);C&&(C.child=kd(C,"text",0)),i.scroller=!1,super(t,i),this.addChildrenMap("text",g);var s,o;g.on("cursorin",function(){var f=g.textOY,u=g.contentHeight,l=s!==f,a=o!==u;s=f,o=u,a&&this.resizeController(),(l||a)&&(this.t=g.t)},this),g.on("textchange",function(f){this.emit("textchange",f,this)},this).on("close",function(){this.emit("close",this.text,this)},this);var y=kd(i,"content",void 0);y&&this.setText(y)}get text(){return this.childrenMap.child.text}set text(t){t==null?t="":t=t.toString(),this.childrenMap.child.text!==t&&this.setText(t)}get lineHeight(){var t=this.childrenMap.child;return t.lineHeight}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.contentHeight}get readOnly(){var t=this.childrenMap.child;return t.readOnly}set readOnly(t){var i=this.childrenMap.child;i.readOnly=t}setReadOnly(t){var i=this.childrenMap.child;return i.setReadOnly(t),this}get value(){return this.text}set value(t){this.text=t}}Object.assign(fv.prototype,Wj,Yj);st.register("textAreaInput",function(e){var t=new fv(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.TextAreaInput",fv);st.register("scrollablePanel",function(e){var t=new fu(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ScrollablePanel",fu);const Nd={popUp:function(e,t){e.popUp(t)},scaleDown:function(e,t){e.scaleDown(t)},fadeIn:function(e,t){e.fadeIn(t)},fadeOut:function(e,t){e.fadeOut(t)}},Kr={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1},Hj={setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){switch(typeof e=="string"&&(e=Kr[e]),e){case Kr.popUp:e=Nd.popUp;break;case Kr.fadeIn:e=Nd.fadeIn;break}return e||(e=Ee),this.transitInCallback=e,this},setTransitOutCallback(e){switch(typeof e=="string"&&(e=Kr[e]),e){case Kr.scaleDown:e=Nd.scaleDown;break;case Kr.fadeOut:e=Nd.fadeOut;break}return e||(e=Ee),this.transitOutCallback=e,this}},$j={showMessage(e){if(this.scaleX0===void 0&&(this.scaleX0=this.scaleX),this.scaleY0===void 0&&(this.scaleY0=this.scaleY),e===void 0){if(this.messages.length===0)return this;e=this.messages.shift()}if(this.player.isPlaying)return this.messages.push(e),this;this.setScale(this.scaleX0,this.scaleY0).setVisible(!0),typeof e=="string"?this.setText(e):e(this),this.layout();var t=[[0,[this.transitInCallback,this,this.transitInTime]],[0,[this.emit,"transitin",this,this.transitInTime]],[this.transitInTime,[Ee]],[this.displayTime,[this.transitOutCallback,this,this.transitOutTime]],[0,[this.emit,"transitout",this,this.transitOutTime]],[this.transitOutTime,[this.setVisible,!1]],[30,[Ee]]];return this.player.load(t,this).once("complete",function(){this.showMessage()},this).start(),this},removeAllMessages(){return this.messages.length=0,this}},Nh=Phaser.Utils.Objects.GetValue;class yy extends wr{constructor(t,i){i===void 0&&(i={text:createDefaultTextObject(t)}),super(t,i),this.type="rexToast",this.setTransitInTime(Nh(i,"duration.in",200)),this.setDisplayTime(Nh(i,"duration.hold",1200)),this.setTransitOutTime(Nh(i,"duration.out",200)),this.setTransitInCallback(Nh(i,"transitIn",Kr.popUp)),this.setTransitOutCallback(Nh(i,"transitOut",Kr.scaleDown)),this.player=new oA(this,{dtMode:1}),this.messages=[],this.scaleX0=void 0,this.scaleY0=void 0,this.setVisible(!1)}destroy(t){!this.scene||this.ignoreDestroy||(this.player.destroy(),this.player=void 0,this.messages=void 0,super.destroy(t))}setScale(t,i){return i===void 0&&(i=t),this.scaleX0=t,this.scaleY0=i,super.setScale(t,i),this}get isShowingMessage(){return this.player.isPlaying}}Object.assign(yy.prototype,Hj,$j);st.register("toast",function(e){var t=new yy(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Toast",yy);var Kj={"bottom-to-top":1,"top-to-bottom":0,"right-to-left":1,"left-to-right":0};const Zj={setQueueDirection(e){return typeof e=="string"&&(e=Kj[e]),this.rtl=e===0,this.orientation===1?e?this.queueDirection=0:this.queueDirection=1:e?this.queueDirection=2:this.queueDirection=3,this},setCreateMessageLabelCallback(e){return this.createMessageLabelCallback=e,this},setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){return e||(e=Ee),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=Ee),this.transitOutCallback=e,this}},Jj=kx.onClick,jA=aR.delayCall,Qj=Fc.moveTo;var jj=function(e,t,i){var r=t(e.scene,i,e);if(Jj.call(r,function(){e.removeMessage(r)}),e.displayTime){var g=e.transitInTime+e.displayTime+10;jA.call(r,g,function(){e.removeMessage(r)})}return r},qA=function(e){for(var t=e.childrenMap.items,i,r=[],g=0,S=t.length;g<S;g++)i=t[g],r.push({x:i.x,y:i.y});return r},qj=function(e){for(var t=e.childrenMap.items,i,r=[],g=0,S=t.length;g<S;g++)i=t[g],r.push({x:i.scaleX,y:i.scaleY}),i.setScale(1);e.layout();for(var n=qA(e),g=0,S=t.length;g<S;g++){var C=r[g];t[g].setScale(C.x,C.y)}return n},_j=function(e,t,i,r){for(var g=e.childrenMap.items,S=Math.min(t.length,i.length,g.length),n,C,s,o=e.queueDirection,y=0;y<S;y++){switch(n=g[y],C=t[y],s=i[y],n.setPosition(C.x,C.y),o){case 0:if(C.y<=s.y)continue;break;case 1:if(C.y>=s.y)continue;break;case 2:if(C.x<=s.x)continue;break;case 3:if(C.x>=s.x)continue;break}Qj.call(n,r,s.x,s.y)}},tq=function(e,t,i){var r=qA(e);e.add(t);var g=qj(e);_j(e,r,g,i),e.transitInCallback(t,i,e)};const eq={showMessage(e){var t=jj(this,this.createMessageLabelCallback,e);return tq(this,t,this.transitInTime),this},removeMessage(e){if(this.getParentSizer(e)!==this)return this;if(!e.__isDestroying){e.__isDestroying=!0;var t=this.transitOutTime;return this.transitOutCallback(e,t,this),jA.call(e,t+10,function(){delete e.__isDestroying,e.destroy()}),this}},removeAllMessages(){for(var e=this.childrenMap.items,t=0,i=e.length;t<i;t++)this.removeMessage(e[t]);return this}};var _A={};Object.assign(_A,Zj,eq);const SP={transitIn(e,t,i){switch(i.queueDirection){case 0:e.setOrigin(.5,1),ur.popUp.call(e,t,"y");break;case 1:e.setOrigin(.5,0),ur.popUp.call(e,t,"y");break;case 2:e.setOrigin(1,.5),ur.popUp.call(e,t,"x");break;case 3:e.setOrigin(0,.5),ur.popUp.call(e,t,"x");break}Ol.fadeIn.call(e,t)},transitOut(e,t,i){Ol.fadeOut.call(e,t)}},$n=Phaser.Utils.Objects.GetValue;class Cy extends St{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1),super(t,i),this.type="rexToastQueue",this.setCreateMessageLabelCallback($n(i,"createMessageLabelCallback")),this.setQueueDirection($n(i,"queueDirection",1)),this.setTransitInTime($n(i,"duration.in",200)),this.setDisplayTime($n(i,"duration.hold",2e3)),this.setTransitOutTime($n(i,"duration.out",200)),this.setTransitInCallback($n(i,"transitIn",SP.transitIn)),this.setTransitOutCallback($n(i,"transitOut",SP.transitOut))}}Object.assign(Cy.prototype,_A);st.register("toastQueue",function(e){var t=new Cy(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ToastQueue",Cy);var iq=function(e,t){if(t===!1)return null;if(yi(t))return t;var i=new Ca(e,t);return e.add.existing(i),i};const sq=Phaser.Utils.String.Pad;var PP=function(e,t){t===void 0&&(t="0x");var i=e.toString(16).toUpperCase();return i=sq(i,6,0,1),i=t+i,i},rq=function(e,t){e&&(e.setTint?e.setTint(t):e.setFillStyle&&e.setFillStyle(t))};const Ki=Phaser.Utils.Objects.GetValue,nq=Phaser.Utils.Objects.IsPlainObject,aq=Phaser.Math.Clamp;let Ty=class extends St{constructor(t,i){i===void 0&&(i={}),i.orientation=0,super(t,i),this.type="rexColorInputLite";var r=Ki(i,"background",void 0),g=Ki(i,"swatch"),S;nq(g)&&(S=Ki(g,"size"));var n=iq(t,Ki(i,"swatch")),C=Ki(i,"inputText",{}),s;if(C&&(s=xn(t,C)),r&&this.addBackground(r),n){S=Ki(i,"swatchSize",S);var o;S!==void 0?(Je(n,S,S),o=!1):o=Ki(i,"squareExpandSwatch",!0);var y=o?1:0;this.add(n,{proportion:0,expand:!0,fitRatio:y})}if(s){var f=Ki(C,"width")===void 0?1:0,u=Ki(C,"height")===void 0;this.add(s,{proportion:f,expand:u})}this.addChildrenMap("background",r),this.addChildrenMap("swatch",n),this.addChildrenMap("inputText",s),s&&s.on("close",function(){this.setValue(s.value)},this);var l=Ki(i,"valuechangeCallback",null);if(l!==null){var a=Ki(i,"valuechangeCallbackScope",void 0);this.on("valuechange",l,a)}this.setValue(Ki(i,"value",0))}get value(){return this._value}set value(t){if(typeof t=="string"){if(t=B0(t),t==null){var r=this.childrenMap.inputText;r&&r.setText(PP(this._value));return}}else t=aq(Math.floor(t),0,16777215);if(this._value!==t){this._value=t;var i=this.childrenMap.swatch;i&&rq(i,t);var r=this.childrenMap.inputText;r&&r.setText(PP(t)),this.emit("valuechange",this._value)}}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}};var oq={setCreateColorPickerBackgroundCallback(e){return this.colorPickerCreateBackgroundCallback=e,this},setColorPickerHPalettePosition(e){return this.colorPickerHPalettePosition=e,this},setColorPickerExpandDirection(e){return typeof e=="string"&&(e=hq[e]),this.colorPickerExpandDirection=e,this},setColorPickerEaseInDuration(e){return e===void 0&&(e=0),this.colorPickerEaseInDuration=e,this},setColorPickerEaseOutDuration(e){return e===void 0&&(e=0),this.colorPickerEaseOutDuration=e,this},setColorPickerTransitInCallback(e){return this.colorPickerTransitInCallback=e,this},setColorPickerTransitOutCallback(e){return this.colorPickerTransitOutCallback=e,this},setColorPickerBounds(e){return this.colorPickerBounds=e,this},setColorPickerWidth(e){return this.colorPickerWidth=e,this},setColorPickerHeight(e){return this.colorPickerHeight=e,this},setColorPickerSize(e,t){return this.setColorPickerWidth(e).setColorPickerHeight(t),this},setColorPickerSpace(e){return e===void 0&&(e={}),this.colorPickerSpace=e,this},setColorComponentsHeight(e){return this.colorComponentsHeight=e,this},setColorComponentsFormatLabelConfig(e){return this.colorComponentsFormatLabelConfig=e,this},setColorComponentsInputTextConfig(e){return this.colorComponentsInputTextConfig=e,this},setColorComponentsSpace(e){return e===void 0&&(e={}),this.colorComponentsSpace=e,this}};const hq={down:0,up:1},tL=Phaser.Display.Color,jf=Phaser.Math.Percent;var lq=function(e,t,i){i===void 0&&(i=!1);var r=e.width,g=e.height,S=new tL;if(i)for(var n=0;n<g;n++){var C=jf(n,0,g);S.setFromHSV(C,1,1),t.fillStyle=S.rgba,t.fillRect(0,n,r,1)}else for(var s=0;s<r;s++){var C=jf(s,0,r);S.setFromHSV(C,1,1),t.fillStyle=S.rgba,t.fillRect(s,0,1,g)}},uq=function(e,t,i){for(var r=e.width,g=e.height,S=t.getImageData(0,0,r,g),n=S.data,C=new tL,s=0;s<g;s++)for(var o=0;o<r;o++){var y=jf(o,0,r),f=1-jf(s,0,g);C.setFromHSV(i,y,f);var u=(s*r+o)*4;n[u]=C.red,n[u+1]=C.green,n[u+2]=C.blue,n[u+3]=255}t.putImageData(S,0,0)};const dq=Phaser.Display.Color,EP=Phaser.Math.Percent,fq=Phaser.Display.Color.ColorToRGBA,cq=Phaser.Display.Color.HSVToRGB;class vq extends Pa{constructor(t,i,r,g,S,n){i===void 0&&(i=0),r===void 0&&(r=0),g===void 0&&(g=2),S===void 0&&(S=2),super(t,i,r,g,S),this.type="rexColorPicker.HPaletteCanvas",this.colorObject=new dq,this.setOrientation(n),this.setSize(g,S)}setOrientation(t){return this.orientation=Ea(t),this}updateTexture(){return lq(this.canvas,this.context,this.orientation),super.updateTexture(),this}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue=t}getHue(t,i){return t===void 0?this.hue:(this.orientation===0?this.hue=EP(t,0,this.width):this.hue=EP(i,0,this.height),this.hue)}getColor(t,i){if(t===void 0)return this.color;var r=this.getHue(t,i);return this.colorObject.setFromRGB(cq(r,1,1)),this.colorObject.color}setColor(t){return this.color===t?this:this}colorToLocalPosition(t,i){return i===void 0?i={}:i===!0&&(yg===void 0&&(yg={}),i=yg),this.colorObject.setFromRGB(fq(t)),this.orientation===0?(i.x=this.width*this.colorObject.h,i.y=this.height/2):(i.x=this.width/2,i.y=this.height*this.colorObject.h),i}}var yg=void 0,pq=Phaser.Math.RotateAround,eL=function(e,t,i,r){r===void 0?r={}:r===!0&&(Cg===void 0&&(Cg={}),r=Cg),t-=e.width*e.originX,i-=e.height*e.originY;var g={x:t*e.scaleX,y:i*e.scaleY};return pq(g,0,0,-e.rotation),r.x=e.x+t,r.y=e.y+i,r},Cg;class gq extends ss{constructor(t,i){i===void 0&&(i={}),super(t,i);var r=i.width!=null?1:0,g=new vq(t).setOrientation(r);t.add.existing(g),this.type="rexColorPicker.HPalette",g.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var S=new Ca(t,{strokeColor:16777215,strokeWidth:2});t.add.existing(S),this.add(g,{key:"paletteCanvas",expand:!0}).add(S,{key:"marker",expand:!1})}resize(t,i){if(this.width===t&&this.height===i)return this;super.resize(t,i);var r=Math.min(t,i);return this.childrenMap.marker.setSize(r,r),this}onPaletteCanvasPointerDown(t,i,r,g){if(t.isDown){var S=this.childrenMap.paletteCanvas,n=S.getColor(i,r);this.setMarkerPosition(n),this.emit("input",n)}}get color(){return this.childrenMap.paletteCanvas.color}setColor(t){if(this.color===t)return this;var i=this.childrenMap.paletteCanvas;return i.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var i=this.childrenMap.paletteCanvas,r=this.childrenMap.marker,g=i.colorToLocalPosition(t,!0);return eL(i,g.x,g.y,r),this.resetChildPositionState(r),this}getHue(t,i){var r=this.childrenMap.paletteCanvas;return r.getHue(t,i)}}const mq=Phaser.Display.Color,MP=Phaser.Math.Percent,wP=Phaser.Display.Color.ColorToRGBA,xq=Phaser.Display.Color.HSVToRGB;class yq extends Pa{constructor(t,i,r,g,S,n){i===void 0&&(i=0),r===void 0&&(r=0),g===void 0&&(g=2),S===void 0&&(S=2),super(t,i,r,g,S),this.type="rexColorPicker.SVPaletteCanvas",n===void 0&&(n=1),this.colorObject=new mq,this.setHue(n),this.setSize(g,S)}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue!==t&&(this._hue=t,this.colorObject.h=t,this.dirty=!0)}setHue(t){return this.hue=t,this}updateTexture(){return uq(this.canvas,this.context,this.hue),super.updateTexture(),this}getColor(t,i){if(t===void 0)return this.colorObject.color;var r=MP(t,0,this.width),g=1-MP(i,0,this.height);return this.colorObject.setFromRGB(xq(this.hue,r,g)),this.colorObject.color}setColor(t){return this.color===t?this:(this.colorObject.setFromRGB(wP(t)),this.setHue(this.colorObject.h),this)}colorToLocalPosition(t,i){return i===void 0?i={}:i===!0&&(Tg===void 0&&(Tg={}),i=Tg),this.colorObject.setFromRGB(wP(t)),i.x=this.width*this.colorObject.s,i.y=this.height*(1-this.colorObject.v),i}}var Tg=void 0;class Cq extends ss{constructor(t,i){super(t,i);var r=new yq(t);t.add.existing(r),this.type="rexColorPicker.SVPalette",r.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var g=new Ca(t,{radius:5,strokeColor:16777215,strokeWidth:2});t.add.existing(g),this.add(r,{key:"paletteCanvas",expand:!0}).add(g,{key:"marker",expand:!1})}onPaletteCanvasPointerDown(t,i,r,g){if(t.isDown){var S=this.childrenMap.paletteCanvas,n=S.getColor(i,r);this.setMarkerPosition(n),this.emit("input",n)}}get color(){return this.childrenMap.paletteCanvas.color}setHue(t){var i=this.childrenMap.paletteCanvas;return i.setHue(t),this}setColor(t){if(this.color===t)return this;var i=this.childrenMap.paletteCanvas;return i.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var i=this.childrenMap.paletteCanvas,r=this.childrenMap.marker,g=i.colorToLocalPosition(t,!0);return eL(i,g.x,g.y,r),this.resetChildPositionState(r),this}}const cs=Phaser.Utils.Objects.GetValue;let Sy=class extends St{constructor(t,i){super(t,i),this.type="rexColorPicker",this.freezePalettes=!1;var r=cs(i,"hPalette.position",0);typeof r=="string"&&(r=Tq[r]);var g=r===0||r===2?1:0;this.setOrientation(g);var S=cs(i,"background",void 0),n,C;if(this.orientation===0){var n=cs(i,"hPalette.width",void 0);n===void 0&&(n=cs(i,"hPalette.size",10))}else C=cs(i,"hPalette.height",void 0),C===void 0&&(C=cs(i,"hPalette.size",10));var s=new gq(t,{width:n,height:C});t.add.existing(s);var o=cs(i,"svPalette.width",void 0),y=cs(i,"svPalette.height",void 0),f=new Cq(t,{width:o,height:y});t.add.existing(f),S&&this.addBackground(S);var u={proportion:0,expand:!0},l,a;this.orientation===0?(l=o===void 0?1:0,a=y===void 0):(l=y===void 0?1:0,a=o===void 0);var d={proportion:l,expand:a};r===0||r===3?this.add(f,d).add(s,u):this.add(s,u).add(f,d),s.on("input",function(){f.setHue(s.getHue()),this.setValue(f.color,!0)},this),f.on("input",function(){this.setValue(f.color,!0)},this),this.addChildrenMap("background",S),this.addChildrenMap("hPalette",s),this.addChildrenMap("svPalette",f);var v=cs(i,"valuechangeCallback",null);if(v!==null){var h=cs(i,"valuechangeCallbackScope",void 0);this.on("valuechange",v,h)}this.setValue(cs(i,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){var i=this._value;this._value=t,this.freezePalettes||this.updatePalettes(),this.emit("valuechange",t,i,this)}}setValue(t,i){return this.freezePalettes=!!i,this.value=t,this.freezePalettes=!1,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}updatePalettes(){return this.childrenMap.hPalette.setColor(this.color),this.childrenMap.svPalette.setColor(this.color),this}postLayout(t,i,r){return this.childrenMap.hPalette.setMarkerPosition(this.value),this.childrenMap.svPalette.setMarkerPosition(this.value),super.postLayout(t,i,r),this}};var Tq={bottom:0,left:1,top:2,right:3};const ks=Phaser.Utils.Objects.GetValue,Sq=Phaser.Display.Color,Pq=Phaser.Display.Color.ColorToRGBA,Eq=Phaser.Display.Color.HSVToRGB,Kn=Phaser.Math.Clamp;class Py extends St{constructor(t,i){i===void 0&&(i={}),i.orientation=0,super(t,i),this.type="rexColorComponents",this.colorObject=new Sq;var r=ks(i,"background",void 0),g=ks(i,"formatLabel",void 0);yi(g)||(g=be(t,g).resetDisplayContent());var S=[];if(i.inputText0&&i.inputText1&&i.inputText2)S.push(i.inputText0),S.push(i.inputText1),S.push(i.inputText2);else for(var n=ks(i,"inputText"),C=0;C<3;C++){var s=xn(t,n).setMaxLength(3).setNumberInput();S.push(s)}r&&this.addBackground(r);var y=ks(i,"proportion.formatLabel",0),o=!!g.isRexContainerLite,f=ks(i,"expand.formatLabel",o);this.add(g,{proportion:y,expand:f});for(var y=ks(n,"width")===void 0?1:0,f=ks(n,"height")===void 0,C=0,u=S.length;C<u;C++)this.add(S[C],{proportion:y,expand:f});this.addChildrenMap("background",r),this.addChildrenMap("formatLabel",g),this.addChildrenMap("components",S),this.onClick(g,this.toggleColorFormat,this);for(var C=0,u=S.length;C<u;C++)S[C].on("close",function(){this.updateColorObject(),this.setValue(this.colorObject.color)},this);var l=ks(i,"valuechangeCallback",null);if(l!==null){var a=ks(i,"valuechangeCallbackScope",void 0);this.on("valuechange",l,a)}g.setText("RGB"),this.setValue(ks(i,"value",16777215))}get value(){return this._value}set value(t){t=Kn(Math.floor(t),0,16777215),this._value!==t&&(this._value=t,this.colorObject.setFromRGB(Pq(t)),this.updateComponents(),this.emit("valuechange",this._value))}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}get colorFormat(){return this.childrenMap.formatLabel.text}set colorFormat(t){this.colorFormat!==t&&(this.childrenMap.formatLabel.setText(t),this.updateComponents())}setColorFormat(t){return this.colorFormat=t,this}toggleColorFormat(){return this.colorFormat=this.colorFormat==="RGB"?"HSV":"RGB",this}updateComponents(){var t=this.childrenMap.components,i,r,g;return this.colorFormat==="RGB"?(i=this.colorObject.red,r=this.colorObject.green,g=this.colorObject.blue):(i=Math.floor(this.colorObject.h*360),r=Math.floor(this.colorObject.s*100),g=Math.floor(this.colorObject.v*100)),t[0].setValue(i),t[1].setValue(r),t[2].setValue(g),this}updateColorObject(){var t=this.childrenMap.components;if(this.colorFormat==="RGB"){var i=Kn(t[0].value,0,255),r=Kn(t[1].value,0,255),g=Kn(t[2].value,0,255);this.colorObject.setTo(i,r,g)}else{var S=Kn(t[0].value,0,359)/360,n=Kn(t[1].value,0,100)/100,C=Kn(t[2].value,0,100)/100;this.colorObject.setFromRGB(Eq(S,n,C))}return this}}const Sg=Phaser.Utils.Objects.GetValue;class Mq extends St{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexColorInput.ColorPickerPanel";var r=Sg(i,"background",void 0),g=new Sy(t,{hPalette:i.hPalette||{},svPalette:i.svPalette||{},space:{item:Sg(i,"space.hPalette",8)}});t.add.existing(g);var S;i.colorComponents&&(S=new Py(t,i.colorComponents),t.add.existing(S)),r&&(this.addBackground(r),new Dc(r,{stopAllLevels:!1})),this.add(g,{proportion:1,expand:!0}),S&&this.add(S,{proportion:0,expand:!0}),this.addChildrenMap("background",r),this.addChildrenMap("colorPicker",g),this.addChildrenMap("colorComponents",S),g.on("valuechange",function(n){this.setValue(n)},this),S&&S.on("valuechange",function(n){this.setValue(n)},this),this.setValue(Sg(i,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){this._value=t;var i=this.childrenMap.colorPicker;i.setValue(t);var r=this.childrenMap.colorComponents;r&&r.setValue(t),this.emit("valuechange",t)}}setValue(t){return this.value=t,this}}Phaser.Utils.Objects.GetValue;var wq=function(t){var t=this.scene,i,r=this.colorPickerCreateBackgroundCallback;r&&(i=r.call(this,t),t.add.existing(i));var g=this.colorPickerWidth;g===void 0&&(g=this.width);var S=this.colorPickerHeight;S===void 0&&(S=g);var n;this.colorComponentsHeight>0?n={height:this.colorComponentsHeight,formatLabel:this.colorComponentsFormatLabelConfig,inputText:this.colorComponentsInputTextConfig,space:this.colorComponentsSpace}:n=!1;var C=new Mq(t,{width:g,height:S,background:i,space:this.colorPickerSpace,hPalette:{position:this.colorPickerHPalettePosition},colorComponents:n,value:this.value});return t.add.existing(C),C},Rq=function(){if(!this.colorPicker){var e=wq.call(this).layout(),t=new EA(e,{duration:{in:this.colorPickerEaseInDuration,out:this.colorPickerEaseOutDuration},transitIn:this.colorPickerTransitInCallback,transitOut:this.colorPickerTransitOutCallback,expandDirection:this.colorPickerExpandDirection,alignTargetX:this,alignTargetY:this,bounds:this.colorPickerBounds,touchOutsideClose:!0}).on("open",function(){e.on("valuechange",function(i){this.setValue(i)},this)},this).on("close",function(){this.colorPicker=void 0,this.dropDownBehavior=void 0},this);return this.colorPicker=e,this.dropDownBehavior=t,this.pin(e),this}},iL={openColorPicker:Rq};Object.assign(iL,oq);const Ge=Phaser.Utils.Objects.GetValue;class cv extends Ty{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexColorInput",i.hasOwnProperty("colorPicker")||(i.colorPicker={background:{color:0}});var r=i.colorPicker,g=r!==!1&&r!==null;if(g){this.setColorPickerSize(Ge(r,"width",160),Ge(r,"height",170));var S,n=Ge(r,"background");n?S=function(l){return Me(l,n)}:S=Ge(r,"createBackgroundCallback"),this.setCreateColorPickerBackgroundCallback(S),this.setColorPickerHPalettePosition(Ge(r,"hPalettePosition",0)),this.setColorPickerExpandDirection(Ge(r,"expandDirection")),this.setColorPickerEaseInDuration(Ge(r,"easeIn",200)),this.setColorPickerEaseOutDuration(Ge(r,"easeOut",200)),this.setColorPickerTransitInCallback(Ge(r,"transitIn")),this.setColorPickerTransitOutCallback(Ge(r,"transitOut")),this.setColorPickerBounds(Ge(r,"bounds"));var C=Ge(r,"space");C===void 0&&(C={left:10,right:10,top:10,bottom:10,item:8}),this.setColorPickerSpace(C)}var s=i.colorComponents,o=s!==!1&&s!==null;if(g&&o){this.setColorComponentsHeight(Ge(s,"height",30)),this.setColorComponentsFormatLabelConfig(Ge(s,"formatLabel"));var y=Ge(s,"inputText");y||(y=Ge(i,"inputText")),this.setColorComponentsInputTextConfig(y);var f=Ge(s,"space");f===void 0&&(f={item:8}),this.setColorComponentsSpace(f)}var u=this.childrenMap.swatch;u&&g&&this.onClick(u,this.openColorPicker,this)}}Object.assign(cv.prototype,iL);st.register("colorInput",function(e){var t=new cv(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ColorInput",cv);st.register("colorInputLite",function(e){var t=new Ty(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ColorInputBase",Ty);st.register("colorPicker",function(e){var t=new Sy(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ColorPicker",Sy);st.register("colorComponents",function(e){var t=new Py(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ColorComponents",Py);var sL=function(e){for(var t=e.scene.input,i=t.manager,r=i.pointersTotal,g=i.pointers,S,n=0;n<r;n++)if(S=g[n],!(!S.primaryDown||t.getDragState(S)!==0||!ix(e,S)))return t.setDragState(S,1),t._drag[S.id]=[e],t.dragDistanceThreshold===0||t.dragTimeThreshold===0?(t.setDragState(S,3),t.processDragStartList(S)):t.setDragState(S,2),!0;return!1};const zd=Phaser.Utils.Objects.GetValue,RP=Phaser.Math.Distance.Between,AP=Phaser.Math.RotateAroundDistance;class Ey extends Qt{constructor(t,i){super(t,{eventEmitter:!1}),this._enable=void 0,t.setInteractive(zd(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.setEnable(zd(t,"enable",!0)),this.setAxisMode(zd(t,"axis",0)),this.setAxisRotation(zd(t,"rotation",0)),this}toJSON(){return{enable:this.enable,axis:this.axisMode,rotation:this.axisRotation}}boot(){var t=this.parent;t.on("dragstart",this.onDragStart,this),t.on("drag",this.onDrag,this),t.on("dragend",this.onDragEnd,this)}shutdown(t){this.isShutdown||(this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragend(),this._enable=t,this.scene.input.setDraggable(this.parent,t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setAxisMode(t){return typeof t=="string"&&(t=Aq[t]),this.axisMode=t,this}setAxisRotation(t){return this.axisRotation=t,this}drag(){return sL(this.parent),this}dragend(){if(this.isDragging)return this.scene.input.setDragState(this.pointer,5),this}onDragStart(t,i,r){this.isDragging||(this.pointer=t)}onDrag(t,i,r){if(this.pointer===t){var g=this.parent;if(this.axisMode===0)g.x=i,g.y=r;else if(this.axisRotation===0)this.axisMode===1?g.x=i:this.axisMode===2&&(g.y=r);else{var S,n={x:i,y:r};S=RP(n.x,n.y,g.x,g.y),n=AP(n,g.x,g.y,-this.axisRotation,S),this.axisMode===1?n.y=g.y:this.axisMode===2&&(n.x=g.x),S=RP(n.x,n.y,g.x,g.y),n=AP(n,g.x,g.y,this.axisRotation,S),g.x=n.x,g.y=n.y}}}onDragEnd(t,i,r,g){this.pointer===t&&(this.pointer=void 0)}get isDragging(){return this.pointer!==void 0}}const Aq={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2};var Lq=function(){var e=this.sizerChildren[0],t=this.sizerChildren[1],i=this.sizerChildren[2],r=this.getSizerConfig(e).padding,g=this.getSizerConfig(t).padding,S=this.getSizerConfig(i).padding;if(this.orientation===0){var n=this.innerLeft+r.left,C=this.innerRight-S.right,s=Ft(t),o=t.x+s*(0-t.originX),y=t.x+s*(1-t.originX),f=o-g.left-this.space.item-r.right,u=y+g.right+this.space.item+S.left,l=f-n,a=C-u,d=l+a;this.minFirstChildSize>0&&l<this.minFirstChildSize&&(l=this.minFirstChildSize,a=d-l),this.minSecondChildSize>0&&a<this.minSecondChildSize&&(a=this.minSecondChildSize,l=d-a),this.setSplitRatio(l/d)}else{var v=this.innerTop+r.top,h=this.innerBottom-S.bottom,c=bt(t),p=t.y+c*(0-t.originY),m=t.y+c*(1-t.originY),x=p-g.top-this.space.item-r.bottom,T=m+g.bottom+this.space.item+S.top,P=x-v,M=h-T,E=P+M;this.minFirstChildSize>0&&P<this.minFirstChildSize&&(P=this.minFirstChildSize,M=E-P),this.minSecondChildSize>0&&M<this.minSecondChildSize&&(M=this.minSecondChildSize,P=E-M),this.setSplitRatio(P/E)}var w=this.minWidth,R=this.minHeight;this.setMinSize(this.width,this.height).layout().setMinSize(w,R)};const me=Phaser.Utils.Objects.GetValue,Oq=Phaser.Math.Clamp;class rL extends St{constructor(t,i){i.hasOwnProperty("orientation")||(i.orientation=i.hasOwnProperty("leftPanel")?0:1),super(t,i),this.type="rexSplit";var r=me(i,"background",void 0),g,S,n,C;this.orientation===0?(g="leftPanel",S="rightPanel",n="minLeftPanelWidth",C="minRightPanelWidth"):(g="topPanel",S="bottomPanel",n="minTopPanelHeight",C="minBottomPanelHeight");var s=me(i,g,void 0),o=me(i,"splitter",void 0),y=me(i,S,void 0);r&&this.addBackground(r);var f=me(i,"space",void 0);this.add(s,{proportion:1,expand:!0,padding:{left:me(f,`${g}Left`,0),right:me(f,`${g}Right`,0),top:me(f,`${g}Top`,0),bottom:me(f,`${g}Bottom`,0)}}),this.add(o,{proportion:0,expand:!0,padding:{left:me(f,"splitterLeft",0),right:me(f,"splitterRight",0),top:me(f,"splitterTop",0),bottom:me(f,"splitterBottom",0)}}),this.add(y,{proportion:1,expand:!0,padding:{left:me(f,`${S}Left`,0),right:me(f,`${S}Right`,0),top:me(f,`${S}Top`,0),bottom:me(f,`${S}Bottom`,0)}}),this.addChildrenMap("background",r),this.addChildrenMap(g,s),this.addChildrenMap("splitter",o),this.addChildrenMap(S,y),this.minFirstChildSize=me(i,n,0),this.minSecondChildSize=me(i,C,0),this.setSplitRatio(me(i,"splitRatio",.5)),this.splitterDragBehavior=new Ey(o,{axis:this.orientation===0?1:2}),o.on("dragstart",function(){this.emit("splitter.dragstart",o,this.splitRatio)},this).on("dragend",function(){this.emit("splitter.dragend",o,this.splitRatio)},this).on("drag",function(){Lq.call(this),this.emit("splitter.drag",o,this.splitRatio)},this).on("pointerover",function(){this.emit("splitter.over",o,this.splitRatio)},this).on("pointerout",function(){this.emit("splitter.out",o,this.splitRatio)},this)}get splitterEnable(){return this.splitterDragBehavior.enable}set splitterEnable(t){this.splitterDragBehavior.setEnable(t)}setSplitterEnable(t){return t===void 0&&(t=!0),this.splitterEnable=t,this}set minLeftPanelWidth(t){this.minFirstChildSize=t}get minLeftPanelWidth(){return this.minFirstChildSize}set minRightPanelWidth(t){this.minSecondChildSize=t}get minRightPanelWidth(){return this.minSecondChildSize}set minTopPanelHeight(t){this.minFirstChildSize=t}get minTopPanelHeight(){return this.minFirstChildSize}set minBottomPanelHeight(t){this.minSecondChildSize=t}get minBottomPanelHeight(){return this.minSecondChildSize}setMinLeftPanelWidth(t){return this.minLeftPanelWidth=t,this}setMinRightPanelWidth(t){return this.minRightPanelWidth=t,this}setMinTopPanelHeight(t){return this.minTopPanelHeight=t,this}setMinBottomPanelHeight(t){return this.minBottomPanelHeight=t,this}get splitRatio(){return this._splitRatio}set splitRatio(t){t=Oq(t,0,1),this._splitRatio!==t&&(this._splitRatio=t,this.getSizerConfig(this.sizerChildren[0]).proportion=t,this.getSizerConfig(this.sizerChildren[2]).proportion=1-t)}setSplitRatio(t){return this.splitRatio=t,this}}st.register("splitPanels",function(e){var t=new rL(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.SplitPanels",rL);var Fq=function(){return function(e,t,i,r){t!=="panel"&&i.setChildVisible(e,!0)}},bq=function(){return function(e,t,i,r){t!=="panel"&&i.setChildVisible(e,!1)}};const Dq={show:Fq,hide:bq};var Bq=function(e,t){return t===void 0&&(t=1),function(i,r,g,S){r!=="panel"&&g.fadeChild(i,S?0:e,t)}},Iq=function(e,t){return t===void 0&&(t=0),function(i,r,g,S){r!=="panel"&&g.fadeChild(i,S?0:e,t)}};const Gq={show:Bq,hide:Iq};var LP=function(e,t){return function(i,r,g,S){r!=="panel"&&g.moveChild(i,S?0:e,t)}};const kq={show:LP,hide:LP};var OP=function(e,t){return function(i,r,g,S){r==="panel"&&g.moveChild(i,S?0:e,t)}};const Nq={show:OP,hide:OP},Pg={visible:Dq,fade:Gq,move:kq,"move-panel":Nq};var zq=function(e){var t,i;[t,...i]=typeof e=="string"?[e]:e;var r,g;return Pg.hasOwnProperty(t)?(r=Pg[t].show.apply(null,i),g=Pg[t].hide.apply(null,i)):(r=Ee,g=Ee),{show:r,hide:g}};const Vq={showChild(e,t){var i=this.sizerChildren[e];return i&&(this.emit("showchild",i,e,this,t),this.resetChildState(i)),this},hideChild(e,t){var i=this.sizerChildren[e];return i&&(this.emit("hidechild",i,e,this,t),this.resetChildState(i)),this},swapChild(e,t){return this.currentChildKey===e||(this.currentChildKey==="panel"||e==="panel"?(this.previousChildKey=this.currentChildKey,this.currentChildKey=e,this.hideChild(this.previousChildKey,t),this.showChild(this.currentChildKey,t)):(this.swapChild("panel",t),this.swapChild(e,t))),this},showPanel(e){return this.swapChild("panel",e),this},showLeftSide(){return this.swapChild("leftSide"),this},showRightSide(){return this.swapChild("rightSide"),this},showTopSide(){return this.swapChild("topSide"),this},showBottomSide(){return this.swapChild("bottomSide"),this},hideLeftSide(){return this.currentChildKey=="leftSide"&&this.showPanel(),this},hideRightSide(){return this.currentChildKey=="rightSide"&&this.showPanel(),this},hideTopSide(){return this.currentChildKey=="topSide"&&this.showPanel(),this},hideBottomSide(){return this.currentChildKey=="bottomSide"&&this.showPanel(),this},toggleLeftSide(){var e=this.currentChildKey!=="panel"?"panel":"leftSide";return this.swapChild(e),this},toggleRightSide(){var e=this.currentChildKey!=="panel"?"panel":"rightSide";return this.swapChild(e),this},toggleTopSide(){var e=this.currentChildKey!=="panel"?"panel":"topSide";return this.swapChild(e),this},toggleBottomSide(){var e=this.currentChildKey!=="panel"?"panel":"bottomSide";return this.swapChild(e),this}},Uq=ki.prototype.setChildVisible,Xq={setChildVisible(e,t){var i;if(typeof e=="string"){var i=e;e=this.sizerChildren[i]}else i=Uc(this.sizerChildren,e);return t===void 0&&(t=this.currentChildKey===i),Uq.call(this,e,t),this}},Wq={fadeChild(e,t,i){var r;return typeof e=="string"?(r=e,e=this.sizerChildren[r]):r=Uc(this.sizerChildren,e),t===void 0&&(t=500),i===void 0&&(i=this.currentChildKey===r?1:0),e.fadeIn(t,{start:e.alpha,end:i}),this},fadeChildPromise(e,t,i){return typeof e=="string"&&(e=this.sizerChildren[key]),this.fadeChild(e,t,i),e._fade?Ne(e._fade):Promise.resolve()}},Yq={moveChild(e,t,i,r){var g;typeof e=="string"?(g=e,e=this.sizerChildren[g]):g=Uc(this.sizerChildren,e),t===void 0&&(t=500);var S=this.currentChildKey===g;if(r===void 0)switch(g){case"leftSide":case"rightSide":r=Ft(e);break;case"topSide":case"bottomSide":r=bt(e);break;default:if(S)switch(this.previousChildKey){case"leftSide":case"rightSide":r=Ft(this.sizerChildren[this.previousChildKey]);break;case"topSide":case"bottomSide":r=bt(this.sizerChildren[this.previousChildKey]);break;default:r=0;break}else switch(this.currentChildKey){case"leftSide":case"rightSide":r=Ft(this.sizerChildren[this.currentChildKey]);break;case"topSide":case"bottomSide":r=bt(this.sizerChildren[this.currentChildKey]);break;default:r=0;break}break}var n,C,s,o;if(S)switch(g){case"panel":switch(this.previousChildKey){case"leftSide":n=!0;break;case"rightSide":C=!0;break;case"topSide":s=!0;break;case"bottomSide":o=!0;break}break;case"leftSide":C=!0;break;case"rightSide":n=!0;break;case"topSide":o=!0;break;case"bottomSide":s=!0;break}else switch(g){case"panel":switch(this.currentChildKey){case"leftSide":C=!0;break;case"rightSide":n=!0;break;case"topSide":o=!0;break;case"bottomSide":s=!0;break}break;case"leftSide":n=!0;break;case"rightSide":C=!0;break;case"topSide":s=!0;break;case"bottomSide":o=!0;break}return n?e.moveTo(t,`-=${r}`,void 0,i):C?e.moveTo(t,`+=${r}`,void 0,i):s?e.moveTo(t,void 0,`-=${r}`,i):o?e.moveTo(t,void 0,`+=${r}`,i):e.moveTo(0),this},moveChildPromise(e,t,i,r){return typeof e=="string"&&(e=this.sizerChildren[key]),this.moveChild(e,t,i,r),e._easeMove?Ne(e._easeMove):Promise.resolve()}};var nL={};Object.assign(nL,Xq,Wq,Yq);const fi=Phaser.Utils.Objects.GetValue;class My extends ss{constructor(t,i){super(t,i),this.type="rexSides",this.childrenMap=this.sizerChildren,this.previousChildKey=void 0,this.currentChildKey=void 0;var r=fi(i,"showChildCallback",void 0);if(r)if(Es(r)){var g=fi(i,"showChildCallbackScope",void 0);this.on("showchild",r,g);var S=fi(i,"hideChildCallback",void 0),n=fi(i,"hideChildCallbackScope",void 0);this.on("hidechild",S,n)}else{var C=zq(r);this.on("showchild",C.show),this.on("hidechild",C.hide)}var s=fi(i,"background",void 0),o=fi(i,"panel",void 0),y=fi(i,"leftSide",void 0),f=fi(i,"rightSide",void 0),u=fi(i,"topSide",void 0),l=fi(i,"bottomSide",void 0);if(s&&this.addBackground(s),o&&this.add(o,"panel","center",0,!0),y){var a=fi(i,"expand.left",!0);this.add(y,"leftSide","left-top",0,{height:a})}if(f){var a=fi(i,"expand.right",!0);this.add(f,"rightSide","right-top",0,{height:a})}if(u){var a=fi(i,"expand.top",!0);this.add(u,"topSide","left-top",0,{width:a})}if(l){var a=fi(i,"expand.bottom",!0);this.add(l,"bottomSide","left-bottom",0,{width:a})}}reset(){return this.previousChildKey=void 0,this.currentChildKey="panel",this.showChild("panel",!0),this.hideChild("leftSide",!0),this.hideChild("rightSide",!0),this.hideChild("topSide",!0),this.hideChild("bottomSide",!0),this}}Object.assign(My.prototype,Vq,nL);st.register("sides",function(e){var t=new My(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Sides",My);var Hq=function(e){var t=!0;return e.hasOwnProperty("accept")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'accept' callback.`)),e.hasOwnProperty("build")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'build' callback.`)),t&&this.inputHandlers.unshift(e),this};const $q=Phaser.Utils.Array.GetFirst,Kq=Phaser.Utils.Array.Remove;var Zq=function(e){var t=$q(this.inputHandlers,"name",e);return t&&Kq(this.inputHandlers,t),this};class pu extends wr{constructor(t,i){i=Qc(t,i),super(t,i),this.type="rexTweaker.Title"}setTitle(t){return t=t?Be(t):{},t.hasOwnProperty("text")||(t.hasOwnProperty("title")?t.text=t.title:t.text=""),this.resetDisplayContent(t),this}}class Jq extends pu{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexTweaker.FolderTitle";var r=new Kl(t,i.expandedIcon);t.add.existing(r),this.addSpace().add(r,{proportion:0,expand:!1,padding:1,fitRatio:1}),this.addChildrenMap("expandedIcon",r)}setExpandedState(t){t===void 0&&(t=!0);var i=t?"down":"right",r=this.childrenMap.expandedIcon;return r.setDirection(i),this}}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var aL=function(e,t){var i=Ps(e);for(var r in t)i.hasOwnProperty(r)||(i[r]=t[r]);return i},sl=function(e,t,i){return Me(e,aL(t,i))};const Qq={setBindingTarget(e){var t=this.childrenMap.child;return t.setBindingTarget(e),this}},jq={getMaxInputRowTitleWidth(){var e=this.childrenMap.child,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.child;return t.setInputRowTitleWidth(e),this}};class oL extends vu{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexTweaker.Folder"}setTitle(t){var i=this.childrenMap.title;return i.setTitle(t),this}}Object.assign(oL.prototype,Qq,jq);const so=Phaser.Utils.Objects.GetValue;var qq=function(e,t,i){var r=e.scene,g=so(i,"title")||{},S=new Jq(r,g);r.add.existing(S),S.on("folder.expand",function(){S.setExpandedState(!0)}).on("folder.collapse",function(){S.setExpandedState(!1)});var n={root:so(i,"root"),styles:so(i,"tweaker"),space:so(i,"space")||{}},C=e.createTweaker(n),s=so(i,"background"),o=sl(r,t,s),y=new oL(r,{title:S,child:C,background:o,transition:{duration:so(i,"transition.duration",200)}});return r.add.existing(y),y};const FP=Phaser.Utils.Objects.GetValue;var _q=function(e){e===void 0&&(e={});var t=FP(this.styles,"folder")||{};t.tweaker=this.styles,t.root=this.root;var i=qq(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0}),i.setTitle(e);var r=FP(e,"expanded",!0);r!==void 0&&i.setExpandedState(r);var g=i.childrenMap.child;return e.key&&this.root.addChildrenMap(e.key,g),g};const t_={setBindingTarget(e){for(var t=this.childrenMap.pages.children,i=0,r=t.length;i<r;i++)t[i].setBindingTarget(e);return this}},e_={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.pages.children,i=0,r=t.length;i<r;i++)e=Math.max(e,t[i].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.pages.children,i=0,r=t.length;i<r;i++)t[i].setInputRowTitleWidth(e);return this}};class hL extends dv{constructor(t,i){super(t,i),this.type="rexTweaker.TabPages"}}Object.assign(hL.prototype,t_,e_);const Vd=Phaser.Utils.Objects.GetValue;var i_=function(e,t,i){var r=e.scene,g=new hL(r,i);r.add.existing(g);for(var S=Vd(i,"tab"),n={root:Vd(i,"root"),styles:Vd(i,"tweaker")},C=Vd(t,"pages")||[],s=0,o=C.length;s<o;s++){var y=C[s];g.addPage({key:y.title,tab:be(r,S).setActiveState(!1).resetDisplayContent({text:y.title}),page:e.createTweaker(n)})}return g.on("tab.focus",function(f,u){f.setActiveState(!0)}).on("tab.blur",function(f,u){f.setActiveState(!1)}),g};const bP=Phaser.Utils.Objects.GetValue;var s_=function(e){e===void 0&&(e={});var t=bP(this.styles,"tab")||{};t.tweaker=this.styles,t.root=this.root;var i=i_(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0});for(var r=bP(e,"pages")||[],g=[],S=0,n=0,C=r.length;n<C;n++){var s=i.getPage(n),o=r[n].show;o&&(S=n);var y=r[n].key;y&&this.root.addChildrenMap(y,s),g.push(s)}return i.swapPage(S,0),g};const r_={setBindingTarget(e){for(var t=this.childrenMap.columns,i=0,r=t.length;i<r;i++)t[i].setBindingTarget(e);return this}},n_={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.columns,i=0,r=t.length;i<r;i++)e=Math.max(e,t[i].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.columns,i=0,r=t.length;i<r;i++)t[i].setInputRowTitleWidth(e);return this}},ro=Phaser.Utils.Objects.GetValue;class lL extends St{constructor(t,i){i===void 0&&(i={}),i.orientation="y",super(t,i),this.type="rexTweaker.Columns";var r=ro(i,"background",void 0),g=ro(i,"title",void 0);r&&this.addBackground(r),g&&this.add(g,{expand:!0,space:{bottom:ro(i,"space.title",0)}});var S=new St(t,{orientation:"x",space:{item:ro(i,"space.column",0)}});t.add.existing(S);for(var n=ro(i,"columns",void 0),C,s,o=0,y=n.length;o<y;o++)C=n[o],s=C.child,S.add(C.child,{proportion:s.minWidth===0?1:0,expand:ro(C,"expand",!0)});this.add(S,{expand:!0}),this.addChildrenMap("title",g),this.addChildrenMap("columnsSizer",S),this.addChildrenMap("columns",S.childrenMap.items)}setTitle(t){var i=this.childrenMap.title;return t.title||t.icon?i.show().setTitle(t):i.hide(),this}getColumns(){return this.childrenMap.columns}getColumn(t){return this.childrenMap.columns[t]}}Object.assign(lL.prototype,r_,n_);const Zn=Phaser.Utils.Objects.GetValue;var a_=function(e,t,i){var r=e.scene,g=Zn(i,"title")||{},S=new pu(r,g);r.add.existing(S);var n={root:Zn(i,"root"),styles:Zn(i,"tweaker")},C=Zn(i,"background");C&&!Array.isArray(C)&&(C=[C]);var s=Zn(t,"columns",2);if(typeof s=="number"){var o=s;s=[];for(var y=0,f=o;y<f;y++)s.push({})}for(var y=0,f=s.length;y<f;y++){var u=s[y];C&&(n.background=C[y%C.length]),n.width=Zn(u,"width",0);var l=e.createTweaker(n);u.child=l}var a=new lL(r,{title:S,columns:s,space:Zn(i,"space")});return r.add.existing(a),a};const DP=Phaser.Utils.Objects.GetValue;var o_=function(e){e===void 0&&(e={}),typeof e=="number"&&(e={columns:e});var t=DP(this.styles,"columns")||{};t.tweaker=this.styles,t.root=this.root;var i=a_(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0}),i.setTitle(e);var r=DP(e,"columns",void 0);if(r&&Array.isArray(r))for(var g=0,S=r.length;g<S;g++){var n=r[g].key;n&&this.root.addChildrenMap(n,i.getColumn(g))}return i.getColumns()};const h_={setBindingTarget(e){for(var t=this.childrenMap.child,i=0,r=t.length;i<r;i++)t[i].setBindingTarget(e);return this}},l_={getMaxInputRowTitleWidth(){return 0},setInputRowTitleWidth(e){return this}},Ud=Phaser.Utils.Objects.GetValue;class uL extends St{constructor(t,i){i===void 0&&(i={}),i.orientation="y",super(t,i),this.type="rexTweaker.Wrap";var r=Ud(i,"background",void 0),g=Ud(i,"title",void 0);r&&this.addBackground(r),g&&this.add(g,{expand:!0,space:{bottom:Ud(i,"space.title",0)}});var S=Ud(i,"child",void 0);this.add(S,{expand:!0}),this.addChildrenMap("title",g),this.addChildrenMap("child",S)}setTitle(t){var i=this.childrenMap.title;return t.title||t.icon?i.show().setTitle(t):i.hide(),this}}Object.assign(uL.prototype,h_,l_);const Ns=Phaser.Utils.Objects.GetValue;var u_=function(e,t,i){var r=e.scene,g=Ns(i,"title")||{},S=new pu(r,g);r.add.existing(S);var n=Ns(i,"itemWidth",0),C=Ns(i,"itemHeight",0),s={root:Ns(i,"root"),styles:Ns(i,"tweaker"),space:Ns(i,"space"),align:Ns(i,"align",5),wrap:!0,itemWidth:Ns(t,"itemWidth",n),itemHeight:Ns(t,"itemHeight",C)};Ns(i,"background");var o=e.createTweaker(s),y=new uL(r,{title:S,child:o});return r.add.existing(y),y};const d_=Phaser.Utils.Objects.GetValue;var f_=function(e){e===void 0&&(e={});var t=d_(this.styles,"wrap")||{};t.tweaker=this.styles,t.root=this.root;var i=u_(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0}),i.setTitle(e);var r=i.childrenMap.child;return e.key&&this.root.addChildrenMap(e.key,r),r};const c_={setBindingTarget(e){var t=this.childrenMap.panel;return t.setBindingTarget(e),this}},v_={getMaxInputRowTitleWidth(){var e=this.childrenMap.panel,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.panel;return t.setInputRowTitleWidth(e),this}};class dL extends fu{constructor(t,i){super(t,i),this.type="rexTweaker.Scrollable"}setTitle(t){var i=this.childrenMap.header;return t.title||t.icon?i.show().setTitle(t):i.hide(),this}}Object.assign(dL.prototype,c_,v_);const Ur=Phaser.Utils.Objects.GetValue;var p_=function(e,t,i){var r=e.scene,g=Ur(i,"title")||{},S=new pu(r,g);r.add.existing(S);var n={root:Ur(i,"root"),styles:Ur(i,"tweaker"),space:Ur(i,"space")||{}},C=e.createTweaker(n),s=Ur(i,"slider");if(s){s=Be(s);var o=s.track;o&&(s.track=sl(r,t,o));var y=s.thumb;y&&(s.thumb=sl(r,t,y))}var f=Ur(i,"background"),u=sl(r,t,f),l=new dL(r,{scrollMode:0,header:S,panel:{child:C,mask:{padding:1}},slider:s,background:u,height:Ur(t,"height",0),space:Ur(i,"space",void 0)});return r.add.existing(l),l};const g_=Phaser.Utils.Objects.GetValue;var m_=function(e){e===void 0&&(e={});var t=g_(this.styles,"scrollable")||{};t.tweaker=this.styles,t.root=this.root;var i=p_(this,e,t);delete t.tweaker,delete t.root,this.add(i,{proportion:i.minWidth===0?1:0,expand:!0}),i.setTitle(e);var r=i.childrenMap.panel;return e.key&&this.root.addChildrenMap(e.key,r),r};const BP=Phaser.Utils.Objects.GetValue,x_={setupBinding(){var e=this.childrenMap.inputField;return e.on("valuechange",function(t){this.autoUpdateEnable&&this.setTargetValue(t)},this),this},setAutoUpdateEnable(e){return e===void 0&&(e=!0),this.autoUpdateEnable=e,this},setBindingTarget(e,t){this.bindingTarget=e,t!==void 0&&this.setBindingTargetKey(t),this.syncTargetValue();var i=this.childrenMap.inputField;return i.onBindTarget&&i.onBindTarget(e,t),this},setBindingTargetKey(e){return this.bindTargetKey=e,this},setValueCallbacks(e){return this.onGetValue=BP(e,"onGetValue"),this.onSetValue=BP(e,"onSetValue"),this},getTargetValue(){if(this.bindingTarget){if(this.bindTargetKey!=null)return this.bindingTarget[this.bindTargetKey];if(this.onGetValue)return this.onGetValue(this.bindingTarget)}},setTargetValue(e){return this.bindingTarget?this.bindTargetKey!=null?(this.bindingTarget[this.bindTargetKey]=e,this):(this.onSetValue&&this.onSetValue(this.bindingTarget,e),this):this},syncTargetValue(){if(!this.bindingTarget)return this;var e=this.childrenMap.inputField;return e.syncValue&&e.syncValue(this.getTargetValue()),this}},y_={startMonitorTarget(){return this.isMonitoring?this:(this.isMonitoring=!0,this.scene.events.on("postupdate",this.onMonitorTarget,this),this)},stopMonitorTarget(){return this.isMonitoring?(this.isMonitoring=!1,this.scene.events.off("postupdate",this.onMonitorTarget,this),this):this},onMonitorTarget(){if(this.bindingTarget){var e=this.getTargetValue(),t=this.childrenMap.inputField;t.value!==e&&t.syncValue(e)}}},C_={getMinTitleWidth(){var e=this.childrenMap.title;if(!e||e.orientation!==0)return 0;var t=e.rexSizer.padding,i=this.getChildWidth(this.childrenMap.title)+(t.left+t.right)*e.scaleX;return i+this.getInnerPadding("left")},setMinTitleWidth(e){var t=this.childrenMap.title;if(!t||t.orientation!==0)return this;var i=t.rexSizer.padding;return e-=(i.left+i.right)*t.scaleX,t.minWidth=e,this}},Eg=Phaser.Utils.Objects.GetValue;class wy extends St{constructor(t,i){super(t,i),this.type="rexTweaker.InputRow",this.bindingTarget=void 0,this.bindTargetKey=void 0,this.autoUpdateEnable=!0;var r=i.inputTitle,g=i.inputField,S=i.background,o=Eg(i,"proportion.title",0),n=Eg(i,"space.title",0),C;this.orientation===0?C={right:n}:C={bottom:n},this.add(r,{proportion:o,expand:!0,padding:C});var s=g.defaultProportion;s===void 0&&(s=i.defaultExpandWidth?1:0);var o=Eg(i,"proportion.inputField",s);this.add(g,{proportion:o,expand:!0}),S&&this.addBackground(S),this.addChildrenMap("title",r),this.addChildrenMap("inputField",g),this.addChildrenMap("background",S),this.setupBinding()}destroy(t){!this.scene||this.ignoreDestroy||(this.stopMonitorTarget(),super.destroy(t))}setTitle(t){var i=this.childrenMap.title;return i.setTitle(t),this}preLayout(){var t=this.childrenMap.title;t&&(t.minWidth=0),super.preLayout()}}Object.assign(wy.prototype,x_,y_,C_);var fL=function(e,t,i){var r=new pu(e,i);return e.add.existing(r),r},T_=function(e){e===void 0&&(e=St);class t extends e{get bindingTarget(){var r=this.getParentSizer();return r.bindingTarget}get bindingKey(){var r=this.getParentSizer();return r.bindTargetKey}get value(){return this._value}get root(){var r=this.getParentSizer(),g=r.getParentSizer();return g.root}onBindTarget(r,g){this.onBindTargetCallback&&this.onBindTargetCallback(this,r,g)}validate(r){return this.syncValueFlag||!this.validateCallback?!0:this.validateCallback(r,this._value,this.bindingTarget,this.bindingKey)}getFotmatText(r){return this.textFormatCallback?r=this.textFormatCallback(r):r=r.toString(),r}set value(r){if(this._value!==r&&(this.validate(r)||(r=this._value),this.filterValueCallback&&(r=this.filterValueCallback(this,r)),this.displayValueCallback&&this.displayValueCallback(this,r),this._value!==r)){var g=this._value;if(this._value=r,!this.syncValueFlag){var S=this.bindingTarget,n=this.bindingKey;this.emit("valuechange",r,g,S,n),this.root.emit("valuechange",r,g,S,n)}}}getValue(){return this.value}setValue(r){return this.value=r,this}syncValue(r){return this.syncValueFlag=!0,this.value=r,this.syncValueFlag=!1,this}setup(r,g){return g===void 0&&(g=!1),(g||r.hasOwnProperty("format"))&&this.setTextFormatCallback(r.format),(g||r.hasOwnProperty("onValidate"))&&this.setValidateCallback(r.onValidate),this.setupCallback&&this.setupCallback(this,r,g),this}setSetupCallback(r){return this.setupCallback=r,this}setFilterValueCallback(r){return this.filterValueCallback=r,this}setDisplayValueCallback(r){return this.displayValueCallback=r,this}setOnBindTargetCallback(r){return this.onBindTargetCallback=r,this}setTextFormatCallback(r){return this.textFormatCallback=r,this}setValidateCallback(r){return this.validateCallback=r,this}}return t},S_=function(e,t,i){for(var r,g=this.inputHandlers,S=0,n=g.length;S<n;S++){var C=g[S];if(C.accept(t)){var s=T_(C.baseClass);r=new s(e),e.add.existing(r),r.setSetupCallback(C.setup).setFilterValueCallback(C.filterValue).setDisplayValueCallback(C.displayValue).setOnBindTargetCallback(C.onBindTarget),C.build(r,i);break}}return r&&r.setup(t,!0),r};const IP=Phaser.Utils.Objects.GetValue;var P_=function(e,t,i){var r=S_.call(this,e,t,i);if(!r)return null;var g=IP(i,"title")||{},S=fL(e,t,g),n=IP(i,"background")||{},C=Me(e,n),s=new wy(e,{...i,...t,inputTitle:S,inputField:r,background:C});return e.add.existing(s),s.setTitle(t),s.setValueCallbacks(t),s},E_=function(e,t,i){arguments.length===1?(i=e,e=i.bindingTarget,t=i.bindingKey):(i===void 0&&(i={}),i.bindingTarget=e,i.bindingKey=t),i.title||(i.title=t),i.bindingTarget&&i.bindingKey?i.value=i.bindingTarget[i.bindingKey]:i.value=void 0;var r=this.styles.inputRow||{};this.isWrapMode?r.defaultExpandWidth=!0:r.defaultExpandWidth=this.styles.orientation===1;var g=P_.call(this,this.scene,i,r);if(!g)return console.error(`[Tweaker] Can't add Input
    title: ${i.title}
    view: ${i.view}
`),this;if(this.isWrapMode)g.setMinWidth(this.itemWidth),g.setMinHeight(this.itemHeight),this.add(g);else{var S;this.orientation===1?S=0:(S=this.itemWidth>0?0:1,g.minWidth===0&&g.setMinWidth(this.itemWidth)),g.minHeight===0&&g.setMinHeight(this.itemHeight),this.add(g,{proportion:S,expand:!0})}if(i.onValueChange){var n=g.childrenMap.inputField;n.on("valuechange",i.onValueChange)}return g.setAutoUpdateEnable(i.autoUpdate),g.setBindingTarget(e,t),i.monitor&&g.startMonitorTarget(),i.key&&this.root.addChildrenMap(i.key,g),this},M_=function(e,t){var i=new Ca(e,t);return e.add.existing(i),i};const w_=Phaser.Utils.Objects.GetValue;var R_=function(e,t){var i=w_(t,"wrap",!1),r=i?mn:Fe,g=new r(e,t);return e.add.existing(g),g};const Xd=Phaser.Utils.Objects.GetValue;var A_=function(e,t,i){for(var r=Xd(i,"title")||{},g=fL(e,t,r),S=t.buttons,n=Xd(i,"button")||{},C=[],s=0,o=S.length;s<o;s++){var y=be(e,n);C.push(y);var f=S[s];y.resetDisplayContent(f.label),y.callback=f.callback}var u=R_(e,{buttons:C,expand:!0,wrap:Xd(t,"wrap",!1)});u.defaultProportion=1;var l=Xd(i,"background")||{},a=M_(e,l),d=new wy(e,{...i,inputTitle:g,inputField:u,background:a});return e.add.existing(d),d.setTitle(t),u.on("button.click",function(v){v.callback(d.bindingTarget)}),d};const L_=Phaser.Utils.Objects.GetValue;var O_=function(e){e===void 0&&(e={});var t=this.scene,i=e.bindingTarget;delete e.bindingTarget;var r=L_(this.styles,"inputRow")||{},g=A_(t,e,r);return this.add(g,{expand:!0}),i&&g.setBindingTarget(i),e.key&&this.root.addChildrenMap(e.key,g),this},F_=function(e){return e===void 0&&(e={}),e.buttons=[{label:e.label,callback:e.callback}],delete e.label,delete e.callback,this.addButtons(e),this},b_=function(e,t,i){return Me(e,aL(t,i))};const D_=Phaser.Utils.Objects.GetValue;var B_=function(e){e===void 0&&(e={});var t=this.scene,i=D_(this.styles,"separator"),r=b_(t,e,i);return this.add(r,{expand:!0}),this},I_=function(e,t,i){return typeof t=="boolean"&&(i=t,t=void 0),i===void 0&&(i=!0),Hh(this,Be(e),t,i),this},Hh=function(e,t,i,r){if(t)for(var g=0,S=t.length;g<S;g++){var n=t[g];n.hasOwnProperty("$target")&&(i=n.$target,delete n.$target);var C=n.$type;switch(delete n.$type,C){case"folder":var s=e.addFolder(n);Hh(s,n.$properties,i,r);break;case"tab":for(var o=e.addTab(n),y=0,f=o.length;y<f;y++)Hh(o[y],n.pages[y].$properties,i,r);break;case"columns":for(var u=e.addColumns(n),y=0,f=u.length;y<f;y++)Hh(u[y],n.columns[y].$properties,i,r);break;case"scrollable":var l=e.addScrollable(n);Hh(l,n.$properties,i,r);break;case"separator":e.addSeparator();break;case"button":n.bindingTarget=i,e.addButton(n);break;case"buttons":n.bindingTarget=i,e.addButtons(n);break;default:var a=n.$key;if(delete n.$key,a.indexOf(".")===-1)n.bindingTarget=i,n.bindingKey=a;else{var d=a.split(".");n.bindingKey=d.pop();for(var v=i,h=0,c=d.length;h<c;h++)if(v=v[d[h]],!i){console.warn(`[Monitor] Key path '${a}' is invalid`);continue}n.bindingTarget=v}n.hasOwnProperty("monitor")||(n.monitor=r),e.addInput(n);break}}},G_=function(e){for(var t=this.sizerChildren,i=0,r=t.length;i<r;i++){var g=t[i];g.setBindingTarget&&g.setBindingTarget(e)}return this},k_=function(){for(var e=0,t=this.sizerChildren,i=0,r=t.length;i<r;i++){var g=t[i];g.rexSizer.hidden||(g.getMinTitleWidth?e=Math.max(e,g.getMinTitleWidth()):g.getMaxInputRowTitleWidth&&(e=Math.max(e,g.getMaxInputRowTitleWidth())))}return e+this.getInnerPadding("left")},N_=function(e){this.isWrapMode||(e-=this.getInnerPadding("left"));for(var t=this.sizerChildren,i=0,r=t.length;i<r;i++){var g=t[i];g.rexSizer.hidden||(g.setMinTitleWidth?g.setMinTitleWidth(e):g.setInputRowTitleWidth&&g.setInputRowTitleWidth(e))}return this},z_={registerInputHandler:Hq,removeInputHandler:Zq,addFolder:_q,addTab:s_,addColumns:o_,addWrap:f_,addScrollable:m_,addInput:E_,addButtons:O_,addButton:F_,addSeparator:B_,addRows:I_,setBindingTarget:G_,getMaxInputRowTitleWidth:k_,setInputRowTitleWidth:N_};const Xr=Phaser.Utils.Objects.GetValue;var cL=function(e){var t=Xr(e,"wrap",!1),i=t?wn:St;class r extends i{constructor(S,n){n===void 0&&(n={}),n.orientation===void 0&&(n.orientation=t?0:1),super(S,n),this.type="rexTweakerShell",this.isWrapMode=t,n.root?(this.root=n.root,this.inputHandlers=this.root.inputHandlers):(this.root=this,this.inputHandlers=[]),this.styles=Xr(n,"styles")||{},this.styles.orientation=this.orientation;var C=Xr(n,"itemWidth");C===void 0&&(C=Xr(this.styles,"itemWidth",0)),this.itemWidth=C;var s=Xr(n,"itemHeight");if(s===void 0&&(s=Xr(this.styles,"itemHeight",0)),this.itemHeight=s,t||this.root===this&&this.orientation===1){var o=Xr(n,"inputRow.alignTitle");if(o===void 0){var y=Xr(this.styles,"inputRow.proportion.title");o=!y}else o&&et(this.styles,"inputRow.proportion.title",0);this.alignInputRowTitleStartFlag=o}else this.alignInputRowTitleStartFlag=!1;var f=sl(S,void 0,n.background);f&&this.addBackground(f)}preLayout(){super.preLayout(),this.alignInputRowTitleStartFlag&&this.setInputRowTitleWidth(this.getMaxInputRowTitleWidth())}createTweaker(S,n){n===void 0&&(n=!0);var C=cL(S),s=new C(this.scene,S);return n&&this.scene.add.existing(s),s}}return Object.assign(r.prototype,z_),r},V_=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const U_={name:"TextInput",accept(e){return e.hasOwnProperty("view")?e.view==="string":typeof e.value=="string"},build(e,t){var i=e.scene;e.type="rexTweaker.TextInput";var r=t.inputText,g=xn(i,r);e.add(g,{proportion:1,expand:!0,key:"inputText"}),g.on("close",function(){e.setValue(g.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&V_(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))}};var X_=function(e,t,i){i===void 0&&(i=!0),i?t=t?Be(t):{}:t||(t={});var r=new fv(e,t);return e.add.existing(r),r},W_=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const Y_={name:"TextAreaInput",accept(e){return e.hasOwnProperty("view")?e.view==="textarea":!1},build(e,t){var i=e.scene;this.type="rexTweaker.TextAreaInput";var r=t.inputTextArea;r===void 0&&(r={}),r.hasOwnProperty("text")||(r.text=t.inputText),r.hasOwnProperty("slider")||(r.slider=t.slider);var g=X_(i,r);e.add(g,{proportion:1,expand:!0,key:"inputText"}),g.on("close",function(){e.setValue(g.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&W_(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))},onBindTarget(e){var t=e.childrenMap.inputText;t.scrollToTop()}};var H_=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const $_={name:"NumberInput",accept(e){return e.hasOwnProperty("view")?e.view==="number":typeof e.value=="number"},build(e,t){var i=e.scene;e.type="rexTweaker.NumberInput";var r=t.inputNumber||t.inputText,g=xn(i,r).setNumberInput();e.add(g,{proportion:1,expand:!0,key:"inputText"}),g.on("close",function(){e.setValue(g.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&H_(e,!!t.inputTextReadOnly),e.isFloatType=!t.int},filterValue(e,t){return e.isFloatType?t:Math.floor(t)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))}};var K_=function(e,t){var i=new th(e,t);return e.add.existing(i),i};const Mg=Phaser.Utils.Objects.GetValue,Z_=Phaser.Math.Linear,J_=Phaser.Math.Snap.Floor;var Q_=function(e,t,i,r){e.minValue=t,e.maxValue=i,e.step=r;var g=e.childrenMap.slider;g.setGap(r,t,i)},j_=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const q_={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="range":typeof e.value=="number"&&e.hasOwnProperty("min")&&e.hasOwnProperty("max")},build(e,t){var i=e.scene;e.type="rexTweaker.RangeInput";var r=t.slider,g=e.orientation===0?"track.height":"track.width",S=Mg(r,g),n=K_(i,r),y=t.defaultExpandWidth?2:0,f=Mg(t,"proportion.range.slider",y),C=S===void 0;e.add(n,{proportion:f,expand:C,key:"slider"});var s=t.inputNumber||t.inputText,o=xn(i,s).setNumberInput(),y=t.defaultExpandWidth?1:0,f=Mg(t,"proportion.range.inputText",y);e.add(o,{proportion:f,expand:!0,key:"inputText"}),o.on("close",function(){e.setValue(o.value)}),n.on("valuechange",function(){var u=Z_(e.minValue,e.maxValue,n.value);e.step&&(u=J_(u,e.step,e.minValue)),e.setValue(u)})},setup(e,t,i){(i||t.hasOwnProperty("max"))&&Q_(e,t.min,t.max,t.step),(i||t.hasOwnProperty("inputTextReadOnly"))&&j_(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.slider;i.setValue(t,e.minValue,e.maxValue);var r=e.childrenMap.inputText;r.setText("").setText(e.getFotmatText(t))}};var vL=function(e,t){var i=new Fe(e,t);return e.add.existing(i),i};const __=Phaser.Utils.Objects.GetValue;var ttt=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const ett={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="incdec":!1},build(e,t){var i=e.scene;e.type="rexTweaker.IncDecInput";var r=__(t,"incDec")||{},g={text:null,action:null},S=vL(i,{expand:!1}),n=t.defaultExpandWidth?1:0;e.add(S,{proportion:n,expand:!0});var C=t.inputNumber||t.inputText,s=xn(i,C).setNumberInput();s.on("close",function(){e.setValue(s.value)});var o=Object.assign(Be(g),r.incButton||{}),y=be(i,o),f=Object.assign(Be(g),r.decButton||{}),u=be(i,f);S.addButton(y),S.addButton(u);var l=r.inputTextIndex||0;S.insert(l,s,{proportion:1,expand:!0}),e.step=1,e.minValue=void 0,e.maxValue=void 0,S.on("button.click",function(a,d,v,h){var c=e.value;d===0?c+=e.step:c-=e.step,e.maxValue!==void 0&&c>e.maxValue&&(c=e.maxValue),e.minValue!==void 0&&c<e.minValue&&(c=e.minValue),e.setValue(c)}),e.addChildrenMap("incButton",y),e.addChildrenMap("decButton",u),e.addChildrenMap("inputText",s)},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&ttt(e,!!t.inputTextReadOnly),(i||t.hasOwnProperty("step"))&&(e.step=t.hasOwnProperty("step")?t.step:1),(i||t.hasOwnProperty("min"))&&(e.minValue=t.min),(i||t.hasOwnProperty("max"))&&(e.maxValue=t.max)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText("").setText(e.getFotmatText(t))}};var itt=function(e,t,i){i===void 0&&(i=!0),i?t=t?Be(t):{}:t||(t={});var r=new cv(e,t);return e.add.existing(r),r};const stt={name:"ColorInput",accept(e){return e.hasOwnProperty("view")?e.view==="color":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ColorInput";var r=t.colorInput;r===void 0&&(r={}),r.hasOwnProperty("inputText")||(r.inputText=t.inputText);var g=itt(i,r);e.add(g,{proportion:1,expand:!0,key:"colorInput"}),g.on("valuechange",function(S){e.setValue(S)})},displayValue(e,t){var i=e.childrenMap.colorInput;i.setValue(t)}};var rtt=function(e,t){var i=new ax(e,t);return e.add.existing(i),i};const ntt={name:"CheckboxInput",accept(e){return e.hasOwnProperty("view")?e.view==="boolean":typeof e.value=="boolean"},build(e,t){var i=e.scene;e.type="rexTweaker.CheckboxInput";var r=t.checkbox,g=rtt(i,r),S=r.size;S!==void 0&&g.setSize(S,S);var n=S!==void 0?0:1;e.add(g,{proportion:0,expand:!1,fitRatio:n,key:"checkbox"}),g.on("valuechange",function(C){e.setValue(C)})},displayValue(e,t){var i=e.childrenMap.checkbox;i.setValue(t)}};var att=function(e,t){var i=new ox(e,t);return e.add.existing(i),i};const ott={name:"ToggleSwitchInput",accept(e){return e.hasOwnProperty("view")?e.view==="toggleSwitch":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ToggleSwitchInput";var r=t.toggleSwitch,g=att(i,r),S=r.size;S!==void 0&&g.setSize(S,S);var n=S!==void 0?0:1;e.addSpace().add(g,{proportion:0,expand:!1,fitRatio:n,key:"toggleSwitch"}),g.on("valuechange",function(C){e.setValue(C)})},displayValue(e,t){var i=e.childrenMap.toggleSwitch;i.setValue(t)}};var htt=function(e,t){t=wA(e,t);var i=new cu(e,t);return e.add.existing(i),i},pL=function(e,t){for(var i=0,r=e.length;i<r;i++){var g=e[i];if(g.value===t)return i}},ltt=function(e,t){var i=pL(e,t);if(i!=null)return e[i]},utt=function(e,t){var i=e.childrenMap.list;i.setOptions(t)};const dtt={name:"ListInput",accept(e){return e.hasOwnProperty("view")?e.view==="list":e.hasOwnProperty("options")},build(e,t){var i=e.scene;e.type="rexTweaker.ListInput";var r=htt(i,t.list);e.add(r,{proportion:1,expand:!0,key:"list"}),r.on("button.click",function(g,S,n,C,s,o){e.setValue(n.value)})},setup(e,t,i){(i||t.hasOwnProperty("options"))&&utt(e,t.options)},displayValue(e,t){var i=e.childrenMap.list,r=ltt(i.options,t);i.resetDisplayContent(r).setMinSize(i.width,i.height).layout().setMinSize(0,0)}};var ftt=function(e,t){for(var i=0,r=e.length;i<r;i++){var g=e[i];g&&g.setActiveState(i===t)}};const ctt=Phaser.Utils.Objects.GetValue;var vtt=function(e,t){var i=e.childrenMap.list;i.options=t;var r=e.scene,g=i.buttonConfig;i.clearButtons(!0);for(var S=0,n=t.length;S<n;S++){var C=t[S],s=be(r,g).setActiveState(!1).resetDisplayContent({text:C.text});i.addButton(s)}};const ptt={name:"ButtonsInput",accept(e){return e.hasOwnProperty("view")?e.view==="buttons":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ButtonsInput";var r=t.button?Be(t.button):{},g=ctt(r,"expand",!0);g&&(r.align="center"),delete r.expand;var S=vL(i,{expand:g});S.buttonConfig=r,e.add(S,{proportion:1,expand:!0,key:"list"}),S.on("button.click",function(n,C,s,o){var y=S.options[C];y&&(e._selectedIndex=C,e.setValue(y.value),e._selectedIndex=void 0)})},setup(e,t,i){(i||t.hasOwnProperty("options"))&&vtt(e,t.options)},displayValue(e,t){var i=e.childrenMap.list,r=e._selectedIndex;r===void 0&&(r=pL(i.options,t)),ftt(i.childrenMap.buttons,r)}};var gtt=function(){this.registerInputHandler(U_).registerInputHandler(Y_).registerInputHandler($_).registerInputHandler(q_).registerInputHandler(ett).registerInputHandler(stt).registerInputHandler(ntt).registerInputHandler(ott).registerInputHandler(dtt).registerInputHandler(ptt)};class gL extends cL(){constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("style")&&(i.styles=i.style),i.styles===void 0&&(i.styles={}),i.background=i.styles.background||{},i.space=i.styles.space||{},super(t,i),this.type="rexTweaker",gtt.call(this)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.inputHandlers=void 0)}}st.register("tweaker",function(e){var t=new gL(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Tweaker",gL);st.register("click",function(e,t){return new Pr(e,t)});et(window,"RexPlugins.UI.Click",Pr);st.register("clickOutside",function(e,t){return new Nx(e,t)});et(window,"RexPlugins.UI.ClickOutside",Nx);st.register("inTouching",function(e,t){return new Xo(e,t)});et(window,"RexPlugins.UI.InTouching",Xo);st.register("tap",function(e,t){return yi(e)||(t=e,e=this.scene),new kc(e,t)});et(window,"RexPlugins.UI.Tap",kc);st.register("press",function(e,t){return yi(e)||(t=e,e=this.scene),new Nc(e,t)});et(window,"RexPlugins.UI.Press",Nc);st.register("swipe",function(e,t){return yi(e)||(t=e,e=this.scene),new eu(e,t)});et(window,"RexPlugins.UI.Swipe",eu);st.register("pan",function(e,t){return yi(e)||(t=e,e=this.scene),new cR(e,t)});et(window,"RexPlugins.UI.Pan",cR);st.register("drag",function(e,t){return new Ey(e,t)});et(window,"RexPlugins.UI.Drag",Ey);st.register("pinch",function(e){return new vR(this.scene,e)});et(window,"RexPlugins.UI.Pinch",vR);st.register("rotate",function(e){return new Vx(this.scene,e)});et(window,"RexPlugins.UI.Rotate",Vx);const mtt=Phaser.Utils.Objects.IsPlainObject,GP=Phaser.Utils.Objects.GetValue;var kP=function(e,t,i){var r;if(e===void 0)e=i.texture.key,t=i.frame.name;else if(mtt(e)){var g=e;e=GP(g,"key",i.texture.key),t=GP(g,"frame",i.frame.name)}else typeof e=="string"||(r=e);return r===void 0&&(r=function(S){S.setTexture(e,t)}),r};const zh=Phaser.Utils.Objects.GetValue,xtt=Phaser.Utils.Objects.GetAdvancedValue,ytt=Phaser.Math.Linear;class mL extends Sa{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setDuration(xtt(t,"duration",500)),this.setEase(zh(t,"ease","Sine")),this.setOrientation(zh(t,"orientation",0)),this.setFrontFace(zh(t,"front",void 0)),this.setBackFace(zh(t,"back",void 0)),this.setFace(zh(t,"face",0)),this}setOrientation(t){return typeof t=="string"&&(t=Ctt[t]),this.orientation=t,this}get face(){return this._face}set face(t){typeof t=="string"&&(t=Ttt[t]),this._face=t,t===0&&this.frontFaceCallback?this.frontFaceCallback(this.parent):t===1&&this.backFaceCallback&&this.backFaceCallback(this.parent)}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}setFrontFace(t,i){return this.frontFaceCallback=kP(t,i,this.parent),this}setBackFace(t,i){return this.backFaceCallback=kP(t,i,this.parent),this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.orientation===0?this.scale0=t.scaleX:this.scale0=t.scaleY,this.timer.setDelay(this.delay).setDuration(this.duration/2).setRepeat(1),super.start(),this}flip(t){return this.isRunning?this:(t!==void 0&&this.setDuration(t),this.start(),this)}updateTarget(t,i){i.justRestart&&this.toggleFace();var r=i.t;i.isOddIteration&&(r=1-r),r=this.easeFn(r);var g=ytt(this.scale0,0,r);this.orientation===0?t.scaleX=g:t.scaleY=g}}const Ctt={x:0,horizontal:0,y:1,vertical:1},Ttt={front:0,back:1};st.register("flip",function(e,t){return new mL(e,t)});et(window,"RexPlugins.UI.Flip",mL);st.register("shake",function(e,t){return new bx(e,t)});et(window,"RexPlugins.UI.Shake",bx);st.register("touchEventStop",function(e,t){return new Dc(e,t)});et(window,"RexPlugins.UI.TouchEventStop",Dc);st.register("perspective",function(e,t){return new YA(e,t)});et(window,"RexPlugins.UI.Perspective",YA);const xL=Phaser.Math.RotateAround;var wg=function(e,t,i){var r=e.width/2,g=e.height/2;return Ke.x=t-r,Ke.y=i-g,xL(Ke,0,0,e.rotation),Ke.x*=e.scaleX,Ke.y*=e.scaleY,Ke.x+=e.x,Ke.y+=e.y,Ke},Stt=function(e,t,i){var r=e.width/2,g=e.height/2;return Ke.x=t-e.x,Ke.y=i-e.y,Ke.x/=e.scaleX,Ke.y/=e.scaleY,xL(Ke,0,0,-e.rotation),Ke.x+=r,Ke.y+=g,Ke},Ke={x:0,y:0};class Ptt{constructor(t,i){this.parent=t,this.vertex=i,this._localX=void 0,this._localY=void 0}destroy(){this.parent=void 0,this.vertex=void 0}updateVertexPosition(t,i){var r=this.parent,g=r.height,S=r.frame.cutWidth/g/2,n=r.frame.cutHeight/g/2,C=t/g-S,s=i/g-n,o=this.vertex;return o.x=C,o.y=-s,r.forceUpdate(),this}get localX(){return this._localX}set localX(t){this.setLocalXY(t,this._localY)}get localY(){return this._localY}set localY(t){this.setLocalXY(this._localX,t)}get localXOrigin(){return this._localXOrigin}get localYOrigin(){return this._localYOrigin}resetLocalXY(t,i){return this._localXOrigin=t,this._localYOrigin=i,this._localX=t,this._localY=i,this}setLocalXY(t,i,r){return this._localX===t&&this._localY===i?this:(this._localX=t,this._localY=i,r||this.updateVertexPosition(t,i),this)}setWorldXY(t,i){if(this._worldX===t&&this._worldY===i)return this;var r=Stt(this.parent,t,i);return this.setLocalXY(r.x,r.y),this}setPosition(t,i){return this.setWorldXY(t,i),this}getWorldXY(){return wg(this.parent,this._localX,this._localY)}get x(){var t=wg(this.parent,this._localX,this._localY);return t.x}set x(t){this.setWorldXY(t,this.y)}get y(){var t=wg(this.parent,this._localX,this._localY);return t.y}set y(t){this.setWorldXY(this.x,t)}}const Ett=Phaser.Geom.Mesh.Vertex,Mtt=Phaser.Geom.Mesh.Face;var wtt=function(e){for(var t=e.isNinePointMode,i=t?9:4,r=e.vertices,g=e.faces,S=e.controlPoints,n=0;n<i;n++){var C=new Ett;r.push(C),S.push(new Ptt(e,C))}var s;t?s=Ltt:e.fourPointsModeRTL?s=Att:s=Rtt;for(var n=0,o=s.length;n<o;n+=3){var y=r[s[n+0]],f=r[s[n+1]],u=r[s[n+2]];g.push(new Mtt(y,f,u))}t?(e.topLeft=S[0],e.topCenter=S[1],e.topRight=S[2],e.centerLeft=S[3],e.center=S[4],e.centerRight=S[5],e.bottomLeft=S[6],e.bottomCenter=S[7],e.bottomRight=S[8]):(e.topLeft=S[0],e.topRight=S[1],e.bottomLeft=S[2],e.bottomRight=S[3])};const Rtt=[0,2,3,0,3,1],Att=[1,3,2,1,2,0],Ltt=[0,3,4,0,4,1,1,4,2,4,5,2,3,6,4,6,7,4,4,7,8,4,8,5];var Ott=function(e){var t,i=0,r=e.height,g=0,S=e.width;if(e.isNinePointMode){var n=(g+S)/2,C=(i+r)/2;t=[g,i,n,i,S,i,g,C,n,C,S,C,g,r,n,r,S,r]}else t=[g,i,S,i,g,r,S,r];return t};const Ftt=Phaser.Utils.Objects.IsPlainObject,no=Phaser.Utils.Objects.GetValue;let btt=class extends GA{constructor(t,i,r,g,S,n){Ftt(i)&&(n=i,i=no(n,"x",0),r=no(n,"y",0),g=no(n,"key",null),S=no(n,"frame",null)),super(t,i,r,g,S),this.type="rexQuadImage",this.isNinePointMode=no(n,"ninePointMode",!1),this.fourPointsModeRTL=no(n,"rtl",!1),this.controlPoints=[],wtt(this),this.hideCCW=!1,this.syncSize()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){super.destroy(t);for(var i=0,r=this.controlPoints.length;i<r;i++)this.controlPoints[i].destroy();this.controlPoints=void 0}}resetVerts(){this.dirtyCache[9]=-1;for(var t=Ott(this),i=this.width,r=this.height,g=this.frame.cutWidth/r/2,S=this.frame.cutHeight/r/2,n=this.frame.u0,C=this.frame.u1,s=this.frame.v0,o=this.frame.v1,y=C-n,f=o-s,u=this.controlPoints,l=0,a=t.length;l<a;l+=2){var d=t[l+0],v=t[l+1],h=l/2,c=d/r-g,p=v/r-S,m=n+y*(d/i),x=s+f*(v/r);this.vertices[h].set(c,-p,0).setUVs(m,x),u[h].resetLocalXY(d,v)}return this}syncSize(){return this.setSizeToFrame(),this.setOrtho(this.width/this.height,1),this.resetVerts(),this}};Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var NP=function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=0);for(var r=e.width,g=e.height,S=r*.5,n=g*.5,C=Math.tan(t)*n,s=Math.tan(i)*S,o=e.controlPoints,y=0,f=o.length;y<f;y++){var u=o[y],l=u.localXOrigin,a=u.localYOrigin;u.localX=l+(a>n?C:-C),u.localY=a+(l>S?s:-s)}};const Dtt=Phaser.Utils.Objects.IsPlainObject,Wd=Phaser.Utils.Objects.GetValue,zP=Phaser.Math.DegToRad,VP=Phaser.Math.RadToDeg;class Btt extends btt{constructor(t,i,r,g,S){if(Dtt(i)){var n=i;i=Wd(n,"x",0),r=Wd(n,"y",0),g=Wd(n,"key",null),S=Wd(n,"frame",null)}super(t,i,r,g,S),this.type="rexSkewmage",this._skewX=0,this._skewY=0}get skewX(){return this._skewX}set skewX(t){this._skewX=t,NP(this,this._skewX,this._skewY)}get skewXDeg(){return VP(this._skewX)}set skewXDeg(t){this.skewX=zP(t)}get skewY(){return this._skewY}set skewY(t){this._skewY=t,NP(this,this._skewX,this._skewY)}get skewYDeg(){return VP(this._skewY)}set skewYDeg(t){this.skewY=zP(t)}setSkewX(t){return this.skewX=t,this}setSkewY(t){return this.skewY=t,this}setSkew(t,i){return i===void 0&&(i=t),this.skewX=t,this.skewY=i,this}setSkewXDeg(t){return this.skewXDeg=t,this}setSkewYDeg(t){return this.skewYDeg=t,this}setSkewDeg(t,i){return i===void 0&&(i=t),this.skewXDeg=t,this.skewYDeg=i,this}}const Itt=Phaser.Utils.Objects.IsPlainObject,Yd=Phaser.Utils.Objects.GetValue;class Gtt extends Btt{constructor(t,i,r,g,S){if(Itt(i)){var n=i;i=Yd(n,"x",0),r=Yd(n,"y",0),g=Yd(n,"width",32),S=Yd(n,"height",32)}var C=VA(t,g,S);super(t,i,r,C,null),this.type="rexSkewRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}}class yL extends WA(Gtt){get skewState(){return this.isRunning}}st.register("skew",function(e,t){return new yL(e,t)});et(window,"RexPlugins.UI.Skew",yL);st.register("anchor",function(e,t){return new Ox(e,t)});et(window,"RexPlugins.UI.Anchor",Ox);st.register("textTyping",function(e,t){return new lv(e,t)});et(window,"RexPlugins.UI.TextTyping",lv);st.register("textPage",function(e,t){return new hv(e,t)});et(window,"RexPlugins.UI.TextPage",hv);var So=void 0,ktt=function(e){e!==So&&(So!==void 0&&So.close(),So=e)},Ntt=function(e){e===So&&(So=void 0)};const zs=Phaser.Utils.Objects.GetValue,ztt=Phaser.Utils.Objects.Clone;var Vtt=function(e,t){t===void 0&&(t={}),t=ztt(t);var i=e.scene,r=e.style,g=zs(t,"backgroundColor",r.backgroundColor);g===null&&(g="transparent"),t.text=zs(t,"text",e.text),t.fontFamily=zs(t,"fontFamily",r.fontFamily),t.fontSize=zs(t,"fontSize",r.fontSize),t.color=zs(t,"color",r.color),t.backgroundColor=g,t.direction=zs(t,"rtl",r.rtl)?"rtl":"ltr",t.align=zs(t,"align",Utt(r)),t.direction==="rtl"&&jx(e)&&(t.align="right");var S=e.padding;S.left>0&&(t.paddingLeft=`${S.left}px`),S.right>0&&(t.paddingRight=`${S.right}px`),r.backgroundCornerRadius&&(t.borderRadius=zs(t,"borderRadius",`${r.backgroundCornerRadius}px`));var n=new Hc(i,e.x,e.y,zs(t,"width",e.width),zs(t,"height",e.height),t);n.setScale(e.scaleX,e.scaleY).setOrigin(e.originX,e.originY).setScrollFactor(e.scrollFactorX,e.scrollFactorY);var C=e.parentContainer;return C?C.add(n):i.add.existing(n),n},Utt=function(e){return e.hasOwnProperty("align")?e.align:e.hasOwnProperty("halign")?e.halign:"left"},Xtt=function(e,t,i){return e.time.delayedCall(0,t,[],i)};const Jn=Phaser.Utils.Objects.GetValue,Wtt=Phaser.Utils.Objects.Merge;var Ytt=function(e,t){e===void 0&&(e={}),e=Wtt(e,this.openConfig),ktt(this),Es(e)&&(t=e,e=void 0);var i=Jn(e,"inputType",void 0);i===void 0&&(i=Jn(e,"type","text")),t===void 0&&(t=Jn(e,"onClose",void 0));var r=Jn(e,"onCreate",void 0),g=Jn(e,"onOpen",void 0),S=Jn(e,"onTextChanged",void 0);return this.inputText=Vtt(this.parent,e),r&&r(this.parent,this.inputText),this.inputText.on("textchange",function(n){var C=n.text;S?S(this.parent,C):this.parent.text=C},this).setFocus(),this.parent.setVisible(!1),this.onClose=t,Jn(e,"enterClose",i!=="textarea")&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=Xtt(this.scene,function(){this.scene.input.once("pointerdown",this.close,this),g&&g(this.parent,this.inputText),this.emit("open",this.parent,this.inputText)},this),this},Htt=function(){return Ntt(this),this.parent.setVisible(!0),this.inputText&&(this.inputText.destroy(),this.inputText=void 0),this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.parent),this.emit("close",this.parent),this},$tt={open:Ytt,close:Htt};const Ktt=Phaser.Utils.Objects.GetValue;class vv extends Qt{constructor(t,i){super(t),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.setOpenConfig(i);var r=Ktt(i,"clickEnable",!0);r&&t.on("pointerdown",function(){this.open()},this).setInteractive()}shutdown(t){this.isShutdown||(this.close(),super.shutdown(t))}setOpenConfig(t){return t===void 0&&(t={}),this.openConfig=t,this}get isOpened(){return this.inputText!==void 0}get text(){return this.isOpened?this.inputText.text:this.parent.text}}Object.assign(vv.prototype,$tt);var Ztt=function(e,t,i){return e._edit||(e._edit=new vv(e,{clickEnable:!1})),e._edit.open(t,i),e._edit};st.register("textEdit",function(e,t){return new vv(e,t)});et(window,"RexPlugins.UI.TextEdit",vv);st.register("layerManager",function(e){return new Cc(this.scene,e)});et(window,"RexPlugins.UI.LayerManager",Cc);class CL extends Phaser.Plugins.ScenePlugin{constructor(t,i){super(t,i),this.add=new st(t)}boot(){var t=this.scene.events;t.on("destroy",this.destroy,this)}destroy(){this.add.destroy(),super.destroy()}isInTouching(t,i,r,g){return t.visible?$s(t,i,r,g):!1}get viewport(){return Jo(this.scene,this.scene.cameras.main,!0)}}var Jtt={getParentSizer:Bi,getTopmostSizer:Hw,removeFromParent:qn,hide:qr,show:jr,isShown:Dx,confirmAction:fA,edit:Ztt,wrapExpandText:Zf,fontSizeExpandText:Qf,fontSizeResize:Jf,setFontSizeToFitWidth:Jf,waitEvent:Pc,waitComplete:Ne,delayPromise:LR,setChildrenInteractive:zc,fadeIn:Lc,fadeOutDestroy:Oc,easeMoveTo:sR,easeMoveFrom:rR,modal:Gx,modalPromise:gz,modalClose:uR,requestDrag:sL,openFileChooser:FR};Object.assign(CL.prototype,Jtt);function Qtt(e,t,i,r){var g=new $o(this.scene,e,t,i,r);return this.scene.add.existing(g),g}const Hd=Phaser.Utils.Objects.GetAdvancedValue,jtt=Phaser.GameObjects.BuildGameObject;function qtt(e,t){e===void 0&&(e={}),t!==void 0&&(e.add=t);var i=Hd(e,"text",""),r=Hd(e,"style",null),g=Hd(e,"padding",null);g!==null&&(r.padding=g);var S=new $o(this.scene,0,0,i,r);return jtt(this.scene,S,e),S.autoRound=Hd(e,"autoRound",!0),S}class _tt extends Phaser.Plugins.BasePlugin{constructor(t){super(t),t.registerGameObject("rexBBCodeText",Qtt,qtt)}start(){var t=this.game.events;t.on("destroy",this.destroy,this)}}et(window,"RexPlugins.GameObjects.BBCodeText",$o);const bl={width:160,height:144},ue=new Sn.Events.EventEmitter,Ai={tamagotchi_hp:100,tamagotchi_coin:0,tamagotchi_level:1,tamagotchi_queue:[],message_queue:[],battle_opponent:"default",battle_result:null},TL="phaser_game_save_state";function tet(){try{const e=JSON.stringify(Ai);localStorage.setItem(TL,e),console.log("Game state saved to localStorage:",Ai)}catch(e){console.error("Failed to save game state to localStorage:",e)}}function eet(){try{const e=localStorage.getItem(TL);if(e===null){console.log("No saved game state found in localStorage. Starting with default state.");return}const t=JSON.parse(e);let i=!1;for(const r in t)Object.keys(Ai).includes(r)&&Ai[r]!==t[r]&&(Ai[r]=t[r],i=!0);i?(console.log("Game state loaded from localStorage:",Ai),ue.emit("global-data-updated",{key:"score",value:Ai.score,oldValue:0}),ue.emit("global-data-updated",{key:"playerLives",value:Ai.playerLives,oldValue:0}),ue.emit("global-data-updated",{key:"levelName",value:Ai.levelName,oldValue:""})):console.log("Loaded state is identical to current state, no updates triggered.")}catch(e){console.error("Failed to load game state from localStorage:",e)}}function ps(e,t){if(Object.keys(Ai).includes(e)){const i=Ai[e];Ai[e]=t,ue.emit(`${e}-updated`,t),console.log(`Global data updated: ${e} = ${t} (from ${i})`)}else console.warn(`Attempted to set unknown global data key: ${e}`)}function ci(e){return Ai[e]}function iet(e){e._globalEventHandler||(e._globalEventHandler=t=>{e.globalEventStatusText&&(e.globalEventStatusText.setText(`Global Event: ${t}`),e.globalEventCounter++)},ue.on("global-event",e._globalEventHandler,e),e.events.on("shutdown",()=>{ue.off("global-event",e._globalEventHandler,e),delete e._globalEventHandler}))}function ys(e,t,i,r){const{scene:g}=e;if(g){const S={targets:e,repeat:0,duration:i,...t};r&&(S.ease=r);let n=e.scene.tweens.add(S);return new Promise(C=>{if(!n){C();return}n.once("complete",()=>{n&&(n.remove(),n=void 0),C()})})}}const set={text:"left"},ret="page",net=50,UP=1500,Rg=150,Ry=40,XP=110,aet=Ry-4,oet=10,het="BoutiqueBitmap",or=4,uet=32,det=4,fet=bl.width/2,cet=bl.height-Ry/2,vet=bl.width,pet={iconBottom:-1,left:or,right:or,top:or,bottom:or,icon:det},get=8;function met(e){const t=[];let i="",r=0;for(let g=0;g<e.length;g++){const S=e[g];S.match(/[a-zA-Z\d]/)?(r>0&&(t.push(i),i="",r=0),i+=S):S.match(/[\u4e00-\uff1f]/)?(i.length>0&&r===0&&(t.push(i),i=""),i+=S,r++,r===get&&(t.push(i),i="",r=0)):i.length>0&&(t.push(i),i="",r=0)}return i.length>0&&t.push(i),t.join(" ")}class SL extends Di.GameObjects.Container{constructor(i){super(i);nt(this,"_textBox");this.scene=i;const r=i.make.nineslice({key:"dialogue_frame",frame:"frame",leftWidth:8,rightWidth:8,topHeight:8,bottomHeight:8}),g=i.make.sprite({key:"tamagotchi_afk",frame:"face_normal"}),S=i.rexUI.add.BBCodeText(0,0,"",{fixedWidth:XP-or*2,fixedHeight:aet-or*2,color:"#000",fontSize:`${oet}px`,fontFamily:het,padding:{top:or,bottom:or},resolution:3,wrap:{mode:"word",width:XP-or*2},maxLines:2}),n=i.rexUI.add.textBox({x:fet,y:cet,width:vet,height:Ry,typingMode:ret,icon:g,iconSize:uet,background:r,text:S,expandTextWidth:!1,expandTextHeight:!1,space:pet,align:set}).setOrigin(.5).layout();n.setInteractive(),this.add(n),this._textBox=n,this._textBox.setScale(0),i.add.existing(this)}_runTextBox(i){const{face:r,text:g}=i;return new Promise(S=>{this._textBox.on("pointerdown",()=>{this._textBox.isTyping?this._textBox.stop(!0):this._textBox.isLastPage?(this._textBox.off("pointerdown"),this._textBox.off("pageend"),S()):this._textBox.typeNextPage()},this._textBox).on("pageend",()=>{this._textBox.isLastPage?(this._textBox.off("pointerdown"),this._textBox.off("pageend"),setTimeout(()=>{this._textBox.setText(""),S()},UP)):setTimeout(()=>{this._textBox.typeNextPage()},UP)}),this._textBox.start(met(g),net),r&&this._textBox.setIconTexture(r.key,r.frame)})}_startDialogs(i){return new Promise(r=>{(async()=>{for(let g=0;g<i.length;g++)await this._runTextBox(i[g]);r()})()})}async hide(){await ys(this._textBox,{scale:0},Rg),this.setVisible(!1)}async runDialog(i,r){this.setVisible(!0),await ys(this._textBox,{scale:1},Rg),await this._startDialogs(i),r||(this._textBox.stop(),await ys(this._textBox,{scale:0},Rg),this.setVisible(!1))}}const WP=0,Ag=1e3;async function PL(e,t,i){const{scene:r}=e,g=new ML(e);g.max(),await g.runMask(),typeof t<"u"&&r.start(t,i)}async function EL(e){const t=new ML(e);t.init(),await t.runUnmask()}class ML extends Di.GameObjects.Container{constructor(i){super(i);nt(this,"visibleArea",Di.GameObjects.Arc);nt(this,"curcleMaxSize");const{zoom:r}=i.scale,{width:g,height:S}=i.sys.game.canvas;this.curcleMaxSize=Math.max(g*r,S*r);const n=i.add.rectangle(0,0,g*r,S*r,WP).setDepth(100).setVisible(!0),C=i.add.circle(g/2,S/2,0,WP).setVisible(!1);this.visibleArea=C;const s=C.createGeometryMask();this.setDepth(99),s.invertAlpha=!0,n.setMask(s)}init(){this.visibleArea.setRadius(0)}max(){this.visibleArea.setRadius(this.curcleMaxSize)}async run(){await ys(this.visibleArea,{radius:0},Ag)}async runMask(){await ys(this.visibleArea,{radius:0},Ag)}async runUnmask(){await ys(this.visibleArea,{radius:200},Ag)}}class $d extends Di.GameObjects.Container{constructor(i,r){super(i);nt(this,"arrow");nt(this,"icon");nt(this,"frameName");const{x:g,y:S,key:n,frame:C,start:s,end:o,freq:y}=r;this.icon=i.make.sprite({key:n,frame:`${C}-default`,x:g,y:S}),this.frameName=C,i.anims.exists(`${C}_anim`)||i.anims.create({key:`${C}_anim`,frames:i.anims.generateFrameNames(n,{prefix:`${C}-`,start:s,end:o}),repeat:-1,frameRate:y}),this.add(this.icon),this.arrow=i.make.sprite({key:"tamagotchi_header_icons",frame:"arrow",x:g-12,y:S}),i.tweens.add({targets:this.arrow,repeat:-1,yoyo:!0,ease:"linear",duration:500,alpha:0,pause:!0}),this.arrow.visible=!1,this.add(this.arrow)}select(){this.arrow.visible=!0,this.icon.play(`${this.frameName}_anim`)}unselect(){this.arrow.visible=!1,this.icon.anims.complete(),this.icon.setFrame(`${this.frameName}-default`)}}const xet=88,yet="Tiny5",Cet=8;class Tet extends Di.GameObjects.Container{constructor(i,r){super(i);nt(this,"icon");nt(this,"text");nt(this,"value");nt(this,"targetValue");nt(this,"step");nt(this,"handleSetValue",i=>{this.targetValue=i});this.value=typeof ci("tamagotchi_hp")<"u"?ci("tamagotchi_hp"):xet;const{x:g,y:S}=r;ue.on("tamagotchi_hp-updated",this.handleSetValue),this.icon=i.make.sprite({key:"tamagotchi_header_icons",frame:"hp-empty",x:g,y:S}),i.anims.create({key:"hp-100",frames:i.anims.generateFrameNames("tamagotchi_header_icons",{prefix:"hp-100-",start:1,end:5}),repeat:-1,frameRate:6}),i.anims.exists("hp-75")||i.anims.create({key:"hp-75",frames:i.anims.generateFrameNames("tamagotchi_header_icons",{prefix:"hp-75-",start:1,end:5}),repeat:-1,frameRate:6}),i.anims.exists("hp-50")||i.anims.create({key:"hp-50",frames:i.anims.generateFrameNames("tamagotchi_header_icons",{prefix:"hp-50-",start:1,end:5}),repeat:-1,frameRate:6}),i.anims.exists("hp-25")||i.anims.create({key:"hp-25",frames:i.anims.generateFrameNames("tamagotchi_header_icons",{prefix:"hp-25-",start:1,end:5}),repeat:-1,frameRate:6}),this.icon.play("hp-100"),this.add(this.icon),this.text=i.make.text({x:g+6,y:S-4,style:{fontFamily:yet,fontSize:Cet,color:"#000"},text:""}),this.text.setResolution(4),this.add(this.text),this.applyIconAndValue()}applyIconAndValue(){this.value>75&&this.value<=100&&this.step!="100"?(this.icon.play("hp-100"),this.step="100"):this.value>50&&this.value<=75&&this.step!="75"?(this.icon.play("hp-75"),this.step="75"):this.value>25&&this.value<=50&&this.step!="50"?(this.icon.play("hp-50"),this.step="50"):this.value>10&&this.value<=25&&this.step!="25"?(this.icon.play("hp-25"),this.step="25"):this.value<=10&&this.step!="10"&&(this.icon.anims.complete(),this.icon.setFrame("hp-empty"),this.step="10"),this.text.setText(this.value.toString())}update(){typeof this.targetValue>"u"||(this.targetValue>this.value?this.value+=1:this.targetValue<this.value?this.value-=1:this.targetValue=void 0,this.applyIconAndValue())}destroy(){ue.off("tamagotchi_hp-updated",this.setValue),this.icon.destroy(),this.text.destroy()}}const Pet=888;class Eet extends Di.GameObjects.Container{constructor(i,r){super(i);nt(this,"text");nt(this,"value");nt(this,"targetValue");nt(this,"handleSetValue",i=>{const r=i<=0?0:i;this.targetValue=r});this.value=typeof ci("tamagotchi_coin")<"u"?ci("tamagotchi_coin"):Pet,ue.on("tamagotchi_coin-updated",this.handleSetValue);const{x:g,y:S}=r,n=i.make.sprite({key:"tamagotchi_header_icons",frame:"coin-1",x:g,y:S});i.anims.exists("coin")||i.anims.create({key:"coin",frames:i.anims.generateFrameNames("tamagotchi_header_icons",{prefix:"coin-",start:1,end:16}),repeat:-1,frameRate:6}),n.play("coin"),this.add(n);const C=i.make.text({x:g+7,y:S-4,style:{fontFamily:"Tiny5",fontSize:8,color:"#000"}});C.setResolution(4),this.text=C,this.add(C),this.text.setText(this.value.toString())}addValue(i){const r=this.value+i,g=r<=0?0:r;this.targetValue=g}update(){typeof this.targetValue>"u"||(this.targetValue>this.value?this.value+=1:this.targetValue<this.value?this.value-=1:this.targetValue=void 0,this.text.setText(this.value.toString()))}destroy(){ue.off("tamagotchi_coin-updated",this.setValue),this.text.destroy()}}const YP=160,HP=25,Met=1e4,sr=["drink","battle","write","sleep"];class wet extends Di.GameObjects.Container{constructor(i){super(i);nt(this,"currentSelector",sr[0]);nt(this,"selectors",{});nt(this,"iconHp");nt(this,"coin");nt(this,"timer");const r=i.make.nineslice({key:"tamagotchi_header_frame",frame:"frame",width:YP,x:YP/2,y:HP/2,height:HP,leftWidth:8,rightWidth:8,topHeight:8,bottomHeight:8}).setOrigin(.5);this.add(r);const g=new $d(i,{key:"tamagotchi_header_icons",frame:"drink",x:20,y:13,start:1,end:5,freq:4});this.add(g),this.selectors.drink=g;const S=new $d(i,{key:"tamagotchi_header_icons",frame:"battle",x:40,y:13,start:1,end:4,freq:4});this.add(S),this.selectors.battle=S;const n=new $d(i,{key:"tamagotchi_header_icons",frame:"write",x:60,y:13,start:1,end:5,freq:4});this.add(n),this.selectors.write=n;const C=new $d(i,{key:"tamagotchi_header_icons",frame:"sleep",x:79,y:13,start:1,end:2,freq:1});this.add(C),this.selectors.sleep=C,this.iconHp=new Tet(i,{x:106,y:13}),this.add(this.iconHp),this.iconCoin=new Eet(i,{x:134,y:13}),this.add(this.iconCoin),this.currentSelector="drink",this.handleUpdateSelector()}hideHeader(){this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>{this.setAlpha(0)},Met)}handleUpdateSelector(){this.setAlpha(1),Object.keys(this.selectors).map(i=>{this.selectors[i].unselect()}),this.selectors[this.currentSelector].select(),this.hideHeader()}showHeader(i){this.setAlpha(1),i&&(this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>{this.setAlpha(0)},i))}moveNext(){const i=sr.indexOf(this.currentSelector);this.currentSelector=i!==sr.length-1?sr[i+1]:sr[0],this.handleUpdateSelector()}movePrev(){const i=sr.indexOf(this.currentSelector);this.currentSelector=i===0?sr[sr.length-1]:sr[i-1],this.handleUpdateSelector()}moveTo(i){this.currentSelector=i,this.handleUpdateSelector()}select(){return this.currentSelector}update(){this.iconHp.update(),this.iconCoin.update()}destroy(){this.iconHp.destroy(),this.iconCoin.destroy(),clearTimeout(this.timer)}}class Ret extends Di.GameObjects.Container{constructor(t,i){super(t);const{x:r,y:g}=i,S=t.make.sprite({key:"tamagotchi_room",frame:"window_1",x:r,y:g});t.anims.exists("window-cloud")||t.anims.create({key:"window-cloud",frames:t.anims.generateFrameNames("tamagotchi_room",{prefix:"window_",start:1,end:3}),repeat:-1,yoyo:!0,frameRate:.5}),t.anims.exists("window-wind")||t.anims.create({key:"window-wind",frames:t.anims.generateFrameNames("tamagotchi_room",{prefix:"window_",start:4,end:9}),repeat:-1,frameRate:8}),S.play("window-cloud"),S.on(Di.Animations.Events.ANIMATION_REPEAT,()=>{Math.random()>.5?S.play("window-wind"):S.play("window-cloud")}),this.add(S),t.add.existing(this)}}class Aet extends Di.GameObjects.Container{constructor(t,i){super(t);const{x:r,y:g}=i,S=t.make.sprite({key:"tamagotchi_room",frame:"recorder_2",x:r,y:g});t.anims.exists("room_recoreder_animation")||t.anims.create({key:"room_recoreder_animation",frames:t.anims.generateFrameNames("tamagotchi_room",{prefix:"recorder_",start:1,end:12}),frameRate:10,repeat:-1}),S.play("room_recoreder_animation"),this.add(S),t.add.existing(this)}}const Let=1;class Oet extends Di.GameObjects.Container{constructor(i){super(i);nt(this,"item");nt(this,"currentLevel",1);nt(this,"maxLevel",4);nt(this,"config");nt(this,"handleLevelUpdate",i=>{this.currentLevel=Math.min(this.maxLevel,i),this.item.setTexture(this.config[this.currentLevel-1].key,this.config[this.currentLevel-1].frame)});this.config=i.cache.json.get("config").tamagotchi_room.decoration,this.maxLevel=this.config.length,this.currentLevel=Math.min(this.maxLevel,ci("tamagotchi_level")||Let),this.item=i.make.sprite({key:this.config[this.currentLevel-1].key,frame:this.config[this.currentLevel-1].frame,x:160/2,y:144/2}),this.add(this.item),i.add.existing(this),ue.on("tamagotchi_level-updated",this.handleLevelUpdate)}destroy(){this.item.destroy(),ue.off("tamagotchi_level-updated",this.handleLevelUpdate)}}const Fet={x:80,y:32},bet={x:26,y:60};class Det extends Phaser.GameObjects.Container{constructor(i){super(i);nt(this,"level");nt(this,"window");nt(this,"recorder");nt(this,"decoration");this.window=new Ret(i,Fet),this.recorder=new Aet(i,bet),this.decoration=new Oet(i)}create(){}update(){}destroy(){this.window.destroy(),this.recorder.destroy(),this.decoration.destroy()}}class wL extends Di.GameObjects.Container{constructor(i,r,g){super(i);nt(this,"character");nt(this,"followShadow");nt(this,"characterKey");nt(this,"currentMoveAction");nt(this,"currentMovingFrame",{total:60,count:0});const{x:S,y:n,animations:C}=g;this.characterKey=r,C&&C.forEach(f=>{const u=`${r}_${f.prefix}`;if(i.anims.exists(u))return;const l={key:u,frames:i.anims.generateFrameNames(r,{prefix:`${f.prefix}_`,start:1,end:f.qty}),repeat:f.repeat};typeof f.freq<"u"&&(l.frameRate=f.freq),typeof f.duration<"u"&&(l.duration=f.duration),typeof f.repeat_delay<"u"&&(l.repeatDelay=f.repeat_delay),i.anims.create(l)});const s=S||0,o=n||0,y=i.add.sprite(s,o,r).setScale(1);this.character=y,i.add.existing(this)}playStatic(i){this.character.setTexture(this.characterKey,i)}setFollowShadow(i){this.followShadow=i}async playAnimation(i,r){return new Promise(g=>{const S=`${this.characterKey}_${i}`;this.character.play(S),this.character.on("animationcomplete",n=>{n.key===S&&(typeof r<"u"?setTimeout(()=>g(),r):g(),this.character.off("animationcomplete"))})})}moveDirection(i,r,g){if(!this.currentMoveAction){let S=this.character.x,n=this.character.y;i==="left"?S-=r:i==="right"?S+=r:i==="top"?n-=r:i==="down"&&(n+=r),this.currentMoveAction={from:{x:this.character.x,y:this.character.y},to:{x:S,y:n},callback:g}}}updatePosition(){if(this.currentMoveAction){this.currentMovingFrame.count+=1;const{from:i,to:r}=this.currentMoveAction,{total:g,count:S}=this.currentMovingFrame;this.character.setPosition(i.x+(r.x-i.x)*S/g,i.y+(r.y-i.y)*S/g),this.followShadow&&this.followShadow.setPosition(i.x+(r.x-i.x)*S/g,i.y+(r.y-i.y)*S/g),g==S&&(this.character.setPosition(r.x,r.y),this.currentMoveAction.callback(),this.currentMoveAction=void 0,this.currentMovingFrame.count=0)}}destroy(){this.character.destroy()}}function ta(e){const t=Array.isArray(e)?e:Object.values(e),r=t.reduce((n,C)=>n+C.piority,0)*Math.random(),g=t.map(n=>Math.abs(n.piority-r)),S=Math.min(...g);return t[g.findIndex(n=>n===S)]}const Bet="idle",Iet=50,Get=2,ket=-1,Net=3,zet={from:50,to:120},Vet=32;class Uet extends wL{constructor(i,r){const g="tamagotchi_afk",S=ci("tamagotchi_hp"),n=i.cache.json.get("config")[g],C={...r,animations:n.animations};super(i,g,C);nt(this,"isAlive",!0);nt(this,"isSleep",!1);nt(this,"isBorn",!1);nt(this,"isActing",!1);nt(this,"idleActions");nt(this,"unavailableActions");nt(this,"functionalAction");nt(this,"spaceEdge");nt(this,"direction","left");nt(this,"hp");nt(this,"isReady",!1);nt(this,"fireEachXsec");nt(this,"currentAction");nt(this,"xSec",Net);const s=i.add.circle(C.x,C.y,10,0);s.setOrigin(.5,-1.8),s.setAlpha(.6),s.setScale(.8,.3),s.setDepth(1),this.setFollowShadow(s),this.character.setDepth(2),this.idleActions=n.idle_actions,this.unavailableActions=n.unavailable_actions,this.functionalAction=n.functional_action,this.hp=S||Iet,this.spaceEdge=r.edge||zet,this.handleDefaultIdleAction()}handleDefaultIdleAction(){this.isActing||this.playAnimation(`${Bet}-${this.direction}`)}async handleBornAction(){this.isActing=!0;const i=this.unavailableActions.born.animation;await this.playAnimation(i),this.isActing=!1,this.isBorn=!1}async handleAutomaticAction(){if(this.isActing)return;const i=ta(this.idleActions);if(i){const r=i.has_direction?`${i.animation}-${this.direction}`:i.animation;typeof i.is_move<"u"?(this.playAnimation(r),this.direction=Math.random()>.5?"left":"right",this.handleMoveDirection(i.animation)):(await this.playAnimation(r),this.handleDefaultIdleAction())}}handleMoveDirection(i){this.isActing||(this.direction=this.character.x<this.spaceEdge.from?"right":this.character.x>this.spaceEdge.to?"left":this.direction,this.isActing=!0,this.playAnimation(`${i}-${this.direction}`),this.moveDirection(this.direction,Vet,()=>{this.isActing=!1,this.handleDefaultIdleAction()}))}async handleUnavailableAction(){const i=this.unavailableActions.egg.animation;this.playAnimation(i),this.isActing=!1}handleChangeHp(i){const r=this.hp+i;this.hp=r>=100?100:r<=0?0:r,ps("tamagotchi_hp",this.hp),this.handleDetectCharacterIsAlive()}handleDetectCharacterIsAlive(){this.isAlive&&this.hp<=0?this.isAlive=!1:!this.isAlive&&this.hp>=100&&(this.isAlive=!0,this.isBorn=!0)}startTamagotchi(){this.isReady=!0}stopTamagotchi(){this.isReady=!1}runFuntionalAction(i){if(!this.isAlive||this.isActing)return;const r=i==="sleep"?this.isSleep?"awake":"sleep":i,{point:g,dialogs:S}=this.functionalAction[r];if(g){const C=this.hp+g;this.hp=C>=100?100:C<=0?0:C,ps("tamagotchi_hp",this.hp)}if((async()=>{r==="drink"?(this.isActing=!0,this.isSleep&&await this.playAnimation("wake-up"),await this.playAnimation("drink"),this.isActing=!1,this.isSleep&&(this.isActing=!0,await this.playAnimation("lay-down"),this.playAnimation("sleep"),this.isActing=!1)):r==="write"?(this.isActing=!0,this.isSleep&&await this.playAnimation("wake-up"),await this.playAnimation("write"),this.isActing=!1,this.isSleep&&(this.isActing=!0,await this.playAnimation("lay-down"),this.playAnimation("sleep"),this.isActing=!1)):r==="sleep"?(this.isActing=!0,await this.playAnimation("lay-down"),this.playAnimation("sleep"),this.isActing=!1,this.isSleep=!0):r==="awake"&&(this.isActing=!0,await this.playAnimation("wake-up"),this.isActing=!1,this.isSleep=!1)})(),S){const{dialog:C}=ta(S);return{dialog:C}}}update(i){if(this.isReady&&(this.isActing&&this.updatePosition(),Math.floor(i/1e3)%this.xSec===0)){if(Math.floor(i/1e3)/this.xSec==this.fireEachXsec)return;this.fireEachXsec=Math.floor(i/1e3)/this.xSec,this.isAlive?(this.isBorn&&this.handleBornAction(),this.isSleep||(this.handleChangeHp(ket),this.handleAutomaticAction())):(this.handleChangeHp(Get),this.handleUnavailableAction())}}}class Xet{constructor(t,{onLeft:i,onRight:r,onSpace:g}){this.scene=t,this.onLeft=i,this.onRight=r,this.onSpace=g,this.cursors=t.input.keyboard.createCursorKeys(),this.spaceKey=t.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE)}update(){Phaser.Input.Keyboard.JustDown(this.cursors.left)&&this.onLeft&&this.onLeft(),Phaser.Input.Keyboard.JustDown(this.cursors.right)&&this.onRight&&this.onRight(),Phaser.Input.Keyboard.JustDown(this.spaceKey)&&this.onSpace&&this.onSpace()}}const Wet={x:80,y:84,edge:{from:50,to:120}},Yet=10,Het=-5,$et="user",Kd=1e4;class Ket extends Sn.Scene{constructor(){super("Tamagotchi");nt(this,"background");nt(this,"header");nt(this,"property");nt(this,"character");nt(this,"dialogue");nt(this,"keyboardHandler");nt(this,"actionQueue",[]);nt(this,"isStart",!1);nt(this,"isActionRunning",!1);nt(this,"handleControlButton",i=>{if(i==="left")this.header.movePrev();else if(i==="right")this.header.moveNext();else if(i==="space"){const r=this.header.select();this.actionQueue.push({user:$et,action:r})}});nt(this,"handleBattleAward",async()=>{const i=ci("battle_result");if(i==="win"){const r=this.character.runFuntionalAction("win");r&&await this.dialogue.runDialog(r.dialog),ps("tamagotchi_coin",ci("tamagotchi_coin")+Yet),this.header.showHeader(Kd)}else if(i==="lose"){const r=this.character.runFuntionalAction("lose");r&&await this.dialogue.runDialog(r.dialog),ps("tamagotchi_coin",ci("tamagotchi_coin")+Het),this.header.showHeader(Kd)}ps("battle_result","null")});nt(this,"handleConvertActionQueue",i=>{if(i.length===0)return;const r=this.cache.json.get("config").tamagotchi_action_mapping;for(let g=0;g<i.length;g++){const{user:S,content:n}=i[g],C=r.find(s=>s.matches.includes(n));if(C){const s=C.action,o=C.params;this.actionQueue.push({user:S,action:s,params:o})}}ps("message_queue",[])});nt(this,"handleBuyDecoration",async i=>{const r=this.cache.json.get("config").tamagotchi_room.decoration;for(let g=0;g<r.length;g++){const{cost:S,level:n}=r[g];if(i>=S&&ci("tamagotchi_level")<n){const C=this.character.runFuntionalAction("buy");if(C){await this.dialogue.runDialog(C.dialog),this.header.showHeader(Kd),ps("tamagotchi_level",ci("tamagotchi_level")+1),ps("tamagotchi_coin",ci("tamagotchi_coin")-S);return}}}});nt(this,"handleActionQueue",async()=>{this.isActionRunning=!0;const{user:i,action:r,params:g}=this.actionQueue[0];(async()=>{const n=this.character.runFuntionalAction(r);if(this.header.showHeader(Kd),n){const C=n.dialog.map(s=>({...s,text:s.text.replaceAll("{{user_name}}",i)}));await this.dialogue.runDialog(C),r==="battle"&&await this.handleSwitchToBattleScene(i,g)}this.actionQueue.splice(0,1),this.isActionRunning=!1})()});nt(this,"handleSwitchToBattleScene",async(i,r)=>{ps("battle_opponent",r==null?void 0:r.opponent),await PL(this,"Battle")});nt(this,"shutdown",()=>{this.isActionRunning=!1,this.character.destroy(),this.background.destroy(),this.header.destroy(),this.property.destroy(),ue.off("message_queue-updated",this.handleConvertActionQueue),ue.off("tamagotchi_coin-updated",this.handleBuyDecoration),ue.off("trigger-button",this.handleControlButton),ps("tamagotchi_queue",this.actionQueue)})}create(){this.background=this.make.image({key:"tamagotchi_room",frame:"room",x:160/2,y:144/2}),this.add.existing(this.background),this.actionQueue=ci("tamagotchi_queue")||[],ue.on("message_queue-updated",this.handleConvertActionQueue),ue.on("tamagotchi_coin-updated",this.handleBuyDecoration),this.character=new Uet(this,Wet),this.property=new Det(this),this.add.existing(this.property),this.header=new wet(this),this.add.existing(this.header),this.dialogue=new SL(this),this.add.existing(this.dialogue),this.keyboardHandler=new Xet(this,{onLeft:()=>this.handleControlButton("left"),onRight:()=>this.handleControlButton("right"),onSpace:()=>this.handleControlButton("space")}),ue.on("trigger-button",this.handleControlButton),(async()=>(await EL(this),await this.handleBattleAward(),this.character.startTamagotchi(),this.isStart=!0))(),this.events.on("shutdown",this.shutdown,this)}update(i){this.character.update(i),this.header.update(),this.property.update(),this.keyboardHandler.update(),this.actionQueue.length!==0&&!this.isActionRunning&&this.isStart&&this.handleActionQueue()}}const ao=72,Vh=24,oo=4,Zd=4,Zet=60,Jet=6,Qet="BoutiqueBitmap",jet=10,qet=4,_et=-2,Lg=10;class tit extends Di.GameObjects.Container{constructor(i,r,g,S){super(i);nt(this,"hp");nt(this,"hpBar");nt(this,"hpBarWidth");nt(this,"currentHpText");nt(this,"currentHpAction");nt(this,"currentUpdateFrame",{total:60,count:0});this.hp={current:S.hp.current,max:S.hp.current};const n=i.make.nineslice({key:"battle_board",frame:"background",width:ao,height:Vh,leftWidth:3,rightWidth:3,topHeight:3,bottomHeight:3}).setOrigin(.5).setPosition(r,g);this.add(n);const C=i.make.sprite({key:"battle_board",frame:"bar-head"});C.setPosition(r-ao/2+oo+C.width/2,g-Vh/2+Zd+Lg+C.height/2);const s=i.make.nineslice({key:"battle_board",frame:"bar-frame",width:ao-oo*2-C.width,height:Jet,leftWidth:2,rightWidth:2,topHeight:2,bottomHeight:2,x:r-ao/2+oo+C.width,y:g-Vh/2+Zd+Lg}).setOrigin(0),o=i.make.sprite({key:"battle_board",frame:"bar",x:r-ao/2+oo+C.width+1,y:g-Vh/2+Zd+Lg+2}).setOrigin(0);this.hpBarWidth=Zet-C.width/2-oo-3,o.displayWidth=this.hp.current/this.hp.max*this.hpBarWidth,this.hpBar=o,this.add(s),this.add(o),this.add(C);const y=i.make.text({x:r-ao/2+oo,y:g-Vh/2+Zd+_et,style:{fontFamily:Qet,fontSize:jet,color:"#000"},text:S.name});y.setResolution(qet),this.add(y),i.add.existing(this)}handleSetHP(i,r){if(!this.currentHpAction){const g=i;this.currentHpAction={from:{hp:this.hp.current},to:{hp:g<0?0:g},callback:r}}}setHP(i){return new Promise(r=>{this.handleSetHP(i,()=>{r()})})}updateStatusBoard(){if(this.currentHpAction){this.currentUpdateFrame.count+=1;const{from:i,to:r}=this.currentHpAction,{total:g,count:S}=this.currentUpdateFrame,n=i.hp+(r.hp-i.hp)*S/g;this.hp.current=Math.floor(n),this.hpBar.displayWidth=this.hp.current/this.hp.max*this.hpBarWidth,g==S&&(this.hp.current=r.hp,this.hpBar.displayWidth=this.hp.current/this.hp.max*this.hpBarWidth,this.currentHpAction.callback(),this.currentHpAction=void 0,this.currentUpdateFrame.count=0)}}}const $P=160,Og={self:{x:30,y:90},opponent:{x:130,y:36}},eit={self:{x:110,y:80},opponent:{x:50,y:20}};class KP extends wL{constructor(i,r,g){const S=i.cache.json.get("config")[r]||i.cache.json.get("config").default;if(!S)return;const{animations:n,battle:C}=S,s={...Og[g],animations:n};super(i,r,s);nt(this,"hp",{current:0,max:0});nt(this,"actions");nt(this,"reactions");nt(this,"common");nt(this,"results");nt(this,"role");nt(this,"board");nt(this,"avaliableActions");nt(this,"handlePlayKeyFrameAnimation",async i=>{await this.board.setAlpha(0),await this.playAnimation(i,1e3),this.playAnimation("idle"),await this.board.setAlpha(1)});nt(this,"handlePlayAttackReaction",async()=>{const i=this.role==="self"?10:-10,r=Og[this.role];await this.board.setAlpha(0),await ys(this.character,{x:r.x+i},200),await ys(this.character,{x:r.x},200),await this.board.setAlpha(1)});nt(this,"handlePlayDamageReaction",async i=>{function r(S){return S<.5?4*S*S*S:1-Math.pow(-2*S+2,3)/2}const g=Math.max(0,this.hp.current-i);this.hp.current=g,await ys(this.character,{alpha:0,repeat:3},100,r),this.character.setAlpha(1),await this.board.setHP(this.hp.current)});nt(this,"handlePlayRecoverReaction",async i=>{const r=Math.min(this.hp.max,this.hp.current+i);this.hp.current=r,await ys(this.character,{scale:1.15,yoyo:1},200),this.character.setScale(1),await this.board.setHP(this.hp.current)});this.character.setDepth(2),this.role=g,this.avaliableActions=Object.keys(C.actions),this.actions=C.actions,this.reactions=C.reactions,this.common=C.common,this.results=C.results,this.hp={current:C.base.max_hp,max:C.base.max_hp};const{name:o}=C.base,y=eit[g];this.board=new tit(i,y.x,y.y,{hp:this.hp,name:o}),this.playAnimation("idle"),this.getRandomAction()}async openingCharacter(){const i=Og[this.role],r=this.role==="self"?$P:$P*-1;this.character.setPosition(i.x+r,i.y),await ys(this.character,{x:i.x},1e3)}runAction(i="sp"){const r=this.actions[i];if(!r)return;const{animation:g,dialogs:S}=r;return g==="attack"?this.handlePlayAttackReaction():this.handlePlayKeyFrameAnimation(g),{...r,dialog:ta(S).dialog}}runReaction(i="damage",r){const g=this.reactions[i];if(!g)return;const{animation:S,dialogs:n}=g;return typeof S!="string"&&S.key&&this.handlePlayKeyFrameAnimation(S.key),S==="damage"?this.handlePlayDamageReaction(r):S==="recover"&&this.handlePlayRecoverReaction(r),{...g,dialog:ta(n).dialog,isDead:this.hp.current<=0}}runResult(i){const r=this.results[i];if(!r)return;i==="lose"&&this.setAlpha(.5),this.board.setAlpha(0);const{dialogs:g}=r;return{...r,dialog:ta(g).dialog}}runStart(){const i=this.common.start;if(i)return ta(i).dialog}runFinish(){const i=this.common.finish;if(i)return ta(i).dialog}getRandomAction(){const i=Object.keys(this.actions);let r=0;const g={};i.forEach(s=>{g[s]=r+=this.actions[s].piority});const S=r*Math.random();i.forEach(s=>{g[s]=Math.abs(g[s]-S)});const n=Math.min(...Object.values(g));return Object.keys(g).find(s=>g[s]===n)}characterHandler(){this.board.updateStatusBoard()}}class iit extends Sn.Scene{constructor(){super("Battle");nt(this,"camera");nt(this,"background");nt(this,"self");nt(this,"opponent");nt(this,"dialogue")}preload(){this.load.setPath("assets")}create(){this.camera=this.cameras.main,this.camera.setBackgroundColor(15658734);const i=ci("battle_opponent")||"default";this.opponent=new KP(this,`battle_${i}_opponent`,"opponent"),this.self=new KP(this,"battle_afk_self","self"),this.self.board.setAlpha(0),this.opponent.board.setAlpha(0),this.dialogue=new SL(this),this.dialogue.setDepth(99),EL(this),this.handleStartGameScene(),this.events.on("shutdown",this.shutdown,this)}update(){this.self.characterHandler(),this.opponent.characterHandler()}generateRandomBattleProcess(){const r=[];for(let g=0;g<999;g++)r.push({from:["self","opponent"][g%2]});return r}async applyBattle(i){for(let r=0;r<i.length;r++){const{from:g}=i[r],S=g==="self"?this.self:this.opponent,n=S.getRandomAction(),C=S.runAction(n);if(!C)return;const{effect:s,dialog:o}=C;if(!s)return;const{type:y,target:f,value:u}=s;await this.dialogue.runDialog(o,!0);const l=f==="self"?this.self:this.opponent,a=l.runReaction(y,u||0);if(!a)return;const{dialog:d,isDead:v}=a;if(await this.dialogue.runDialog(d,!0),v){const h=S.runResult("win");if(!h)return;const{dialog:c}=h;await this.dialogue.runDialog(c,!0),l.runResult("lose");const p=l.runResult("lose");if(!p)return;const{dialog:m}=p;await this.dialogue.runDialog(m),this.handleFinishGame();return}}}async handleStartGameScene(){await this.openingCharacterMovement();const i=this.generateRandomBattleProcess();this.applyBattle(i)}async handleFinishGame(){const i=this.self.runFinish();await this.dialogue.runDialog(i),ps("battle_result",this.self.hp.current>0?"win":"lose"),PL(this,"Tamagotchi")}async openingCharacterMovement(){this.self.character.setAlpha(0),this.opponent.character.setAlpha(0),this.self.character.setAlpha(1),await this.self.openingCharacter();const i=this.self.runStart();await this.dialogue.runDialog(i),this.opponent.character.setAlpha(1),await this.opponent.openingCharacter();const r=this.opponent.runStart();await this.dialogue.runDialog(r),this.self.board.setAlpha(1),this.opponent.board.setAlpha(1)}shutdown(){this.opponent.destroy(),this.self.destroy()}}class sit extends Sn.Scene{constructor(){super("MainScene")}create(){iet(this),this.scene.start("Tamagotchi")}shutdown(){}}const rit={type:Sn.AUTO,width:bl.width,height:bl.height,parent:"game-container",zoom:2,plugins:{global:[{key:"rexBBCodeTextPlugin",plugin:_tt,start:!0}],scene:[{key:"rexUI",plugin:CL,mapping:"rexUI",start:!0}]},backgroundColor:"#000",canvasStyle:"display:block; image-rendering: pixelated",scene:[sF,sit,Ket,iit]},nit=e=>new Sn.Game({...rit,parent:e}),ait=()=>(Oe.useEffect(()=>{nit("game-container"),eet(),window.addEventListener("beforeunload",tet)},[]),Dt.jsx("div",{id:"game-container"}));function oit(e){const t={};if(!e)return t;e.startsWith("?")&&(e=e.slice(1));const i=e.split("&");for(const r of i){const[g,S=""]=r.split("=").map(decodeURIComponent);t[g]=S}return t}async function hit(e,t){try{const i=await fetch(e,{method:"Get",headers:t});if(!i.ok)throw new Error(`Response status: ${i.status}`);return await i.json()}catch(i){i instanceof Error?console.error(i.message):console.error("An unknown error occurred")}}async function lit(e,t,i){try{const r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",...t},body:JSON.stringify(i)});if(!r.ok)throw new Error(`Response status: ${r.status}`);return await r.json()}catch(r){r instanceof Error?console.error(r.message):console.error("An unknown error occurred")}}const uit="https://api.twitch.tv/helix/users",dit="https://api.twitch.tv/helix/eventsub/subscriptions",fit="wss://eventsub.wss.twitch.tv/ws?keepalive_timeout_seconds=30",cit="https://id.twitch.tv/oauth2/authorize";function vit(e,t){const i=["user:read:chat","user:bot","channel:bot","channel:read:subscriptions","channel:read:redemptions"].join("+"),r=`response_type=token&force_verify=true&client_id=${e}&redirect_uri=${t}&scope=${i}`;window.location.href=`${cit}?${r}`}function pit(){const e=window.location.href.split("#")[1];if(typeof e<"u")return oit(e)}async function git(e,t){const i={"Client-ID":e,Authorization:`Bearer ${t}`},r=await hit(uit,i);if(r)return r.data[0]}const mit=async(e,t,i,r,g)=>{const S=dit;if(!e)return;const n={type:e,version:"1",condition:{broadcaster_user_id:g,user_id:g},transport:{method:"websocket",session_id:t}},C={"Content-Type":"application/json",Authorization:`Bearer ${r}`,"Client-Id":i};try{return await lit(S,C,n),!0}catch{return!1}},ZP=(e,t)=>{let i=t;return e.split(".").forEach(g=>{typeof i!="object"||!i[g]||(i=i[g])}),typeof i=="object"?JSON.stringify(i):i},Fg="t6nsq2m53hlbcm7i94pugivc7h83r6",xit="https://glennjong.github.io/jennie-tamagotchi/dist/";function yit(){const[e,t]=Oe.useState(),[i,r]=Oe.useState(),g=Oe.useRef([]),S=Oe.useRef(),n=Oe.useRef(!1),C=Oe.useCallback(async()=>{const y=pit();if(!y)return;const{access_token:f}=y,u=await git(Fg,f);u&&t({...y,...u})},[]);Oe.useEffect(()=>{C()},[C]);function s(){vit(Fg,xit)}function o(y,f={}){const{onOpen:u,onClose:l,onMessage:a,onError:d}=f;if(!e||!y)return;const v={chat:{type:"channel.chat.message",userKey:"event.chatter_user_login",contentKey:"event.message.text"},channel_point:{type:"channel.channel_points_custom_reward_redemption.add",userKey:"event.user_login",contentKey:"event.reward.title"}},{access_token:h,id:c}=e,p=new WebSocket(fit);p.onopen=()=>{u&&u()},p.onclose=()=>{n.current=!1,l&&l()},p.addEventListener("message",async m=>{const x=JSON.parse(m.data);if(n.current){if(x.metadata.subscription_type===v[y].type){const T=x.payload;a&&a({user:ZP(v[y].userKey,T),content:ZP(v[y].contentKey,T)}),g.current=[...g.current,T],r([...g.current])}}else{const T=x.payload.session.id;await mit(v[y].type,T,Fg,h,c)?n.current=!0:d&&d()}}),S.current=p}return{twitchState:e,startOauthConnect:s,startWebsocket:o,messages:i}}const Cit=({children:e})=>{const[t,i]=Oe.useState(!1);return Dt.jsx("div",{className:"console",children:Dt.jsxs("div",{className:"base",children:[Dt.jsx("div",{className:"monitor",children:Dt.jsx("div",{className:"monitor-inner",style:{width:"320px",height:"288px"},children:Dt.jsx("div",{className:`filter-greenscreen ${t?"active":""}`,children:Dt.jsx("div",{className:`filter-grayscale ${t?"active":""}`,children:e})})})}),Dt.jsxs("div",{className:"buttons",children:[Dt.jsx("div",{className:"circle-btn-wrapper",children:Dt.jsx("button",{className:"circle-btn",onClick:()=>ue.emit("trigger-button","left"),children:Dt.jsx("div",{style:{transform:"rotate(180deg)"},children:""})})}),Dt.jsx("div",{className:"circle-btn-wrapper",children:Dt.jsx("button",{className:"circle-btn",onClick:()=>ue.emit("trigger-button","right"),children:""})}),Dt.jsx("div",{className:"circle-btn-wrapper",children:Dt.jsx("button",{className:"circle-btn",onClick:()=>ue.emit("trigger-button","space")})}),Dt.jsx("div",{className:"circle-btn-wrapper",children:Dt.jsx("button",{className:"circle-btn special",onClick:()=>i(!t)})})]})]})})},Tit=({defaultColor:e,onChange:t})=>{const[i,r]=Oe.useState(e||"#ffffff");return Oe.useEffect(()=>{t&&t(i)},[i]),Dt.jsxs("div",{style:{position:"fixed",top:"12px",left:"12px",display:"flex",alignItems:"center",flexDirection:"column"},children:[Dt.jsx("label",{children:Dt.jsx("input",{type:"color",value:i,onChange:g=>r(g.target.value)})}),Dt.jsx("div",{style:{mixBlendMode:"difference"},children:i})]})},Sit=!1;function Pit(){const[e,t]=Oe.useState(!1),{twitchState:i,startOauthConnect:r,startWebsocket:g}=yit(),[S,n]=Oe.useState([]),[C,s]=Oe.useState("#482e79"),o=Oe.useRef([]),y=async()=>{g("chat",{onMessage:f=>{const{user:u,content:l}=f;ue.emit("queue",{user:u,content:l}),o.current.push({user:u,content:l}),n(o.current)}}),t(!0)};return Dt.jsxs("div",{id:"app",style:{background:C},children:[Dt.jsxs("div",{style:{zIndex:1,position:"relative"},children:[!i&&Dt.jsx("button",{className:"button",onClick:r,children:"Twitch login"}),i&&Dt.jsxs("div",{style:{position:"relative"},children:[!e&&Dt.jsx("button",{className:"button",onClick:y,style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",zIndex:2,boxShadow:"2px 4px 12px hsla(0, 0%, 0%, .33)"},children:"Start Connect"}),Dt.jsx("div",{style:{opacity:e?1:.5,pointerEvents:e?"auto":"none"},children:Dt.jsx(Cit,{children:e&&Dt.jsx(ait,{})})})]}),Sit]}),Dt.jsx(Tit,{defaultColor:C,onChange:f=>s(f)})]})}bg.createRoot(document.getElementById("root")).render(Dt.jsx(HL.StrictMode,{children:Dt.jsx(Pit,{})}));
